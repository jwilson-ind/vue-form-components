(function(Dh,M){typeof exports=="object"&&typeof module<"u"?M(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],M):(Dh=typeof globalThis<"u"?globalThis:Dh||self,M(Dh["vue-form-components"]={},Dh.Vue))})(this,function(Dh,M){"use strict";function WF(v){const P=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(v){for(const R in v)if(R!=="default"){const W=Object.getOwnPropertyDescriptor(v,R);Object.defineProperty(P,R,W.get?W:{enumerable:!0,get:()=>v[R]})}}return P.default=v,Object.freeze(P)}const s8=WF(M),xY="",$F={"aria-live":"assertive"},qF={class:"text-sm text-red-600"},GF={__name:"InputError",props:["message"],setup(v){return(P,R)=>M.withDirectives((M.openBlock(),M.createElementBlock("div",$F,[M.createElementVNode("p",qF,M.toDisplayString(v.message),1)],512)),[[M.vShow,v.message]])}},KF=["id","value","disabled"],YF={__name:"Checkbox",props:{id:{},checked:{type:[Array,Boolean],default:!1},value:{default:null},disabled:{type:Boolean,default:!1}},emits:["update:checked"],setup(v,{emit:P}){const R=P,W=v,ue=M.computed({get(){return W.checked},set(de){R("update:checked",de)}});return(de,be)=>M.withDirectives((M.openBlock(),M.createElementBlock("input",{id:v.id,type:"checkbox",value:v.value,"onUpdate:modelValue":be[0]||(be[0]=ge=>ue.value=ge),disabled:v.disabled,class:"disabled:cursor-not-allowed"},null,8,KF)),[[M.vModelCheckbox,ue.value]])}};function g5(v){return v===0?!1:Array.isArray(v)&&v.length===0?!0:!v}function XF(v){return(...P)=>!v(...P)}function JF(v,P){return v===void 0&&(v="undefined"),v===null&&(v="null"),v===!1&&(v="false"),v.toString().toLowerCase().indexOf(P.trim())!==-1}function QF(v){return v.filter(P=>!P.$isLabel)}function h5(v,P){return R=>R.reduce((W,ue)=>ue[v]&&ue[v].length?(W.push({$groupLabel:ue[P],$isLabel:!0}),W.concat(ue[v])):W,[])}const a8=(...v)=>P=>v.reduce((R,W)=>W(R),P);var eV={data(){return{search:"",isOpen:!1,preferredOpenDirection:"below",optimizedHeight:this.maxHeight}},props:{internalSearch:{type:Boolean,default:!0},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},trackBy:{type:String},label:{type:String},searchable:{type:Boolean,default:!0},clearOnSelect:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Select option"},allowEmpty:{type:Boolean,default:!0},resetAfter:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},customLabel:{type:Function,default(v,P){return g5(v)?"":P?v[P]:v}},taggable:{type:Boolean,default:!1},tagPlaceholder:{type:String,default:"Press enter to create a tag"},tagPosition:{type:String,default:"top"},max:{type:[Number,Boolean],default:!1},id:{default:null},optionsLimit:{type:Number,default:1e3},groupValues:{type:String},groupLabel:{type:String},groupSelect:{type:Boolean,default:!1},blockKeys:{type:Array,default(){return[]}},preserveSearch:{type:Boolean,default:!1},preselectFirst:{type:Boolean,default:!1},preventAutofocus:{type:Boolean,default:!1},filteringSortFunc:{type:Function,default:null}},mounted(){!this.multiple&&this.max&&console.warn("[Vue-Multiselect warn]: Max prop should not be used when prop Multiple equals false."),this.preselectFirst&&!this.internalValue.length&&this.options.length&&this.select(this.filteredOptions[0])},computed:{internalValue(){return this.modelValue||this.modelValue===0?Array.isArray(this.modelValue)?this.modelValue:[this.modelValue]:[]},filteredOptions(){const v=this.search||"",P=v.toLowerCase().trim();let R=this.options.concat();return this.internalSearch?R=this.groupValues?this.filterAndFlat(R,P,this.label):this.filterOptions(R,P,this.label,this.customLabel):R=this.groupValues?h5(this.groupValues,this.groupLabel)(R):R,R=this.hideSelected?R.filter(XF(this.isSelected)):R,this.taggable&&P.length&&!this.isExistingOption(P)&&(this.tagPosition==="bottom"?R.push({isTag:!0,label:v}):R.unshift({isTag:!0,label:v})),R.slice(0,this.optionsLimit)},valueKeys(){return this.trackBy?this.internalValue.map(v=>v[this.trackBy]):this.internalValue},optionKeys(){return(this.groupValues?this.flatAndStrip(this.options):this.options).map(P=>this.customLabel(P,this.label).toString().toLowerCase())},currentOptionLabel(){return this.multiple?this.searchable?"":this.placeholder:this.internalValue.length?this.getOptionLabel(this.internalValue[0]):this.searchable?"":this.placeholder}},watch:{internalValue:{handler(){this.resetAfter&&this.internalValue.length&&(this.search="",this.$emit("update:modelValue",this.multiple?[]:null))},deep:!0},search(){this.$emit("search-change",this.search)}},emits:["open","search-change","close","select","update:modelValue","remove","tag"],methods:{getValue(){return this.multiple?this.internalValue:this.internalValue.length===0?null:this.internalValue[0]},filterAndFlat(v,P,R){return a8(this.filterGroups(P,R,this.groupValues,this.groupLabel,this.customLabel),h5(this.groupValues,this.groupLabel))(v)},flatAndStrip(v){return a8(h5(this.groupValues,this.groupLabel),QF)(v)},updateSearch(v){this.search=v},isExistingOption(v){return this.options?this.optionKeys.indexOf(v)>-1:!1},isSelected(v){const P=this.trackBy?v[this.trackBy]:v;return this.valueKeys.indexOf(P)>-1},isOptionDisabled(v){return!!v.$isDisabled},getOptionLabel(v){if(g5(v))return"";if(v.isTag)return v.label;if(v.$isLabel)return v.$groupLabel;const P=this.customLabel(v,this.label);return g5(P)?"":P},select(v,P){if(v.$isLabel&&this.groupSelect){this.selectGroup(v);return}if(!(this.blockKeys.indexOf(P)!==-1||this.disabled||v.$isDisabled||v.$isLabel)&&!(this.max&&this.multiple&&this.internalValue.length===this.max)&&!(P==="Tab"&&!this.pointerDirty)){if(v.isTag)this.$emit("tag",v.label,this.id),this.search="",this.closeOnSelect&&!this.multiple&&this.deactivate();else{if(this.isSelected(v)){P!=="Tab"&&this.removeElement(v);return}this.multiple?this.$emit("update:modelValue",this.internalValue.concat([v])):this.$emit("update:modelValue",v),this.$emit("select",v,this.id),this.clearOnSelect&&(this.search="")}this.closeOnSelect&&this.deactivate()}},selectGroup(v){const P=this.options.find(R=>R[this.groupLabel]===v.$groupLabel);if(P){if(this.wholeGroupSelected(P)){this.$emit("remove",P[this.groupValues],this.id);const R=this.trackBy?P[this.groupValues].map(ue=>ue[this.trackBy]):P[this.groupValues],W=this.internalValue.filter(ue=>R.indexOf(this.trackBy?ue[this.trackBy]:ue)===-1);this.$emit("update:modelValue",W)}else{const R=P[this.groupValues].filter(W=>!(this.isOptionDisabled(W)||this.isSelected(W)));this.max&&R.splice(this.max-this.internalValue.length),this.$emit("select",R,this.id),this.$emit("update:modelValue",this.internalValue.concat(R))}this.closeOnSelect&&this.deactivate()}},wholeGroupSelected(v){return v[this.groupValues].every(P=>this.isSelected(P)||this.isOptionDisabled(P))},wholeGroupDisabled(v){return v[this.groupValues].every(this.isOptionDisabled)},removeElement(v,P=!0){if(this.disabled||v.$isDisabled)return;if(!this.allowEmpty&&this.internalValue.length<=1){this.deactivate();return}const R=typeof v=="object"?this.valueKeys.indexOf(v[this.trackBy]):this.valueKeys.indexOf(v);if(this.multiple){const W=this.internalValue.slice(0,R).concat(this.internalValue.slice(R+1));this.$emit("update:modelValue",W)}else this.$emit("update:modelValue",null);this.$emit("remove",v,this.id),this.closeOnSelect&&P&&this.deactivate()},removeLastElement(){this.blockKeys.indexOf("Delete")===-1&&this.search.length===0&&Array.isArray(this.internalValue)&&this.internalValue.length&&this.removeElement(this.internalValue[this.internalValue.length-1],!1)},activate(){this.isOpen||this.disabled||(this.adjustPosition(),this.groupValues&&this.pointer===0&&this.filteredOptions.length&&(this.pointer=1),this.isOpen=!0,this.searchable?(this.preserveSearch||(this.search=""),this.preventAutofocus||this.$nextTick(()=>this.$refs.search&&this.$refs.search.focus())):this.preventAutofocus||typeof this.$el<"u"&&this.$el.focus(),this.$emit("open",this.id))},deactivate(){this.isOpen&&(this.isOpen=!1,this.searchable?this.$refs.search!==null&&typeof this.$refs.search<"u"&&this.$refs.search.blur():typeof this.$el<"u"&&this.$el.blur(),this.preserveSearch||(this.search=""),this.$emit("close",this.getValue(),this.id))},toggle(){this.isOpen?this.deactivate():this.activate()},adjustPosition(){if(typeof window>"u")return;const v=this.$el.getBoundingClientRect().top,P=window.innerHeight-this.$el.getBoundingClientRect().bottom;P>this.maxHeight||P>v||this.openDirection==="below"||this.openDirection==="bottom"?(this.preferredOpenDirection="below",this.optimizedHeight=Math.min(P-40,this.maxHeight)):(this.preferredOpenDirection="above",this.optimizedHeight=Math.min(v-40,this.maxHeight))},filterOptions(v,P,R,W){return P?v.filter(ue=>JF(W(ue,R),P)).sort((ue,de)=>typeof this.filteringSortFunc=="function"?this.filteringSortFunc(ue,de):W(ue,R).length-W(de,R).length):v},filterGroups(v,P,R,W,ue){return de=>de.map(be=>{if(!be[R])return console.warn("Options passed to vue-multiselect do not contain groups, despite the config."),[];const ge=this.filterOptions(be[R],v,P,ue);return ge.length?{[W]:be[W],[R]:ge}:[]})}}},tV={data(){return{pointer:0,pointerDirty:!1}},props:{showPointer:{type:Boolean,default:!0},optionHeight:{type:Number,default:40}},computed:{pointerPosition(){return this.pointer*this.optionHeight},visibleElements(){return this.optimizedHeight/this.optionHeight}},watch:{filteredOptions(){this.pointerAdjust()},isOpen(){this.pointerDirty=!1},pointer(){this.$refs.search&&this.$refs.search.setAttribute("aria-activedescendant",this.id+"-"+this.pointer.toString())}},methods:{optionHighlight(v,P){return{"multiselect__option--highlight":v===this.pointer&&this.showPointer,"multiselect__option--selected":this.isSelected(P)}},groupHighlight(v,P){if(!this.groupSelect)return["multiselect__option--disabled",{"multiselect__option--group":P.$isLabel}];const R=this.options.find(W=>W[this.groupLabel]===P.$groupLabel);return R&&!this.wholeGroupDisabled(R)?["multiselect__option--group",{"multiselect__option--highlight":v===this.pointer&&this.showPointer},{"multiselect__option--group-selected":this.wholeGroupSelected(R)}]:"multiselect__option--disabled"},addPointerElement({key:v}="Enter"){this.filteredOptions.length>0&&this.select(this.filteredOptions[this.pointer],v),this.pointerReset()},pointerForward(){this.pointer<this.filteredOptions.length-1&&(this.pointer++,this.$refs.list.scrollTop<=this.pointerPosition-(this.visibleElements-1)*this.optionHeight&&(this.$refs.list.scrollTop=this.pointerPosition-(this.visibleElements-1)*this.optionHeight),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()),this.pointerDirty=!0},pointerBackward(){this.pointer>0?(this.pointer--,this.$refs.list.scrollTop>=this.pointerPosition&&(this.$refs.list.scrollTop=this.pointerPosition),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerBackward()):this.filteredOptions[this.pointer]&&this.filteredOptions[0].$isLabel&&!this.groupSelect&&this.pointerForward(),this.pointerDirty=!0},pointerReset(){this.closeOnSelect&&(this.pointer=0,this.$refs.list&&(this.$refs.list.scrollTop=0))},pointerAdjust(){this.pointer>=this.filteredOptions.length-1&&(this.pointer=this.filteredOptions.length?this.filteredOptions.length-1:0),this.filteredOptions.length>0&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()},pointerSet(v){this.pointer=v,this.pointerDirty=!0}}},S2={name:"vue-multiselect",mixins:[eV,tV],compatConfig:{MODE:3,ATTR_ENUMERATED_COERCION:!1},props:{name:{type:String,default:""},modelValue:{type:null,default(){return[]}},selectLabel:{type:String,default:"Press enter to select"},selectGroupLabel:{type:String,default:"Press enter to select group"},selectedLabel:{type:String,default:"Selected"},deselectLabel:{type:String,default:"Press enter to remove"},deselectGroupLabel:{type:String,default:"Press enter to deselect group"},showLabels:{type:Boolean,default:!0},limit:{type:Number,default:99999},maxHeight:{type:Number,default:300},limitText:{type:Function,default:v=>`and ${v} more`},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},spellcheck:{type:Boolean,default:!1},openDirection:{type:String,default:""},showNoOptions:{type:Boolean,default:!0},showNoResults:{type:Boolean,default:!0},tabindex:{type:Number,default:0},required:{type:Boolean,default:!1}},computed:{hasOptionGroup(){return this.groupValues&&this.groupLabel&&this.groupSelect},isSingleLabelVisible(){return(this.singleValue||this.singleValue===0)&&(!this.isOpen||!this.searchable)&&!this.visibleValues.length},isPlaceholderVisible(){return!this.internalValue.length&&(!this.searchable||!this.isOpen)},visibleValues(){return this.multiple?this.internalValue.slice(0,this.limit):[]},singleValue(){return this.internalValue[0]},deselectLabelText(){return this.showLabels?this.deselectLabel:""},deselectGroupLabelText(){return this.showLabels?this.deselectGroupLabel:""},selectLabelText(){return this.showLabels?this.selectLabel:""},selectGroupLabelText(){return this.showLabels?this.selectGroupLabel:""},selectedLabelText(){return this.showLabels?this.selectedLabel:""},inputStyle(){return this.searchable||this.multiple&&this.modelValue&&this.modelValue.length?this.isOpen?{width:"100%"}:{width:"0",position:"absolute",padding:"0"}:""},contentStyle(){return this.options.length?{display:"inline-block"}:{display:"block"}},isAbove(){return this.openDirection==="above"||this.openDirection==="top"?!0:this.openDirection==="below"||this.openDirection==="bottom"?!1:this.preferredOpenDirection==="above"},showSearchInput(){return this.searchable&&(this.hasSingleSelectedSlot&&(this.visibleSingleValue||this.visibleSingleValue===0)?this.isOpen:!0)},isRequired(){return this.required===!1?!1:this.internalValue.length<=0}}};const nV=["tabindex","aria-expanded","aria-owns","aria-activedescendant"],oV={ref:"tags",class:"multiselect__tags"},rV={class:"multiselect__tags-wrap"},sV=["textContent"],aV=["onKeypress","onMousedown"],iV=["textContent"],lV={class:"multiselect__spinner"},cV=["name","id","spellcheck","placeholder","required","value","disabled","tabindex","aria-label","aria-controls"],dV=["id","aria-multiselectable"],uV={key:0},fV={class:"multiselect__option"},mV=["aria-selected","id","role"],pV=["onClick","onMouseenter","data-select","data-selected","data-deselect"],gV=["data-select","data-deselect","onMouseenter","onMousedown"],hV={class:"multiselect__option"},bV={class:"multiselect__option"};function yV(v,P,R,W,ue,de){return M.openBlock(),M.createElementBlock("div",{tabindex:v.searchable?-1:R.tabindex,class:M.normalizeClass([{"multiselect--active":v.isOpen,"multiselect--disabled":R.disabled,"multiselect--above":de.isAbove,"multiselect--has-options-group":de.hasOptionGroup},"multiselect"]),onFocus:P[14]||(P[14]=be=>v.activate()),onBlur:P[15]||(P[15]=be=>v.searchable?!1:v.deactivate()),onKeydown:[P[16]||(P[16]=M.withKeys(M.withModifiers(be=>v.pointerForward(),["self","prevent"]),["down"])),P[17]||(P[17]=M.withKeys(M.withModifiers(be=>v.pointerBackward(),["self","prevent"]),["up"]))],onKeypress:P[18]||(P[18]=M.withKeys(M.withModifiers(be=>v.addPointerElement(be),["stop","self"]),["enter","tab"])),onKeyup:P[19]||(P[19]=M.withKeys(be=>v.deactivate(),["esc"])),role:"combobox","aria-expanded":v.isOpen,"aria-owns":"listbox-"+v.id,"aria-activedescendant":v.isOpen&&v.pointer!==null?v.id+"-"+v.pointer:null},[M.renderSlot(v.$slots,"caret",{toggle:v.toggle},()=>[M.createElementVNode("div",{onMousedown:P[0]||(P[0]=M.withModifiers(be=>v.toggle(),["prevent","stop"])),class:"multiselect__select"},null,32)]),M.renderSlot(v.$slots,"clear",{search:v.search}),M.createElementVNode("div",oV,[M.renderSlot(v.$slots,"selection",{search:v.search,remove:v.removeElement,values:de.visibleValues,isOpen:v.isOpen},()=>[M.withDirectives(M.createElementVNode("div",rV,[(M.openBlock(!0),M.createElementBlock(M.Fragment,null,M.renderList(de.visibleValues,(be,ge)=>M.renderSlot(v.$slots,"tag",{option:be,search:v.search,remove:v.removeElement},()=>[(M.openBlock(),M.createElementBlock("span",{class:"multiselect__tag",key:ge,onMousedown:P[1]||(P[1]=M.withModifiers(()=>{},["prevent"]))},[M.createElementVNode("span",{textContent:M.toDisplayString(v.getOptionLabel(be))},null,8,sV),M.createElementVNode("i",{tabindex:"1",onKeypress:M.withKeys(M.withModifiers(Me=>v.removeElement(be),["prevent"]),["enter"]),onMousedown:M.withModifiers(Me=>v.removeElement(be),["prevent"]),class:"multiselect__tag-icon"},null,40,aV)],32))])),256))],512),[[M.vShow,de.visibleValues.length>0]]),v.internalValue&&v.internalValue.length>R.limit?M.renderSlot(v.$slots,"limit",{key:0},()=>[M.createElementVNode("strong",{class:"multiselect__strong",textContent:M.toDisplayString(R.limitText(v.internalValue.length-R.limit))},null,8,iV)]):M.createCommentVNode("v-if",!0)]),M.createVNode(M.Transition,{name:"multiselect__loading"},{default:M.withCtx(()=>[M.renderSlot(v.$slots,"loading",{},()=>[M.withDirectives(M.createElementVNode("div",lV,null,512),[[M.vShow,R.loading]])])]),_:3}),v.searchable?(M.openBlock(),M.createElementBlock("input",{key:0,ref:"search",name:R.name,id:v.id,type:"text",autocomplete:"off",spellcheck:R.spellcheck,placeholder:v.placeholder,required:de.isRequired,style:M.normalizeStyle(de.inputStyle),value:v.search,disabled:R.disabled,tabindex:R.tabindex,"aria-label":R.name+"-searchbox",onInput:P[2]||(P[2]=be=>v.updateSearch(be.target.value)),onFocus:P[3]||(P[3]=M.withModifiers(be=>v.activate(),["prevent"])),onBlur:P[4]||(P[4]=M.withModifiers(be=>v.deactivate(),["prevent"])),onKeyup:P[5]||(P[5]=M.withKeys(be=>v.deactivate(),["esc"])),onKeydown:[P[6]||(P[6]=M.withKeys(M.withModifiers(be=>v.pointerForward(),["prevent"]),["down"])),P[7]||(P[7]=M.withKeys(M.withModifiers(be=>v.pointerBackward(),["prevent"]),["up"])),P[9]||(P[9]=M.withKeys(M.withModifiers(be=>v.removeLastElement(),["stop"]),["delete"]))],onKeypress:P[8]||(P[8]=M.withKeys(M.withModifiers(be=>v.addPointerElement(be),["prevent","stop","self"]),["enter"])),class:"multiselect__input","aria-controls":"listbox-"+v.id},null,44,cV)):M.createCommentVNode("v-if",!0),de.isSingleLabelVisible?(M.openBlock(),M.createElementBlock("span",{key:1,class:"multiselect__single",onMousedown:P[10]||(P[10]=M.withModifiers((...be)=>v.toggle&&v.toggle(...be),["prevent"]))},[M.renderSlot(v.$slots,"singleLabel",{option:de.singleValue},()=>[M.createTextVNode(M.toDisplayString(v.currentOptionLabel),1)])],32)):M.createCommentVNode("v-if",!0),de.isPlaceholderVisible?(M.openBlock(),M.createElementBlock("span",{key:2,class:"multiselect__placeholder",onMousedown:P[11]||(P[11]=M.withModifiers((...be)=>v.toggle&&v.toggle(...be),["prevent"]))},[M.renderSlot(v.$slots,"placeholder",{},()=>[M.createTextVNode(M.toDisplayString(v.placeholder),1)])],32)):M.createCommentVNode("v-if",!0)],512),M.createVNode(M.Transition,{name:"multiselect",persisted:""},{default:M.withCtx(()=>[M.withDirectives(M.createElementVNode("div",{class:"multiselect__content-wrapper",onFocus:P[12]||(P[12]=(...be)=>v.activate&&v.activate(...be)),tabindex:"-1",onMousedown:P[13]||(P[13]=M.withModifiers(()=>{},["prevent"])),style:M.normalizeStyle({maxHeight:v.optimizedHeight+"px"}),ref:"list"},[M.createElementVNode("ul",{class:"multiselect__content",style:M.normalizeStyle(de.contentStyle),role:"listbox",id:"listbox-"+v.id,"aria-multiselectable":v.multiple},[M.renderSlot(v.$slots,"beforeList"),v.multiple&&v.max===v.internalValue.length?(M.openBlock(),M.createElementBlock("li",uV,[M.createElementVNode("span",fV,[M.renderSlot(v.$slots,"maxElements",{},()=>[M.createTextVNode("Maximum of "+M.toDisplayString(v.max)+" options selected. First remove a selected option to select another.",1)])])])):M.createCommentVNode("v-if",!0),!v.max||v.internalValue.length<v.max?(M.openBlock(!0),M.createElementBlock(M.Fragment,{key:1},M.renderList(v.filteredOptions,(be,ge)=>(M.openBlock(),M.createElementBlock("li",{class:"multiselect__element",key:ge,"aria-selected":v.isSelected(be),id:v.id+"-"+ge,role:be&&(be.$isLabel||be.$isDisabled)?null:"option"},[be&&(be.$isLabel||be.$isDisabled)?M.createCommentVNode("v-if",!0):(M.openBlock(),M.createElementBlock("span",{key:0,class:M.normalizeClass([v.optionHighlight(ge,be),"multiselect__option"]),onClick:M.withModifiers(Me=>v.select(be),["stop"]),onMouseenter:M.withModifiers(Me=>v.pointerSet(ge),["self"]),"data-select":be&&be.isTag?v.tagPlaceholder:de.selectLabelText,"data-selected":de.selectedLabelText,"data-deselect":de.deselectLabelText},[M.renderSlot(v.$slots,"option",{option:be,search:v.search,index:ge},()=>[M.createElementVNode("span",null,M.toDisplayString(v.getOptionLabel(be)),1)])],42,pV)),be&&(be.$isLabel||be.$isDisabled)?(M.openBlock(),M.createElementBlock("span",{key:1,"data-select":v.groupSelect&&de.selectGroupLabelText,"data-deselect":v.groupSelect&&de.deselectGroupLabelText,class:M.normalizeClass([v.groupHighlight(ge,be),"multiselect__option"]),onMouseenter:M.withModifiers(Me=>v.groupSelect&&v.pointerSet(ge),["self"]),onMousedown:M.withModifiers(Me=>v.selectGroup(be),["prevent"])},[M.renderSlot(v.$slots,"option",{option:be,search:v.search,index:ge},()=>[M.createElementVNode("span",null,M.toDisplayString(v.getOptionLabel(be)),1)])],42,gV)):M.createCommentVNode("v-if",!0)],8,mV))),128)):M.createCommentVNode("v-if",!0),M.withDirectives(M.createElementVNode("li",null,[M.createElementVNode("span",hV,[M.renderSlot(v.$slots,"noResult",{search:v.search},()=>[P[20]||(P[20]=M.createTextVNode("No elements found. Consider changing the search query."))])])],512),[[M.vShow,R.showNoResults&&v.filteredOptions.length===0&&v.search&&!R.loading]]),M.withDirectives(M.createElementVNode("li",null,[M.createElementVNode("span",bV,[M.renderSlot(v.$slots,"noOptions",{},()=>[P[21]||(P[21]=M.createTextVNode("List is empty."))])])],512),[[M.vShow,R.showNoOptions&&(v.options.length===0||de.hasOptionGroup===!0&&v.filteredOptions.length===0)&&!v.search&&!R.loading]]),M.renderSlot(v.$slots,"afterList")],12,dV)],36),[[M.vShow,v.isOpen]])]),_:3})],42,nV)}S2.render=yV;const wY="",vV={class:"field-select"},i8={__name:"FieldSelect",props:{modelValue:{},multiple:{type:Boolean,default(){return!1}},options:{default(){return[]}},field:{default(){return"id"}},label:{default(){return"name"}},placeholder:{default(){return"Select"}},disabled:{default(){return!1}},loading:{default(){return!1}}},emits:["update:modelValue","searchChange"],setup(v,{emit:P}){const R=P,W=v,ue=M.ref(de(W.modelValue));function de(ge){if(W.multiple){const Me=Array.isArray(ge)?ge[0]&&ge[0].hasOwnProperty(W.field)?ge.map($e=>$e[W.field]):ge:[ge];return W.options.filter($e=>Me.indexOf($e[W.field])>-1)}return W.options.find(Me=>Me[W.field]==ge)}function be(ge,Me){return W.multiple?JSON.stringify(ge.map($e=>$e[W.field]).sort())==JSON.stringify((Array.isArray(Me)?Me[0]&&Me[0].hasOwnProperty(W.field)?Me.map($e=>$e[W.field]):Me:[Me]).sort()):ge&&Me==ge[W.field]}return M.watch(ue,ge=>{if(!be(ge,W.modelValue)){const Me=ge?W.multiple?ge.map($e=>$e[W.field]):ge[W.field]:null;R("update:modelValue",Me)}}),M.watch(()=>W.modelValue,ge=>{be(ue.value,ge)||(ue.value=de(ge))}),M.watch(()=>W.options,()=>{(!ue.value||!ue.value.length)&&(ue.value=de(W.modelValue))}),(ge,Me)=>(M.openBlock(),M.createElementBlock("div",vV,[M.createVNode(M.unref(S2),{modelValue:ue.value,"onUpdate:modelValue":Me[0]||(Me[0]=$e=>ue.value=$e),options:v.options,label:v.label,"track-by":v.field,placeholder:v.placeholder,multiple:v.multiple,"show-labels":!1,disabled:v.disabled,loading:v.loading,"show-no-options":!1,onSearchChange:Me[1]||(Me[1]=$e=>R("searchChange",$e))},{singleLabel:M.withCtx(({option:$e})=>[M.renderSlot(ge.$slots,"selectedOption",{option:$e})]),option:M.withCtx(({option:$e})=>[M.renderSlot(ge.$slots,"option",{option:$e})]),noResult:M.withCtx(()=>Me[2]||(Me[2]=[M.createTextVNode("No Results Found")])),_:3},8,["modelValue","options","label","track-by","placeholder","multiple","disabled","loading"])]))}},xV={__name:"AsyncSelect",props:{modelValue:{},url:{type:String,required:!0},id:{type:String,default(){return Math.random().toString(36).slice(2)}},multiple:{type:Boolean,default(){return!1}},field:{type:String},label:{type:String,required:!0},searchColumns:{type:Array,default(){return[]}},filters:{type:Array},relations:{type:Array},limit:{type:Number,default:50},preload:{type:Boolean,default:!1},placeholder:{default(){return"Select"}},disabled:{default(){return!1}}},emits:["update:modelValue"],setup(v,{emit:P}){const R=v,W=M.ref(R.modelValue);M.watch(()=>R.modelValue,Me=>{W.value=Me});const ue=M.ref([]),de=M.ref(!1);M.onMounted(()=>{let Me=[];if(R.modelValue){const $e=R.field??"id";let Xe=R.modelValue.hasOwnProperty($e)?R.modelValue[$e]:R.modelValue;Xe=Array.isArray(Xe)&&Xe[0]&&Xe[0].hasOwnProperty(R.field)?Xe.map(Wt=>Wt[R.field]):Xe;const vt=R.multiple&&Array.isArray(Xe)?"in":"=";Xe&&Me.push({column:$e,operator:vt,value:Xe})}R.preload&&Me.push({logic:Me.length?"or":"and",column:R.field??"id",operator:"!=",value:0}),Me.length&&ge(Me)});function be(Me){var $e;if(Me&&Me!==""&&Me.length>3){const Xe=[...(($e=R.filters)==null?void 0:$e.map(vt=>(vt.hasOwnProperty("value")||(vt.value=Me),vt)))??[],...R.searchColumns.length?[{rawColumn:R.searchColumns.join(" || ' ' || "),operator:"contains",value:Me}]:[{column:R.field??R.label,operator:"contains",value:Me}]];ge(Xe)}}function ge(Me){de.value=!0,axios.post(R.url,{search:Me,relations:R.relations,limit:R.limit}).then($e=>{$e.data.success&&$e.data.records&&(ue.value=$e.data.records),de.value=!1})}return(Me,$e)=>v.field?(M.openBlock(),M.createBlock(i8,{key:0,id:v.id,modelValue:W.value,"onUpdate:modelValue":[$e[0]||($e[0]=Xe=>W.value=Xe),$e[1]||($e[1]=Xe=>Me.$emit("update:modelValue",Xe))],field:v.field,label:v.label,options:ue.value,multiple:v.multiple,placeholder:v.placeholder,disabled:v.disabled,loading:de.value,onSearchChange:be},null,8,["id","modelValue","field","label","options","multiple","placeholder","disabled","loading"])):(M.openBlock(),M.createBlock(M.unref(S2),{key:1,id:v.id,modelValue:W.value,"onUpdate:modelValue":[$e[2]||($e[2]=Xe=>W.value=Xe),$e[3]||($e[3]=Xe=>Me.$emit("update:modelValue",Xe))],label:v.label,options:ue.value,multiple:v.multiple,placeholder:v.placeholder,disabled:v.disabled,loading:de.value,"show-no-options":!1,onSearchChange:be},{noResult:M.withCtx(()=>$e[4]||($e[4]=[M.createTextVNode("No Results Found")])),_:1},8,["id","modelValue","label","options","multiple","placeholder","disabled","loading"]))}};function b5(v){return typeof v=="string"?v.replaceAll("."," ").replaceAll("_"," ").replace(/\w\S*/g,function(P){return P.charAt(0).toUpperCase()+P.substring(1).toLowerCase()}):""}const wV=["for"],kV=["id","value","disabled"],_V=["id","value","disabled"],CV={class:"cursor-pointer ml-2 align-middle"},SV=["value","disabled"],EV=["disabled"],TV=["value"],zV={__name:"Select",props:{modelValue:{},id:{type:String,default(){return Math.random().toString(36).slice(2)}},type:{type:String},multiple:{type:Boolean,default(){return!1}},url:{type:String},options:{type:Array,default(){return[]}},field:{type:String},label:{type:String},listItemClass:{type:String},filters:{type:Array},searchColumns:{type:Array},limit:{type:Number},preload:{type:Boolean,default:!1},placeholder:{default(){return"Select"}},disabled:{default(){return!1}},required:{},titleCaseOptions:{default(){return!1}}},emits:["update:modelValue"],setup(v,{emit:P}){const R=P,W=v,ue=M.ref(Array.isArray(W.modelValue)?W.modelValue:[]);M.watch(ue,$e=>{R("update:modelValue",$e)});const de=M.ref(W.modelValue);M.watch(()=>W.modelValue,$e=>{de.value=$e});const be=M.computed(()=>W.options?W.options.filter($e=>!!$e):[]),ge=M.computed(()=>typeof be.value[0]&&typeof be.value[0]=="object"&&be.value[0].hasOwnProperty(W.field??"id")&&be.value[0].hasOwnProperty(W.label??"name"));function Me($e){return typeof $e=="string"&&W.titleCaseOptions?b5($e):$e}return($e,Xe)=>v.type==="list"?(M.openBlock(!0),M.createElementBlock(M.Fragment,{key:0},M.renderList(be.value,(vt,Wt)=>(M.openBlock(),M.createElementBlock("label",{for:v.id+"_list_item_"+Wt,class:M.normalizeClass([v.multiple?"checkbox-label":"radio-label",{disabled:v.disabled},v.listItemClass])},[v.multiple?M.withDirectives((M.openBlock(),M.createElementBlock("input",{key:0,id:v.id+"_list_item_"+Wt,class:"input-checkbox",type:"checkbox",value:ge.value?vt[v.field??"id"]:vt,disabled:v.disabled,"onUpdate:modelValue":Xe[0]||(Xe[0]=lt=>ue.value=lt)},null,8,kV)),[[M.vModelCheckbox,ue.value]]):M.withDirectives((M.openBlock(),M.createElementBlock("input",{key:1,id:v.id+"_list_item_"+Wt,class:"input-radio",type:"radio",value:ge.value?vt[v.field??"id"]:vt,disabled:v.disabled,"onUpdate:modelValue":Xe[1]||(Xe[1]=lt=>de.value=lt),onChange:Xe[2]||(Xe[2]=lt=>$e.$emit("update:modelValue",lt.target.value))},null,40,_V)),[[M.vModelRadio,de.value]]),M.createElementVNode("span",CV,M.toDisplayString(ge.value?vt[v.label??"name"]:Me(vt)),1)],10,wV))),256)):v.type==="async"?(M.openBlock(),M.createBlock(xV,{key:1,url:v.url,modelValue:de.value,"onUpdate:modelValue":[Xe[3]||(Xe[3]=vt=>de.value=vt),Xe[4]||(Xe[4]=vt=>$e.$emit("update:modelValue",vt))],multiple:v.multiple,field:v.field,label:v.label,filters:v.filters,"search-columns":v.searchColumns,limit:v.limit,preload:v.preload,placeholder:v.placeholder,disabled:v.disabled},null,8,["url","modelValue","multiple","field","label","filters","search-columns","limit","preload","placeholder","disabled"])):ge.value?(M.openBlock(),M.createBlock(i8,{key:2,modelValue:de.value,"onUpdate:modelValue":[Xe[5]||(Xe[5]=vt=>de.value=vt),Xe[6]||(Xe[6]=vt=>$e.$emit("update:modelValue",vt))],multiple:v.multiple,field:v.field,label:v.label,options:be.value,placeholder:v.placeholder,disabled:v.disabled},null,8,["modelValue","multiple","field","label","options","placeholder","disabled"])):v.type==="basic"?(M.openBlock(),M.createElementBlock("select",{key:3,class:"input-select",value:v.modelValue,disabled:v.disabled,onChange:Xe[7]||(Xe[7]=vt=>$e.$emit("update:modelValue",vt.target.value))},[M.createElementVNode("option",{value:"",disabled:v.required===!0},"select...",8,EV),(M.openBlock(!0),M.createElementBlock(M.Fragment,null,M.renderList(be.value,vt=>(M.openBlock(),M.createElementBlock("option",{value:vt},M.toDisplayString(Me(vt)),9,TV))),256))],40,SV)):(M.openBlock(),M.createBlock(M.unref(S2),{key:4,modelValue:de.value,"onUpdate:modelValue":[Xe[8]||(Xe[8]=vt=>de.value=vt),Xe[9]||(Xe[9]=vt=>$e.$emit("update:modelValue",vt))],options:be.value,placeholder:v.placeholder,multiple:v.multiple,"show-labels":!1,disabled:v.disabled},null,8,["modelValue","options","placeholder","multiple","disabled"]))}};var E2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function OV(v){return v&&v.__esModule&&Object.prototype.hasOwnProperty.call(v,"default")?v.default:v}var KT={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */KT.exports,function(v,P){(function(){var R,W="4.17.21",ue=200,de="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",be="Expected a function",ge="Invalid `variable` option passed into `_.template`",Me="__lodash_hash_undefined__",$e=500,Xe="__lodash_placeholder__",vt=1,Wt=2,lt=4,Rt=1,tn=2,Kt=1,ht=2,ln=4,At=8,Te=16,kt=32,Ee=64,qe=128,Cn=256,wo=512,Zn=30,Je="...",un=800,B=16,Tt=1,bt=2,pn=3,io=1/0,ft=9007199254740991,Mn=17976931348623157e292,Hr=0/0,zt=4294967295,bo=zt-1,St=zt>>>1,nn=[["ary",qe],["bind",Kt],["bindKey",ht],["curry",At],["curryRight",Te],["flip",wo],["partial",kt],["partialRight",Ee],["rearg",Cn]],Js="[object Arguments]",Pn="[object Array]",Do="[object AsyncFunction]",Y="[object Boolean]",$o="[object Date]",Fi="[object DOMException]",Xo="[object Error]",Kr="[object Function]",Gl="[object GeneratorFunction]",_o="[object Map]",ar="[object Number]",no="[object Null]",ut="[object Object]",_t="[object Promise]",Ft="[object Proxy]",dt="[object RegExp]",wn="[object Set]",lo="[object String]",qo="[object Symbol]",mo="[object Undefined]",Ta="[object WeakMap]",Nr="[object WeakSet]",go="[object ArrayBuffer]",Os="[object DataView]",va="[object Float32Array]",Ur="[object Float64Array]",Pr="[object Int8Array]",Mo="[object Int16Array]",ua="[object Int32Array]",oo="[object Uint8Array]",dn="[object Uint8ClampedArray]",_n="[object Uint16Array]",Ws="[object Uint32Array]",xi=/\b__p \+= '';/g,Bt=/\b(__p \+=) '' \+/g,ii=/(__e\(.*?\)|\b__t\)) \+\n'';/g,jo=/&(?:amp|lt|gt|quot|#39);/g,li=/[&<>"']/g,vr=RegExp(jo.source),Ud=RegExp(li.source),fa=/<%-([\s\S]+?)%>/g,uc=/<%([\s\S]+?)%>/g,hl=/<%=([\s\S]+?)%>/g,Vi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Kl=/^\w*$/,Ir=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Yn=/[\\^$.*+?()[\]{}|]/g,Hi=RegExp(Yn.source),wi=/^\s+/,bl=/\s/,jc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Jt=/\{\n\/\* \[wrapped with (.+)\] \*/,yu=/,? & /,Yr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,of=/[()=,{}\[\]\/\s]/,vu=/\\(\\)?/g,ki=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fc=/\w*$/,ci=/^[-+]0x[0-9a-f]+$/i,Qs=/^0b[01]+$/i,Ui=/^\[object .+?Constructor\]$/,rf=/^0o[0-7]+$/i,Yl=/^(?:0|[1-9]\d*)$/,Ff=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yl=/($^)/,xu=/['\n\r\u2028\u2029\\]/g,Jo="\\ud800-\\udfff",As="\\u0300-\\u036f",Xa="\\ufe20-\\ufe2f",Zc="\\u20d0-\\u20ff",wu=As+Xa+Zc,ku="\\u2700-\\u27bf",ol="a-z\\xdf-\\xf6\\xf8-\\xff",ea="\\xac\\xb1\\xd7\\xf7",Vf="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",xr="\\u2000-\\u206f",zr=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",vl="A-Z\\xc0-\\xd6\\xd8-\\xde",rl="\\ufe0e\\ufe0f",Tc=ea+Vf+xr+zr,mc="['’]",ad="["+Jo+"]",za="["+Tc+"]",as="["+wu+"]",Oa="\\d+",Fs="["+ku+"]",sl="["+ol+"]",Or="[^"+Jo+Tc+Oa+ku+ol+vl+"]",Ha="\\ud83c[\\udffb-\\udfff]",_i="(?:"+as+"|"+Ha+")",Ua="[^"+Jo+"]",eo="(?:\\ud83c[\\udde6-\\uddff]){2}",di="[\\ud800-\\udbff][\\udc00-\\udfff]",Vs="["+vl+"]",xa="\\u200d",ji="(?:"+sl+"|"+Or+")",Xr="(?:"+Vs+"|"+Or+")",Ns="(?:"+mc+"(?:d|ll|m|re|s|t|ve))?",Xl="(?:"+mc+"(?:D|LL|M|RE|S|T|VE))?",qn=_i+"?",Jl="["+rl+"]?",Zi="(?:"+xa+"(?:"+[Ua,eo,di].join("|")+")"+Jl+qn+")*",_s="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",al="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",$s=Jl+qn+Zi,id="(?:"+[Fs,eo,di].join("|")+")"+$s,sf="(?:"+[Ua+as+"?",as,eo,di,ad].join("|")+")",or=RegExp(mc,"g"),ne=RegExp(as,"g"),Oe=RegExp(Ha+"(?="+Ha+")|"+sf+$s,"g"),Ie=RegExp([Vs+"?"+sl+"+"+Ns+"(?="+[za,Vs,"$"].join("|")+")",Xr+"+"+Xl+"(?="+[za,Vs+ji,"$"].join("|")+")",Vs+"?"+ji+"+"+Ns,Vs+"+"+Xl,al,_s,Oa,id].join("|"),"g"),et=RegExp("["+xa+Jo+wu+rl+"]"),Vt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,An=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ro=-1,Wn={};Wn[va]=Wn[Ur]=Wn[Pr]=Wn[Mo]=Wn[ua]=Wn[oo]=Wn[dn]=Wn[_n]=Wn[Ws]=!0,Wn[Js]=Wn[Pn]=Wn[go]=Wn[Y]=Wn[Os]=Wn[$o]=Wn[Xo]=Wn[Kr]=Wn[_o]=Wn[ar]=Wn[ut]=Wn[dt]=Wn[wn]=Wn[lo]=Wn[Ta]=!1;var Vn={};Vn[Js]=Vn[Pn]=Vn[go]=Vn[Os]=Vn[Y]=Vn[$o]=Vn[va]=Vn[Ur]=Vn[Pr]=Vn[Mo]=Vn[ua]=Vn[_o]=Vn[ar]=Vn[ut]=Vn[dt]=Vn[wn]=Vn[lo]=Vn[qo]=Vn[oo]=Vn[dn]=Vn[_n]=Vn[Ws]=!0,Vn[Xo]=Vn[Kr]=Vn[Ta]=!1;var is={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},wr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},jr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Aa={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},il=parseFloat,Qo=parseInt,af=typeof E2=="object"&&E2&&E2.Object===Object&&E2,Wc=typeof self=="object"&&self&&self.Object===Object&&self,ja=af||Wc||Function("return this")(),_u=P&&!P.nodeType&&P,ta=_u&&!0&&v&&!v.nodeType&&v,Hp=ta&&ta.exports===_u,Ja=Hp&&af.process,Rl=function(){try{var Pe=ta&&ta.require&&ta.require("util").types;return Pe||Ja&&Ja.binding&&Ja.binding("util")}catch{}}(),ip=Rl&&Rl.isArrayBuffer,Pg=Rl&&Rl.isDate,Ut=Rl&&Rl.isMap,Cu=Rl&&Rl.isRegExp,lp=Rl&&Rl.isSet,jd=Rl&&Rl.isTypedArray;function Jr(Pe,Dt,xt){switch(xt.length){case 0:return Pe.call(Dt);case 1:return Pe.call(Dt,xt[0]);case 2:return Pe.call(Dt,xt[0],xt[1]);case 3:return Pe.call(Dt,xt[0],xt[1],xt[2])}return Pe.apply(Dt,xt)}function Up(Pe,Dt,xt,Sn){for(var Po=-1,ir=Pe==null?0:Pe.length;++Po<ir;){var Dr=Pe[Po];Dt(Sn,Dr,xt(Dr),Pe)}return Sn}function Wi(Pe,Dt){for(var xt=-1,Sn=Pe==null?0:Pe.length;++xt<Sn&&Dt(Pe[xt],xt,Pe)!==!1;);return Pe}function Su(Pe,Dt){for(var xt=Pe==null?0:Pe.length;xt--&&Dt(Pe[xt],xt,Pe)!==!1;);return Pe}function cp(Pe,Dt){for(var xt=-1,Sn=Pe==null?0:Pe.length;++xt<Sn;)if(!Dt(Pe[xt],xt,Pe))return!1;return!0}function zc(Pe,Dt){for(var xt=-1,Sn=Pe==null?0:Pe.length,Po=0,ir=[];++xt<Sn;){var Dr=Pe[xt];Dt(Dr,xt,Pe)&&(ir[Po++]=Dr)}return ir}function ld(Pe,Dt){var xt=Pe==null?0:Pe.length;return!!xt&&na(Pe,Dt,0)>-1}function Ig(Pe,Dt,xt){for(var Sn=-1,Po=Pe==null?0:Pe.length;++Sn<Po;)if(xt(Dt,Pe[Sn]))return!0;return!1}function wa(Pe,Dt){for(var xt=-1,Sn=Pe==null?0:Pe.length,Po=Array(Sn);++xt<Sn;)Po[xt]=Dt(Pe[xt],xt,Pe);return Po}function cd(Pe,Dt){for(var xt=-1,Sn=Dt.length,Po=Pe.length;++xt<Sn;)Pe[Po+xt]=Dt[xt];return Pe}function jp(Pe,Dt,xt,Sn){var Po=-1,ir=Pe==null?0:Pe.length;for(Sn&&ir&&(xt=Pe[++Po]);++Po<ir;)xt=Dt(xt,Pe[Po],Po,Pe);return xt}function $c(Pe,Dt,xt,Sn){var Po=Pe==null?0:Pe.length;for(Sn&&Po&&(xt=Pe[--Po]);Po--;)xt=Dt(xt,Pe[Po],Po,Pe);return xt}function Hf(Pe,Dt){for(var xt=-1,Sn=Pe==null?0:Pe.length;++xt<Sn;)if(Dt(Pe[xt],xt,Pe))return!0;return!1}var lf=Hs("length");function pc(Pe){return Pe.split("")}function Oc(Pe){return Pe.match(Yr)||[]}function Co(Pe,Dt,xt){var Sn;return xt(Pe,function(Po,ir,Dr){if(Dt(Po,ir,Dr))return Sn=ir,!1}),Sn}function Eu(Pe,Dt,xt,Sn){for(var Po=Pe.length,ir=xt+(Sn?1:-1);Sn?ir--:++ir<Po;)if(Dt(Pe[ir],ir,Pe))return ir;return-1}function na(Pe,Dt,xt){return Dt===Dt?ud(Pe,Dt,xt):Eu(Pe,Tu,xt)}function Zd(Pe,Dt,xt,Sn){for(var Po=xt-1,ir=Pe.length;++Po<ir;)if(Sn(Pe[Po],Dt))return Po;return-1}function Tu(Pe){return Pe!==Pe}function $i(Pe,Dt){var xt=Pe==null?0:Pe.length;return xt?Ds(Pe,Dt)/xt:Hr}function Hs(Pe){return function(Dt){return Dt==null?R:Dt[Pe]}}function Wd(Pe){return function(Dt){return Pe==null?R:Pe[Dt]}}function Uf(Pe,Dt,xt,Sn,Po){return Po(Pe,function(ir,Dr,Rr){xt=Sn?(Sn=!1,ir):Dt(xt,ir,Dr,Rr)}),xt}function ma(Pe,Dt){var xt=Pe.length;for(Pe.sort(Dt);xt--;)Pe[xt]=Pe[xt].value;return Pe}function Ds(Pe,Dt){for(var xt,Sn=-1,Po=Pe.length;++Sn<Po;){var ir=Dt(Pe[Sn]);ir!==R&&(xt=xt===R?ir:xt+ir)}return xt}function Fr(Pe,Dt){for(var xt=-1,Sn=Array(Pe);++xt<Pe;)Sn[xt]=Dt(xt);return Sn}function Cs(Pe,Dt){return wa(Dt,function(xt){return[xt,Pe[xt]]})}function qi(Pe){return Pe&&Pe.slice(0,dp(Pe)+1).replace(wi,"")}function qs(Pe){return function(Dt){return Pe(Dt)}}function Na(Pe,Dt){return wa(Dt,function(xt){return Pe[xt]})}function hs(Pe,Dt){return Pe.has(Dt)}function zu(Pe,Dt){for(var xt=-1,Sn=Pe.length;++xt<Sn&&na(Dt,Pe[xt],0)>-1;);return xt}function Us(Pe,Dt){for(var xt=Pe.length;xt--&&na(Dt,Pe[xt],0)>-1;);return xt}function pa(Pe,Dt){for(var xt=Pe.length,Sn=0;xt--;)Pe[xt]===Dt&&++Sn;return Sn}var oa=Wd(is),$d=Wd(wr);function Qr(Pe){return"\\"+Aa[Pe]}function jf(Pe,Dt){return Pe==null?R:Pe[Dt]}function dd(Pe){return et.test(Pe)}function gc(Pe){return Vt.test(Pe)}function So(Pe){for(var Dt,xt=[];!(Dt=Pe.next()).done;)xt.push(Dt.value);return xt}function ra(Pe){var Dt=-1,xt=Array(Pe.size);return Pe.forEach(function(Sn,Po){xt[++Dt]=[Po,Sn]}),xt}function qd(Pe,Dt){return function(xt){return Pe(Dt(xt))}}function Ci(Pe,Dt){for(var xt=-1,Sn=Pe.length,Po=0,ir=[];++xt<Sn;){var Dr=Pe[xt];(Dr===Dt||Dr===Xe)&&(Pe[xt]=Xe,ir[Po++]=xt)}return ir}function Ou(Pe){var Dt=-1,xt=Array(Pe.size);return Pe.forEach(function(Sn){xt[++Dt]=Sn}),xt}function Ac(Pe){var Dt=-1,xt=Array(Pe.size);return Pe.forEach(function(Sn){xt[++Dt]=[Sn,Sn]}),xt}function ud(Pe,Dt,xt){for(var Sn=xt-1,Po=Pe.length;++Sn<Po;)if(Pe[Sn]===Dt)return Sn;return-1}function Zp(Pe,Dt,xt){for(var Sn=xt+1;Sn--;)if(Pe[Sn]===Dt)return Sn;return Sn}function fd(Pe){return dd(Pe)?hc(Pe):lf(Pe)}function Qa(Pe){return dd(Pe)?Si(Pe):pc(Pe)}function dp(Pe){for(var Dt=Pe.length;Dt--&&bl.test(Pe.charAt(Dt)););return Dt}var ye=Wd(jr);function hc(Pe){for(var Dt=Oe.lastIndex=0;Oe.test(Pe);)++Dt;return Dt}function Si(Pe){return Pe.match(Oe)||[]}function qc(Pe){return Pe.match(Ie)||[]}var cf=function Pe(Dt){Dt=Dt==null?ja:Gd.defaults(ja.Object(),Dt,Gd.pick(ja,An));var xt=Dt.Array,Sn=Dt.Date,Po=Dt.Error,ir=Dt.Function,Dr=Dt.Math,Rr=Dt.Object,ui=Dt.RegExp,Rn=Dt.String,Rs=Dt.TypeError,Ei=xt.prototype,Wp=ir.prototype,bc=Rr.prototype,Br=Dt["__core-js_shared__"],yc=Wp.toString,Zr=bc.hasOwnProperty,ga=0,Nc=function(){var d=/[^.]+$/.exec(Br&&Br.keys&&Br.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),Au=bc.toString,Zf=yc.call(Rr),up=ja._,md=ui("^"+yc.call(Zr).replace(Yn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xl=Hp?Dt.Buffer:R,ll=Dt.Symbol,Wr=Dt.Uint8Array,Ql=xl?xl.allocUnsafe:R,ka=qd(Rr.getPrototypeOf,Rr),Gc=Rr.create,fi=bc.propertyIsEnumerable,Kd=Ei.splice,Gs=ll?ll.isConcatSpreadable:R,sa=ll?ll.iterator:R,ei=ll?ll.toStringTag:R,at=function(){try{var d=xf(Rr,"defineProperty");return d({},"",{}),d}catch{}}(),wl=Dt.clearTimeout!==ja.clearTimeout&&Dt.clearTimeout,vm=Sn&&Sn.now!==ja.Date.now&&Sn.now,Bs=Dt.setTimeout!==ja.setTimeout&&Dt.setTimeout,Da=Dr.ceil,Ra=Dr.floor,Gi=Rr.getOwnPropertySymbols,Nu=xl?xl.isBuffer:R,Za=Dt.isFinite,ur=Ei.join,Bl=qd(Rr.keys,Rr),Ks=Dr.max,Ar=Dr.min,xm=Sn.now,Ml=Dt.parseInt,Wa=Dr.random,kl=Ei.reverse,Ue=xf(Dt,"DataView"),_a=xf(Dt,"Map"),Kc=xf(Dt,"Promise"),_l=xf(Dt,"Set"),Ms=xf(Dt,"WeakMap"),es=xf(Rr,"create"),ls=Ms&&new Ms,Mr={},Wf=Wu(Ue),Ln=Wu(_a),Ba=Wu(Kc),mi=Wu(_l),lr=Wu(Ms),ha=ll?ll.prototype:R,vc=ha?ha.valueOf:R,ec=ha?ha.toString:R;function fe(d){if(he(d)&&!rr(d)&&!(d instanceof Go)){if(d instanceof rs)return d;if(Zr.call(d,"__wrapped__"))return Xg(d)}return new rs(d)}var Dc=function(){function d(){}return function(g){if(!Se(g))return{};if(Gc)return Gc(g);d.prototype=g;var S=new d;return d.prototype=R,S}}();function xc(){}function rs(d,g){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=R}fe.templateSettings={escape:fa,evaluate:uc,interpolate:hl,variable:"",imports:{_:fe}},fe.prototype=xc.prototype,fe.prototype.constructor=fe,rs.prototype=Dc(xc.prototype),rs.prototype.constructor=rs;function Go(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=zt,this.__views__=[]}function Yd(){var d=new Go(this.__wrapped__);return d.__actions__=Pa(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=Pa(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=Pa(this.__views__),d}function wc(){if(this.__filtered__){var d=new Go(this);d.__dir__=-1,d.__filtered__=!0}else d=this.clone(),d.__dir__*=-1;return d}function df(){var d=this.__wrapped__.value(),g=this.__dir__,S=rr(d),j=g<0,ee=S?d.length:0,ke=Ji(0,ee,this.__views__),Le=ke.start,je=ke.end,rt=je-Le,Xt=j?je:Le-1,Yt=this.__iteratees__,fn=Yt.length,Kn=0,No=Ar(rt,this.__takeCount__);if(!S||!j&&ee==rt&&No==rt)return Kf(d,this.__actions__);var nr=[];e:for(;rt--&&Kn<No;){Xt+=g;for(var Er=-1,Zo=d[Xt];++Er<fn;){var Qt=Yt[Er],ms=Qt.iteratee,Cc=Qt.type,Sc=ms(Zo);if(Cc==bt)Zo=Sc;else if(!Sc){if(Cc==Tt)continue e;break e}}nr[Kn++]=Zo}return nr}Go.prototype=Dc(xc.prototype),Go.prototype.constructor=Go;function aa(d){var g=-1,S=d==null?0:d.length;for(this.clear();++g<S;){var j=d[g];this.set(j[0],j[1])}}function z(){this.__data__=es?es(null):{},this.size=0}function V(d){var g=this.has(d)&&delete this.__data__[d];return this.size-=g?1:0,g}function J(d){var g=this.__data__;if(es){var S=g[d];return S===Me?R:S}return Zr.call(g,d)?g[d]:R}function Ce(d){var g=this.__data__;return es?g[d]!==R:Zr.call(g,d)}function Ae(d,g){var S=this.__data__;return this.size+=this.has(d)?0:1,S[d]=es&&g===R?Me:g,this}aa.prototype.clear=z,aa.prototype.delete=V,aa.prototype.get=J,aa.prototype.has=Ce,aa.prototype.set=Ae;function Ot(d){var g=-1,S=d==null?0:d.length;for(this.clear();++g<S;){var j=d[g];this.set(j[0],j[1])}}function yn(){this.__data__=[],this.size=0}function so(d){var g=this.__data__,S=Nt(g,d);if(S<0)return!1;var j=g.length-1;return S==j?g.pop():Kd.call(g,S,1),--this.size,!0}function Hn(d){var g=this.__data__,S=Nt(g,d);return S<0?R:g[S][1]}function En(d){return Nt(this.__data__,d)>-1}function gr(d,g){var S=this.__data__,j=Nt(S,d);return j<0?(++this.size,S.push([d,g])):S[j][1]=g,this}Ot.prototype.clear=yn,Ot.prototype.delete=so,Ot.prototype.get=Hn,Ot.prototype.has=En,Ot.prototype.set=gr;function bs(d){var g=-1,S=d==null?0:d.length;for(this.clear();++g<S;){var j=d[g];this.set(j[0],j[1])}}function Ti(){this.size=0,this.__data__={hash:new aa,map:new(_a||Ot),string:new aa}}function pd(d){var g=$g(this,d).delete(d);return this.size-=g?1:0,g}function zi(d){return $g(this,d).get(d)}function ba(d){return $g(this,d).has(d)}function pi(d,g){var S=$g(this,d),j=S.size;return S.set(d,g),this.size+=S.size==j?0:1,this}bs.prototype.clear=Ti,bs.prototype.delete=pd,bs.prototype.get=zi,bs.prototype.has=ba,bs.prototype.set=pi;function Oi(d){var g=-1,S=d==null?0:d.length;for(this.__data__=new bs;++g<S;)this.add(d[g])}function wm(d){return this.__data__.set(d,Me),this}function kn(d){return this.__data__.has(d)}Oi.prototype.add=Oi.prototype.push=wm,Oi.prototype.has=kn;function Ys(d){var g=this.__data__=new Ot(d);this.size=g.size}function cl(){this.__data__=new Ot,this.size=0}function Rc(d){var g=this.__data__,S=g.delete(d);return this.size=g.size,S}function Ll(d){return this.__data__.get(d)}function Du(d){return this.__data__.has(d)}function fp(d,g){var S=this.__data__;if(S instanceof Ot){var j=S.__data__;if(!_a||j.length<ue-1)return j.push([d,g]),this.size=++S.size,this;S=this.__data__=new bs(j)}return S.set(d,g),this.size=S.size,this}Ys.prototype.clear=cl,Ys.prototype.delete=Rc,Ys.prototype.get=Ll,Ys.prototype.has=Du,Ys.prototype.set=fp;function $p(d,g){var S=rr(d),j=!S&&ca(d),ee=!S&&!j&&du(d),ke=!S&&!j&&!ee&&Gn(d),Le=S||j||ee||ke,je=Le?Fr(d.length,Rn):[],rt=je.length;for(var Xt in d)(g||Zr.call(d,Xt))&&!(Le&&(Xt=="length"||ee&&(Xt=="offset"||Xt=="parent")||ke&&(Xt=="buffer"||Xt=="byteLength"||Xt=="byteOffset")||ju(Xt,rt)))&&je.push(Xt);return je}function Yc(d){var g=d.length;return g?d[Xc(0,g-1)]:R}function Fg(d,g){return Fl(Pa(d),ss(g,0,d.length))}function gd(d){return Fl(Pa(d))}function Ru(d,g,S){(S!==R&&!cu(d[g],S)||S===R&&!(g in d))&&Cl(d,g,S)}function Bc(d,g,S){var j=d[g];(!(Zr.call(d,g)&&cu(j,S))||S===R&&!(g in d))&&Cl(d,g,S)}function Nt(d,g){for(var S=d.length;S--;)if(cu(d[S][0],g))return S;return-1}function km(d,g,S,j){return gn(d,function(ee,ke,Le){g(j,ee,S(ee),Le)}),j}function Bu(d,g){return d&&su(g,jl(g),d)}function Mu(d,g){return d&&su(g,Td(g),d)}function Cl(d,g,S){g=="__proto__"&&at?at(d,g,{configurable:!0,enumerable:!0,value:S,writable:!0}):d[g]=S}function $f(d,g){for(var S=-1,j=g.length,ee=xt(j),ke=d==null;++S<j;)ee[S]=ke?R:Ny(d,g[S]);return ee}function ss(d,g,S){return d===d&&(S!==R&&(d=d<=S?d:S),g!==R&&(d=d>=g?d:g)),d}function Sl(d,g,S,j,ee,ke){var Le,je=g&vt,rt=g&Wt,Xt=g&lt;if(S&&(Le=ee?S(d,j,ee,ke):S(d)),Le!==R)return Le;if(!Se(d))return d;var Yt=rr(d);if(Yt){if(Le=la(d),!je)return Pa(d,Le)}else{var fn=Cr(d),Kn=fn==Kr||fn==Gl;if(du(d))return Ph(d,je);if(fn==ut||fn==Js||Kn&&!ee){if(Le=rt||Kn?{}:Ni(d),!je)return rt?xd(d,Mu(Le,d)):ia(d,Bu(Le,d))}else{if(!Vn[fn])return ee?d:{};Le=Gg(d,fn,je)}}ke||(ke=new Ys);var No=ke.get(d);if(No)return No;ke.set(d,Le),Un(d)?d.forEach(function(Zo){Le.add(Sl(Zo,g,S,Zo,d,ke))}):ze(d)&&d.forEach(function(Zo,Qt){Le.set(Qt,Sl(Zo,g,S,Qt,d,ke))});var nr=Xt?rt?Uu:yp:rt?Td:jl,Er=Yt?R:nr(d);return Wi(Er||d,function(Zo,Qt){Er&&(Qt=Zo,Zo=d[Qt]),Bc(Le,Qt,Sl(Zo,g,S,Qt,d,ke))}),Le}function tc(d){var g=jl(d);return function(S){return $r(S,d,g)}}function $r(d,g,S){var j=S.length;if(d==null)return!j;for(d=Rr(d);j--;){var ee=S[j],ke=g[ee],Le=d[ee];if(Le===R&&!(ee in d)||!ke(Le))return!1}return!0}function uf(d,g,S){if(typeof d!="function")throw new Rs(be);return Xf(function(){d.apply(R,S)},g)}function Lo(d,g,S,j){var ee=-1,ke=ld,Le=!0,je=d.length,rt=[],Xt=g.length;if(!je)return rt;S&&(g=wa(g,qs(S))),j?(ke=Ig,Le=!1):g.length>=ue&&(ke=hs,Le=!1,g=new Oi(g));e:for(;++ee<je;){var Yt=d[ee],fn=S==null?Yt:S(Yt);if(Yt=j||Yt!==0?Yt:0,Le&&fn===fn){for(var Kn=Xt;Kn--;)if(g[Kn]===fn)continue e;rt.push(Yt)}else ke(g,fn,j)||rt.push(Yt)}return rt}var gn=hi(oc),Lu=hi(Xd,!0);function mp(d,g){var S=!0;return gn(d,function(j,ee,ke){return S=!!g(j,ee,ke),S}),S}function ff(d,g,S){for(var j=-1,ee=d.length;++j<ee;){var ke=d[j],Le=g(ke);if(Le!=null&&(je===R?Le===Le&&!Oo(Le):S(Le,je)))var je=Le,rt=ke}return rt}function nc(d,g,S,j){var ee=d.length;for(S=Nn(S),S<0&&(S=-S>ee?0:ee+S),j=j===R||j>ee?ee:Nn(j),j<0&&(j+=ee),j=S>j?0:ni(j);S<j;)d[S++]=g;return d}function Ro(d,g){var S=[];return gn(d,function(j,ee,ke){g(j,ee,ke)&&S.push(j)}),S}function Ma(d,g,S,j,ee){var ke=-1,Le=d.length;for(S||(S=tg),ee||(ee=[]);++ke<Le;){var je=d[ke];g>0&&S(je)?g>1?Ma(je,g-1,S,j,ee):cd(ee,je):j||(ee[ee.length]=je)}return ee}var _m=yf(),mt=yf(!0);function oc(d,g){return d&&_m(d,g,jl)}function Xd(d,g){return d&&mt(d,g,jl)}function Jd(d,g){return zc(g,function(S){return X(d[S])})}function Pu(d,g){g=zm(g,d);for(var S=0,j=g.length;d!=null&&S<j;)d=d[Vl(g[S++])];return S&&S==j?d:R}function hd(d,g,S){var j=g(d);return rr(d)?j:cd(j,S(d))}function Pl(d){return d==null?d===R?mo:no:ei&&ei in Rr(d)?qg(d):Nm(d)}function Iu(d,g){return d>g}function ts(d,g){return d!=null&&Zr.call(d,g)}function Qd(d,g){return d!=null&&g in Rr(d)}function Mh(d,g,S){return d>=Ar(g,S)&&d<Ks(g,S)}function dl(d,g,S){for(var j=S?Ig:ld,ee=d[0].length,ke=d.length,Le=ke,je=xt(ke),rt=1/0,Xt=[];Le--;){var Yt=d[Le];Le&&g&&(Yt=wa(Yt,qs(g))),rt=Ar(Yt.length,rt),je[Le]=!S&&(g||ee>=120&&Yt.length>=120)?new Oi(Le&&Yt):R}Yt=d[0];var fn=-1,Kn=je[0];e:for(;++fn<ee&&Xt.length<rt;){var No=Yt[fn],nr=g?g(No):No;if(No=S||No!==0?No:0,!(Kn?hs(Kn,nr):j(Xt,nr,S))){for(Le=ke;--Le;){var Er=je[Le];if(!(Er?hs(Er,nr):j(d[Le],nr,S)))continue e}Kn&&Kn.push(nr),Xt.push(No)}}return Xt}function Cm(d,g,S,j){return oc(d,function(ee,ke,Le){g(j,S(ee),ke,Le)}),j}function Ki(d,g,S){g=zm(g,d),d=ac(d,g);var j=d==null?d:d[Vl(Ri(g))];return j==null?R:Jr(j,d,S)}function qf(d){return he(d)&&Pl(d)==Js}function bd(d){return he(d)&&Pl(d)==go}function Fu(d){return he(d)&&Pl(d)==$o}function yd(d,g,S,j,ee){return d===g?!0:d==null||g==null||!he(d)&&!he(g)?d!==d&&g!==g:mf(d,g,S,j,yd,ee)}function mf(d,g,S,j,ee,ke){var Le=rr(d),je=rr(g),rt=Le?Pn:Cr(d),Xt=je?Pn:Cr(g);rt=rt==Js?ut:rt,Xt=Xt==Js?ut:Xt;var Yt=rt==ut,fn=Xt==ut,Kn=rt==Xt;if(Kn&&du(d)){if(!du(g))return!1;Le=!0,Yt=!1}if(Kn&&!Yt)return ke||(ke=new Ys),Le||Gn(d)?Uh(d,g,S,j,ee,ke):E0(d,g,rt,S,j,ee,ke);if(!(S&Rt)){var No=Yt&&Zr.call(d,"__wrapped__"),nr=fn&&Zr.call(g,"__wrapped__");if(No||nr){var Er=No?d.value():d,Zo=nr?g.value():g;return ke||(ke=new Ys),ee(Er,Zo,S,j,ke)}}return Kn?(ke||(ke=new Ys),jh(d,g,S,j,ee,ke)):!1}function Gf(d){return he(d)&&Cr(d)==_o}function bn(d,g,S,j){var ee=S.length,ke=ee,Le=!j;if(d==null)return!ke;for(d=Rr(d);ee--;){var je=S[ee];if(Le&&je[2]?je[1]!==d[je[0]]:!(je[0]in d))return!1}for(;++ee<ke;){je=S[ee];var rt=je[0],Xt=d[rt],Yt=je[1];if(Le&&je[2]){if(Xt===R&&!(rt in d))return!1}else{var fn=new Ys;if(j)var Kn=j(Xt,Yt,rt,d,g,fn);if(!(Kn===R?yd(Yt,Xt,Rt|tn,j,fn):Kn))return!1}}return!0}function pp(d){if(!Se(d)||e1(d))return!1;var g=X(d)?md:Ui;return g.test(Wu(d))}function Sm(d){return he(d)&&Pl(d)==dt}function pf(d){return he(d)&&Cr(d)==wn}function Lh(d){return he(d)&&xe(d.length)&&!!Wn[Pl(d)]}function C(d){return typeof d=="function"?d:d==null?Od:typeof d=="object"?rr(d)?It(d[0],d[1]):st(d):p1(d)}function D(d){if(!wf(d))return Bl(d);var g=[];for(var S in Rr(d))Zr.call(d,S)&&S!="constructor"&&g.push(S);return g}function G(d){if(!Se(d))return Yg(d);var g=wf(d),S=[];for(var j in d)j=="constructor"&&(g||!Zr.call(d,j))||S.push(j);return S}function ae(d,g){return d<g}function De(d,g){var S=-1,j=Mi(d)?xt(d.length):[];return gn(d,function(ee,ke,Le){j[++S]=g(ee,ke,Le)}),j}function st(d){var g=Zh(d);return g.length==1&&g[0][2]?Ht(g[0][0],g[0][1]):function(S){return S===d||bn(S,d,g)}}function It(d,g){return ng(d)&&Jc(g)?Ht(Vl(d),g):function(S){var j=Ny(S,d);return j===R&&j===g?Dy(S,d):yd(g,j,Rt|tn)}}function rn(d,g,S,j,ee){d!==g&&_m(g,function(ke,Le){if(ee||(ee=new Ys),Se(ke))Tn(d,g,Le,S,rn,j,ee);else{var je=j?j(ic(d,Le),ke,Le+"",d,g,ee):R;je===R&&(je=ke),Ru(d,Le,je)}},Td)}function Tn(d,g,S,j,ee,ke,Le){var je=ic(d,S),rt=ic(g,S),Xt=Le.get(rt);if(Xt){Ru(d,S,Xt);return}var Yt=ke?ke(je,rt,S+"",d,g,Le):R,fn=Yt===R;if(fn){var Kn=rr(rt),No=!Kn&&du(rt),nr=!Kn&&!No&&Gn(rt);Yt=rt,Kn||No||nr?rr(je)?Yt=je:Ia(je)?Yt=Pa(je):No?(fn=!1,Yt=Ph(rt,!0)):nr?(fn=!1,Yt=Tl(rt,!0)):Yt=[]:Pt(rt)||ca(rt)?(Yt=je,ca(je)?Yt=gg(je):(!Se(je)||X(je))&&(Yt=Ni(rt))):fn=!1}fn&&(Le.set(rt,Yt),ee(Yt,rt,j,ke,Le),Le.delete(rt)),Ru(d,S,Yt)}function co(d,g){var S=d.length;if(S)return g+=g<0?S:0,ju(g,S)?d[g]:R}function ys(d,g,S){g.length?g=wa(g,function(ke){return rr(ke)?function(Le){return Pu(Le,ke.length===1?ke[0]:ke)}:ke}):g=[Od];var j=-1;g=wa(g,qs(zo()));var ee=De(d,function(ke,Le,je){var rt=wa(g,function(Xt){return Xt(ke)});return{criteria:rt,index:++j,value:ke}});return ma(ee,function(ke,Le){return Vh(ke,Le,S)})}function ko(d,g){return cr(d,g,function(S,j){return Dy(d,j)})}function cr(d,g,S){for(var j=-1,ee=g.length,ke={};++j<ee;){var Le=g[j],je=Pu(d,Le);S(je,Le)&&tu(ke,zm(Le,d),je)}return ke}function ns(d){return function(g){return Pu(g,d)}}function La(d,g,S,j){var ee=j?Zd:na,ke=-1,Le=g.length,je=d;for(d===g&&(g=Pa(g)),S&&(je=wa(d,qs(S)));++ke<Le;)for(var rt=0,Xt=g[ke],Yt=S?S(Xt):Xt;(rt=ee(je,Yt,rt,j))>-1;)je!==d&&Kd.call(je,rt,1),Kd.call(d,rt,1);return d}function $a(d,g){for(var S=d?g.length:0,j=S-1;S--;){var ee=g[S];if(S==j||ee!==ke){var ke=ee;ju(ee)?Kd.call(d,ee,1):Mc(d,ee)}}return d}function Xc(d,g){return d+Ra(Wa()*(g-d+1))}function Em(d,g,S,j){for(var ee=-1,ke=Ks(Da((g-d)/(S||1)),0),Le=xt(ke);ke--;)Le[j?ke:++ee]=d,d+=S;return Le}function gf(d,g){var S="";if(!d||g<1||g>ft)return S;do g%2&&(S+=d),g=Ra(g/2),g&&(d+=d);while(g);return S}function er(d,g){return Lc(Zu(d,g,Od),d+"")}function Tm(d){return Yc(zp(d))}function eu(d,g){var S=zp(d);return Fl(S,ss(g,0,S.length))}function tu(d,g,S,j){if(!Se(d))return d;g=zm(g,d);for(var ee=-1,ke=g.length,Le=ke-1,je=d;je!=null&&++ee<ke;){var rt=Vl(g[ee]),Xt=S;if(rt==="__proto__"||rt==="constructor"||rt==="prototype")return d;if(ee!=Le){var Yt=je[rt];Xt=j?j(Yt,rt,je):R,Xt===R&&(Xt=Se(Yt)?Yt:ju(g[ee+1])?[]:{})}Bc(je,rt,Xt),je=je[rt]}return d}var gp=ls?function(d,g){return ls.set(d,g),d}:Od,qp=at?function(d,g){return at(d,"toString",{configurable:!0,enumerable:!1,value:Iy(g),writable:!0})}:Od;function nu(d){return Fl(zp(d))}function To(d,g,S){var j=-1,ee=d.length;g<0&&(g=-g>ee?0:ee+g),S=S>ee?ee:S,S<0&&(S+=ee),ee=g>S?0:S-g>>>0,g>>>=0;for(var ke=xt(ee);++j<ee;)ke[j]=d[j+g];return ke}function kr(d,g){var S;return gn(d,function(j,ee,ke){return S=g(j,ee,ke),!S}),!!S}function gi(d,g,S){var j=0,ee=d==null?j:d.length;if(typeof g=="number"&&g===g&&ee<=St){for(;j<ee;){var ke=j+ee>>>1,Le=d[ke];Le!==null&&!Oo(Le)&&(S?Le<=g:Le<g)?j=ke+1:ee=ke}return ee}return hr(d,g,Od,S)}function hr(d,g,S,j){var ee=0,ke=d==null?0:d.length;if(ke===0)return 0;g=S(g);for(var Le=g!==g,je=g===null,rt=Oo(g),Xt=g===R;ee<ke;){var Yt=Ra((ee+ke)/2),fn=S(d[Yt]),Kn=fn!==R,No=fn===null,nr=fn===fn,Er=Oo(fn);if(Le)var Zo=j||nr;else Xt?Zo=nr&&(j||Kn):je?Zo=nr&&Kn&&(j||!No):rt?Zo=nr&&Kn&&!No&&(j||!Er):No||Er?Zo=!1:Zo=j?fn<=g:fn<g;Zo?ee=Yt+1:ke=Yt}return Ar(ke,bo)}function Gp(d,g){for(var S=-1,j=d.length,ee=0,ke=[];++S<j;){var Le=d[S],je=g?g(Le):Le;if(!S||!cu(je,rt)){var rt=je;ke[ee++]=Le===0?0:Le}}return ke}function Ls(d){return typeof d=="number"?d:Oo(d)?Hr:+d}function vs(d){if(typeof d=="string")return d;if(rr(d))return wa(d,vs)+"";if(Oo(d))return ec?ec.call(d):"";var g=d+"";return g=="0"&&1/d==-io?"-0":g}function Yi(d,g,S){var j=-1,ee=ld,ke=d.length,Le=!0,je=[],rt=je;if(S)Le=!1,ee=Ig;else if(ke>=ue){var Xt=g?null:uy(d);if(Xt)return Ou(Xt);Le=!1,ee=hs,rt=new Oi}else rt=g?[]:je;e:for(;++j<ke;){var Yt=d[j],fn=g?g(Yt):Yt;if(Yt=S||Yt!==0?Yt:0,Le&&fn===fn){for(var Kn=rt.length;Kn--;)if(rt[Kn]===fn)continue e;g&&rt.push(fn),je.push(Yt)}else ee(rt,fn,S)||(rt!==je&&rt.push(fn),je.push(Yt))}return je}function Mc(d,g){return g=zm(g,d),d=ac(d,g),d==null||delete d[Vl(Ri(g))]}function ou(d,g,S,j){return tu(d,g,S(Pu(d,g)),j)}function vd(d,g,S,j){for(var ee=d.length,ke=j?ee:-1;(j?ke--:++ke<ee)&&g(d[ke],ke,d););return S?To(d,j?0:ke,j?ke+1:ee):To(d,j?ke+1:0,j?ee:ke)}function Kf(d,g){var S=d;return S instanceof Go&&(S=S.value()),jp(g,function(j,ee){return ee.func.apply(ee.thisArg,cd([j],ee.args))},S)}function Kp(d,g,S){var j=d.length;if(j<2)return j?Yi(d[0]):[];for(var ee=-1,ke=xt(j);++ee<j;)for(var Le=d[ee],je=-1;++je<j;)je!=ee&&(ke[ee]=Lo(ke[ee]||Le,d[je],g,S));return Yi(Ma(ke,1),g,S)}function Yf(d,g,S){for(var j=-1,ee=d.length,ke=g.length,Le={};++j<ee;){var je=j<ke?g[j]:R;S(Le,d[j],je)}return Le}function hf(d){return Ia(d)?d:[]}function Vg(d){return typeof d=="function"?d:Od}function zm(d,g){return rr(d)?d:ng(d,g)?[d]:$h(fs(d))}var ly=er;function ru(d,g,S){var j=d.length;return S=S===R?j:S,!g&&S>=j?d:To(d,g,S)}var Ss=wl||function(d){return ja.clearTimeout(d)};function Ph(d,g){if(g)return d.slice();var S=d.length,j=Ql?Ql(S):new d.constructor(S);return d.copy(j),j}function Ih(d){var g=new d.constructor(d.byteLength);return new Wr(g).set(new Wr(d)),g}function Fh(d,g){var S=g?Ih(d.buffer):d.buffer;return new d.constructor(S,d.byteOffset,d.byteLength)}function El(d){var g=new d.constructor(d.source,fc.exec(d));return g.lastIndex=d.lastIndex,g}function qr(d){return vc?Rr(vc.call(d)):{}}function Tl(d,g){var S=g?Ih(d.buffer):d.buffer;return new d.constructor(S,d.byteOffset,d.length)}function Yp(d,g){if(d!==g){var S=d!==R,j=d===null,ee=d===d,ke=Oo(d),Le=g!==R,je=g===null,rt=g===g,Xt=Oo(g);if(!je&&!Xt&&!ke&&d>g||ke&&Le&&rt&&!je&&!Xt||j&&Le&&rt||!S&&rt||!ee)return 1;if(!j&&!ke&&!Xt&&d<g||Xt&&S&&ee&&!j&&!ke||je&&S&&ee||!Le&&ee||!rt)return-1}return 0}function Vh(d,g,S){for(var j=-1,ee=d.criteria,ke=g.criteria,Le=ee.length,je=S.length;++j<Le;){var rt=Yp(ee[j],ke[j]);if(rt){if(j>=je)return rt;var Xt=S[j];return rt*(Xt=="desc"?-1:1)}}return d.index-g.index}function cy(d,g,S,j){for(var ee=-1,ke=d.length,Le=S.length,je=-1,rt=g.length,Xt=Ks(ke-Le,0),Yt=xt(rt+Xt),fn=!j;++je<rt;)Yt[je]=g[je];for(;++ee<Le;)(fn||ee<ke)&&(Yt[S[ee]]=d[ee]);for(;Xt--;)Yt[je++]=d[ee++];return Yt}function Hg(d,g,S,j){for(var ee=-1,ke=d.length,Le=-1,je=S.length,rt=-1,Xt=g.length,Yt=Ks(ke-je,0),fn=xt(Yt+Xt),Kn=!j;++ee<Yt;)fn[ee]=d[ee];for(var No=ee;++rt<Xt;)fn[No+rt]=g[rt];for(;++Le<je;)(Kn||ee<ke)&&(fn[No+S[Le]]=d[ee++]);return fn}function Pa(d,g){var S=-1,j=d.length;for(g||(g=xt(j));++S<j;)g[S]=d[S];return g}function su(d,g,S,j){var ee=!S;S||(S={});for(var ke=-1,Le=g.length;++ke<Le;){var je=g[ke],rt=j?j(S[je],d[je],je,S,d):R;rt===R&&(rt=d[je]),ee?Cl(S,je,rt):Bc(S,je,rt)}return S}function ia(d,g){return su(d,eg(d),g)}function xd(d,g){return su(d,Ai(d),g)}function bf(d,g){return function(S,j){var ee=rr(S)?Up:km,ke=g?g():{};return ee(S,d,zo(j,2),ke)}}function Vu(d){return er(function(g,S){var j=-1,ee=S.length,ke=ee>1?S[ee-1]:R,Le=ee>2?S[2]:R;for(ke=d.length>3&&typeof ke=="function"?(ee--,ke):R,Le&&Di(S[0],S[1],Le)&&(ke=ee<3?R:ke,ee=1),g=Rr(g);++j<ee;){var je=S[j];je&&d(g,je,j,ke)}return g})}function hi(d,g){return function(S,j){if(S==null)return S;if(!Mi(S))return d(S,j);for(var ee=S.length,ke=g?ee:-1,Le=Rr(S);(g?ke--:++ke<ee)&&j(Le[ke],ke,Le)!==!1;);return S}}function yf(d){return function(g,S,j){for(var ee=-1,ke=Rr(g),Le=j(g),je=Le.length;je--;){var rt=Le[d?je:++ee];if(S(ke[rt],rt,ke)===!1)break}return g}}function Ug(d,g,S){var j=g&Kt,ee=jg(d);function ke(){var Le=this&&this!==ja&&this instanceof ke?ee:d;return Le.apply(j?S:this,arguments)}return ke}function Hh(d){return function(g){g=fs(g);var S=dd(g)?Qa(g):R,j=S?S[0]:g.charAt(0),ee=S?ru(S,1).join(""):g.slice(1);return j[d]()+ee}}function Om(d){return function(g){return jp(V0(fw(g).replace(or,"")),d,"")}}function jg(d){return function(){var g=arguments;switch(g.length){case 0:return new d;case 1:return new d(g[0]);case 2:return new d(g[0],g[1]);case 3:return new d(g[0],g[1],g[2]);case 4:return new d(g[0],g[1],g[2],g[3]);case 5:return new d(g[0],g[1],g[2],g[3],g[4]);case 6:return new d(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new d(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var S=Dc(d.prototype),j=d.apply(S,g);return Se(j)?j:S}}function hp(d,g,S){var j=jg(d);function ee(){for(var ke=arguments.length,Le=xt(ke),je=ke,rt=kd(ee);je--;)Le[je]=arguments[je];var Xt=ke<3&&Le[0]!==rt&&Le[ke-1]!==rt?[]:Ci(Le,rt);if(ke-=Xt.length,ke<S)return cs(d,g,Hu,ee.placeholder,R,Le,Xt,R,R,S-ke);var Yt=this&&this!==ja&&this instanceof ee?j:d;return Jr(Yt,this,Le)}return ee}function Am(d){return function(g,S,j){var ee=Rr(g);if(!Mi(g)){var ke=zo(S,3);g=jl(g),S=function(je){return ke(ee[je],je,ee)}}var Le=d(g,S,j);return Le>-1?ee[ke?g[Le]:Le]:R}}function Xp(d){return vf(function(g){var S=g.length,j=S,ee=rs.prototype.thru;for(d&&g.reverse();j--;){var ke=g[j];if(typeof ke!="function")throw new Rs(be);if(ee&&!Le&&bi(ke)=="wrapper")var Le=new rs([],!0)}for(j=Le?j:S;++j<S;){ke=g[j];var je=bi(ke),rt=je=="wrapper"?kc(ke):R;rt&&py(rt[0])&&rt[1]==(qe|At|kt|Cn)&&!rt[4].length&&rt[9]==1?Le=Le[bi(rt[0])].apply(Le,rt[3]):Le=ke.length==1&&py(ke)?Le[je]():Le.thru(ke)}return function(){var Xt=arguments,Yt=Xt[0];if(Le&&Xt.length==1&&rr(Yt))return Le.plant(Yt).value();for(var fn=0,Kn=S?g[fn].apply(this,Xt):Yt;++fn<S;)Kn=g[fn].call(this,Kn);return Kn}})}function Hu(d,g,S,j,ee,ke,Le,je,rt,Xt){var Yt=g&qe,fn=g&Kt,Kn=g&ht,No=g&(At|Te),nr=g&wo,Er=Kn?R:jg(d);function Zo(){for(var Qt=arguments.length,ms=xt(Qt),Cc=Qt;Cc--;)ms[Cc]=arguments[Cc];if(No)var Sc=kd(Zo),Ad=pa(ms,Sc);if(j&&(ms=cy(ms,j,ee,No)),ke&&(ms=Hg(ms,ke,Le,No)),Qt-=Ad,No&&Qt<Xt){var el=Ci(ms,Sc);return cs(d,g,Hu,Zo.placeholder,S,ms,el,je,rt,Xt-Qt)}var Pc=fn?S:this,ya=Kn?Pc[d]:d;return Qt=ms.length,je?ms=t1(ms,je):nr&&Qt>1&&ms.reverse(),Yt&&rt<Qt&&(ms.length=rt),this&&this!==ja&&this instanceof Zo&&(ya=Er||jg(ya)),ya.apply(Pc,ms)}return Zo}function Jp(d,g){return function(S,j){return Cm(S,d,g(j),{})}}function wd(d,g){return function(S,j){var ee;if(S===R&&j===R)return g;if(S!==R&&(ee=S),j!==R){if(ee===R)return j;typeof S=="string"||typeof j=="string"?(S=vs(S),j=vs(j)):(S=Ls(S),j=Ls(j)),ee=d(S,j)}return ee}}function bp(d){return vf(function(g){return g=wa(g,qs(zo())),er(function(S){var j=this;return d(g,function(ee){return Jr(ee,j,S)})})})}function Vo(d,g){g=g===R?" ":vs(g);var S=g.length;if(S<2)return S?gf(g,d):g;var j=gf(g,Da(d/fd(g)));return dd(g)?ru(Qa(j),0,d).join(""):j.slice(0,d)}function rc(d,g,S,j){var ee=g&Kt,ke=jg(d);function Le(){for(var je=-1,rt=arguments.length,Xt=-1,Yt=j.length,fn=xt(Yt+rt),Kn=this&&this!==ja&&this instanceof Le?ke:d;++Xt<Yt;)fn[Xt]=j[Xt];for(;rt--;)fn[Xt++]=arguments[++je];return Jr(Kn,ee?S:this,fn)}return Le}function au(d){return function(g,S,j){return j&&typeof j!="number"&&Di(g,S,j)&&(S=j=R),g=ti(g),S===R?(S=g,g=0):S=ti(S),j=j===R?g<S?1:-1:ti(j),Em(g,S,j,d)}}function Qp(d){return function(g,S){return typeof g=="string"&&typeof S=="string"||(g=fl(g),S=fl(S)),d(g,S)}}function cs(d,g,S,j,ee,ke,Le,je,rt,Xt){var Yt=g&At,fn=Yt?Le:R,Kn=Yt?R:Le,No=Yt?ke:R,nr=Yt?R:ke;g|=Yt?kt:Ee,g&=~(Yt?Ee:kt),g&ln||(g&=~(Kt|ht));var Er=[d,g,ee,No,fn,nr,Kn,je,rt,Xt],Zo=S.apply(R,Er);return py(d)&&Wh(Zo,Er),Zo.placeholder=j,Qc(Zo,d,g)}function dy(d){var g=Dr[d];return function(S,j){if(S=fl(S),j=j==null?0:Ar(Nn(j),292),j&&Za(S)){var ee=(fs(S)+"e").split("e"),ke=g(ee[0]+"e"+(+ee[1]+j));return ee=(fs(ke)+"e").split("e"),+(ee[0]+"e"+(+ee[1]-j))}return g(S)}}var uy=_l&&1/Ou(new _l([,-0]))[1]==io?function(d){return new _l(d)}:f1;function Xi(d){return function(g){var S=Cr(g);return S==_o?ra(g):S==wn?Ac(g):Cs(g,d(g))}}function sc(d,g,S,j,ee,ke,Le,je){var rt=g&ht;if(!rt&&typeof d!="function")throw new Rs(be);var Xt=j?j.length:0;if(Xt||(g&=~(kt|Ee),j=ee=R),Le=Le===R?Le:Ks(Nn(Le),0),je=je===R?je:Nn(je),Xt-=ee?ee.length:0,g&Ee){var Yt=j,fn=ee;j=ee=R}var Kn=rt?R:kc(d),No=[d,g,S,j,ee,Yt,fn,ke,Le,je];if(Kn&&yi(No,Kn),d=No[0],g=No[1],S=No[2],j=No[3],ee=No[4],je=No[9]=No[9]===R?rt?0:d.length:Ks(No[9]-Xt,0),!je&&g&(At|Te)&&(g&=~(At|Te)),!g||g==Kt)var nr=Ug(d,g,S);else g==At||g==Te?nr=hp(d,g,je):(g==kt||g==(Kt|kt))&&!ee.length?nr=rc(d,g,S,j):nr=Hu.apply(R,No);var Er=Kn?gp:Wh;return Qc(Er(nr,No),d,g)}function Zg(d,g,S,j){return d===R||cu(d,bc[S])&&!Zr.call(j,S)?g:d}function Wg(d,g,S,j,ee,ke){return Se(d)&&Se(g)&&(ke.set(g,d),rn(d,g,R,Wg,ke),ke.delete(g)),d}function fy(d){return Pt(d)?R:d}function Uh(d,g,S,j,ee,ke){var Le=S&Rt,je=d.length,rt=g.length;if(je!=rt&&!(Le&&rt>je))return!1;var Xt=ke.get(d),Yt=ke.get(g);if(Xt&&Yt)return Xt==g&&Yt==d;var fn=-1,Kn=!0,No=S&tn?new Oi:R;for(ke.set(d,g),ke.set(g,d);++fn<je;){var nr=d[fn],Er=g[fn];if(j)var Zo=Le?j(Er,nr,fn,g,d,ke):j(nr,Er,fn,d,g,ke);if(Zo!==R){if(Zo)continue;Kn=!1;break}if(No){if(!Hf(g,function(Qt,ms){if(!hs(No,ms)&&(nr===Qt||ee(nr,Qt,S,j,ke)))return No.push(ms)})){Kn=!1;break}}else if(!(nr===Er||ee(nr,Er,S,j,ke))){Kn=!1;break}}return ke.delete(d),ke.delete(g),Kn}function E0(d,g,S,j,ee,ke,Le){switch(S){case Os:if(d.byteLength!=g.byteLength||d.byteOffset!=g.byteOffset)return!1;d=d.buffer,g=g.buffer;case go:return!(d.byteLength!=g.byteLength||!ke(new Wr(d),new Wr(g)));case Y:case $o:case ar:return cu(+d,+g);case Xo:return d.name==g.name&&d.message==g.message;case dt:case lo:return d==g+"";case _o:var je=ra;case wn:var rt=j&Rt;if(je||(je=Ou),d.size!=g.size&&!rt)return!1;var Xt=Le.get(d);if(Xt)return Xt==g;j|=tn,Le.set(d,g);var Yt=Uh(je(d),je(g),j,ee,ke,Le);return Le.delete(d),Yt;case qo:if(vc)return vc.call(d)==vc.call(g)}return!1}function jh(d,g,S,j,ee,ke){var Le=S&Rt,je=yp(d),rt=je.length,Xt=yp(g),Yt=Xt.length;if(rt!=Yt&&!Le)return!1;for(var fn=rt;fn--;){var Kn=je[fn];if(!(Le?Kn in g:Zr.call(g,Kn)))return!1}var No=ke.get(d),nr=ke.get(g);if(No&&nr)return No==g&&nr==d;var Er=!0;ke.set(d,g),ke.set(g,d);for(var Zo=Le;++fn<rt;){Kn=je[fn];var Qt=d[Kn],ms=g[Kn];if(j)var Cc=Le?j(ms,Qt,Kn,g,d,ke):j(Qt,ms,Kn,d,g,ke);if(!(Cc===R?Qt===ms||ee(Qt,ms,S,j,ke):Cc)){Er=!1;break}Zo||(Zo=Kn=="constructor")}if(Er&&!Zo){var Sc=d.constructor,Ad=g.constructor;Sc!=Ad&&"constructor"in d&&"constructor"in g&&!(typeof Sc=="function"&&Sc instanceof Sc&&typeof Ad=="function"&&Ad instanceof Ad)&&(Er=!1)}return ke.delete(d),ke.delete(g),Er}function vf(d){return Lc(Zu(d,R,rg),d+"")}function yp(d){return hd(d,jl,eg)}function Uu(d){return hd(d,Td,Ai)}var kc=ls?function(d){return ls.get(d)}:f1;function bi(d){for(var g=d.name+"",S=Mr[g],j=Zr.call(Mr,g)?S.length:0;j--;){var ee=S[j],ke=ee.func;if(ke==null||ke==d)return ee.name}return g}function kd(d){var g=Zr.call(fe,"placeholder")?fe:d;return g.placeholder}function zo(){var d=fe.iteratee||_b;return d=d===_b?C:d,arguments.length?d(arguments[0],arguments[1]):d}function $g(d,g){var S=d.__data__;return Kg(g)?S[typeof g=="string"?"string":"hash"]:S.map}function Zh(d){for(var g=jl(d),S=g.length;S--;){var j=g[S],ee=d[j];g[S]=[j,ee,Jc(ee)]}return g}function xf(d,g){var S=jf(d,g);return pp(S)?S:R}function qg(d){var g=Zr.call(d,ei),S=d[ei];try{d[ei]=R;var j=!0}catch{}var ee=Au.call(d);return j&&(g?d[ei]=S:delete d[ei]),ee}var eg=Gi?function(d){return d==null?[]:(d=Rr(d),zc(Gi(d),function(g){return fi.call(d,g)}))}:Cb,Ai=Gi?function(d){for(var g=[];d;)cd(g,eg(d)),d=ka(d);return g}:Cb,Cr=Pl;(Ue&&Cr(new Ue(new ArrayBuffer(1)))!=Os||_a&&Cr(new _a)!=_o||Kc&&Cr(Kc.resolve())!=_t||_l&&Cr(new _l)!=wn||Ms&&Cr(new Ms)!=Ta)&&(Cr=function(d){var g=Pl(d),S=g==ut?d.constructor:R,j=S?Wu(S):"";if(j)switch(j){case Wf:return Os;case Ln:return _o;case Ba:return _t;case mi:return wn;case lr:return Ta}return g});function Ji(d,g,S){for(var j=-1,ee=S.length;++j<ee;){var ke=S[j],Le=ke.size;switch(ke.type){case"drop":d+=Le;break;case"dropRight":g-=Le;break;case"take":g=Ar(g,d+Le);break;case"takeRight":d=Ks(d,g-Le);break}}return{start:d,end:g}}function ds(d){var g=d.match(Jt);return g?g[1].split(yu):[]}function Il(d,g,S){g=zm(g,d);for(var j=-1,ee=g.length,ke=!1;++j<ee;){var Le=Vl(g[j]);if(!(ke=d!=null&&S(d,Le)))break;d=d[Le]}return ke||++j!=ee?ke:(ee=d==null?0:d.length,!!ee&&xe(ee)&&ju(Le,ee)&&(rr(d)||ca(d)))}function la(d){var g=d.length,S=new d.constructor(g);return g&&typeof d[0]=="string"&&Zr.call(d,"index")&&(S.index=d.index,S.input=d.input),S}function Ni(d){return typeof d.constructor=="function"&&!wf(d)?Dc(ka(d)):{}}function Gg(d,g,S){var j=d.constructor;switch(g){case go:return Ih(d);case Y:case $o:return new j(+d);case Os:return Fh(d,S);case va:case Ur:case Pr:case Mo:case ua:case oo:case dn:case _n:case Ws:return Tl(d,S);case _o:return new j;case ar:case lo:return new j(d);case dt:return El(d);case wn:return new j;case qo:return qr(d)}}function my(d,g){var S=g.length;if(!S)return d;var j=S-1;return g[j]=(S>1?"& ":"")+g[j],g=g.join(S>2?", ":" "),d.replace(jc,`{
/* [wrapped with `+g+`] */
`)}function tg(d){return rr(d)||ca(d)||!!(Gs&&d&&d[Gs])}function ju(d,g){var S=typeof d;return g=g??ft,!!g&&(S=="number"||S!="symbol"&&Yl.test(d))&&d>-1&&d%1==0&&d<g}function Di(d,g,S){if(!Se(S))return!1;var j=typeof g;return(j=="number"?Mi(S)&&ju(g,S.length):j=="string"&&g in S)?cu(S[g],d):!1}function ng(d,g){if(rr(d))return!1;var S=typeof d;return S=="number"||S=="symbol"||S=="boolean"||d==null||Oo(d)?!0:Kl.test(d)||!Vi.test(d)||g!=null&&d in Rr(g)}function Kg(d){var g=typeof d;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?d!=="__proto__":d===null}function py(d){var g=bi(d),S=fe[g];if(typeof S!="function"||!(g in Go.prototype))return!1;if(d===S)return!0;var j=kc(S);return!!j&&d===j[0]}function e1(d){return!!Nc&&Nc in d}var og=Br?X:Z0;function wf(d){var g=d&&d.constructor,S=typeof g=="function"&&g.prototype||bc;return d===S}function Jc(d){return d===d&&!Se(d)}function Ht(d,g){return function(S){return S==null?!1:S[d]===g&&(g!==R||d in Rr(S))}}function gy(d){var g=Eo(d,function(j){return S.size===$e&&S.clear(),j}),S=g.cache;return g}function yi(d,g){var S=d[1],j=g[1],ee=S|j,ke=ee<(Kt|ht|qe),Le=j==qe&&S==At||j==qe&&S==Cn&&d[7].length<=g[8]||j==(qe|Cn)&&g[7].length<=g[8]&&S==At;if(!(ke||Le))return d;j&Kt&&(d[2]=g[2],ee|=S&Kt?0:ln);var je=g[3];if(je){var rt=d[3];d[3]=rt?cy(rt,je,g[4]):je,d[4]=rt?Ci(d[3],Xe):g[4]}return je=g[5],je&&(rt=d[5],d[5]=rt?Hg(rt,je,g[6]):je,d[6]=rt?Ci(d[5],Xe):g[6]),je=g[7],je&&(d[7]=je),j&qe&&(d[8]=d[8]==null?g[8]:Ar(d[8],g[8])),d[9]==null&&(d[9]=g[9]),d[0]=g[0],d[1]=ee,d}function Yg(d){var g=[];if(d!=null)for(var S in Rr(d))g.push(S);return g}function Nm(d){return Au.call(d)}function Zu(d,g,S){return g=Ks(g===R?d.length-1:g,0),function(){for(var j=arguments,ee=-1,ke=Ks(j.length-g,0),Le=xt(ke);++ee<ke;)Le[ee]=j[g+ee];ee=-1;for(var je=xt(g+1);++ee<g;)je[ee]=j[ee];return je[g]=S(Le),Jr(d,this,je)}}function ac(d,g){return g.length<2?d:Pu(d,To(g,0,-1))}function t1(d,g){for(var S=d.length,j=Ar(g.length,S),ee=Pa(d);j--;){var ke=g[j];d[j]=ju(ke,S)?ee[ke]:R}return d}function ic(d,g){if(!(g==="constructor"&&typeof d[g]=="function")&&g!="__proto__")return d[g]}var Wh=vp(gp),Xf=Bs||function(d,g){return ja.setTimeout(d,g)},Lc=vp(qp);function Qc(d,g,S){var j=g+"";return Lc(d,my(j,hy(ds(j),S)))}function vp(d){var g=0,S=0;return function(){var j=xm(),ee=B-(j-S);if(S=j,ee>0){if(++g>=un)return arguments[0]}else g=0;return d.apply(R,arguments)}}function Fl(d,g){var S=-1,j=d.length,ee=j-1;for(g=g===R?j:g;++S<g;){var ke=Xc(S,ee),Le=d[ke];d[ke]=d[S],d[S]=Le}return d.length=g,d}var $h=gy(function(d){var g=[];return d.charCodeAt(0)===46&&g.push(""),d.replace(Ir,function(S,j,ee,ke){g.push(ee?ke.replace(vu,"$1"):j||S)}),g});function Vl(d){if(typeof d=="string"||Oo(d))return d;var g=d+"";return g=="0"&&1/d==-io?"-0":g}function Wu(d){if(d!=null){try{return yc.call(d)}catch{}try{return d+""}catch{}}return""}function hy(d,g){return Wi(nn,function(S){var j="_."+S[0];g&S[1]&&!ld(d,j)&&d.push(j)}),d.sort()}function Xg(d){if(d instanceof Go)return d.clone();var g=new rs(d.__wrapped__,d.__chain__);return g.__actions__=Pa(d.__actions__),g.__index__=d.__index__,g.__values__=d.__values__,g}function n1(d,g,S){(S?Di(d,g,S):g===R)?g=1:g=Ks(Nn(g),0);var j=d==null?0:d.length;if(!j||g<1)return[];for(var ee=0,ke=0,Le=xt(Da(j/g));ee<j;)Le[ke++]=To(d,ee,ee+=g);return Le}function by(d){for(var g=-1,S=d==null?0:d.length,j=0,ee=[];++g<S;){var ke=d[g];ke&&(ee[j++]=ke)}return ee}function yy(){var d=arguments.length;if(!d)return[];for(var g=xt(d-1),S=arguments[0],j=d;j--;)g[j-1]=arguments[j];return cd(rr(S)?Pa(S):[S],Ma(g,1))}var vy=er(function(d,g){return Ia(d)?Lo(d,Ma(g,1,Ia,!0)):[]}),Jg=er(function(d,g){var S=Ri(g);return Ia(S)&&(S=R),Ia(d)?Lo(d,Ma(g,1,Ia,!0),zo(S,2)):[]}),T0=er(function(d,g){var S=Ri(g);return Ia(S)&&(S=R),Ia(d)?Lo(d,Ma(g,1,Ia,!0),R,S):[]});function Dm(d,g,S){var j=d==null?0:d.length;return j?(g=S||g===R?1:Nn(g),To(d,g<0?0:g,j)):[]}function ul(d,g,S){var j=d==null?0:d.length;return j?(g=S||g===R?1:Nn(g),g=j-g,To(d,0,g<0?0:g)):[]}function Rm(d,g){return d&&d.length?vd(d,zo(g,3),!0,!0):[]}function kf(d,g){return d&&d.length?vd(d,zo(g,3),!0):[]}function Es(d,g,S,j){var ee=d==null?0:d.length;return ee?(S&&typeof S!="number"&&Di(d,g,S)&&(S=0,j=ee),nc(d,g,S,j)):[]}function Jf(d,g,S){var j=d==null?0:d.length;if(!j)return-1;var ee=S==null?0:Nn(S);return ee<0&&(ee=Ks(j+ee,0)),Eu(d,zo(g,3),ee)}function Qi(d,g,S){var j=d==null?0:d.length;if(!j)return-1;var ee=j-1;return S!==R&&(ee=Nn(S),ee=S<0?Ks(j+ee,0):Ar(ee,j-1)),Eu(d,zo(g,3),ee,!0)}function rg(d){var g=d==null?0:d.length;return g?Ma(d,1):[]}function qh(d){var g=d==null?0:d.length;return g?Ma(d,io):[]}function sg(d,g){var S=d==null?0:d.length;return S?(g=g===R?1:Nn(g),Ma(d,g)):[]}function Qf(d){for(var g=-1,S=d==null?0:d.length,j={};++g<S;){var ee=d[g];j[ee[0]]=ee[1]}return j}function Gh(d){return d&&d.length?d[0]:R}function em(d,g,S){var j=d==null?0:d.length;if(!j)return-1;var ee=S==null?0:Nn(S);return ee<0&&(ee=Ks(j+ee,0)),na(d,g,ee)}function xp(d){var g=d==null?0:d.length;return g?To(d,0,-1):[]}var wp=er(function(d){var g=wa(d,hf);return g.length&&g[0]===d[0]?dl(g):[]}),Kh=er(function(d){var g=Ri(d),S=wa(d,hf);return g===Ri(S)?g=R:S.pop(),S.length&&S[0]===d[0]?dl(S,zo(g,2)):[]}),Yh=er(function(d){var g=Ri(d),S=wa(d,hf);return g=typeof g=="function"?g:R,g&&S.pop(),S.length&&S[0]===d[0]?dl(S,R,g):[]});function us(d,g){return d==null?"":ur.call(d,g)}function Ri(d){var g=d==null?0:d.length;return g?d[g-1]:R}function Qg(d,g,S){var j=d==null?0:d.length;if(!j)return-1;var ee=j;return S!==R&&(ee=Nn(S),ee=ee<0?Ks(j+ee,0):Ar(ee,j-1)),g===g?Zp(d,g,ee):Eu(d,Tu,ee,!0)}function tm(d,g){return d&&d.length?co(d,Nn(g)):R}var _f=er(xy);function xy(d,g){return d&&d.length&&g&&g.length?La(d,g):d}function Hl(d,g,S){return d&&d.length&&g&&g.length?La(d,g,zo(S,2)):d}function qa(d,g,S){return d&&d.length&&g&&g.length?La(d,g,R,S):d}var z0=vf(function(d,g){var S=d==null?0:d.length,j=$f(d,g);return $a(d,wa(g,function(ee){return ju(ee,S)?+ee:ee}).sort(Yp)),j});function nm(d,g){var S=[];if(!(d&&d.length))return S;var j=-1,ee=[],ke=d.length;for(g=zo(g,3);++j<ke;){var Le=d[j];g(Le,j,d)&&(S.push(Le),ee.push(j))}return $a(d,ee),S}function kp(d){return d==null?d:kl.call(d)}function Bm(d,g,S){var j=d==null?0:d.length;return j?(S&&typeof S!="number"&&Di(d,g,S)?(g=0,S=j):(g=g==null?0:Nn(g),S=S===R?j:Nn(S)),To(d,g,S)):[]}function Xh(d,g){return gi(d,g)}function Jh(d,g,S){return hr(d,g,zo(S,2))}function wy(d,g){var S=d==null?0:d.length;if(S){var j=gi(d,g);if(j<S&&cu(d[j],g))return j}return-1}function ew(d,g){return gi(d,g,!0)}function ag(d,g,S){return hr(d,g,zo(S,2),!0)}function ky(d,g){var S=d==null?0:d.length;if(S){var j=gi(d,g,!0)-1;if(cu(d[j],g))return j}return-1}function O0(d){return d&&d.length?Gp(d):[]}function tw(d,g){return d&&d.length?Gp(d,zo(g,2)):[]}function Qh(d){var g=d==null?0:d.length;return g?To(d,1,g):[]}function _c(d,g,S){return d&&d.length?(g=S||g===R?1:Nn(g),To(d,0,g<0?0:g)):[]}function zl(d,g,S){var j=d==null?0:d.length;return j?(g=S||g===R?1:Nn(g),g=j-g,To(d,g<0?0:g,j)):[]}function eb(d,g){return d&&d.length?vd(d,zo(g,3),!1,!0):[]}function tb(d,g){return d&&d.length?vd(d,zo(g,3)):[]}var $u=er(function(d){return Yi(Ma(d,1,Ia,!0))}),eh=er(function(d){var g=Ri(d);return Ia(g)&&(g=R),Yi(Ma(d,1,Ia,!0),zo(g,2))}),_d=er(function(d){var g=Ri(d);return g=typeof g=="function"?g:R,Yi(Ma(d,1,Ia,!0),R,g)});function Cf(d){return d&&d.length?Yi(d):[]}function Mm(d,g){return d&&d.length?Yi(d,zo(g,2)):[]}function om(d,g){return g=typeof g=="function"?g:R,d&&d.length?Yi(d,R,g):[]}function rm(d){if(!(d&&d.length))return[];var g=0;return d=zc(d,function(S){if(Ia(S))return g=Ks(S.length,g),!0}),Fr(g,function(S){return wa(d,Hs(S))})}function iu(d,g){if(!(d&&d.length))return[];var S=rm(d);return g==null?S:wa(S,function(j){return Jr(g,R,j)})}var ig=er(function(d,g){return Ia(d)?Lo(d,g):[]}),th=er(function(d){return Kp(zc(d,Ia))}),nb=er(function(d){var g=Ri(d);return Ia(g)&&(g=R),Kp(zc(d,Ia),zo(g,2))}),Ul=er(function(d){var g=Ri(d);return g=typeof g=="function"?g:R,Kp(zc(d,Ia),R,g)}),_y=er(rm);function Cy(d,g){return Yf(d||[],g||[],Bc)}function ob(d,g){return Yf(d||[],g||[],tu)}var o1=er(function(d){var g=d.length,S=g>1?d[g-1]:R;return S=typeof S=="function"?(d.pop(),S):R,iu(d,S)});function nh(d){var g=fe(d);return g.__chain__=!0,g}function Sy(d,g){return g(d),d}function sm(d,g){return g(d)}var am=vf(function(d){var g=d.length,S=g?d[0]:0,j=this.__wrapped__,ee=function(ke){return $f(ke,d)};return g>1||this.__actions__.length||!(j instanceof Go)||!ju(S)?this.thru(ee):(j=j.slice(S,+S+(g?1:0)),j.__actions__.push({func:sm,args:[ee],thisArg:R}),new rs(j,this.__chain__).thru(function(ke){return g&&!ke.length&&ke.push(R),ke}))});function A0(){return nh(this)}function rb(){return new rs(this.value(),this.__chain__)}function sb(){this.__values__===R&&(this.__values__=Fa(this.value()));var d=this.__index__>=this.__values__.length,g=d?R:this.__values__[this.__index__++];return{done:d,value:g}}function im(){return this}function Lm(d){for(var g,S=this;S instanceof xc;){var j=Xg(S);j.__index__=0,j.__values__=R,g?ee.__wrapped__=j:g=j;var ee=j;S=S.__wrapped__}return ee.__wrapped__=d,g}function ab(){var d=this.__wrapped__;if(d instanceof Go){var g=d;return this.__actions__.length&&(g=new Go(this)),g=g.reverse(),g.__actions__.push({func:sm,args:[kp],thisArg:R}),new rs(g,this.__chain__)}return this.thru(kp)}function oh(){return Kf(this.__wrapped__,this.__actions__)}var Pm=bf(function(d,g,S){Zr.call(d,S)?++d[S]:Cl(d,S,1)});function Im(d,g,S){var j=rr(d)?cp:mp;return S&&Di(d,g,S)&&(g=R),j(d,zo(g,3))}function _p(d,g){var S=rr(d)?zc:Ro;return S(d,zo(g,3))}var qu=Am(Jf),Fm=Am(Qi);function r1(d,g){return Ma(Gu(d,g),1)}function rh(d,g){return Ma(Gu(d,g),io)}function Vm(d,g,S){return S=S===R?1:Nn(S),Ma(Gu(d,g),S)}function Cp(d,g){var S=rr(d)?Wi:gn;return S(d,zo(g,3))}function ib(d,g){var S=rr(d)?Su:Lu;return S(d,zo(g,3))}var Ey=bf(function(d,g,S){Zr.call(d,S)?d[S].push(g):Cl(d,S,[g])});function Ty(d,g,S,j){d=Mi(d)?d:zp(d),S=S&&!j?Nn(S):0;var ee=d.length;return S<0&&(S=Ks(ee+S,0)),jn(d)?S<=ee&&d.indexOf(g,S)>-1:!!ee&&na(d,g,S)>-1}var Ol=er(function(d,g,S){var j=-1,ee=typeof g=="function",ke=Mi(d)?xt(d.length):[];return gn(d,function(Le){ke[++j]=ee?Jr(g,Le,S):Ki(Le,g,S)}),ke}),lb=bf(function(d,g,S){Cl(d,S,g)});function Gu(d,g){var S=rr(d)?wa:De;return S(d,zo(g,3))}function Cd(d,g,S,j){return d==null?[]:(rr(g)||(g=g==null?[]:[g]),S=j?R:S,rr(S)||(S=S==null?[]:[S]),ys(d,g,S))}var zy=bf(function(d,g,S){d[S?0:1].push(g)},function(){return[[],[]]});function sh(d,g,S){var j=rr(d)?jp:Uf,ee=arguments.length<3;return j(d,zo(g,4),S,ee,gn)}function Hm(d,g,S){var j=rr(d)?$c:Uf,ee=arguments.length<3;return j(d,zo(g,4),S,ee,Lu)}function Um(d,g){var S=rr(d)?zc:Ro;return S(d,Al(zo(g,3)))}function cb(d){var g=rr(d)?Yc:Tm;return g(d)}function db(d,g,S){(S?Di(d,g,S):g===R)?g=1:g=Nn(g);var j=rr(d)?Fg:eu;return j(d,g)}function lm(d){var g=rr(d)?gd:nu;return g(d)}function jm(d){if(d==null)return 0;if(Mi(d))return jn(d)?fd(d):d.length;var g=Cr(d);return g==_o||g==wn?d.size:D(d).length}function ah(d,g,S){var j=rr(d)?Hf:kr;return S&&Di(d,g,S)&&(g=R),j(d,zo(g,3))}var Zm=er(function(d,g){if(d==null)return[];var S=g.length;return S>1&&Di(d,g[0],g[1])?g=[]:S>2&&Di(g[0],g[1],g[2])&&(g=[g[0]]),ys(d,Ma(g,1),[])}),ih=vm||function(){return ja.Date.now()};function lh(d,g){if(typeof g!="function")throw new Rs(be);return d=Nn(d),function(){if(--d<1)return g.apply(this,arguments)}}function lg(d,g,S){return g=S?R:g,g=d&&g==null?d.length:g,sc(d,qe,R,R,R,R,g)}function ub(d,g){var S;if(typeof g!="function")throw new Rs(be);return d=Nn(d),function(){return--d>0&&(S=g.apply(this,arguments)),d<=1&&(g=R),S}}var Sp=er(function(d,g,S){var j=Kt;if(S.length){var ee=Ci(S,kd(Sp));j|=kt}return sc(d,j,g,S,ee)}),Sf=er(function(d,g,S){var j=Kt|ht;if(S.length){var ee=Ci(S,kd(Sf));j|=kt}return sc(g,j,d,S,ee)});function cm(d,g,S){g=S?R:g;var j=sc(d,At,R,R,R,R,R,g);return j.placeholder=cm.placeholder,j}function cg(d,g,S){g=S?R:g;var j=sc(d,Te,R,R,R,R,R,g);return j.placeholder=cg.placeholder,j}function fb(d,g,S){var j,ee,ke,Le,je,rt,Xt=0,Yt=!1,fn=!1,Kn=!0;if(typeof d!="function")throw new Rs(be);g=fl(g)||0,Se(S)&&(Yt=!!S.leading,fn="maxWait"in S,ke=fn?Ks(fl(S.maxWait)||0,g):ke,Kn="trailing"in S?!!S.trailing:Kn);function No(el){var Pc=j,ya=ee;return j=ee=R,Xt=el,Le=d.apply(ya,Pc),Le}function nr(el){return Xt=el,je=Xf(Qt,g),Yt?No(el):Le}function Er(el){var Pc=el-rt,ya=el-Xt,Lw=g-Pc;return fn?Ar(Lw,ke-ya):Lw}function Zo(el){var Pc=el-rt,ya=el-Xt;return rt===R||Pc>=g||Pc<0||fn&&ya>=ke}function Qt(){var el=ih();if(Zo(el))return ms(el);je=Xf(Qt,Er(el))}function ms(el){return je=R,Kn&&j?No(el):(j=ee=R,Le)}function Cc(){je!==R&&Ss(je),Xt=0,j=rt=ee=je=R}function Sc(){return je===R?Le:ms(ih())}function Ad(){var el=ih(),Pc=Zo(el);if(j=arguments,ee=this,rt=el,Pc){if(je===R)return nr(rt);if(fn)return Ss(je),je=Xf(Qt,g),No(rt)}return je===R&&(je=Xf(Qt,g)),Le}return Ad.cancel=Cc,Ad.flush=Sc,Ad}var lu=er(function(d,g){return uf(d,1,g)}),Ep=er(function(d,g,S){return uf(d,fl(g)||0,S)});function dg(d){return sc(d,wo)}function Eo(d,g){if(typeof d!="function"||g!=null&&typeof g!="function")throw new Rs(be);var S=function(){var j=arguments,ee=g?g.apply(this,j):j[0],ke=S.cache;if(ke.has(ee))return ke.get(ee);var Le=d.apply(this,j);return S.cache=ke.set(ee,Le)||ke,Le};return S.cache=new(Eo.Cache||bs),S}Eo.Cache=bs;function Al(d){if(typeof d!="function")throw new Rs(be);return function(){var g=arguments;switch(g.length){case 0:return!d.call(this);case 1:return!d.call(this,g[0]);case 2:return!d.call(this,g[0],g[1]);case 3:return!d.call(this,g[0],g[1],g[2])}return!d.apply(this,g)}}function ug(d){return ub(2,d)}var ot=ly(function(d,g){g=g.length==1&&rr(g[0])?wa(g[0],qs(zo())):wa(Ma(g,1),qs(zo()));var S=g.length;return er(function(j){for(var ee=-1,ke=Ar(j.length,S);++ee<ke;)j[ee]=g[ee].call(this,j[ee]);return Jr(d,this,j)})}),fg=er(function(d,g){var S=Ci(g,kd(fg));return sc(d,kt,R,g,S)}),mb=er(function(d,g){var S=Ci(g,kd(mb));return sc(d,Ee,R,g,S)}),N0=vf(function(d,g){return sc(d,Cn,R,R,R,g)});function mg(d,g){if(typeof d!="function")throw new Rs(be);return g=g===R?g:Nn(g),er(d,g)}function Sd(d,g){if(typeof d!="function")throw new Rs(be);return g=g==null?0:Ks(Nn(g),0),er(function(S){var j=S[g],ee=ru(S,0,g);return j&&cd(ee,j),Jr(d,this,ee)})}function pg(d,g,S){var j=!0,ee=!0;if(typeof d!="function")throw new Rs(be);return Se(S)&&(j="leading"in S?!!S.leading:j,ee="trailing"in S?!!S.trailing:ee),fb(d,g,{leading:j,maxWait:g,trailing:ee})}function pb(d){return lg(d,1)}function Oy(d,g){return fg(Vg(g),d)}function ch(){if(!arguments.length)return[];var d=arguments[0];return rr(d)?d:[d]}function gb(d){return Sl(d,lt)}function Ay(d,g){return g=typeof g=="function"?g:R,Sl(d,lt,g)}function D0(d){return Sl(d,vt|lt)}function hb(d,g){return g=typeof g=="function"?g:R,Sl(d,vt|lt,g)}function R0(d,g){return g==null||$r(d,g,jl(g))}function cu(d,g){return d===g||d!==d&&g!==g}var s1=Qp(Iu),cn=Qp(function(d,g){return d>=g}),ca=qf(function(){return arguments}())?qf:function(d){return he(d)&&Zr.call(d,"callee")&&!fi.call(d,"callee")},rr=xt.isArray,Bi=ip?qs(ip):bd;function Mi(d){return d!=null&&xe(d.length)&&!X(d)}function Ia(d){return he(d)&&Mi(d)}function bb(d){return d===!0||d===!1||he(d)&&Pl(d)==Y}var du=Nu||Z0,p=Pg?qs(Pg):Fu;function y(d){return he(d)&&d.nodeType===1&&!Pt(d)}function _(d){if(d==null)return!0;if(Mi(d)&&(rr(d)||typeof d=="string"||typeof d.splice=="function"||du(d)||Gn(d)||ca(d)))return!d.length;var g=Cr(d);if(g==_o||g==wn)return!d.size;if(wf(d))return!D(d).length;for(var S in d)if(Zr.call(d,S))return!1;return!0}function T(d,g){return yd(d,g)}function I(d,g,S){S=typeof S=="function"?S:R;var j=S?S(d,g):R;return j===R?yd(d,g,R,S):!!j}function F(d){if(!he(d))return!1;var g=Pl(d);return g==Xo||g==Fi||typeof d.message=="string"&&typeof d.name=="string"&&!Pt(d)}function $(d){return typeof d=="number"&&Za(d)}function X(d){if(!Se(d))return!1;var g=Pl(d);return g==Kr||g==Gl||g==Do||g==Ft}function oe(d){return typeof d=="number"&&d==Nn(d)}function xe(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=ft}function Se(d){var g=typeof d;return d!=null&&(g=="object"||g=="function")}function he(d){return d!=null&&typeof d=="object"}var ze=Ut?qs(Ut):Gf;function Ne(d,g){return d===g||bn(d,g,Zh(g))}function Ke(d,g,S){return S=typeof S=="function"?S:R,bn(d,g,Zh(g),S)}function He(d){return wt(d)&&d!=+d}function ct(d){if(og(d))throw new Po(de);return pp(d)}function gt(d){return d===null}function Lt(d){return d==null}function wt(d){return typeof d=="number"||he(d)&&Pl(d)==ar}function Pt(d){if(!he(d)||Pl(d)!=ut)return!1;var g=ka(d);if(g===null)return!0;var S=Zr.call(g,"constructor")&&g.constructor;return typeof S=="function"&&S instanceof S&&yc.call(S)==Zf}var jt=Cu?qs(Cu):Sm;function sn(d){return oe(d)&&d>=-ft&&d<=ft}var Un=lp?qs(lp):pf;function jn(d){return typeof d=="string"||!rr(d)&&he(d)&&Pl(d)==lo}function Oo(d){return typeof d=="symbol"||he(d)&&Pl(d)==qo}var Gn=jd?qs(jd):Lh;function Ao(d){return d===R}function vo(d){return he(d)&&Cr(d)==Ta}function Sr(d){return he(d)&&Pl(d)==Nr}var qt=Qp(ae),Li=Qp(function(d,g){return d<=g});function Fa(d){if(!d)return[];if(Mi(d))return jn(d)?Qa(d):Pa(d);if(sa&&d[sa])return So(d[sa]());var g=Cr(d),S=g==_o?ra:g==wn?Ou:zp;return S(d)}function ti(d){if(!d)return d===0?d:0;if(d=fl(d),d===io||d===-io){var g=d<0?-1:1;return g*Mn}return d===d?d:0}function Nn(d){var g=ti(d),S=g%1;return g===g?S?g-S:g:0}function ni(d){return d?ss(Nn(d),0,zt):0}function fl(d){if(typeof d=="number")return d;if(Oo(d))return Hr;if(Se(d)){var g=typeof d.valueOf=="function"?d.valueOf():d;d=Se(g)?g+"":g}if(typeof d!="string")return d===0?d:+d;d=qi(d);var S=Qs.test(d);return S||rf.test(d)?Qo(d.slice(2),S?2:8):ci.test(d)?Hr:+d}function gg(d){return su(d,Td(d))}function dh(d){return d?ss(Nn(d),-ft,ft):d===0?d:0}function fs(d){return d==null?"":vs(d)}var uh=Vu(function(d,g){if(wf(g)||Mi(g)){su(g,jl(g),d);return}for(var S in g)Zr.call(g,S)&&Bc(d,S,g[S])}),oi=Vu(function(d,g){su(g,Td(g),d)}),hg=Vu(function(d,g,S,j){su(g,Td(g),d,j)}),nw=Vu(function(d,g,S,j){su(g,jl(g),d,j)}),a1=vf($f);function ow(d,g){var S=Dc(d);return g==null?S:Bu(S,g)}var M2=er(function(d,g){d=Rr(d);var S=-1,j=g.length,ee=j>2?g[2]:R;for(ee&&Di(g[0],g[1],ee)&&(j=1);++S<j;)for(var ke=g[S],Le=Td(ke),je=-1,rt=Le.length;++je<rt;){var Xt=Le[je],Yt=d[Xt];(Yt===R||cu(Yt,bc[Xt])&&!Zr.call(d,Xt))&&(d[Xt]=ke[Xt])}return d}),L2=er(function(d){return d.push(R,Wg),Jr(Xn,R,d)});function Ed(d,g){return Co(d,zo(g,3),oc)}function lc(d,g){return Co(d,zo(g,3),Xd)}function yb(d,g){return d==null?d:_m(d,zo(g,3),Td)}function rw(d,g){return d==null?d:mt(d,zo(g,3),Td)}function P2(d,g){return d&&oc(d,zo(g,3))}function tr(d,g){return d&&Xd(d,zo(g,3))}function I2(d){return d==null?[]:Jd(d,jl(d))}function sw(d){return d==null?[]:Jd(d,Td(d))}function Ny(d,g,S){var j=d==null?R:Pu(d,g);return j===R?S:j}function F2(d,g){return d!=null&&Il(d,g,ts)}function Dy(d,g){return d!=null&&Il(d,g,Qd)}var aw=Jp(function(d,g,S){g!=null&&typeof g.toString!="function"&&(g=Au.call(g)),d[g]=S},Iy(Od)),V2=Jp(function(d,g,S){g!=null&&typeof g.toString!="function"&&(g=Au.call(g)),Zr.call(d,g)?d[g].push(S):d[g]=[S]},zo),B0=er(Ki);function jl(d){return Mi(d)?$p(d):D(d)}function Td(d){return Mi(d)?$p(d,!0):G(d)}function H2(d,g){var S={};return g=zo(g,3),oc(d,function(j,ee,ke){Cl(S,g(j,ee,ke),j)}),S}function iw(d,g){var S={};return g=zo(g,3),oc(d,function(j,ee,ke){Cl(S,ee,g(j,ee,ke))}),S}var U2=Vu(function(d,g,S){rn(d,g,S)}),Xn=Vu(function(d,g,S,j){rn(d,g,S,j)}),i1=vf(function(d,g){var S={};if(d==null)return S;var j=!1;g=wa(g,function(ke){return ke=zm(ke,d),j||(j=ke.length>1),ke}),su(d,Uu(d),S),j&&(S=Sl(S,vt|Wt|lt,fy));for(var ee=g.length;ee--;)Mc(S,g[ee]);return S});function Ry(d,g){return M0(d,Al(zo(g)))}var l1=vf(function(d,g){return d==null?{}:ko(d,g)});function M0(d,g){if(d==null)return{};var S=wa(Uu(d),function(j){return[j]});return g=zo(g),cr(d,S,function(j,ee){return g(j,ee[0])})}function lw(d,g,S){g=zm(g,d);var j=-1,ee=g.length;for(ee||(ee=1,d=R);++j<ee;){var ke=d==null?R:d[Vl(g[j])];ke===R&&(j=ee,ke=S),d=X(ke)?ke.call(d):ke}return d}function fh(d,g,S){return d==null?d:tu(d,g,S)}function cw(d,g,S,j){return j=typeof j=="function"?j:R,d==null?d:tu(d,g,S,j)}var L0=Xi(jl),dw=Xi(Td);function dr(d,g,S){var j=rr(d),ee=j||du(d)||Gn(d);if(g=zo(g,4),S==null){var ke=d&&d.constructor;ee?S=j?new ke:[]:Se(d)?S=X(ke)?Dc(ka(d)):{}:S={}}return(ee?Wi:oc)(d,function(Le,je,rt){return g(S,Le,je,rt)}),S}function j2(d,g){return d==null?!0:Mc(d,g)}function Tp(d,g,S){return d==null?d:ou(d,g,Vg(S))}function Wm(d,g,S,j){return j=typeof j=="function"?j:R,d==null?d:ou(d,g,Vg(S),j)}function zp(d){return d==null?[]:Na(d,jl(d))}function zd(d){return d==null?[]:Na(d,Td(d))}function vb(d,g,S){return S===R&&(S=g,g=R),S!==R&&(S=fl(S),S=S===S?S:0),g!==R&&(g=fl(g),g=g===g?g:0),ss(fl(d),g,S)}function By(d,g,S){return g=ti(g),S===R?(S=g,g=0):S=ti(S),d=fl(d),Mh(d,g,S)}function P0(d,g,S){if(S&&typeof S!="boolean"&&Di(d,g,S)&&(g=S=R),S===R&&(typeof g=="boolean"?(S=g,g=R):typeof d=="boolean"&&(S=d,d=R)),d===R&&g===R?(d=0,g=1):(d=ti(d),g===R?(g=d,d=0):g=ti(g)),d>g){var j=d;d=g,g=j}if(S||d%1||g%1){var ee=Wa();return Ar(d+ee*(g-d+il("1e-"+((ee+"").length-1))),g)}return Xc(d,g)}var xb=Om(function(d,g,S){return g=g.toLowerCase(),d+(S?uw(g):g)});function uw(d){return Py(fs(d).toLowerCase())}function fw(d){return d=fs(d),d&&d.replace(Ff,oa).replace(ne,"")}function Z2(d,g,S){d=fs(d),g=vs(g);var j=d.length;S=S===R?j:ss(Nn(S),0,j);var ee=S;return S-=g.length,S>=0&&d.slice(S,ee)==g}function mw(d){return d=fs(d),d&&Ud.test(d)?d.replace(li,$d):d}function sr(d){return d=fs(d),d&&Hi.test(d)?d.replace(Yn,"\\$&"):d}var Ef=Om(function(d,g,S){return d+(S?"-":"")+g.toLowerCase()}),$m=Om(function(d,g,S){return d+(S?" ":"")+g.toLowerCase()}),W2=Hh("toLowerCase");function My(d,g,S){d=fs(d),g=Nn(g);var j=g?fd(d):0;if(!g||j>=g)return d;var ee=(g-j)/2;return Vo(Ra(ee),S)+d+Vo(Da(ee),S)}function fr(d,g,S){d=fs(d),g=Nn(g);var j=g?fd(d):0;return g&&j<g?d+Vo(g-j,S):d}function pw(d,g,S){d=fs(d),g=Nn(g);var j=g?fd(d):0;return g&&j<g?Vo(g-j,S)+d:d}function I0(d,g,S){return S||g==null?g=0:g&&(g=+g),Ml(fs(d).replace(wi,""),g||0)}function $2(d,g,S){return(S?Di(d,g,S):g===R)?g=1:g=Nn(g),gf(fs(d),g)}function wb(){var d=arguments,g=fs(d[0]);return d.length<3?g:g.replace(d[1],d[2])}var mh=Om(function(d,g,S){return d+(S?"_":"")+g.toLowerCase()});function gw(d,g,S){return S&&typeof S!="number"&&Di(d,g,S)&&(g=S=R),S=S===R?zt:S>>>0,S?(d=fs(d),d&&(typeof g=="string"||g!=null&&!jt(g))&&(g=vs(g),!g&&dd(d))?ru(Qa(d),0,S):d.split(g,S)):[]}var q2=Om(function(d,g,S){return d+(S?" ":"")+Py(g)});function G2(d,g,S){return d=fs(d),S=S==null?0:ss(Nn(S),0,d.length),g=vs(g),d.slice(S,S+g.length)==g}function Ly(d,g,S){var j=fe.templateSettings;S&&Di(d,g,S)&&(g=R),d=fs(d),g=hg({},g,j,Zg);var ee=hg({},g.imports,j.imports,Zg),ke=jl(ee),Le=Na(ee,ke),je,rt,Xt=0,Yt=g.interpolate||yl,fn="__p += '",Kn=ui((g.escape||yl).source+"|"+Yt.source+"|"+(Yt===hl?ki:yl).source+"|"+(g.evaluate||yl).source+"|$","g"),No="//# sourceURL="+(Zr.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ro+"]")+`
`;d.replace(Kn,function(Zo,Qt,ms,Cc,Sc,Ad){return ms||(ms=Cc),fn+=d.slice(Xt,Ad).replace(xu,Qr),Qt&&(je=!0,fn+=`' +
__e(`+Qt+`) +
'`),Sc&&(rt=!0,fn+=`';
`+Sc+`;
__p += '`),ms&&(fn+=`' +
((__t = (`+ms+`)) == null ? '' : __t) +
'`),Xt=Ad+Zo.length,Zo}),fn+=`';
`;var nr=Zr.call(g,"variable")&&g.variable;if(!nr)fn=`with (obj) {
`+fn+`
}
`;else if(of.test(nr))throw new Po(ge);fn=(rt?fn.replace(xi,""):fn).replace(Bt,"$1").replace(ii,"$1;"),fn="function("+(nr||"obj")+`) {
`+(nr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(je?", __e = _.escape":"")+(rt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+fn+`return __p
}`;var Er=d1(function(){return ir(ke,No+"return "+fn).apply(R,Le)});if(Er.source=fn,F(Er))throw Er;return Er}function kb(d){return fs(d).toLowerCase()}function F0(d){return fs(d).toUpperCase()}function hw(d,g,S){if(d=fs(d),d&&(S||g===R))return qi(d);if(!d||!(g=vs(g)))return d;var j=Qa(d),ee=Qa(g),ke=zu(j,ee),Le=Us(j,ee)+1;return ru(j,ke,Le).join("")}function K2(d,g,S){if(d=fs(d),d&&(S||g===R))return d.slice(0,dp(d)+1);if(!d||!(g=vs(g)))return d;var j=Qa(d),ee=Us(j,Qa(g))+1;return ru(j,0,ee).join("")}function bw(d,g,S){if(d=fs(d),d&&(S||g===R))return d.replace(wi,"");if(!d||!(g=vs(g)))return d;var j=Qa(d),ee=zu(j,Qa(g));return ru(j,ee).join("")}function Y2(d,g){var S=Zn,j=Je;if(Se(g)){var ee="separator"in g?g.separator:ee;S="length"in g?Nn(g.length):S,j="omission"in g?vs(g.omission):j}d=fs(d);var ke=d.length;if(dd(d)){var Le=Qa(d);ke=Le.length}if(S>=ke)return d;var je=S-fd(j);if(je<1)return j;var rt=Le?ru(Le,0,je).join(""):d.slice(0,je);if(ee===R)return rt+j;if(Le&&(je+=rt.length-je),jt(ee)){if(d.slice(je).search(ee)){var Xt,Yt=rt;for(ee.global||(ee=ui(ee.source,fs(fc.exec(ee))+"g")),ee.lastIndex=0;Xt=ee.exec(Yt);)var fn=Xt.index;rt=rt.slice(0,fn===R?je:fn)}}else if(d.indexOf(vs(ee),je)!=je){var Kn=rt.lastIndexOf(ee);Kn>-1&&(rt=rt.slice(0,Kn))}return rt+j}function yw(d){return d=fs(d),d&&vr.test(d)?d.replace(jo,ye):d}var c1=Om(function(d,g,S){return d+(S?" ":"")+g.toUpperCase()}),Py=Hh("toUpperCase");function V0(d,g,S){return d=fs(d),g=S?R:g,g===R?gc(d)?qc(d):Oc(d):d.match(g)||[]}var d1=er(function(d,g){try{return Jr(d,R,g)}catch(S){return F(S)?S:new Po(S)}}),vw=vf(function(d,g){return Wi(g,function(S){S=Vl(S),Cl(d,S,Sp(d[S],d))}),d});function xw(d){var g=d==null?0:d.length,S=zo();return d=g?wa(d,function(j){if(typeof j[1]!="function")throw new Rs(be);return[S(j[0]),j[1]]}):[],er(function(j){for(var ee=-1;++ee<g;){var ke=d[ee];if(Jr(ke[0],this,j))return Jr(ke[1],this,j)}})}function H0(d){return tc(Sl(d,vt))}function Iy(d){return function(){return d}}function ww(d,g){return d==null||d!==d?g:d}var kw=Xp(),_w=Xp(!0);function Od(d){return d}function _b(d){return C(typeof d=="function"?d:Sl(d,vt))}function X2(d){return st(Sl(d,vt))}function J2(d,g){return It(d,Sl(g,vt))}var U0=er(function(d,g){return function(S){return Ki(S,d,g)}}),Cw=er(function(d,g){return function(S){return Ki(d,S,g)}});function j0(d,g,S){var j=jl(g),ee=Jd(g,j);S==null&&!(Se(g)&&(ee.length||!j.length))&&(S=g,g=d,d=this,ee=Jd(g,jl(g)));var ke=!(Se(S)&&"chain"in S)||!!S.chain,Le=X(d);return Wi(ee,function(je){var rt=g[je];d[je]=rt,Le&&(d.prototype[je]=function(){var Xt=this.__chain__;if(ke||Xt){var Yt=d(this.__wrapped__),fn=Yt.__actions__=Pa(this.__actions__);return fn.push({func:rt,args:arguments,thisArg:d}),Yt.__chain__=Xt,Yt}return rt.apply(d,cd([this.value()],arguments))})}),d}function u1(){return ja._===this&&(ja._=up),this}function f1(){}function Q2(d){return d=Nn(d),er(function(g){return co(g,d)})}var eC=bp(wa),tC=bp(cp),m1=bp(Hf);function p1(d){return ng(d)?Hs(Vl(d)):ns(d)}function g1(d){return function(g){return d==null?R:Pu(d,g)}}var Fy=au(),Sw=au(!0);function Cb(){return[]}function Z0(){return!1}function Ew(){return{}}function Tw(){return""}function zw(){return!0}function nC(d,g){if(d=Nn(d),d<1||d>ft)return[];var S=zt,j=Ar(d,zt);g=zo(g),d-=zt;for(var ee=Fr(j,g);++S<d;)g(S);return ee}function oC(d){return rr(d)?wa(d,Vl):Oo(d)?[d]:Pa($h(fs(d)))}function qm(d){var g=++ga;return fs(d)+g}var Ow=wd(function(d,g){return d+g},0),Aw=dy("ceil"),Nw=wd(function(d,g){return d/g},1),Dw=dy("floor");function Rw(d){return d&&d.length?ff(d,Od,Iu):R}function rC(d,g){return d&&d.length?ff(d,zo(g,2),Iu):R}function W0(d){return $i(d,Od)}function h1(d,g){return $i(d,zo(g,2))}function Sb(d){return d&&d.length?ff(d,Od,ae):R}function Vy(d,g){return d&&d.length?ff(d,zo(g,2),ae):R}var sC=wd(function(d,g){return d*g},1),b1=dy("round"),aC=wd(function(d,g){return d-g},0);function Bw(d){return d&&d.length?Ds(d,Od):0}function Mw(d,g){return d&&d.length?Ds(d,zo(g,2)):0}return fe.after=lh,fe.ary=lg,fe.assign=uh,fe.assignIn=oi,fe.assignInWith=hg,fe.assignWith=nw,fe.at=a1,fe.before=ub,fe.bind=Sp,fe.bindAll=vw,fe.bindKey=Sf,fe.castArray=ch,fe.chain=nh,fe.chunk=n1,fe.compact=by,fe.concat=yy,fe.cond=xw,fe.conforms=H0,fe.constant=Iy,fe.countBy=Pm,fe.create=ow,fe.curry=cm,fe.curryRight=cg,fe.debounce=fb,fe.defaults=M2,fe.defaultsDeep=L2,fe.defer=lu,fe.delay=Ep,fe.difference=vy,fe.differenceBy=Jg,fe.differenceWith=T0,fe.drop=Dm,fe.dropRight=ul,fe.dropRightWhile=Rm,fe.dropWhile=kf,fe.fill=Es,fe.filter=_p,fe.flatMap=r1,fe.flatMapDeep=rh,fe.flatMapDepth=Vm,fe.flatten=rg,fe.flattenDeep=qh,fe.flattenDepth=sg,fe.flip=dg,fe.flow=kw,fe.flowRight=_w,fe.fromPairs=Qf,fe.functions=I2,fe.functionsIn=sw,fe.groupBy=Ey,fe.initial=xp,fe.intersection=wp,fe.intersectionBy=Kh,fe.intersectionWith=Yh,fe.invert=aw,fe.invertBy=V2,fe.invokeMap=Ol,fe.iteratee=_b,fe.keyBy=lb,fe.keys=jl,fe.keysIn=Td,fe.map=Gu,fe.mapKeys=H2,fe.mapValues=iw,fe.matches=X2,fe.matchesProperty=J2,fe.memoize=Eo,fe.merge=U2,fe.mergeWith=Xn,fe.method=U0,fe.methodOf=Cw,fe.mixin=j0,fe.negate=Al,fe.nthArg=Q2,fe.omit=i1,fe.omitBy=Ry,fe.once=ug,fe.orderBy=Cd,fe.over=eC,fe.overArgs=ot,fe.overEvery=tC,fe.overSome=m1,fe.partial=fg,fe.partialRight=mb,fe.partition=zy,fe.pick=l1,fe.pickBy=M0,fe.property=p1,fe.propertyOf=g1,fe.pull=_f,fe.pullAll=xy,fe.pullAllBy=Hl,fe.pullAllWith=qa,fe.pullAt=z0,fe.range=Fy,fe.rangeRight=Sw,fe.rearg=N0,fe.reject=Um,fe.remove=nm,fe.rest=mg,fe.reverse=kp,fe.sampleSize=db,fe.set=fh,fe.setWith=cw,fe.shuffle=lm,fe.slice=Bm,fe.sortBy=Zm,fe.sortedUniq=O0,fe.sortedUniqBy=tw,fe.split=gw,fe.spread=Sd,fe.tail=Qh,fe.take=_c,fe.takeRight=zl,fe.takeRightWhile=eb,fe.takeWhile=tb,fe.tap=Sy,fe.throttle=pg,fe.thru=sm,fe.toArray=Fa,fe.toPairs=L0,fe.toPairsIn=dw,fe.toPath=oC,fe.toPlainObject=gg,fe.transform=dr,fe.unary=pb,fe.union=$u,fe.unionBy=eh,fe.unionWith=_d,fe.uniq=Cf,fe.uniqBy=Mm,fe.uniqWith=om,fe.unset=j2,fe.unzip=rm,fe.unzipWith=iu,fe.update=Tp,fe.updateWith=Wm,fe.values=zp,fe.valuesIn=zd,fe.without=ig,fe.words=V0,fe.wrap=Oy,fe.xor=th,fe.xorBy=nb,fe.xorWith=Ul,fe.zip=_y,fe.zipObject=Cy,fe.zipObjectDeep=ob,fe.zipWith=o1,fe.entries=L0,fe.entriesIn=dw,fe.extend=oi,fe.extendWith=hg,j0(fe,fe),fe.add=Ow,fe.attempt=d1,fe.camelCase=xb,fe.capitalize=uw,fe.ceil=Aw,fe.clamp=vb,fe.clone=gb,fe.cloneDeep=D0,fe.cloneDeepWith=hb,fe.cloneWith=Ay,fe.conformsTo=R0,fe.deburr=fw,fe.defaultTo=ww,fe.divide=Nw,fe.endsWith=Z2,fe.eq=cu,fe.escape=mw,fe.escapeRegExp=sr,fe.every=Im,fe.find=qu,fe.findIndex=Jf,fe.findKey=Ed,fe.findLast=Fm,fe.findLastIndex=Qi,fe.findLastKey=lc,fe.floor=Dw,fe.forEach=Cp,fe.forEachRight=ib,fe.forIn=yb,fe.forInRight=rw,fe.forOwn=P2,fe.forOwnRight=tr,fe.get=Ny,fe.gt=s1,fe.gte=cn,fe.has=F2,fe.hasIn=Dy,fe.head=Gh,fe.identity=Od,fe.includes=Ty,fe.indexOf=em,fe.inRange=By,fe.invoke=B0,fe.isArguments=ca,fe.isArray=rr,fe.isArrayBuffer=Bi,fe.isArrayLike=Mi,fe.isArrayLikeObject=Ia,fe.isBoolean=bb,fe.isBuffer=du,fe.isDate=p,fe.isElement=y,fe.isEmpty=_,fe.isEqual=T,fe.isEqualWith=I,fe.isError=F,fe.isFinite=$,fe.isFunction=X,fe.isInteger=oe,fe.isLength=xe,fe.isMap=ze,fe.isMatch=Ne,fe.isMatchWith=Ke,fe.isNaN=He,fe.isNative=ct,fe.isNil=Lt,fe.isNull=gt,fe.isNumber=wt,fe.isObject=Se,fe.isObjectLike=he,fe.isPlainObject=Pt,fe.isRegExp=jt,fe.isSafeInteger=sn,fe.isSet=Un,fe.isString=jn,fe.isSymbol=Oo,fe.isTypedArray=Gn,fe.isUndefined=Ao,fe.isWeakMap=vo,fe.isWeakSet=Sr,fe.join=us,fe.kebabCase=Ef,fe.last=Ri,fe.lastIndexOf=Qg,fe.lowerCase=$m,fe.lowerFirst=W2,fe.lt=qt,fe.lte=Li,fe.max=Rw,fe.maxBy=rC,fe.mean=W0,fe.meanBy=h1,fe.min=Sb,fe.minBy=Vy,fe.stubArray=Cb,fe.stubFalse=Z0,fe.stubObject=Ew,fe.stubString=Tw,fe.stubTrue=zw,fe.multiply=sC,fe.nth=tm,fe.noConflict=u1,fe.noop=f1,fe.now=ih,fe.pad=My,fe.padEnd=fr,fe.padStart=pw,fe.parseInt=I0,fe.random=P0,fe.reduce=sh,fe.reduceRight=Hm,fe.repeat=$2,fe.replace=wb,fe.result=lw,fe.round=b1,fe.runInContext=Pe,fe.sample=cb,fe.size=jm,fe.snakeCase=mh,fe.some=ah,fe.sortedIndex=Xh,fe.sortedIndexBy=Jh,fe.sortedIndexOf=wy,fe.sortedLastIndex=ew,fe.sortedLastIndexBy=ag,fe.sortedLastIndexOf=ky,fe.startCase=q2,fe.startsWith=G2,fe.subtract=aC,fe.sum=Bw,fe.sumBy=Mw,fe.template=Ly,fe.times=nC,fe.toFinite=ti,fe.toInteger=Nn,fe.toLength=ni,fe.toLower=kb,fe.toNumber=fl,fe.toSafeInteger=dh,fe.toString=fs,fe.toUpper=F0,fe.trim=hw,fe.trimEnd=K2,fe.trimStart=bw,fe.truncate=Y2,fe.unescape=yw,fe.uniqueId=qm,fe.upperCase=c1,fe.upperFirst=Py,fe.each=Cp,fe.eachRight=ib,fe.first=Gh,j0(fe,function(){var d={};return oc(fe,function(g,S){Zr.call(fe.prototype,S)||(d[S]=g)}),d}(),{chain:!1}),fe.VERSION=W,Wi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){fe[d].placeholder=fe}),Wi(["drop","take"],function(d,g){Go.prototype[d]=function(S){S=S===R?1:Ks(Nn(S),0);var j=this.__filtered__&&!g?new Go(this):this.clone();return j.__filtered__?j.__takeCount__=Ar(S,j.__takeCount__):j.__views__.push({size:Ar(S,zt),type:d+(j.__dir__<0?"Right":"")}),j},Go.prototype[d+"Right"]=function(S){return this.reverse()[d](S).reverse()}}),Wi(["filter","map","takeWhile"],function(d,g){var S=g+1,j=S==Tt||S==pn;Go.prototype[d]=function(ee){var ke=this.clone();return ke.__iteratees__.push({iteratee:zo(ee,3),type:S}),ke.__filtered__=ke.__filtered__||j,ke}}),Wi(["head","last"],function(d,g){var S="take"+(g?"Right":"");Go.prototype[d]=function(){return this[S](1).value()[0]}}),Wi(["initial","tail"],function(d,g){var S="drop"+(g?"":"Right");Go.prototype[d]=function(){return this.__filtered__?new Go(this):this[S](1)}}),Go.prototype.compact=function(){return this.filter(Od)},Go.prototype.find=function(d){return this.filter(d).head()},Go.prototype.findLast=function(d){return this.reverse().find(d)},Go.prototype.invokeMap=er(function(d,g){return typeof d=="function"?new Go(this):this.map(function(S){return Ki(S,d,g)})}),Go.prototype.reject=function(d){return this.filter(Al(zo(d)))},Go.prototype.slice=function(d,g){d=Nn(d);var S=this;return S.__filtered__&&(d>0||g<0)?new Go(S):(d<0?S=S.takeRight(-d):d&&(S=S.drop(d)),g!==R&&(g=Nn(g),S=g<0?S.dropRight(-g):S.take(g-d)),S)},Go.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},Go.prototype.toArray=function(){return this.take(zt)},oc(Go.prototype,function(d,g){var S=/^(?:filter|find|map|reject)|While$/.test(g),j=/^(?:head|last)$/.test(g),ee=fe[j?"take"+(g=="last"?"Right":""):g],ke=j||/^find/.test(g);ee&&(fe.prototype[g]=function(){var Le=this.__wrapped__,je=j?[1]:arguments,rt=Le instanceof Go,Xt=je[0],Yt=rt||rr(Le),fn=function(Qt){var ms=ee.apply(fe,cd([Qt],je));return j&&Kn?ms[0]:ms};Yt&&S&&typeof Xt=="function"&&Xt.length!=1&&(rt=Yt=!1);var Kn=this.__chain__,No=!!this.__actions__.length,nr=ke&&!Kn,Er=rt&&!No;if(!ke&&Yt){Le=Er?Le:new Go(this);var Zo=d.apply(Le,je);return Zo.__actions__.push({func:sm,args:[fn],thisArg:R}),new rs(Zo,Kn)}return nr&&Er?d.apply(this,je):(Zo=this.thru(fn),nr?j?Zo.value()[0]:Zo.value():Zo)})}),Wi(["pop","push","shift","sort","splice","unshift"],function(d){var g=Ei[d],S=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",j=/^(?:pop|shift)$/.test(d);fe.prototype[d]=function(){var ee=arguments;if(j&&!this.__chain__){var ke=this.value();return g.apply(rr(ke)?ke:[],ee)}return this[S](function(Le){return g.apply(rr(Le)?Le:[],ee)})}}),oc(Go.prototype,function(d,g){var S=fe[g];if(S){var j=S.name+"";Zr.call(Mr,j)||(Mr[j]=[]),Mr[j].push({name:g,func:S})}}),Mr[Hu(R,ht).name]=[{name:"wrapper",func:R}],Go.prototype.clone=Yd,Go.prototype.reverse=wc,Go.prototype.value=df,fe.prototype.at=am,fe.prototype.chain=A0,fe.prototype.commit=rb,fe.prototype.next=sb,fe.prototype.plant=Lm,fe.prototype.reverse=ab,fe.prototype.toJSON=fe.prototype.valueOf=fe.prototype.value=oh,fe.prototype.first=fe.prototype.head,sa&&(fe.prototype[sa]=im),fe},Gd=cf();ta?((ta.exports=Gd)._=Gd,_u._=Gd):ja._=Gd}).call(E2)}(KT,KT.exports);var T2=KT.exports;const AV=OV(T2),NV={key:1,class:"space-y-2 gray-300"},DV={class:"flex"},RV=["for"],BV=["id","type","value","placeholder","disabled","onInput"],MV=["onClick"],LV={__name:"MultiInput",props:{modelValue:{},type:{},field:{},label:{},placeholder:{},disabled:{},canAdd:{type:Boolean,default:!0},taggable:{type:Boolean,default:!1},options:{type:Array,default:[]}},emits:["update:modelValue"],setup(v,{emit:P}){const R=v,W=P,ue=M.ref(Array.isArray(R.modelValue)?R.modelValue:R.taggable&&!R.modelValue?[]:[R.modelValue]),de=M.computed(()=>ue.value.map(vt=>R.label?vt[R.label]+"_"+R.field+"_"+Math.random().toString(36).slice(2):null)),be=M.computed(()=>ue.value.map(vt=>R.label?vt[R.label]+" "+b5(R.field):R.placeholder));function ge(vt){ue.value.splice(vt,1),W("update:modelValue",ue.value)}function Me(vt){let Wt=vt;R.field&&(Wt=AV.cloneDeep(ue.value[0]),Wt[R.field]=vt),ue.value.push(Wt),R.taggable&&R.options.push(Wt)}function $e(vt,Wt){R.field?ue.value[vt][R.field]=Wt:!Wt&&ue.value.length===1?ue.value=[]:ue.value[vt]=Wt,W("update:modelValue",ue.value)}function Xe(vt){Me(vt),W("update:modelValue",ue.value)}return(vt,Wt)=>v.taggable&&v.canAdd?(M.openBlock(),M.createBlock(M.unref(S2),{key:0,modelValue:ue.value,"onUpdate:modelValue":[Wt[0]||(Wt[0]=lt=>ue.value=lt),Wt[1]||(Wt[1]=lt=>vt.$emit("update:modelValue",lt))],options:v.options,placeholder:`Type to add ${v.placeholder??"item"}`,multiple:"","show-labels":!1,disabled:v.disabled,taggable:"","tag-placeholder":`Create new ${v.placeholder??"item"}`,onTag:Xe},null,8,["modelValue","options","placeholder","disabled","tag-placeholder"])):(M.openBlock(),M.createElementBlock("div",NV,[(M.openBlock(!0),M.createElementBlock(M.Fragment,null,M.renderList(ue.value,(lt,Rt)=>(M.openBlock(),M.createElementBlock("div",{class:"relative",key:Rt},[M.createElementVNode("div",DV,[v.label?(M.openBlock(),M.createElementBlock("label",{key:0,for:de.value[Rt],class:"multiple-label rounded-r-none bg-gray-300"},M.toDisplayString(lt[v.label]),9,RV)):M.createCommentVNode("",!0),M.createElementVNode("input",{id:de.value[Rt],class:M.normalizeClass(["input-multiple flex-1",{"rounded-l-none":v.label,"rounded-r-none":v.canAdd&&ue.value.length>1}]),type:v.type,value:v.field?lt[v.field]:lt,placeholder:be.value[Rt],disabled:v.disabled,onInput:tn=>$e(Rt,tn.target.value)},null,42,BV),v.canAdd&&ue.value.length>1?(M.openBlock(),M.createElementBlock("div",{key:1,class:"multiple-remove rounded-l-none bg-gray-200 cursor-pointer hover:bg-gray-300",onClick:tn=>ge(Rt)},"remove",8,MV)):M.createCommentVNode("",!0)])]))),128)),v.canAdd?(M.openBlock(),M.createElementBlock("button",{key:0,class:"cursor-pointer text-sm form-btn-green py-1 px-2",onClick:Wt[2]||(Wt[2]=M.withModifiers(lt=>Me(null),["prevent"]))},"Add "+M.toDisplayString(v.placeholder),1)):M.createCommentVNode("",!0)]))}},PV={key:0,role:"list",class:"divide-y divide-gray-200 rounded-md bg-white"},IV=["href"],FV=["onClick"],VV=["href"],HV={key:3},UV={__name:"AttachmentsList",props:{attachments:{type:Array,default(){return[]}},can:{default(){return{delete:!0,download:!0}}}},emits:["remove"],setup(v,{emit:P}){const R=P;return(W,ue)=>v.attachments.length?(M.openBlock(),M.createElementBlock("ul",PV,[(M.openBlock(!0),M.createElementBlock(M.Fragment,null,M.renderList(v.attachments,de=>(M.openBlock(),M.createElementBlock("li",{key:de.id,class:"p-2 flex items-center rounded-md"},[v.can.download?(M.openBlock(),M.createElementBlock("a",{key:0,href:de.url,target:"_blank",class:"text-blue-500 rounded-full hover:bg-blue-200 p-1"},ue[0]||(ue[0]=[M.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[M.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1)]),8,IV)):M.createCommentVNode("",!0),v.can.delete?(M.openBlock(),M.createElementBlock("button",{key:1,onClick:be=>R("remove",de),type:"button",class:"ml-2 text-red-500 rounded-full hover:bg-red-200 p-1"},ue[1]||(ue[1]=[M.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[M.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,FV)):M.createCommentVNode("",!0),v.can.download?(M.openBlock(),M.createElementBlock("a",{key:2,href:de.url,target:"_blank",class:"mx-2 hover:text-blue-500"},M.toDisplayString(de.file_name),9,VV)):(M.openBlock(),M.createElementBlock("div",HV,M.toDisplayString(de.file_name),1))]))),128))])):M.createCommentVNode("",!0)}},l8=v=>{const P=new XMLHttpRequest;return P.open(v.method||"GET",v.url),P.responseType="json",v.headers&&Object.keys(v.headers).forEach(R=>{P.setRequestHeader(R,v.headers[R])}),P},jV=(v,P)=>new Promise((R,W)=>{v.onload=()=>{if(v.status>=200&&v.status<300){let ue;try{ue=JSON.parse(v.response)}catch{ue=v.response}R(ue)}else W(v.response)},v.onerror=()=>W(v.response),v.send(JSON.stringify(P))}),ZV=(v,P)=>{const R=new FormData;for(let W in P)R.append(W,P[W]);return new Promise((W,ue)=>{v.onload=()=>{if(v.status>=200&&v.status<300){let de;try{de=JSON.parse(v.response)}catch{de=v.response}W(de)}else ue(v.response)},v.onerror=()=>ue(v.response),v.send(R)})};function c8(v){const P=l8(v);return jV(P,v.body)}class WV{constructor(P,R){this.file=P,this.options=R,this.chunks=[],this.sessionId=null,this.chunkSize=null,this.speedInterval=null}get maxRetries(){return parseInt(this.options.maxRetries,10)}get maxActiveChunks(){return parseInt(this.options.maxActive,10)}get fileType(){return this.file.type}get fileSize(){return this.file.size}get fileName(){return this.file.name}get action(){return this.options.action||null}get startBody(){return this.options.startBody||{}}get uploadBody(){return this.options.uploadBody||{}}get finishBody(){return this.options.finishBody||{}}get headers(){return this.options.headers||{}}get readyToUpload(){return!!this.chunks}get progress(){const P=this.chunksUploaded.length/this.chunks.length*100,R=this.chunksUploading.reduce((W,ue)=>W+(ue.progress|0)/this.chunks.length,0);return Math.min(P+R,100)}get chunksToUpload(){return this.chunks.filter(P=>!P.active&&!P.uploaded)}get hasChunksToUpload(){return this.chunksToUpload.length>0}get chunksUploading(){return this.chunks.filter(P=>!!P.xhr&&!!P.active)}get chunksUploaded(){return this.chunks.filter(P=>!!P.uploaded)}createChunks(){this.chunks=[];let P=0,R=this.chunkSize;for(;P<this.fileSize;)this.chunks.push({blob:this.file.file.slice(P,R),startOffset:P,active:!1,retries:this.maxRetries}),P=R,R=P+this.chunkSize}updateFileProgress(){this.file.progress=this.progress}pause(){this.file.active=!1,this.stopChunks()}stopChunks(){this.chunksUploading.forEach(P=>{P.xhr.abort(),P.active=!1}),this.stopSpeedCalc()}resume(){this.file.active=!0,this.startChunking()}upload(){return this.promise=new Promise((P,R)=>{this.resolve=P,this.reject=R}),this.start(),this.promise}start(){c8({method:"POST",headers:{...this.headers,"Content-Type":"application/json"},url:this.action,body:Object.assign(this.startBody,{phase:"start",mime_type:this.fileType,size:this.fileSize,name:this.fileName})}).then(P=>{if(P.status!=="success")return this.file.response=P,this.reject("server");this.sessionId=P.data.session_id,this.chunkSize=P.data.end_offset,this.createChunks(),this.startChunking()}).catch(P=>{this.file.response=P,this.reject("server")})}startChunking(){for(let P=0;P<this.maxActiveChunks;P++)this.uploadNextChunk();this.startSpeedCalc()}uploadNextChunk(){if(this.file.active){if(this.hasChunksToUpload)return this.uploadChunk(this.chunksToUpload[0]);if(this.chunksUploading.length===0)return this.finish()}}uploadChunk(P){P.progress=0,P.active=!0,this.updateFileProgress(),P.xhr=l8({method:"POST",headers:this.headers,url:this.action}),P.xhr.upload.addEventListener("progress",function(R){R.lengthComputable&&(P.progress=Math.round(R.loaded/R.total*100))},!1),ZV(P.xhr,Object.assign(this.uploadBody,{phase:"upload",session_id:this.sessionId,start_offset:P.startOffset,chunk:P.blob})).then(R=>{if(P.active=!1,R.status==="success")P.uploaded=!0;else if(P.retries--<=0)return this.stopChunks(),this.reject("upload");this.uploadNextChunk()}).catch(()=>{if(P.active=!1,P.retries--<=0)return this.stopChunks(),this.reject("upload");this.uploadNextChunk()})}finish(){this.updateFileProgress(),this.stopSpeedCalc(),c8({method:"POST",headers:{...this.headers,"Content-Type":"application/json"},url:this.action,body:Object.assign(this.finishBody,{phase:"finish",session_id:this.sessionId})}).then(P=>{if(this.file.response=P,P.status!=="success")return this.reject("server");this.resolve(P)}).catch(P=>{this.file.response=P,this.reject("server")})}startSpeedCalc(){this.file.speed=0;let P=0;this.speedInterval||(this.speedInterval=window.setInterval(()=>{let R=this.progress/100*this.fileSize;this.file.speed=R-P,P=R},1e3))}stopSpeedCalc(){this.speedInterval&&window.clearInterval(this.speedInterval),this.speedInterval=null,this.file.speed=0}}const d8={headers:{},action:"",minSize:1048576,maxActive:3,maxRetries:5,handler:WV},$V=M.defineComponent({props:{inputId:{type:String},name:{type:String,default:"file"},accept:{type:String},capture:{},disabled:{default:!1},multiple:{type:Boolean,default:!1},maximum:{type:Number},addIndex:{type:[Boolean,Number]},directory:{type:Boolean},createDirectory:{type:Boolean,default:!1},postAction:{type:String},putAction:{type:String},customAction:{type:Function},headers:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},timeout:{type:Number,default:0},drop:{type:[Boolean,String,HTMLElement],default:()=>!1},dropDirectory:{type:Boolean,default:!0},size:{type:Number,default:0},extensions:{type:[RegExp,String,Array],default:()=>[]},modelValue:{type:Array,default:()=>[]},thread:{type:Number,default:1},chunkEnabled:{type:Boolean,default:!1},chunk:{type:Object,default:()=>d8}},emits:["update:modelValue","input-filter","input-file"],data(){return{files:this.modelValue,features:{html5:!0,directory:!1,drop:!1},active:!1,dropActive:!1,uploading:0,destroy:!1,maps:{},dropElement:null,dropTimeout:null,reload:!1}},mounted(){const v=document.createElement("input");if(v.type="file",v.multiple=!0,window.FormData&&v.files?((typeof v.webkitdirectory=="boolean"||typeof v.directory=="boolean")&&(this.features.directory=!0),this.features.html5&&typeof v.ondrop<"u"&&(this.features.drop=!0)):this.features.html5=!1,this.maps={},this.files)for(let P=0;P<this.files.length;P++){const R=this.files[P];this.maps[R.id]=R}this.$nextTick(()=>{this.$parent?(this.$parent.$forceUpdate(),this.$parent.$nextTick(()=>{this.watchDrop(this.drop)})):this.watchDrop(this.drop)})},beforeUnmount(){this.destroy=!0,this.active=!1,this.watchDrop(!1),this.watchActive(!1)},computed:{uploaded(){let v;for(let P=0;P<this.files.length;P++)if(v=this.files[P],v.fileObject&&!v.error&&!v.success)return!1;return!0},chunkOptions(){return Object.assign(d8,this.chunk)},className(){return["file-uploads",this.features.html5?"file-uploads-html5":"file-uploads-html4",this.features.directory&&this.directory?"file-uploads-directory":void 0,this.features.drop&&this.drop?"file-uploads-drop":void 0,this.disabled?"file-uploads-disabled":void 0]},forId(){return this.inputId||this.name},iMaximum(){return this.maximum===void 0?this.multiple?0:1:this.maximum},iExtensions(){if(!this.extensions)return;if(this.extensions instanceof RegExp)return this.extensions;if(!this.extensions.length)return;let v=[];return typeof this.extensions=="string"?v=this.extensions.split(","):v=this.extensions,v=v.map(function(P){return P.trim()}).filter(function(P){return P}),new RegExp("\\.("+v.join("|").replace(/\./g,"\\.")+")$","i")},iDirectory(){if(this.directory&&this.features.directory)return!0}},watch:{active(v){this.watchActive(v)},dropActive(v){this.watchDropActive(v),this.$parent&&this.$parent.$forceUpdate()},drop(v){this.watchDrop(v)},modelValue(v){if(this.files===v)return;this.files=v;const P=this.maps;this.maps={};for(let R=0;R<this.files.length;R++){const W=this.files[R];this.maps[W.id]=W}for(const R in this.maps){const W=this.maps[R],ue=P[R];W!==ue&&this.emitFile(W,ue)}for(const R in P)this.maps[R]||this.emitFile(void 0,P[R])}},methods:{newId(){return Math.random().toString(36).substr(2)},clear(){if(this.files.length){const v=this.files;this.files=[],this.maps={},this.emitInput();for(let P=0;P<v.length;P++)this.emitFile(void 0,v[P])}return!0},get(v){return v?typeof v=="object"?this.maps[v.id||""]||!1:this.maps[v]||!1:!1},add(v,P){let R;v instanceof Array?R=v:R=[v],P===void 0&&(P=this.addIndex);let W=[];for(let be=0;be<R.length;be++){let ge=R[be];this.features.html5&&ge instanceof Blob&&(ge={id:"",file:ge,size:ge.size,name:ge.webkitRelativePath||ge.relativePath||ge.name||"unknown",type:ge.type}),ge=ge;let Me=!1;if(ge.fileObject===!1||(ge.fileObject||typeof Element<"u"&&ge.el instanceof HTMLInputElement||typeof Blob<"u"&&ge.file instanceof Blob)&&(Me=!0),Me&&(ge={fileObject:!0,size:-1,name:"Filename",type:"",active:!1,error:"",success:!1,putAction:this.putAction,postAction:this.postAction,timeout:this.timeout,...ge,response:{},progress:"0.00",speed:0},ge.data={...this.data,...ge.data?ge.data:{}},ge.headers={...this.headers,...ge.headers?ge.headers:{}}),ge.id||(ge.id=this.newId()),!this.emitFilter(ge,void 0)&&(this.iMaximum>1&&W.length+this.files.length>=this.iMaximum||(W.push(ge),this.iMaximum===1)))break}if(!W.length)return;this.iMaximum===1&&this.clear();let ue;P===!0||P===0?ue=W.concat(this.files):P?(ue=this.files.concat([]),ue.splice(P,0,...W)):ue=this.files.concat(W),this.files=ue;let de=0;P===!0||P===0?de=0:P?P>=0?P+W.length>this.files.length?de=this.files.length-W.length:de=P:(de=this.files.length-W.length+P,de<0&&(de=0)):de=this.files.length-W.length,W=this.files.slice(de,de+W.length);for(let be=0;be<W.length;be++){const ge=W[be];this.maps[ge.id]=ge}this.emitInput();for(let be=0;be<W.length;be++)this.emitFile(W[be],void 0);return v instanceof Array?W:W[0]},addInputFile(v){const P=[];this.iMaximum;const R=v.webkitEntries||v.entries||void 0;if(R!=null&&R.length)return this.getFileSystemEntry(R).then(W=>this.add(W));if(v.files)for(let W=0;W<v.files.length;W++){const ue=v.files[W];P.push({id:"",size:ue.size,name:ue.webkitRelativePath||ue.relativePath||ue.name,type:ue.type,file:ue})}else{let W=v.value.replace(/\\/g,"/").split("/");(!W||!W.length)&&(W=[v.value]),delete v.__vuex__,P.push({id:"",name:W[W.length-1],el:v})}return Promise.resolve(this.add(P))},addDataTransfer(v){var W;if((W=v==null?void 0:v.items)!=null&&W.length){const ue=[];for(let de=0;de<v.items.length;de++){const be=v.items[de];let ge;be.getAsEntry?ge=be.getAsEntry()||be.getAsFile():be.webkitGetAsEntry?ge=be.webkitGetAsEntry()||be.getAsFile():ge=be.getAsFile(),ge&&ue.push(ge)}return this.getFileSystemEntry(ue).then(de=>this.add(de))}const P=this.iMaximum,R=[];if(v.files.length){for(let ue=0;ue<v.files.length&&(R.push(v.files[ue]),!(P>0&&R.length>=P));ue++);return Promise.resolve(this.add(R))}return Promise.resolve([])},getFileSystemEntry(v,P=""){return new Promise(R=>{const W=this.iMaximum;if(!v){R([]);return}if(v instanceof Array){const ue=[],de=be=>{const ge=v[be];if(!ge||W>0&&ue.length>=W)return R(ue);this.getFileSystemEntry(ge,P).then(function(Me){ue.push(...Me),de(be+1)})};de(0);return}if(v instanceof Blob){R([{id:"",size:v.size,name:P+v.name,type:v.type,file:v}]);return}if(v.isFile){v.file(function(de){R([{id:"",size:de.size,name:P+de.name,type:de.type,file:de}])});return}if(v.isDirectory&&this.dropDirectory){let ue=v;const de=[];this.createDirectory&&de.push({id:"",name:P+ue.name,size:0,type:"text/directory",file:new File([],P+ue.name,{type:"text/directory"})});const be=ue.createReader(),ge=()=>{be.readEntries(Me=>{const $e=Xe=>{if(!Me[Xe]&&Xe===0||W>0&&de.length>=W)return R(de);if(!Me[Xe])return ge();this.getFileSystemEntry(Me[Xe],P+ue.name+"/").then(function(vt){de.push(...vt),$e(Xe+1)})};$e(0)})};ge();return}R([])})},replace(v,P){const R=this.get(v),W=this.get(P);if(!R||!W||R===W)return!1;const ue=this.files.concat([]),de=ue.indexOf(R),be=ue.indexOf(W);return de===-1||be===-1?!1:(ue[de]=W,ue[be]=R,this.files=ue,this.emitInput(),!0)},remove(v){const P=this.get(v);if(P){if(this.emitFilter(void 0,P))return!1;const R=this.files.concat([]),W=R.indexOf(P);if(W===-1)return console.error("remove",P),!1;R.splice(W,1),this.files=R,delete this.maps[P.id],this.emitInput(),this.emitFile(void 0,P)}return P},update(v,P){const R=this.get(v);if(R){let W={...R,...P};if(R.fileObject&&R.active&&!W.active&&!W.error&&!W.success&&(W.error="abort"),this.emitFilter(W,R))return!1;const ue=this.files.concat([]),de=ue.indexOf(R);return de===-1?(console.error("update",R),!1):(ue.splice(de,1,W),this.files=ue,W=this.files[de],delete this.maps[R.id],this.maps[W.id]=W,this.emitInput(),this.emitFile(W,R),W)}return!1},emitFilter(v,P){let R=!1;return this.$emit("input-filter",v,P,function(W=!0){return R=W,R}),R},emitFile(v,P){this.$emit("input-file",v,P),v!=null&&v.fileObject&&v.active&&(!P||!P.active)?(this.uploading++,this.$nextTick(()=>{setTimeout(()=>{v&&this.upload(v).then(()=>{v&&(v=this.get(v)||void 0),v!=null&&v.fileObject&&this.update(v,{active:!1,success:!v.error})}).catch(R=>{v&&this.update(v,{active:!1,success:!1,error:R.code||R.error||R.message||R})})},Math.ceil(Math.random()*50+50))})):(!v||!v.fileObject||!v.active)&&P&&P.fileObject&&P.active&&this.uploading--,this.active&&(!!v!=!!P||v.active!==P.active)&&this.watchActive(!0)},emitInput(){this.$emit("update:modelValue",this.files)},upload(v){const P=this.get(v);if(!P)return Promise.reject(new Error("not_exists"));if(!P.fileObject)return Promise.reject(new Error("file_object"));if(P.error)return P.error instanceof Error?Promise.reject(P.error):Promise.reject(new Error(P.error));if(P.success)return Promise.resolve(P);if(P.name&&this.iExtensions&&P.type!=="text/directory"&&P.name.search(this.iExtensions)===-1)return Promise.reject(new Error("extension"));if(this.size>0&&P.size!==void 0&&P.size>=0&&P.size>this.size&&P.type!=="text/directory")return Promise.reject(new Error("size"));if(this.customAction)return this.customAction(P,this);if(this.features.html5){if(this.shouldUseChunkUpload(P))return this.uploadChunk(P);if(P.putAction)return this.uploadPut(P);if(P.postAction)return this.uploadHtml5(P)}return P.postAction?this.uploadHtml4(P):Promise.reject(new Error("No action configured"))},shouldUseChunkUpload(v){return this.chunkEnabled&&!!this.chunkOptions.handler&&v.size&&v.size>this.chunkOptions.minSize},uploadChunk(v){const P=this.chunkOptions.handler;return v.chunk=new P(v,this.chunkOptions),v.chunk.upload().then(R=>v)},uploadPut(v){const P=[];let R;for(const be in v.data)R=v.data[be],R!=null&&P.push(encodeURIComponent(be)+"="+encodeURIComponent(R));const W=v.putAction||"",ue=P.length?(W.indexOf("?")===-1?"?":"&")+P.join("&"):"",de=new XMLHttpRequest;return de.open("PUT",W+ue),this.uploadXhr(de,v,v.file)},uploadHtml5(v){const P=new window.FormData;let R;for(const ue in v.data)R=v.data[ue],R&&typeof R=="object"&&typeof R.toString!="function"?R instanceof File?P.append(ue,R,R.name):P.append(ue,JSON.stringify(R)):R!=null&&P.append(ue,R);P.append(this.name,v.file,v.name||v.file.name||v.file.filename);const W=new XMLHttpRequest;return W.open("POST",v.postAction||""),this.uploadXhr(W,v,P)},uploadXhr(v,P,R){let W=P,ue=0,de=0;v.upload.onprogress=ge=>{if(!W||(W=this.get(W),!ge.lengthComputable||!W||!W.fileObject||!W.active))return;const Me=Math.round(Date.now()/1e3);Me!==ue&&(ue=Me,W=this.update(W,{progress:(ge.loaded/ge.total*100).toFixed(2),speed:ge.loaded-de}),de=ge.loaded)};let be=window.setInterval(()=>{if(!(W&&(W=this.get(W))&&W!=null&&W.fileObject&&!W.success&&!W.error&&W.active)){be&&(clearInterval(be),be=void 0);try{v.abort(),v.timeout=1}catch{}}},100);return new Promise((ge,Me)=>{if(!W){Me(new Error("not_exists"));return}let $e;const Xe=vt=>{if($e)return;if($e=!0,be&&(clearInterval(be),be=void 0),!W)return Me(new Error("not_exists"));if(W=this.get(W),!W)return Me(new Error("not_exists"));if(!W.fileObject)return Me(new Error("file_object"));if(W.error)return W.error instanceof Error?Me(W.error):Me(new Error(W.error));if(!W.active)return Me(new Error("abort"));if(W.success)return ge(W);const Wt={};switch(vt.type){case"timeout":case"abort":Wt.error=vt.type;break;case"error":v.status?v.status>=500?Wt.error="server":v.status>=400&&(Wt.error="denied"):Wt.error="network";break;default:v.status>=500?Wt.error="server":v.status>=400?Wt.error="denied":Wt.progress="100.00"}if(v.responseText){const lt=v.getResponseHeader("Content-Type");lt&&lt.indexOf("/json")!==-1?Wt.response=JSON.parse(v.responseText):Wt.response=v.responseText}return W=this.update(W,Wt),W?W.error?W.error instanceof Error?Me(W.error):Me(new Error(W.error)):ge(W):Me(new Error("abort"))};v.onload=Xe,v.onerror=Xe,v.onabort=Xe,v.ontimeout=Xe,W.timeout&&(v.timeout=W.timeout);for(const vt in W.headers)v.setRequestHeader(vt,W.headers[vt]);W=this.update(W,{xhr:v}),W&&v.send(R)})},uploadHtml4(v){let P=v;if(!P)return Promise.reject(new Error("not_exists"));const R=function(be){be.keyCode===27&&be.preventDefault()},W=document.createElement("iframe");W.id="upload-iframe-"+P.id,W.name="upload-iframe-"+P.id,W.src="about:blank",W.setAttribute("style","width:1px;height:1px;top:-999em;position:absolute; margin-top:-999em;");const ue=document.createElement("form");ue.setAttribute("action",P.postAction||""),ue.name="upload-form-"+P.id,ue.setAttribute("method","POST"),ue.setAttribute("target","upload-iframe-"+P.id),ue.setAttribute("enctype","multipart/form-data");for(const be in P.data){let ge=P.data[be];if(ge&&typeof ge=="object"&&typeof ge.toString!="function"&&(ge=JSON.stringify(ge)),ge!=null){const Me=document.createElement("input");Me.type="hidden",Me.name=be,Me.value=ge,ue.appendChild(Me)}}ue.appendChild(P.el),document.body.appendChild(W).appendChild(ue);const de=function(){let be;try{W.contentWindow&&(be=W.contentWindow.document)}catch{}if(!be)try{be=W.contentDocument?W.contentDocument:W.document}catch{be=W.document}return be!=null&&be.body?be.body.innerHTML:null};return new Promise((be,ge)=>{setTimeout(()=>{if(!P){ge(new Error("not_exists"));return}if(P=this.update(P,{iframe:W}),!P)return ge(new Error("not_exists"));let Me=window.setInterval(()=>{P&&(P=this.get(P))&&P.fileObject&&!P.success&&!P.error&&P.active||(Me&&(clearInterval(Me),Me=void 0),W.onabort({type:P?"abort":"not_exists"}))},100),$e;const Xe=vt=>{if($e)return;if($e=!0,Me&&(clearInterval(Me),Me=void 0),document.body.removeEventListener("keydown",R),!P)return ge(new Error("not_exists"));if(P=this.get(P),!P)return ge(new Error("not_exists"));if(!P.fileObject)return ge(new Error("file_object"));if(P.error)return P.error instanceof Error?ge(P.error):ge(new Error(P.error));if(!P.active)return ge(new Error("abort"));if(P.success)return be(P);let Wt=de();const lt={};if(typeof vt=="string")return ge(new Error(vt));switch(vt.type){case"abort":lt.error="abort";break;case"error":P.error?lt.error=P.error:Wt===null?lt.error="network":lt.error="denied";break;default:P.error?lt.error=P.error:Wt===null?lt.error="network":lt.progress="100.00"}if(Wt!==null){if(Wt&&Wt.substr(0,1)==="{"&&Wt.substr(Wt.length-1,1)==="}")try{Wt=JSON.parse(Wt)}catch{}lt.response=Wt}return P=this.update(P,lt),P?P!=null&&P.error?P.error instanceof Error?ge(P.error):ge(new Error(P.error)):be(P):ge(new Error("not_exists"))};W.onload=Xe,W.onerror=Xe,W.onabort=Xe,document.body.addEventListener("keydown",R),ue.submit()},50)}).then(function(be){var ge;return(ge=W==null?void 0:W.parentNode)==null||ge.removeChild(W),be}).catch(function(be){var ge;return(ge=W==null?void 0:W.parentNode)==null||ge.removeChild(W),be})},watchActive(v){let P,R=0;for(;P=this.files[R];)if(R++,P.fileObject)if(v&&!this.destroy){if(this.uploading>=this.thread||this.uploading&&!this.features.html5)break;!P.active&&!P.error&&!P.success&&this.update(P,{active:!0})}else P.active&&this.update(P,{active:!1});this.uploading===0&&(this.active=!1)},watchDrop(v,P=void 0){if(!this.features.drop||v===P)return;if(this.dropElement)try{document.removeEventListener("dragenter",this.onDocumentDragenter,!1),document.removeEventListener("dragleave",this.onDocumentDragleave,!1),document.removeEventListener("dragover",this.onDocumentDragover,!1),document.removeEventListener("drop",this.onDocumentDrop,!1),this.dropElement.removeEventListener("dragover",this.onDragover,!1),this.dropElement.removeEventListener("drop",this.onDrop,!1)}catch{}let R=null;v&&(typeof v=="string"?R=document.querySelector(v)||this.$root.$el.querySelector(v):v===!0?(R=this.$parent.$el,(!R||(R==null?void 0:R.nodeType)===8)&&(R=this.$root.$el,(!R||(R==null?void 0:R.nodeType)===8)&&(R=document.body))):R=v),this.dropElement=R,this.dropElement&&(document.addEventListener("dragenter",this.onDocumentDragenter,!1),document.addEventListener("dragleave",this.onDocumentDragleave,!1),document.addEventListener("dragover",this.onDocumentDragover,!1),document.addEventListener("drop",this.onDocumentDrop,!1),this.dropElement.addEventListener("dragover",this.onDragover,!1),this.dropElement.addEventListener("drop",this.onDrop,!1))},watchDropActive(v,P){v!==P&&(this.dropTimeout&&(clearTimeout(this.dropTimeout),this.dropTimeout=null),v&&(this.dropTimeout=setTimeout(this.onDocumentDrop,1e3)))},onDocumentDragenter(v){var R,W;if(this.dropActive||!v.dataTransfer)return;const P=v.dataTransfer;(R=P==null?void 0:P.files)!=null&&R.length?this.dropActive=!0:P.types?P.types.indexOf&&P.types.indexOf("Files")!==-1?this.dropActive=!0:(W=P.types)!=null&&W.contains&&P.types.contains("Files")&&(this.dropActive=!0):this.dropActive=!0,this.dropActive&&this.watchDropActive(!0)},onDocumentDragleave(v){this.dropActive&&(v.target===v.explicitOriginalTarget||!v.fromElement&&(v.clientX<=0||v.clientY<=0||v.clientX>=window.innerWidth||v.clientY>=window.innerHeight))&&(this.dropActive=!1,this.watchDropActive(!1))},onDocumentDragover(){this.watchDropActive(!0)},onDocumentDrop(){this.dropActive=!1,this.watchDropActive(!1)},onDragover(v){v.preventDefault()},onDrop(v){v.preventDefault(),v.dataTransfer&&this.addDataTransfer(v.dataTransfer)},async inputOnChange(v){if(!(v.target instanceof HTMLInputElement))return Promise.reject(new Error("not HTMLInputElement"));v.target;const P=R=>(this.reload=!0,this.$nextTick(()=>{this.reload=!1}),R);return this.addInputFile(v.target).then(P).catch(P)}}}),kY="",qV=(v,P)=>{const R=v.__vccOpts||v;for(const[W,ue]of P)R[W]=ue;return R},GV=["for"],KV=["name","id","accept","capture","disabled","webkitdirectory","allowdirs","directory","multiple"];function YV(v,P,R,W,ue,de){return M.openBlock(),M.createElementBlock("span",{class:M.normalizeClass(v.className)},[M.renderSlot(v.$slots,"default"),M.createElementVNode("label",{for:v.forId},null,8,GV),v.reload?M.createCommentVNode("",!0):(M.openBlock(),M.createElementBlock("input",{key:0,ref:"input",type:"file",name:v.name,id:v.forId,accept:v.accept,capture:v.capture,disabled:v.disabled,webkitdirectory:v.iDirectory,allowdirs:v.iDirectory,directory:v.iDirectory,multiple:v.multiple&&v.features.html5,onChange:P[0]||(P[0]=(...be)=>v.inputOnChange&&v.inputOnChange(...be))},null,40,KV))],2)}const XV=qV($V,[["render",YV]]),_Y="",JV={key:0,class:"image-preview-container bg-gray-100 relative border rounded mx-auto shadow"},QV={key:0,class:"flex flex-col justify-center items-center"},eH={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-1/2 inline-block"},tH={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-1/2 inline-block"},nH={key:2,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-1/2 inline-block"},oH={key:3,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-1/2 inline-block"},rH={key:4,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-1/2 inline-block text-gray-400"},sH={key:5,class:"text-sm"},aH=["href"],iH={key:1},lH={class:"space-y-1 text-center"},cH={class:"flex text-sm text-gray-600 justify-center"},dH={class:"text-xs text-gray-500"},uH={key:0,role:"list",class:"divide-y divide-gray-200"},fH=["onClick"],mH={class:"mx-2"},u8={__name:"FileUploadInput",props:{modelValue:null,id:{default(){return Math.random().toString(36).slice(2)}},placeholder:{type:String,default:"/images/placeholder-image.png"},acceptableTypes:{type:Array,default(){return["image"]}},maxSize:{type:[Number,String],default:"10MB"},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1}},emits:["update:modelValue","preview"],setup(v,{emit:P}){const R=P,W=v,ue=M.ref(W.placeholder),de=M.ref(null),be=()=>{M.nextTick(()=>{if(ge.value&&ln(ge.value,"image"))if(W.modelValue.file){let qe=new FileReader;qe.onload=Cn=>{ue.value=Cn.target.result},qe.readAsDataURL(W.modelValue.file)}else T2.isString(W.modelValue)&&(ue.value=W.modelValue);else ue.value=W.placeholder})};M.watch(ue,qe=>{R("preview",qe===W.placeholder?null:qe)});const ge=M.computed(()=>{if(!W.modelValue||W.multiple)return null;let qe=W.modelValue.file?W.modelValue.file.name:T2.isString(W.modelValue)?W.modelValue:null;qe=qe.split("/").pop();const Cn=qe.indexOf("?");return decodeURI(Cn>-1?qe.substring(0,Cn):qe)}),Me=M.computed(()=>W.modelValue&&ge.value?ht(ge.value):"empty"),$e=M.computed(()=>Me.value==="image"||Me.value==="empty"&&ue.value===W.placeholder?{"background-image":`url(${ue.value})`}:null),Xe=M.computed({get(){return W.modelValue??[]},set(qe){R("update:modelValue",W.multiple?qe:qe[0])}});M.onMounted(()=>{T2.isString(W.modelValue)&&ln(W.modelValue,"image")&&(ue.value=W.modelValue)});const vt=M.computed(()=>{let qe=Number(W.maxSize),Cn=1;if(Number.isNaN(qe)){let wo=W.maxSize.indexOf("GB");wo>0?Cn=1024*1024*1024:wo=W.maxSize.indexOf("MB"),wo>0?Cn=1024*1024:wo=W.maxSize.indexOf("KB"),wo>0&&(qe=Number(W.maxSize.substring(0,wo)))}return Number.isNaN(qe)?null:qe*Cn}),Wt=M.computed(()=>{const qe=Number(W.maxSize);return Number.isNaN(qe)?W.maxSize:qe>=1073741824?(qe/(1024*1024*1024)).toFixed(2)+"GB":qe>=10485760?(qe/(1024*1024)).toFixed(2)+"MB":(qe/1024).toFixed(2)+"KB"}),lt=M.computed(()=>W.acceptableTypes.map(qe=>{var wo;let Cn=(wo=Ee[qe])==null?void 0:wo.split(",");return Cn?Object.entries(kt).map(Zn=>Cn.includes(Zn[1])?Zn[0].toUpperCase():null).filter(Zn=>!!Zn).join(", "):qe.replace(".","").toUpperCase()}).join(", ")+" up to "+Wt.value),Rt=qe=>qe>1024*1024*1024*1024?(qe/1024/1024/1024/1024).toFixed(2)+" TB":qe>1024*1024*1024?(qe/1024/1024/1024).toFixed(2)+" GB":qe>1024*1024?(qe/1024/1024).toFixed(2)+" MB":qe>1024?(qe/1024).toFixed(2)+" KB":qe.toString()+" B";function tn(qe){R("update:modelValue",W.multiple?W.modelValue.filter(Cn=>Cn!==qe):null),be()}function Kt(qe){let Cn=qe.split(".").pop();return Cn.indexOf("?")>-1?Cn.substring(0,Cn.indexOf("?")):Cn}function ht(qe){let Cn=Kt(qe).toLowerCase();for(let wo in Ee)if(Ee.hasOwnProperty(wo)&&At(Cn,wo))return wo;return"other"}function ln(qe,Cn){return At(Kt(qe),Cn)}function At(qe,Cn){var Je;let wo=(Je=Ee[Cn])==null?void 0:Je.split(",");return Object.entries(kt).map(un=>wo.includes(un[1])?un[0]:null).filter(un=>!!un).indexOf(qe)>-1}const Te=M.computed(()=>W.acceptableTypes.map(qe=>(qe=qe.replace(".",""),kt[qe]||Ee[qe]||null)).filter(qe=>!!qe).join(",")),kt={aac:"audio/aac",avi:"video/x-msvideo",azw:"application/vnd.amazon.ebook",bin:"application/octet-stream",bmp:"image/bmp",css:"text/css",csv:"text/csv",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",eot:"application/vnd.ms-fontobject",epub:"application/epub+zip",gz:"application/gzip",gif:"image/gif",htm:"text/html",html:"text/html",ico:"image/vnd.microsoft.icon",ics:"text/calendar",jar:"application/java-archive",jpeg:"image/jpeg",jpg:"image/jpeg",js:"text/javascript,",json:"application/json",jsonld:"application/ld+json",geojson:"application/geo+json",mid:"audio/midi,audio/x-midi",midi:"audio/midi,audio/x-midi",mjs:"text/javascript",mp3:"audio/mpeg",mpeg:"video/mpeg",mpkg:"application/vnd.apple.installer+xml",mov:"video/quicktime",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",oga:"audio/ogg",ogv:"video/ogg",ogx:"application/ogg",opus:"audio/opus",otf:"font/otf",png:"image/png",pdf:"application/pdf",php:"application/x-httpd-php",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",rar:"application/vnd.rar",rtf:"application/rtf",sh:"application/x-sh",svg:"image/svg+xml",swf:"application/x-shockwave-flash",tar:"application/x-tar",tif:"image/tiff",tiff:"image/tiff",ts:"video/mp2t",ttf:"font/ttf",txt:"text/plain",vsd:"application/vnd.visio",wav:"audio/wav",weba:"audio/webm",webm:"video/webm",webp:"image/webp",woff:"font/woff",woff2:"font/woff2",xhtml:"application/xhtml+xml",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xml:"application/xml",xul:"application/vnd.mozilla.xul+xml",zip:"application/zip",mp4:"video/mp4"},Ee={image:[kt.bmp,kt.gif,kt.ico,kt.jpeg,kt.jpg,kt.png,kt.svg,kt.tif,kt.tiff,kt.webp].join(","),video:[kt.avi,kt.mpeg,kt.mov,kt.ogv,kt.ts,kt.webm,kt.mp4].join(","),document:[kt.doc,kt.docx,kt.odp,kt.ods,kt.odt,kt.pdf,kt.rtf,kt.txt,kt.xls,kt.xlsx].join(","),audio:[kt.aac,kt.mid,kt.midi,kt.mp3,kt.oga,kt.opus,kt.wav,kt.weba].join(",")};return(qe,Cn)=>{var wo,Zn;return M.openBlock(),M.createElementBlock("div",{class:M.normalizeClass({"blur-sm":v.disabled})},[ge.value?(M.openBlock(),M.createElementBlock("div",JV,[M.createElementVNode("div",{class:"bg-contain bg-no-repeat bg-center absolute top-2 left-2 bottom-2 right-2 grid justify-items-center content-center items-center",style:M.normalizeStyle($e.value)},[$e.value?M.createCommentVNode("",!0):(M.openBlock(),M.createElementBlock("div",QV,[Me.value==="document"||Me.value==="other"?(M.openBlock(),M.createElementBlock("svg",eH,Cn[4]||(Cn[4]=[M.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1)]))):M.createCommentVNode("",!0),Me.value==="image"?(M.openBlock(),M.createElementBlock("svg",tH,Cn[5]||(Cn[5]=[M.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"},null,-1)]))):M.createCommentVNode("",!0),Me.value==="video"?(M.openBlock(),M.createElementBlock("svg",nH,Cn[6]||(Cn[6]=[M.createElementVNode("path",{"stroke-linecap":"round",d:"M15.75 10.5l4.72-4.72a.75.75 0 011.28.53v11.38a.75.75 0 01-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25h-9A2.25 2.25 0 002.25 7.5v9a2.25 2.25 0 002.25 2.25z"},null,-1)]))):M.createCommentVNode("",!0),Me.value==="sound"?(M.openBlock(),M.createElementBlock("svg",oH,Cn[7]||(Cn[7]=[M.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 116 0v8.25a3 3 0 01-3 3z"},null,-1)]))):M.createCommentVNode("",!0),Me.value==="empty"?(M.openBlock(),M.createElementBlock("svg",rH,Cn[8]||(Cn[8]=[M.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)]))):M.createCommentVNode("",!0),Me.value!=="image"?(M.openBlock(),M.createElementBlock("div",sH,[M.unref(T2.isString)(v.modelValue)?(M.openBlock(),M.createElementBlock("a",{key:0,href:v.modelValue,target:"_blank",class:"hover:underline"},M.toDisplayString(ge.value),9,aH)):(M.openBlock(),M.createElementBlock("span",iH,M.toDisplayString(ge.value),1))])):M.createCommentVNode("",!0)]))],4),v.modelValue&&v.modelValue!=v.placeholder?(M.openBlock(),M.createElementBlock("button",{key:0,onClick:Cn[0]||(Cn[0]=Je=>tn()),type:"button",class:"text-red-500 rounded-full hover:bg-red-200 p-1 shadow border border-red-200 bg-white absolute -top-3 -right-3"},Cn[9]||(Cn[9]=[M.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[M.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]))):M.createCommentVNode("",!0)])):M.createCommentVNode("",!0),ge.value?M.createCommentVNode("",!0):(M.openBlock(),M.createElementBlock("div",{key:1,class:M.normalizeClass(["mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md bg-white",(wo=de.value)!=null&&wo.dropActive?"border-blue-500 bg-blue-100":""])},[M.createElementVNode("div",lH,[(M.openBlock(),M.createElementBlock("svg",{class:M.normalizeClass([(Zn=de.value)!=null&&Zn.dropActive?"text-blue-500":"","mx-auto h-12 w-12 text-gray-400"]),stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},Cn[10]||(Cn[10]=[M.createElementVNode("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]),2)),M.createElementVNode("div",cH,[M.createVNode(XV,{class:"relative cursor-pointer rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500","input-id":v.id,multiple:v.multiple,drop:!0,"drop-directory":!0,accept:Te.value,size:vt.value,modelValue:Xe.value,"onUpdate:modelValue":Cn[1]||(Cn[1]=Je=>Xe.value=Je),onInputFile:be,ref_key:"upload",ref:de},{default:M.withCtx(()=>Cn[11]||(Cn[11]=[M.createElementVNode("span",null,"Upload a file",-1)])),_:1},8,["input-id","multiple","accept","size","modelValue"]),Cn[12]||(Cn[12]=M.createElementVNode("div",{class:"pl-1"},"or drag and drop",-1))]),M.createElementVNode("div",dH,M.toDisplayString(lt.value),1),v.multiple&&Xe.value.length?(M.openBlock(),M.createElementBlock("ul",uH,[(M.openBlock(!0),M.createElementBlock(M.Fragment,null,M.renderList(Xe.value,Je=>(M.openBlock(),M.createElementBlock("li",{key:Je.id,class:"p-2 flex items-center rounded-md"},[M.createElementVNode("button",{onClick:un=>tn(Je),type:"button",class:"text-red-500 rounded-full hover:bg-red-200 p-1"},Cn[13]||(Cn[13]=[M.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[M.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,fH),M.createElementVNode("span",mH,M.toDisplayString(Je.name)+" - "+M.toDisplayString(Rt(Je.size)),1)]))),128))])):M.createCommentVNode("",!0)])],2)),M.createCommentVNode("",!0)],2)}}};var pH={exports:{}};(function(v){(function(){var P=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},R=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},W=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},ue=function(e,t){return de(function(n,r){return e.eq(t(n),t(r))})},de=function(e){return{eq:e}},be=de(function(e,t){return e===t}),ge=be,Me=function(e){return de(function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e.eq(t[a],n[a]))return!1;return!0})},$e=function(e,t){return ue(Me(e),function(n){return W(n,t)})},Xe=function(e){return de(function(t,n){var r=Object.keys(t),a=Object.keys(n);if(!$e(ge).eq(r,a))return!1;for(var c=r.length,u=0;u<c;u++){var h=r[u];if(!e.eq(t[h],n[h]))return!1}return!0})},vt=de(function(e,t){if(e===t)return!0;var n=P(e),r=P(t);return n!==r?!1:R(n)?e===t:n==="array"?Me(vt).eq(e,t):n==="object"?Xe(vt).eq(e,t):!1});const Wt=Object.getPrototypeOf,lt=(e,t,n)=>{var r;return n(e,t.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===t.name},Rt=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&lt(e,String,(n,r)=>r.isPrototypeOf(n))?"string":t},tn=e=>t=>Rt(t)===e,Kt=e=>t=>typeof t===e,ht=e=>t=>e===t,ln=(e,t)=>Te(e)&&lt(e,t,(n,r)=>Wt(n)===r),At=tn("string"),Te=tn("object"),kt=e=>ln(e,Object),Ee=tn("array"),qe=ht(null),Cn=Kt("boolean"),wo=ht(void 0),Zn=e=>e==null,Je=e=>!Zn(e),un=Kt("function"),B=Kt("number"),Tt=(e,t)=>{if(Ee(e)){for(let n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},bt=()=>{},pn=(e,t)=>(...n)=>e(t.apply(null,n)),io=(e,t)=>n=>e(t(n)),ft=e=>()=>e,Mn=e=>e,Hr=(e,t)=>e===t;function zt(e,...t){return(...n)=>{const r=t.concat(n);return e.apply(null,r)}}const bo=e=>t=>!e(t),St=e=>()=>{throw new Error(e)},nn=e=>e(),Js=e=>{e()},Pn=ft(!1),Do=ft(!0);class Y{constructor(t,n){this.tag=t,this.value=n}static some(t){return new Y(!0,t)}static none(){return Y.singletonNone}fold(t,n){return this.tag?n(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?Y.some(t(this.value)):Y.none()}bind(t){return this.tag?t(this.value):Y.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:Y.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return Je(t)?Y.some(t):Y.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Y.singletonNone=new Y(!1);const $o=Array.prototype.slice,Fi=Array.prototype.indexOf,Xo=Array.prototype.push,Kr=(e,t)=>Fi.call(e,t),Gl=(e,t)=>{const n=Kr(e,t);return n===-1?Y.none():Y.some(n)},_o=(e,t)=>Kr(e,t)>-1,ar=(e,t)=>{for(let n=0,r=e.length;n<r;n++){const a=e[n];if(t(a,n))return!0}return!1},no=(e,t)=>{const n=e.length,r=new Array(n);for(let a=0;a<n;a++){const c=e[a];r[a]=t(c,a)}return r},ut=(e,t)=>{for(let n=0,r=e.length;n<r;n++){const a=e[n];t(a,n)}},_t=(e,t)=>{for(let n=e.length-1;n>=0;n--){const r=e[n];t(r,n)}},Ft=(e,t)=>{const n=[],r=[];for(let a=0,c=e.length;a<c;a++){const u=e[a];(t(u,a)?n:r).push(u)}return{pass:n,fail:r}},dt=(e,t)=>{const n=[];for(let r=0,a=e.length;r<a;r++){const c=e[r];t(c,r)&&n.push(c)}return n},wn=(e,t,n)=>(_t(e,(r,a)=>{n=t(n,r,a)}),n),lo=(e,t,n)=>(ut(e,(r,a)=>{n=t(n,r,a)}),n),qo=(e,t,n)=>{for(let r=0,a=e.length;r<a;r++){const c=e[r];if(t(c,r))return Y.some(c);if(n(c,r))break}return Y.none()},mo=(e,t)=>qo(e,t,Pn),Ta=(e,t)=>{for(let n=0,r=e.length;n<r;n++){const a=e[n];if(t(a,n))return Y.some(n)}return Y.none()},Nr=e=>{const t=[];for(let n=0,r=e.length;n<r;++n){if(!Ee(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Xo.apply(t,e[n])}return t},go=(e,t)=>Nr(no(e,t)),Os=(e,t)=>{for(let n=0,r=e.length;n<r;++n){const a=e[n];if(t(a,n)!==!0)return!1}return!0},va=e=>{const t=$o.call(e,0);return t.reverse(),t},Ur=(e,t)=>dt(e,n=>!_o(t,n)),Pr=(e,t)=>{const n={};for(let r=0,a=e.length;r<a;r++){const c=e[r];n[String(c)]=t(c,r)}return n},Mo=(e,t)=>{const n=$o.call(e,0);return n.sort(t),n},ua=(e,t)=>t>=0&&t<e.length?Y.some(e[t]):Y.none(),oo=e=>ua(e,0),dn=e=>ua(e,e.length-1),_n=un(Array.from)?Array.from:e=>$o.call(e),Ws=(e,t)=>{for(let n=0;n<e.length;n++){const r=t(e[n],n);if(r.isSome())return r}return Y.none()},xi=(e,t)=>{const n=[],r=un(t)?a=>ar(n,c=>t(c,a)):a=>_o(n,a);for(let a=0,c=e.length;a<c;a++){const u=e[a];r(u)||n.push(u)}return n},Bt=Object.keys,ii=Object.hasOwnProperty,jo=(e,t)=>{const n=Bt(e);for(let r=0,a=n.length;r<a;r++){const c=n[r],u=e[c];t(u,c)}},li=(e,t)=>vr(e,(n,r)=>({k:r,v:t(n,r)})),vr=(e,t)=>{const n={};return jo(e,(r,a)=>{const c=t(r,a);n[c.k]=c.v}),n},Ud=e=>(t,n)=>{e[n]=t},fa=(e,t,n,r)=>{jo(e,(a,c)=>{(t(a,c)?n:r)(a,c)})},uc=(e,t)=>{const n={},r={};return fa(e,t,Ud(n),Ud(r)),{t:n,f:r}},hl=(e,t)=>{const n={};return fa(e,t,Ud(n),bt),n},Vi=(e,t)=>{const n=[];return jo(e,(r,a)=>{n.push(t(r,a))}),n},Kl=e=>Vi(e,Mn),Ir=(e,t)=>Yn(e,t)?Y.from(e[t]):Y.none(),Yn=(e,t)=>ii.call(e,t),Hi=(e,t)=>Yn(e,t)&&e[t]!==void 0&&e[t]!==null,wi=(e,t,n=vt)=>Xe(n).eq(e,t),bl=e=>{const t={};return ut(e,n=>{t[n]={}}),Bt(t)},jc=e=>e.length!==void 0,Jt=Array.isArray,yu=e=>{if(Jt(e))return e;{const t=[];for(let n=0,r=e.length;n<r;n++)t[n]=e[n];return t}},Yr=(e,t,n)=>{if(!e)return!1;if(n=n||e,jc(e)){for(let r=0,a=e.length;r<a;r++)if(t.call(n,e[r],r,e)===!1)return!1}else for(const r in e)if(Yn(e,r)&&t.call(n,e[r],r,e)===!1)return!1;return!0},of=(e,t)=>{const n=[];return Yr(e,(r,a)=>{n.push(t(r,a,e))}),n},vu=(e,t)=>{const n=[];return Yr(e,(r,a)=>{(!t||t(r,a,e))&&n.push(r)}),n},ki=(e,t)=>{if(e){for(let n=0,r=e.length;n<r;n++)if(e[n]===t)return n}return-1},fc=(e,t,n,r)=>{let a=wo(n)?e[0]:n;for(let c=0;c<e.length;c++)a=t.call(r,a,e[c],c);return a},ci=(e,t,n)=>{for(let r=0,a=e.length;r<a;r++)if(t.call(n,e[r],r,e))return r;return-1},Qs=e=>e[e.length-1],Ui=e=>{let t=!1,n;return(...r)=>(t||(t=!0,n=e.apply(null,r)),n)},rf=(e,t,n,r)=>{const a=e.isiOS()&&/ipad/i.test(n)===!0,c=e.isiOS()&&!a,u=e.isiOS()||e.isAndroid(),h=u||r("(pointer:coarse)"),k=a||!c&&u&&r("(min-device-width:768px)"),N=c||u&&!k,U=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,Z=!N&&!k&&!U;return{isiPad:ft(a),isiPhone:ft(c),isTablet:ft(k),isPhone:ft(N),isTouch:ft(h),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ft(U),isDesktop:ft(Z)}},Yl=(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n];if(r.test(t))return r}},Ff=(e,t)=>{const n=Yl(e,t);if(!n)return{major:0,minor:0};const r=a=>Number(t.replace(n,"$"+a));return Jo(r(1),r(2))},yl=(e,t)=>{const n=String(t).toLowerCase();return e.length===0?xu():Ff(e,n)},xu=()=>Jo(0,0),Jo=(e,t)=>({major:e,minor:t}),As={nu:Jo,detect:yl,unknown:xu},Xa=(e,t)=>Ws(t.brands,n=>{const r=n.brand.toLowerCase();return mo(e,a=>{var c;return r===((c=a.brand)===null||c===void 0?void 0:c.toLowerCase())}).map(a=>({current:a.name,version:As.nu(parseInt(n.version,10),0)}))}),Zc=(e,t)=>{const n=String(t).toLowerCase();return mo(e,r=>r.search(n))},wu=(e,t)=>Zc(e,t).map(n=>{const r=As.detect(n.versionRegexes,t);return{current:n.name,version:r}}),ku=(e,t)=>Zc(e,t).map(n=>{const r=As.detect(n.versionRegexes,t);return{current:n.name,version:r}}),ol=(e,t)=>e.substring(t),ea=(e,t,n)=>t===""||e.length>=t.length&&e.substr(n,n+t.length)===t,Vf=(e,t)=>zr(e,t)?ol(e,t.length):e,xr=(e,t,n=0,r)=>{const a=e.indexOf(t,n);return a!==-1?wo(r)?!0:a+t.length<=r:!1},zr=(e,t)=>ea(e,t,0),vl=(e,t)=>ea(e,t,e.length-t.length),rl=e=>t=>t.replace(e,""),Tc=rl(/^\s+|\s+$/g),mc=rl(/^\s+/g),ad=rl(/\s+$/g),za=e=>e.length>0,as=e=>!za(e),Oa=(e,t)=>t<=0?"":new Array(t+1).join(e),Fs=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?Y.none():Y.some(n)},sl=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Or=e=>t=>xr(t,e),Ha=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>xr(e,"edge/")&&xr(e,"chrome")&&xr(e,"safari")&&xr(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,sl],search:e=>xr(e,"chrome")&&!xr(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>xr(e,"msie")||xr(e,"trident")},{name:"Opera",versionRegexes:[sl,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Or("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Or("firefox")},{name:"Safari",versionRegexes:[sl,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(xr(e,"safari")||xr(e,"mobile/"))&&xr(e,"applewebkit")}],_i=[{name:"Windows",search:Or("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>xr(e,"iphone")||xr(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Or("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Or("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Or("linux"),versionRegexes:[]},{name:"Solaris",search:Or("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Or("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Or("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ua={browsers:ft(Ha),oses:ft(_i)},eo="Edge",di="Chromium",Vs="IE",xa="Opera",ji="Firefox",Xr="Safari",Ns=()=>Xl({current:void 0,version:As.unknown()}),Xl=e=>{const t=e.current,n=e.version,r=a=>()=>t===a;return{current:t,version:n,isEdge:r(eo),isChromium:r(di),isIE:r(Vs),isOpera:r(xa),isFirefox:r(ji),isSafari:r(Xr)}},qn={unknown:Ns,nu:Xl,edge:ft(eo),chromium:ft(di),ie:ft(Vs),opera:ft(xa),firefox:ft(ji),safari:ft(Xr)},Jl="Windows",Zi="iOS",_s="Android",al="Linux",$s="macOS",id="Solaris",sf="FreeBSD",or="ChromeOS",ne=()=>Oe({current:void 0,version:As.unknown()}),Oe=e=>{const t=e.current,n=e.version,r=a=>()=>t===a;return{current:t,version:n,isWindows:r(Jl),isiOS:r(Zi),isAndroid:r(_s),isMacOS:r($s),isLinux:r(al),isSolaris:r(id),isFreeBSD:r(sf),isChromeOS:r(or)}},Ie={unknown:ne,nu:Oe,windows:ft(Jl),ios:ft(Zi),android:ft(_s),linux:ft(al),macos:ft($s),solaris:ft(id),freebsd:ft(sf),chromeos:ft(or)},Vt={detect:(e,t,n)=>{const r=Ua.browsers(),a=Ua.oses(),c=t.bind(k=>Xa(r,k)).orThunk(()=>wu(r,e)).fold(qn.unknown,qn.nu),u=ku(a,e).fold(Ie.unknown,Ie.nu),h=rf(u,c,e,n);return{browser:c,os:u,deviceType:h}}},An=e=>window.matchMedia(e).matches;let ro=Ui(()=>Vt.detect(navigator.userAgent,Y.from(navigator.userAgentData),An));const Wn=()=>ro(),Vn=navigator.userAgent,is=Wn(),wr=is.browser,jr=is.os,Aa=is.deviceType,il=Vn.indexOf("Windows Phone")!==-1,Qo={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:wr.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!wr.isIE(),windowsPhone:il,browser:{current:wr.current,version:wr.version,isChromium:wr.isChromium,isEdge:wr.isEdge,isFirefox:wr.isFirefox,isIE:wr.isIE,isOpera:wr.isOpera,isSafari:wr.isSafari},os:{current:jr.current,version:jr.version,isAndroid:jr.isAndroid,isChromeOS:jr.isChromeOS,isFreeBSD:jr.isFreeBSD,isiOS:jr.isiOS,isLinux:jr.isLinux,isMacOS:jr.isMacOS,isSolaris:jr.isSolaris,isWindows:jr.isWindows},deviceType:{isDesktop:Aa.isDesktop,isiPad:Aa.isiPad,isiPhone:Aa.isiPhone,isPhone:Aa.isPhone,isTablet:Aa.isTablet,isTouch:Aa.isTouch,isWebView:Aa.isWebView}},af=/^\s*|\s*$/g,Wc=e=>Zn(e)?"":(""+e).replace(af,""),ja=(e,t)=>t?t==="array"&&Jt(e)?!0:typeof e===t:e!==void 0,_u=(e,t,n={})=>{const r=At(e)?e.split(t||","):e||[];let a=r.length;for(;a--;)n[r[a]]={};return n},ta=Yn,Hp=(e,...t)=>{for(let n=0;n<t.length;n++){const r=t[n];for(const a in r)if(Yn(r,a)){const c=r[a];c!==void 0&&(e[a]=c)}}return e},Ja=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),Yr(e,(a,c)=>t.call(r,a,c,n)===!1?!1:(Ja(a,t,n,r),!0)))},Ut={trim:Wc,isArray:Jt,is:ja,toArray:yu,makeMap:_u,each:Yr,map:of,grep:vu,inArray:ki,hasOwn:ta,extend:Hp,walk:Ja,resolve:(e,t=window)=>{const n=e.split(".");for(let r=0,a=n.length;r<a&&(t=t[n[r]],!!t);r++);return t},explode:(e,t)=>Ee(e)?e:e===""?[]:of(e.split(t||","),Wc),_addCacheSuffix:e=>{const t=Qo.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},Cu=(e,t,n=Hr)=>e.exists(r=>n(r,t)),lp=(e,t,n=Hr)=>Jr(e,t,n).getOr(e.isNone()&&t.isNone()),jd=e=>{const t=[],n=r=>{t.push(r)};for(let r=0;r<e.length;r++)e[r].each(n);return t},Jr=(e,t,n)=>e.isSome()&&t.isSome()?Y.some(n(e.getOrDie(),t.getOrDie())):Y.none(),Up=(e,t,n,r)=>e.isSome()&&t.isSome()&&n.isSome()?Y.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):Y.none(),Wi=(e,t)=>e?Y.some(t):Y.none(),Su=typeof window<"u"?window:Function("return this;")(),cp=(e,t)=>{let n=t??Su;for(let r=0;r<e.length&&n!==void 0&&n!==null;++r)n=n[e[r]];return n},zc=(e,t)=>{const n=e.split(".");return cp(n,t)},ld=(e,t)=>zc(e,t),Ig=(e,t)=>{const n=ld(e,t);if(n==null)throw new Error(e+" not available on this browser");return n},wa=Object.getPrototypeOf,cd=e=>Ig("HTMLElement",e),jp=e=>{const t=zc("ownerDocument.defaultView",e);return Te(e)&&(cd(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(wa(e).constructor.name))},$c=8,Hf=9,lf=11,pc=1,Oc=3,Co=e=>e.dom.nodeName.toLowerCase(),Eu=e=>e.dom.nodeType,na=e=>t=>Eu(t)===e,Zd=e=>Eu(e)===$c||Co(e)==="#comment",Tu=e=>$i(e)&&jp(e.dom),$i=na(pc),Hs=na(Oc),Wd=na(Hf),Uf=na(lf),ma=e=>t=>$i(t)&&Co(t)===e,Ds=(e,t,n)=>{if(At(n)||Cn(n)||B(n))e.setAttribute(t,n+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple")},Fr=(e,t,n)=>{Ds(e.dom,t,n)},Cs=(e,t)=>{const n=e.dom;jo(t,(r,a)=>{Ds(n,a,r)})},qi=(e,t)=>{const n=e.dom.getAttribute(t);return n===null?void 0:n},qs=(e,t)=>Y.from(qi(e,t)),Na=(e,t)=>{const n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},hs=(e,t)=>{e.dom.removeAttribute(t)},zu=e=>{const t=e.dom.attributes;return t==null||t.length===0},Us=e=>lo(e.dom.attributes,(t,n)=>(t[n.name]=n.value,t),{}),pa=(e,t)=>{const n=qi(e,t);return n===void 0||n===""?[]:n.split(" ")},oa=(e,t,n)=>{const a=pa(e,t).concat([n]);return Fr(e,t,a.join(" ")),!0},$d=(e,t,n)=>{const r=dt(pa(e,t),a=>a!==n);return r.length>0?Fr(e,t,r.join(" ")):hs(e,t),!1},Qr=e=>e.dom.classList!==void 0,jf=e=>pa(e,"class"),dd=(e,t)=>oa(e,"class",t),gc=(e,t)=>$d(e,"class",t),So=(e,t)=>_o(jf(e),t)?gc(e,t):dd(e,t),ra=(e,t)=>{Qr(e)?e.dom.classList.add(t):dd(e,t)},qd=e=>{(Qr(e)?e.dom.classList:jf(e)).length===0&&hs(e,"class")},Ci=(e,t)=>{Qr(e)?e.dom.classList.remove(t):gc(e,t),qd(e)},Ou=(e,t)=>{const n=Qr(e)?e.dom.classList.toggle(t):So(e,t);return qd(e),n},Ac=(e,t)=>Qr(e)&&e.dom.classList.contains(t),ud=(e,t)=>{const r=(t||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const a="HTML does not have a single root node";throw console.error(a,e),new Error(a)}return Qa(r.childNodes[0])},Zp=(e,t)=>{const r=(t||document).createElement(e);return Qa(r)},fd=(e,t)=>{const r=(t||document).createTextNode(e);return Qa(r)},Qa=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},ye={fromHtml:ud,fromTag:Zp,fromText:fd,fromDom:Qa,fromPoint:(e,t,n)=>Y.from(e.dom.elementFromPoint(t,n)).map(Qa)},hc=(e,t)=>{const n=[],r=c=>(n.push(c),t(c));let a=t(e);do a=a.bind(r);while(a.isSome());return n},Si=(e,t)=>{const n=e.dom;if(n.nodeType!==pc)return!1;{const r=n;if(r.matches!==void 0)return r.matches(t);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(t);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(t);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},qc=e=>e.nodeType!==pc&&e.nodeType!==Hf&&e.nodeType!==lf||e.childElementCount===0,cf=(e,t)=>{const n=t===void 0?document:t.dom;return qc(n)?[]:no(n.querySelectorAll(e),ye.fromDom)},Gd=(e,t)=>{const n=t===void 0?document:t.dom;return qc(n)?Y.none():Y.from(n.querySelector(e)).map(ye.fromDom)},Pe=(e,t)=>e.dom===t.dom,Dt=(e,t)=>{const n=e.dom,r=t.dom;return n===r?!1:n.contains(r)},xt=e=>ye.fromDom(e.dom.ownerDocument),Sn=e=>Wd(e)?e:xt(e),Po=e=>ye.fromDom(Sn(e).dom.documentElement),ir=e=>ye.fromDom(Sn(e).dom.defaultView),Dr=e=>Y.from(e.dom.parentNode).map(ye.fromDom),Rr=e=>Y.from(e.dom.parentElement).map(ye.fromDom),ui=(e,t)=>{const n=un(t)?t:Pn;let r=e.dom;const a=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const c=r.parentNode,u=ye.fromDom(c);if(a.push(u),n(u)===!0)break;r=c}return a},Rn=e=>{const t=n=>dt(n,r=>!Pe(e,r));return Dr(e).map(Br).map(t).getOr([])},Rs=e=>Y.from(e.dom.previousSibling).map(ye.fromDom),Ei=e=>Y.from(e.dom.nextSibling).map(ye.fromDom),Wp=e=>va(hc(e,Rs)),bc=e=>hc(e,Ei),Br=e=>no(e.dom.childNodes,ye.fromDom),yc=(e,t)=>{const n=e.dom.childNodes;return Y.from(n[t]).map(ye.fromDom)},Zr=e=>yc(e,0),ga=e=>yc(e,e.dom.childNodes.length-1),Nc=e=>e.dom.childNodes.length,Au=e=>e.dom.hasChildNodes(),Zf=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return ye.fromDom(t)},up=e=>Uf(e)&&Je(e.dom.host),md=un(Element.prototype.attachShadow)&&un(Node.prototype.getRootNode),xl=ft(md),ll=md?e=>ye.fromDom(e.dom.getRootNode()):Sn,Wr=e=>up(e)?e:Zf(Sn(e)),Ql=e=>up(e)?e:ye.fromDom(Sn(e).dom.body),ka=e=>{const t=ll(e);return up(t)?Y.some(t):Y.none()},Gc=e=>ye.fromDom(e.dom.host),fi=e=>{if(xl()&&Je(e.target)){const t=ye.fromDom(e.target);if($i(t)&&Kd(t)&&e.composed&&e.composedPath){const n=e.composedPath();if(n)return oo(n)}}return Y.from(e.target)},Kd=e=>Je(e.dom.shadowRoot),Gs=e=>{const t=Hs(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const n=t.ownerDocument;return ka(ye.fromDom(t)).fold(()=>n.body.contains(t),io(Gs,Gc))};var sa=(e,t,n,r,a)=>e(n,r)?Y.some(n):un(a)&&a(n)?Y.none():t(n,r,a);const ei=(e,t,n)=>{let r=e.dom;const a=un(n)?n:Pn;for(;r.parentNode;){r=r.parentNode;const c=ye.fromDom(r);if(t(c))return Y.some(c);if(a(c))break}return Y.none()},at=(e,t,n)=>sa((a,c)=>c(a),ei,e,t,n),wl=(e,t)=>{const n=e.dom;return n.parentNode?vm(ye.fromDom(n.parentNode),r=>!Pe(e,r)&&t(r)):Y.none()},vm=(e,t)=>{const n=a=>t(ye.fromDom(a));return mo(e.dom.childNodes,n).map(ye.fromDom)},Bs=(e,t)=>{const n=r=>{for(let a=0;a<r.childNodes.length;a++){const c=ye.fromDom(r.childNodes[a]);if(t(c))return Y.some(c);const u=n(r.childNodes[a]);if(u.isSome())return u}return Y.none()};return n(e.dom)},Da=(e,t,n)=>ei(e,r=>Si(r,t),n),Ra=(e,t)=>Gd(t,e),Gi=(e,t,n)=>sa((a,c)=>Si(a,c),Da,e,t,n),Nu=e=>Gi(e,"[contenteditable]"),Za=(e,t=!1)=>Gs(e)?e.dom.isContentEditable:Nu(e).fold(ft(t),n=>ur(n)==="true"),ur=e=>e.dom.contentEditable,Bl=e=>e.style!==void 0&&un(e.style.getPropertyValue),Ks=(e,t,n)=>{if(!At(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Bl(e)&&e.style.setProperty(t,n)},Ar=(e,t)=>{Bl(e)&&e.style.removeProperty(t)},xm=(e,t,n)=>{const r=e.dom;Ks(r,t,n)},Ml=(e,t)=>{const n=e.dom;jo(t,(r,a)=>{Ks(n,a,r)})},Wa=(e,t)=>{const n=e.dom,a=window.getComputedStyle(n).getPropertyValue(t);return a===""&&!Gs(e)?kl(n,t):a},kl=(e,t)=>Bl(e)?e.style.getPropertyValue(t):"",Ue=(e,t)=>{const n=e.dom,r=kl(n,t);return Y.from(r).filter(a=>a.length>0)},_a=e=>{const t={},n=e.dom;if(Bl(n))for(let r=0;r<n.style.length;r++){const a=n.style.item(r);t[a]=n.style[a]}return t},Kc=(e,t)=>{const n=e.dom;Ar(n,t),Cu(qs(e,"style").map(Tc),"")&&hs(e,"style")},_l=e=>e.dom.offsetWidth,Ms=(e,t)=>{Dr(e).each(r=>{r.dom.insertBefore(t.dom,e.dom)})},es=(e,t)=>{Ei(e).fold(()=>{Dr(e).each(a=>{Mr(a,t)})},r=>{Ms(r,t)})},ls=(e,t)=>{Zr(e).fold(()=>{Mr(e,t)},r=>{e.dom.insertBefore(t.dom,r.dom)})},Mr=(e,t)=>{e.dom.appendChild(t.dom)},Wf=(e,t)=>{Ms(e,t),Mr(t,e)},Ln=(e,t)=>{ut(t,(n,r)=>{const a=r===0?e:t[r-1];es(a,n)})},Ba=(e,t)=>{ut(t,n=>{Mr(e,n)})},mi=e=>{e.dom.textContent="",ut(Br(e),t=>{lr(t)})},lr=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},ha=e=>{const t=Br(e);t.length>0&&Ln(e,t),lr(e)},vc=(e,t)=>{const r=(t||document).createElement("div");return r.innerHTML=e,Br(ye.fromDom(r))},ec=e=>no(e,ye.fromDom),fe=e=>e.dom.innerHTML,Dc=(e,t)=>{const r=xt(e).dom,a=ye.fromDom(r.createDocumentFragment()),c=vc(t,r);Ba(a,c),mi(e),Mr(e,a)},xc=e=>{const t=ye.fromTag("div"),n=ye.fromDom(e.dom.cloneNode(!0));return Mr(t,n),fe(t)},rs=(e,t,n,r,a,c,u)=>({target:e,x:t,y:n,stop:r,prevent:a,kill:c,raw:u}),Go=e=>{const t=ye.fromDom(fi(e).getOr(e.target)),n=()=>e.stopPropagation(),r=()=>e.preventDefault(),a=pn(r,n);return rs(t,e.clientX,e.clientY,n,r,a,e)},Yd=(e,t)=>n=>{e(n)&&t(Go(n))},wc=(e,t,n,r,a)=>{const c=Yd(n,r);return e.dom.addEventListener(t,c,a),{unbind:zt(aa,e,t,c,a)}},df=(e,t,n,r)=>wc(e,t,n,r,!1),aa=(e,t,n,r)=>{e.dom.removeEventListener(t,n,r)},z=(e,t)=>({left:e,top:t,translate:(r,a)=>z(e+r,t+a)}),V=z,J=e=>{const t=e.getBoundingClientRect();return V(t.left,t.top)},Ce=(e,t)=>e!==void 0?e:t!==void 0?t:0,Ae=e=>{const t=e.dom.ownerDocument,n=t.body,r=t.defaultView,a=t.documentElement;if(n===e.dom)return V(n.offsetLeft,n.offsetTop);const c=Ce(r==null?void 0:r.pageYOffset,a.scrollTop),u=Ce(r==null?void 0:r.pageXOffset,a.scrollLeft),h=Ce(a.clientTop,n.clientTop),k=Ce(a.clientLeft,n.clientLeft);return Ot(e).translate(u-k,c-h)},Ot=e=>{const t=e.dom,r=t.ownerDocument.body;return r===t?V(r.offsetLeft,r.offsetTop):Gs(e)?J(t):V(0,0)},yn=e=>{const t=e!==void 0?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return V(n,r)},so=(e,t,n)=>{const a=(n!==void 0?n.dom:document).defaultView;a&&a.scrollTo(e,t)},Hn=(e,t)=>{Wn().browser.isSafari()&&un(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},En=e=>{const t=e===void 0?window:e;return Wn().browser.isFirefox()?Y.none():Y.from(t.visualViewport)},gr=(e,t,n,r)=>({x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}),bs=e=>{const t=e===void 0?window:e,n=t.document,r=yn(ye.fromDom(n));return En(t).fold(()=>{const a=t.document.documentElement,c=a.clientWidth,u=a.clientHeight;return gr(r.left,r.top,c,u)},a=>gr(Math.max(a.pageLeft,r.left),Math.max(a.pageTop,r.top),a.width,a.height))},Ti=(e,t)=>dt(Br(e),t),pd=(e,t)=>{let n=[];return ut(Br(e),r=>{t(r)&&(n=n.concat([r])),n=n.concat(pd(r,t))}),n},zi=(e,t)=>cf(t,e),ba=(e,t,n)=>Da(e,t,n).isSome();class pi{constructor(t,n){this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,n,r,a){if(t){if(!a&&t[n])return t[n];if(t!==this.rootNode){let c=t[r];if(c)return c;for(let u=t.parentNode;u&&u!==this.rootNode;u=u.parentNode)if(c=u[r],c)return c}}}findPreviousNode(t,n){if(t){const r=t.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!n){for(let c=r.lastChild;c;c=c.lastChild)if(!c.lastChild)return c}return r}const a=t.parentNode;if(a&&a!==this.rootNode)return a}}}const Oi=e=>t=>!!t&&t.nodeType===e,wm=e=>!!e&&!Object.getPrototypeOf(e),kn=Oi(1),Ys=e=>kn(e)&&Tu(ye.fromDom(e)),cl=e=>kn(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",Rc=e=>{const t=e.toLowerCase();return n=>Je(n)&&n.nodeName.toLowerCase()===t},Ll=e=>{const t=e.map(n=>n.toLowerCase());return n=>{if(n&&n.nodeName){const r=n.nodeName.toLowerCase();return _o(t,r)}return!1}},Du=(e,t)=>{const n=t.toLowerCase().split(" ");return r=>{if(kn(r)){const a=r.ownerDocument.defaultView;if(a)for(let c=0;c<n.length;c++){const u=a.getComputedStyle(r,null);if((u?u.getPropertyValue(e):null)===n[c])return!0}}return!1}},fp=e=>t=>kn(t)&&t.hasAttribute(e),$p=(e,t)=>n=>kn(n)&&n.getAttribute(e)===t,Yc=e=>kn(e)&&e.hasAttribute("data-mce-bogus"),Fg=e=>kn(e)&&e.getAttribute("data-mce-bogus")==="all",gd=e=>kn(e)&&e.tagName==="TABLE",Ru=e=>t=>!!(Ys(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),Bc=Ll(["textarea","input"]),Nt=Oi(3),km=Oi(4),Bu=Oi(7),Mu=Oi(8),Cl=Oi(9),$f=Oi(11),ss=Rc("br"),Sl=Rc("img"),tc=Ru("true"),$r=Ru("false"),uf=Ll(["td","th"]),Lo=Ll(["td","th","caption"]),gn=Ll(["video","audio","object","embed"]),Lu=Rc("li"),mp=Rc("details"),ff=Rc("summary"),nc="\uFEFF",Ro=" ",Ma=e=>e===nc,_m=e=>e.replace(/\uFEFF/g,""),oc=((e,t)=>{const n=c=>{if(!e(c))throw new Error("Can only get "+t+" value of a "+t+" node");return r(c).getOr("")},r=c=>e(c)?Y.from(c.dom.nodeValue):Y.none();return{get:n,getOption:r,set:(c,u)=>{if(!e(c))throw new Error("Can only set raw "+t+" value of a "+t+" node");c.dom.nodeValue=u}}})(Hs,"text"),Xd=e=>oc.get(e),Jd=e=>oc.getOption(e),Pu=(e,t)=>oc.set(e,t),hd=["td","th"],Pl=["thead","tbody","tfoot"],Iu=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],ts=["li","dd","dt"],Qd=["ul","ol","dl"],Mh=["pre","script","textarea","style"],dl=e=>{let t;return n=>(t=t||Pr(e,Do),Yn(t,Co(n)))},Cm=e=>Co(e)==="table",Ki=e=>$i(e)&&Co(e)==="br",qf=dl(Iu),bd=dl(Qd),Fu=dl(ts),yd=dl(Pl),mf=dl(hd),Gf=dl(Mh),bn=e=>{const t=[];let n=e.dom;for(;n;)t.push(ye.fromDom(n)),n=n.lastChild;return t},pp=e=>{const t=zi(e,"br"),n=dt(bn(e).slice(-1),Ki);t.length===n.length&&ut(n,lr)},Sm=()=>{const e=ye.fromTag("br");return Fr(e,"data-mce-bogus","1"),e},pf=e=>{mi(e),Mr(e,Sm())},Lh=(e,t)=>{ga(e).each(n=>{Rs(n).each(r=>{t.isBlock(Co(e))&&Ki(n)&&t.isBlock(Co(r))&&lr(n)})})},C=nc,D=Ma,G=_m,ae=e=>e.insertContent(C,{preserve_zwsp:!0}),De=kn,st=Nt,It=e=>(st(e)&&(e=e.parentNode),De(e)&&e.hasAttribute("data-mce-caret")),rn=e=>st(e)&&D(e.data),Tn=e=>It(e)||rn(e),co=e=>e.firstChild!==e.lastChild||!ss(e.firstChild),ys=(e,t)=>{var n;const a=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(C),c=e.parentNode;if(t){const u=e.previousSibling;if(st(u)){if(Tn(u))return u;if($a(u))return u.splitText(u.data.length-1)}c==null||c.insertBefore(a,e)}else{const u=e.nextSibling;if(st(u)){if(Tn(u))return u;if(La(u))return u.splitText(1),u}e.nextSibling?c==null||c.insertBefore(a,e.nextSibling):c==null||c.appendChild(a)}return a},ko=e=>{const t=e.container();return Nt(t)?t.data.charAt(e.offset())===C||e.isAtStart()&&rn(t.previousSibling):!1},cr=e=>{const t=e.container();return Nt(t)?t.data.charAt(e.offset()-1)===C||e.isAtEnd()&&rn(t.nextSibling):!1},ns=(e,t,n)=>{var r;const c=((r=t.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);c.setAttribute("data-mce-caret",n?"before":"after"),c.setAttribute("data-mce-bogus","all"),c.appendChild(Sm().dom);const u=t.parentNode;return n?u==null||u.insertBefore(c,t):t.nextSibling?u==null||u.insertBefore(c,t.nextSibling):u==null||u.appendChild(c),c},La=e=>st(e)&&e.data[0]===C,$a=e=>st(e)&&e.data[e.data.length-1]===C,Xc=e=>{var t;const n=e.getElementsByTagName("br"),r=n[n.length-1];Yc(r)&&((t=r.parentNode)===null||t===void 0||t.removeChild(r))},Em=e=>e&&e.hasAttribute("data-mce-caret")?(Xc(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,gf=e=>It(e.startContainer),er=tc,Tm=$r,eu=ss,tu=Nt,gp=Ll(["script","style","textarea"]),qp=Ll(["img","input","textarea","hr","iframe","video","audio","object","embed"]),nu=Ll(["table"]),To=Tn,kr=e=>To(e)?!1:tu(e)?!gp(e.parentNode):qp(e)||eu(e)||nu(e)||hr(e),gi=e=>kn(e)&&e.getAttribute("unselectable")==="true",hr=e=>!gi(e)&&Tm(e),Gp=(e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(hr(n))return!1;if(er(n))return!0}return!0},Ls=e=>hr(e)?!lo(_n(e.getElementsByTagName("*")),(t,n)=>t||er(n),!1):!1,vs=e=>qp(e)||Ls(e),Yi=(e,t)=>kr(e)&&Gp(e,t),Mc=/^[ \t\r\n]*$/,ou=e=>Mc.test(e),vd=e=>{for(const t of e)if(!Ma(t))return!1;return!0},Kf=e=>" \f	\v".indexOf(e)!==-1,Kp=e=>e===`
`||e==="\r",Yf=(e,t)=>t<e.length&&t>=0?Kp(e[t]):!1,hf=(e,t=4,n=!0,r=!0)=>{const a=Oa(" ",t),c=e.replace(/\t/g,a);return lo(c,(h,k)=>Kf(k)||k===Ro?h.pcIsSpace||h.str===""&&n||h.str.length===c.length-1&&r||Yf(c,h.str.length+1)?{pcIsSpace:!1,str:h.str+Ro}:{pcIsSpace:!0,str:h.str+" "}:{pcIsSpace:Kp(k),str:h.str+k},{pcIsSpace:!1,str:""}).str},Vg=(e,t)=>{const n=ye.fromDom(t),r=ye.fromDom(e);return ba(r,"pre,code",zt(Pe,n))},zm=(e,t)=>Nt(e)&&ou(e.data)&&!Vg(e,t),ly=e=>kn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),ru=(e,t)=>kr(e)&&!zm(e,t)||ly(e)||Ss(e),Ss=fp("data-mce-bookmark"),Ph=fp("data-mce-bogus"),Ih=$p("data-mce-bogus","all"),Fh=e=>Rr(ye.fromDom(e)).exists(t=>!Za(t)),El=(e,t)=>{let n=0;if(ru(e,e))return!1;{let r=e.firstChild;if(!r)return!0;const a=new pi(r,e);do{if(t){if(Ih(r)){r=a.next(!0);continue}if(Ph(r)){r=a.next();continue}}if(tc(r)&&Fh(r))return!1;if(ss(r)){n++,r=a.next();continue}if(ru(r,e))return!1;r=a.next()}while(r);return n<=1}},qr=(e,t=!0)=>El(e.dom,t),Tl=e=>e.toLowerCase()==="svg",Yp=e=>Tl(e.nodeName),Vh=e=>(e==null?void 0:e.nodeName)==="svg"?"svg":"html",cy=["svg"],Hg=()=>{let e=[];const t=()=>e[e.length-1];return{track:c=>{Yp(c)&&e.push(c);let u=t();return u&&!u.contains(c)&&(e.pop(),u=t()),Vh(u)},current:()=>Vh(t()),reset:()=>{e=[]}}},Pa="data-mce-block",su=e=>dt(Bt(e),t=>!/[A-Z]/.test(t)),ia=e=>no(su(e),t=>`${t}:`+no(cy,n=>`not(${n} ${t})`).join(":")).join(","),xd=(e,t)=>Je(t.querySelector(e))?(t.setAttribute(Pa,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(Pa),!1),bf=(e,t)=>{const n=ia(e.getTransparentElements()),r=ia(e.getBlockElements());return dt(t.querySelectorAll(n),a=>xd(r,a))},Vu=(e,t)=>{var n;const r=t?"lastChild":"firstChild";for(let a=e[r];a;a=a[r])if(qr(ye.fromDom(a))){(n=a.parentNode)===null||n===void 0||n.removeChild(a);return}},hi=(e,t)=>{const n=document.createRange(),r=e.parentNode;if(r){n.setStartBefore(e),n.setEndBefore(t);const a=n.extractContents();Vu(a,!0),n.setStartAfter(t),n.setEndAfter(e);const c=n.extractContents();Vu(c,!1),qr(ye.fromDom(a))||r.insertBefore(a,e),qr(ye.fromDom(t))||r.insertBefore(t,e),qr(ye.fromDom(c))||r.insertBefore(c,e),r.removeChild(e)}},yf=(e,t,n)=>{const r=e.getBlockElements(),a=ye.fromDom(t),c=h=>Co(h)in r,u=h=>Pe(h,a);ut(ec(n),h=>{ei(h,c,u).each(k=>{const N=Ti(h,U=>c(U)&&!e.isValidChild(Co(k),Co(U)));if(N.length>0){const U=Rr(k);ut(N,Z=>{ei(Z,c,u).each(K=>{hi(K.dom,Z.dom)})}),U.each(Z=>bf(e,Z.dom))}})})},Ug=(e,t,n)=>{ut([...n,...Hu(e,t)?[t]:[]],r=>ut(zi(ye.fromDom(r),r.nodeName.toLowerCase()),a=>{Jp(e,a.dom)&&ha(a)}))},Hh=(e,t)=>{const n=bf(e,t);yf(e,t,n),Ug(e,t,n)},Om=(e,t)=>{if(Xp(e,t)){const n=ia(e.getBlockElements());xd(n,t)}},jg=(e,t,n)=>{const r=c=>Pe(c,ye.fromDom(t)),a=ui(ye.fromDom(n),r);ua(a,a.length-2).filter($i).fold(()=>Hh(e,t),c=>Hh(e,c.dom))},hp=e=>e.hasAttribute(Pa),Am=(e,t)=>Yn(e.getTransparentElements(),t),Xp=(e,t)=>kn(t)&&Am(e,t.nodeName),Hu=(e,t)=>Xp(e,t)&&hp(t),Jp=(e,t)=>Xp(e,t)&&!hp(t),wd=(e,t)=>t.type===1&&Am(e,t.name)&&At(t.attr(Pa)),bp=Wn().browser,Vo=e=>mo(e,$i),rc=e=>bp.isFirefox()&&Co(e)==="table"?Vo(Br(e)).filter(t=>Co(t)==="caption").bind(t=>Vo(bc(t)).map(n=>{const r=n.dom.offsetTop,a=t.dom.offsetTop,c=t.dom.offsetHeight;return r<=a?-c:0})).getOr(0):0,au=(e,t)=>e.children&&_o(e.children,t),Qp=(e,t,n)=>{let r=0,a=0;const c=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&Wa(ye.fromDom(e),"position")==="static"){const h=t.getBoundingClientRect();return r=h.left+(c.documentElement.scrollLeft||e.scrollLeft)-c.documentElement.clientLeft,a=h.top+(c.documentElement.scrollTop||e.scrollTop)-c.documentElement.clientTop,{x:r,y:a}}let u=t;for(;u&&u!==n&&u.nodeType&&!au(u,n);){const h=u;r+=h.offsetLeft||0,a+=h.offsetTop||0,u=h.offsetParent}for(u=t.parentNode;u&&u!==n&&u.nodeType&&!au(u,n);)r-=u.scrollLeft||0,a-=u.scrollTop||0,u=u.parentNode;a+=rc(ye.fromDom(t))}return{x:r,y:a}},cs=(e,t={})=>{let n=0;const r={},a=ye.fromDom(e),c=Sn(a),u=Be=>{t.referrerPolicy=Be},h=Be=>{t.contentCssCors=Be},k=Be=>{Mr(Wr(a),Be)},N=Be=>{const Fe=Wr(a);Ra(Fe,"#"+Be).each(lr)},U=Be=>Ir(r,Be).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0})),Z=Be=>new Promise((Fe,Ve)=>{let We;const Ct=Ut._addCacheSuffix(Be),$t=U(Ct);r[Ct]=$t,$t.count++;const mn=(hn,Fn)=>{ut(hn,Js),$t.status=Fn,$t.passed=[],$t.failed=[],We&&(We.onload=null,We.onerror=null,We=null)},it=()=>mn($t.passed,2),tt=()=>mn($t.failed,3);if(Fe&&$t.passed.push(Fe),Ve&&$t.failed.push(Ve),$t.status===1)return;if($t.status===2){it();return}if($t.status===3){tt();return}$t.status=1;const Mt=ye.fromTag("link",c.dom);Cs(Mt,{rel:"stylesheet",type:"text/css",id:$t.id}),t.contentCssCors&&Fr(Mt,"crossOrigin","anonymous"),t.referrerPolicy&&Fr(Mt,"referrerpolicy",t.referrerPolicy),We=Mt.dom,We.onload=it,We.onerror=tt,k(Mt),Fr(Mt,"href",Ct)}),K=(Be,Fe)=>{const Ve=U(Be);r[Be]=Ve,Ve.count++;const We=ye.fromTag("style",c.dom);Cs(We,{rel:"stylesheet",type:"text/css",id:Ve.id}),We.dom.innerHTML=Fe,k(We)},le=Be=>Promise.allSettled(no(Be,Ve=>Z(Ve).then(ft(Ve)))).then(Ve=>{const We=Ft(Ve,Ct=>Ct.status==="fulfilled");return We.fail.length>0?Promise.reject(no(We.fail,Ct=>Ct.reason)):no(We.pass,Ct=>Ct.value)}),ve=Be=>{const Fe=Ut._addCacheSuffix(Be);Ir(r,Fe).each(Ve=>{--Ve.count===0&&(delete r[Fe],N(Ve.id))})};return{load:Z,loadRawCss:K,loadAll:le,unload:ve,unloadRawCss:Be=>{Ir(r,Be).each(Fe=>{--Fe.count===0&&(delete r[Be],N(Fe.id))})},unloadAll:Be=>{ut(Be,Fe=>{ve(Fe)})},_setReferrerPolicy:u,_setContentCssCors:h}},uy=(()=>{const e=new WeakMap;return{forElement:(n,r)=>{const c=ll(n).dom;return Y.from(e.get(c)).getOrThunk(()=>{const u=cs(c,r);return e.set(c,u),u})}}})(),Xi=e=>e.nodeName.toLowerCase()==="span",sc=(e,t,n)=>Je(e)&&(ru(e,t)||n.isInline(e.nodeName.toLowerCase())),Zg=(e,t,n)=>{const r=new pi(e,t).prev(!1),a=new pi(e,t).next(!1),c=wo(r)||sc(r,t,n),u=wo(a)||sc(a,t,n);return c&&u},Wg=e=>Xi(e)&&e.getAttribute("data-mce-type")==="bookmark",fy=(e,t,n)=>Nt(e)&&e.data.length>0&&Zg(e,t,n),Uh=e=>kn(e)?e.childNodes.length>0:!1,E0=e=>$f(e)||Cl(e),jh=(e,t,n,r)=>{var a;const c=r||t;if(kn(t)&&Wg(t))return t;const u=t.childNodes;for(let h=u.length-1;h>=0;h--)jh(e,u[h],n,c);if(kn(t)){const h=t.childNodes;h.length===1&&Wg(h[0])&&((a=t.parentNode)===null||a===void 0||a.insertBefore(h[0],t))}return!E0(t)&&!ru(t,c)&&!Uh(t)&&!fy(t,c,n)&&e.remove(t),t},vf=Ut.makeMap,yp=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Uu=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,kc=/[<>&\"\']/g,bi=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,kd={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},zo={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},$g={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Zh=e=>{const t=ye.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},xf=(e,t)=>{const n={};if(e){const r=e.split(",");t=t||10;for(let a=0;a<r.length;a+=2){const c=String.fromCharCode(parseInt(r[a],t));if(!zo[c]){const u="&"+r[a+1]+";";n[c]=u,n[u]=c}}return n}else return},qg=xf("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),eg=(e,t)=>e.replace(t?yp:Uu,n=>zo[n]||n),Ai=e=>(""+e).replace(kc,t=>zo[t]||t),Cr=(e,t)=>e.replace(t?yp:Uu,n=>n.length>1?"&#"+((n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320)+65536)+";":zo[n]||"&#"+n.charCodeAt(0)+";"),Ji=(e,t,n)=>{const r=n||qg;return e.replace(t?yp:Uu,a=>zo[a]||r[a]||a)},la={encodeRaw:eg,encodeAllRaw:Ai,encodeNumeric:Cr,encodeNamed:Ji,getEncodeFunc:(e,t)=>{const n=xf(t)||qg,r=(u,h)=>u.replace(h?yp:Uu,k=>zo[k]!==void 0?zo[k]:n[k]!==void 0?n[k]:k.length>1?"&#"+((k.charCodeAt(0)-55296)*1024+(k.charCodeAt(1)-56320)+65536)+";":"&#"+k.charCodeAt(0)+";"),a=(u,h)=>Ji(u,h,n),c=vf(e.replace(/\+/g,","));return c.named&&c.numeric?r:c.named?t?a:Ji:c.numeric?Cr:eg},decode:e=>e.replace(bi,(t,n)=>n?(n.charAt(0).toLowerCase()==="x"?n=parseInt(n.substr(1),16):n=parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(n&1023))):kd[n]||String.fromCharCode(n)):$g[t]||qg[t]||Zh(t))},Ni=(e,t)=>(e=Ut.trim(e),e?e.split(t||" "):[]),Gg=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),my=e=>{const t=/^(~)?(.+)$/;return go(Ni(e,","),n=>{const r=t.exec(n);if(r){const a=r[1]==="~",c=a?"span":"div",u=r[2];return[{inline:a,cloneName:c,name:u}]}else return[]})},tg=e=>{let t,n,r;if(t="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"){const c="a ins del canvas map";t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav "+c,r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen svg"}e!=="html5-strict"&&(t+=" xml:lang",r=[r,"acronym applet basefont big font strike tt"].join(" "),n=[n,"center dir isindex noframes"].join(" "));const a=[n,r].join(" ");return{globalAttributes:t,blockContent:n,phrasingContent:r,flowContent:a}},ju=e=>{const{globalAttributes:t,phrasingContent:n,flowContent:r}=tg(e),a={},c=(k,N,U)=>{a[k]={attributes:Pr(N,ft({})),attributesOrder:N,children:Pr(U,ft({}))}},u=(k,N="",U="")=>{const Z=Ni(U),K=Ni(k);let le=K.length;const ve=Ni([t,N].join(" "));for(;le--;)c(K[le],ve.slice(),Z)},h=(k,N)=>{const U=Ni(k),Z=Ni(N);let K=U.length;for(;K--;){const le=a[U[K]];for(let ve=0,ie=Z.length;ve<ie;ve++)le.attributes[Z[ve]]={},le.attributesOrder.push(Z[ve])}};return e!=="html5-strict"&&(ut(Ni("acronym applet basefont big font strike tt"),U=>{u(U,"",n)}),ut(Ni("center dir isindex noframes"),U=>{u(U,"",r)})),u("html","manifest","head body"),u("head","","base command link meta noscript script style title"),u("title hr noscript br"),u("base","href target"),u("link","href rel media hreflang type sizes hreflang"),u("meta","name http-equiv content charset"),u("style","media type scoped"),u("script","src async defer type charset"),u("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),u("dd div","",r),u("address dt caption","",e==="html4"?n:r),u("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",n),u("blockquote","cite",r),u("ol","reversed start type","li"),u("ul","","li"),u("li","value",r),u("dl","","dt dd"),u("a","href target rel media hreflang type",e==="html4"?n:r),u("q","cite",n),u("ins del","cite datetime",r),u("img","src sizes srcset alt usemap ismap width height"),u("iframe","src name width height",r),u("embed","src type width height"),u("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),u("param","name value"),u("map","name",[r,"area"].join(" ")),u("area","alt coords shape href target rel media hreflang type"),u("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),u("colgroup","span","col"),u("col","span"),u("tbody thead tfoot","","tr"),u("tr","","td th"),u("td","colspan rowspan headers",r),u("th","colspan rowspan headers scope abbr",r),u("form","accept-charset action autocomplete enctype method name novalidate target",r),u("fieldset","disabled form name",[r,"legend"].join(" ")),u("label","form for",n),u("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),u("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:n),u("select","disabled form multiple name required size","option optgroup"),u("optgroup","disabled label","option"),u("option","disabled label selected value"),u("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),u("menu","type label",[r,"li"].join(" ")),u("noscript","",r),e!=="html4"&&(u("wbr"),u("ruby","",[n,"rt rp"].join(" ")),u("figcaption","",r),u("mark rt rp bdi","",n),u("summary","",[n,"h1 h2 h3 h4 h5 h6"].join(" ")),u("canvas","width height",r),u("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),u("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),u("picture","","img source"),u("source","src srcset type media sizes"),u("track","kind src srclang label default"),u("datalist","",[n,"option"].join(" ")),u("article section nav aside main header footer","",r),u("hgroup","","h1 h2 h3 h4 h5 h6"),u("figure","",[r,"figcaption"].join(" ")),u("time","datetime",n),u("dialog","open",r),u("command","type label icon disabled checked radiogroup command"),u("output","for form name",n),u("progress","value max",n),u("meter","value min max low high optimum",n),u("details","open",[r,"summary"].join(" ")),u("keygen","autofocus challenge disabled form keytype name"),c("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(h("script","language xml:space"),h("style","xml:space"),h("object","declare classid code codebase codetype archive standby align border hspace vspace"),h("embed","align name hspace vspace"),h("param","valuetype type"),h("a","charset name rev shape coords"),h("br","clear"),h("applet","codebase archive code object alt name width height align hspace vspace"),h("img","name longdesc align border hspace vspace"),h("iframe","longdesc frameborder marginwidth marginheight scrolling align"),h("font basefont","size color face"),h("input","usemap align"),h("select"),h("textarea"),h("h1 h2 h3 h4 h5 h6 div p legend caption","align"),h("ul","type compact"),h("li","type"),h("ol dl menu dir","compact"),h("pre","width xml:space"),h("hr","align noshade size width"),h("isindex","prompt"),h("table","summary width frame rules cellspacing cellpadding align bgcolor"),h("col","width align char charoff valign"),h("colgroup","width align char charoff valign"),h("thead","align char charoff valign"),h("tr","align char charoff valign bgcolor"),h("th","axis align char charoff valign nowrap bgcolor width height"),h("form","accept"),h("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),h("tfoot","align char charoff valign"),h("tbody","align char charoff valign"),h("area","nohref"),h("body","background bgcolor text link vlink alink")),e!=="html4"&&(h("input button select textarea","autofocus"),h("input textarea","placeholder"),h("a","download"),h("link script img","crossorigin"),h("img","loading"),h("iframe","sandbox seamless allow allowfullscreen loading")),e!=="html4"&&ut([a.video,a.audio],k=>{delete k.children.audio,delete k.children.video}),ut(Ni("a form meter progress dfn"),k=>{a[k]&&delete a[k].children[k]}),delete a.caption.children.table,delete a.script,a},Di=e=>e==="-"?"remove":"add",ng=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return go(Ni(e,","),n=>{const r=t.exec(n);if(r){const a=r[1],c=a?Di(a):"replace",u=r[2],h=Ni(r[3],"|");return[{operation:c,name:u,validChildren:h}]}else return[]})},Kg=(e,t)=>{const n=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:a,attributesOrder:c}=t;return ut(Ni(e,"|"),u=>{const h=n.exec(u);if(h){const k={},N=h[1],U=h[2].replace(/[\\:]:/g,":"),Z=h[3],K=h[4];if(N==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(U),k.required=!0),N==="-"){delete a[U],c.splice(Ut.inArray(c,U),1);return}if(Z&&(Z==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:U,value:K}),k.defaultValue=K):Z==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:U,value:K}),k.forcedValue=K):Z==="<"&&(k.validValues=Ut.makeMap(K,"?"))),r.test(U)){const le=k;t.attributePatterns=t.attributePatterns||[],le.pattern=Gg(U),t.attributePatterns.push(le)}else a[U]||c.push(U),a[U]=k}})},py=(e,t)=>{jo(e.attributes,(n,r)=>{t.attributes[r]=n}),t.attributesOrder.push(...e.attributesOrder)},e1=(e,t)=>{const n=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return go(Ni(t,","),r=>{const a=n.exec(r);if(a){const c=a[1],u=a[2],h=a[3],k=a[4],N=a[5],U={attributes:{},attributesOrder:[]};if(e.each(Z=>py(Z,U)),c==="#"?U.paddEmpty=!0:c==="-"&&(U.removeEmpty=!0),k==="!"&&(U.removeEmptyAttrs=!0),N&&Kg(N,U),h&&(U.outputName=u),u==="@")if(e.isNone())e=Y.some(U);else return[];return[h?{name:u,element:U,aliasName:h}:{name:u,element:U}]}else return[]})},og={},wf=Ut.makeMap,Jc=Ut.each,Ht=Ut.extend,gy=Ut.explode,yi=(e,t={})=>{const n=wf(e," ",wf(e.toUpperCase()," "));return Ht(n,t)},Yg=e=>yi("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Nm=(e,t)=>{if(e){const n={};return At(e)&&(e={"*":e}),Jc(e,(r,a)=>{n[a]=n[a.toUpperCase()]=t==="map"?wf(r,/[, ]/):gy(r,/[, ]/)}),n}else return},Zu=(e={})=>{var t;const n={},r={};let a=[];const c={},u={},h=(yo,pr,ks)=>{const Va=e[yo];if(Va)return wf(Va,/[, ]/,wf(Va.toUpperCase(),/[, ]/));{let Ya=og[yo];return Ya||(Ya=yi(pr,ks),og[yo]=Ya),Ya}},k=(t=e.schema)!==null&&t!==void 0?t:"html5",N=ju(k);e.verify_html===!1&&(e.valid_elements="*[*]");const U=Nm(e.valid_styles),Z=Nm(e.invalid_styles,"map"),K=Nm(e.valid_classes,"map"),le=h("whitespace_elements","pre script noscript style textarea video audio iframe object code"),ve=h("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),ie=h("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),we=h("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),Be="td th iframe video audio object script code",Fe=h("non_empty_elements",Be+" pre svg",ie),Ve=h("move_caret_before_on_enter_elements",Be+" table",ie),We="h1 h2 h3 h4 h5 h6",Ct=h("text_block_elements",We+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),$t=h("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",Ct),mn=h("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),it=h("transparent_elements","a ins del canvas map"),tt=h("wrap_block_elements","pre "+We);Jc("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),yo=>{u[yo]=new RegExp("</"+yo+"[^>]*>","gi")});const Mt=yo=>{const pr=Y.from(n["@"]),ks=/[*?+]/;ut(e1(pr,yo??""),({name:Va,element:Ya,aliasName:Vp})=>{if(Vp&&(n[Vp]=Ya),ks.test(Va)){const w2=Ya;w2.pattern=Gg(Va),a.push(w2)}else n[Va]=Ya})},hn=yo=>{a=[],ut(Bt(n),pr=>{delete n[pr]}),Mt(yo)},Fn=yo=>{delete og.text_block_elements,delete og.block_elements,ut(my(yo??""),({inline:pr,name:ks,cloneName:Va})=>{if(r[ks]=r[Va],c[ks]=Va,Fe[ks.toUpperCase()]={},Fe[ks]={},pr||($t[ks.toUpperCase()]={},$t[ks]={}),!n[ks]){let Ya=n[Va];Ya=Ht({},Ya),delete Ya.removeEmptyAttrs,delete Ya.removeEmpty,n[ks]=Ya}jo(r,(Ya,Vp)=>{Ya[Va]&&(r[Vp]=Ya=Ht({},r[Vp]),Ya[ks]=Ya[Va])})})},Ho=yo=>{ut(ng(yo??""),({operation:pr,name:ks,validChildren:Va})=>{const Ya=pr==="replace"?{"#comment":{}}:r[ks];ut(Va,Vp=>{pr==="remove"?delete Ya[Vp]:Ya[Vp]={}}),r[ks]=Ya})},Wo=yo=>{const pr=n[yo];if(pr)return pr;let ks=a.length;for(;ks--;){const Va=a[ks];if(Va.pattern.test(yo))return Va}};e.valid_elements?(hn(e.valid_elements),Jc(N,(yo,pr)=>{r[pr]=yo.children})):(Jc(N,(yo,pr)=>{n[pr]={attributes:yo.attributes,attributesOrder:yo.attributesOrder},r[pr]=yo.children}),Jc(Ni("strong/b em/i"),yo=>{const pr=Ni(yo,"/");n[pr[1]].outputName=pr[0]}),Jc(mn,(yo,pr)=>{n[pr]&&(e.padd_empty_block_inline_children&&(n[pr].paddInEmptyBlock=!0),n[pr].removeEmpty=!0)}),Jc(Ni("ol ul blockquote a table tbody"),yo=>{n[yo]&&(n[yo].removeEmpty=!0)}),Jc(Ni("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),yo=>{n[yo]&&(n[yo].paddEmpty=!0)}),Jc(Ni("span"),yo=>{n[yo].removeEmptyAttrs=!0})),delete n.svg,Fn(e.custom_elements),Ho(e.valid_children),Mt(e.extended_valid_elements),Ho("+ol[ul|ol],+ul[ul|ol]"),Jc({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(yo,pr)=>{n[pr]&&(n[pr].parentsRequired=Ni(yo))}),e.invalid_elements&&Jc(gy(e.invalid_elements),yo=>{n[yo]&&delete n[yo]}),Wo("span")||Mt("span[!data-mce-type|*]");const gs=ft(U),Is=ft(Z),vi=ft(K),Hc=ft(we),$l=ft($t),an=ft(Ct),zn=ft(mn),Tr=ft(Object.seal(ie)),br=ft(ve),On=ft(Fe),Dn=ft(Ve),Gt=ft(le),ho=ft(it),mr=ft(tt),ws=ft(Object.seal(u)),Xs=(yo,pr)=>{const ks=r[yo.toLowerCase()];return!!(ks&&ks[pr.toLowerCase()])},gu=(yo,pr)=>{const ks=Wo(yo);if(ks)if(pr){if(ks.attributes[pr])return!0;const Va=ks.attributePatterns;if(Va){let Ya=Va.length;for(;Ya--;)if(Va[Ya].pattern.test(pr))return!0}}else return!0;return!1},ym=yo=>Yn($l(),yo),ay=yo=>!zr(yo,"#")&&gu(yo)&&!ym(yo),hu=yo=>Yn(mr(),yo)||ay(yo),Mg=ft(c);return{type:k,children:r,elements:n,getValidStyles:gs,getValidClasses:vi,getBlockElements:$l,getInvalidStyles:Is,getVoidElements:Tr,getTextBlockElements:an,getTextInlineElements:zn,getBoolAttrs:Hc,getElementRule:Wo,getSelfClosingElements:br,getNonEmptyElements:On,getMoveCaretBeforeOnEnterElements:Dn,getWhitespaceElements:Gt,getTransparentElements:ho,getSpecialElements:ws,isValidChild:Xs,isValid:gu,isBlock:ym,isInline:ay,isWrapper:hu,getCustomElements:Mg,addValidElements:Mt,setValidElements:hn,addCustomElements:Fn,addValidChildren:Ho}},ac=e=>({value:t1(e)}),t1=e=>Vf(e,"#").toUpperCase(),ic=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},Wh=e=>{const t=ic(e.red)+ic(e.green)+ic(e.blue);return ac(t)},Xf=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Lc=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Qc=(e,t,n,r)=>({red:e,green:t,blue:n,alpha:r}),vp=(e,t,n,r)=>{const a=parseInt(e,10),c=parseInt(t,10),u=parseInt(n,10),h=parseFloat(r);return Qc(a,c,u,h)},Fl=e=>{if(e==="transparent")return Y.some(Qc(0,0,0,0));const t=Xf.exec(e);if(t!==null)return Y.some(vp(t[1],t[2],t[3],"1"));const n=Lc.exec(e);return n!==null?Y.some(vp(n[1],n[2],n[3],n[4])):Y.none()},$h=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,Vl=e=>Fl(e).map(Wh).map(t=>"#"+t.value).getOr(e),Wu=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,a=/\s+$/,c={};let u,h;const k=nc;t&&(u=t.getValidStyles(),h=t.getInvalidStyles());const N=(`\\" \\' \\; \\: ; : `+k).split(" ");for(let Z=0;Z<N.length;Z++)c[N[Z]]=k+Z,c[k+Z]=N[Z];const U={parse:Z=>{const K={};let le=!1;const ve=e.url_converter,ie=e.url_converter_scope||U,we=(it,tt,Mt)=>{const hn=K[it+"-top"+tt];if(!hn)return;const Fn=K[it+"-right"+tt];if(!Fn)return;const Ho=K[it+"-bottom"+tt];if(!Ho)return;const Wo=K[it+"-left"+tt];if(!Wo)return;const gs=[hn,Fn,Ho,Wo];let Is=gs.length-1;for(;Is--&&gs[Is]===gs[Is+1];);Is>-1&&Mt||(K[it+tt]=Is===-1?gs[0]:gs.join(" "),delete K[it+"-top"+tt],delete K[it+"-right"+tt],delete K[it+"-bottom"+tt],delete K[it+"-left"+tt])},Be=it=>{const tt=K[it];if(!tt)return;const Mt=tt.indexOf(",")>-1?[tt]:tt.split(" ");let hn=Mt.length;for(;hn--;)if(Mt[hn]!==Mt[0])return!1;return K[it]=Mt[0],!0},Fe=(it,tt,Mt,hn)=>{Be(tt)&&Be(Mt)&&Be(hn)&&(K[it]=K[tt]+" "+K[Mt]+" "+K[hn],delete K[tt],delete K[Mt],delete K[hn])},Ve=it=>(le=!0,c[it]),We=(it,tt)=>(le&&(it=it.replace(/\uFEFF[0-9]/g,Mt=>c[Mt])),tt||(it=it.replace(/\\([\'\";:])/g,"$1")),it),Ct=it=>String.fromCharCode(parseInt(it.slice(1),16)),$t=it=>it.replace(/\\[0-9a-f]+/gi,Ct),mn=(it,tt,Mt,hn,Fn,Ho)=>{if(Fn=Fn||Ho,Fn)return Fn=We(Fn),"'"+Fn.replace(/\'/g,"\\'")+"'";if(tt=We(tt||Mt||hn||""),!e.allow_script_urls){const Wo=tt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Wo)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Wo))return""}return ve&&(tt=ve.call(ie,tt,"style")),"url('"+tt.replace(/\'/g,"\\'")+"')"};if(Z){Z=Z.replace(/[\u0000-\u001F]/g,""),Z=Z.replace(/\\[\"\';:\uFEFF]/g,Ve).replace(/\"[^\"]+\"|\'[^\']+\'/g,tt=>tt.replace(/[;:]/g,Ve));let it;for(;it=r.exec(Z);){r.lastIndex=it.index+it[0].length;let tt=it[1].replace(a,"").toLowerCase(),Mt=it[2].replace(a,"");if(tt&&Mt){if(tt=$t(tt),Mt=$t(Mt),tt.indexOf(k)!==-1||tt.indexOf('"')!==-1||!e.allow_script_urls&&(tt==="behavior"||/expression\s*\(|\/\*|\*\//.test(Mt)))continue;tt==="font-weight"&&Mt==="700"?Mt="bold":(tt==="color"||tt==="background-color")&&(Mt=Mt.toLowerCase()),At(e.force_hex_color)&&e.force_hex_color!=="off"&&Fl(Mt).each(hn=>{(e.force_hex_color==="always"||hn.alpha===1)&&(Mt=Vl($h(hn)))}),Mt=Mt.replace(n,mn),K[tt]=le?We(Mt,!0):Mt}}we("border","",!0),we("border","-width"),we("border","-color"),we("border","-style"),we("padding",""),we("margin",""),Fe("border","border-width","border-style","border-color"),K.border==="medium none"&&delete K.border,K["border-image"]==="none"&&delete K["border-image"]}return K},serialize:(Z,K)=>{let le="";const ve=(we,Be)=>{const Fe=Be[we];if(Fe)for(let Ve=0,We=Fe.length;Ve<We;Ve++){const Ct=Fe[Ve],$t=Z[Ct];$t&&(le+=(le.length>0?" ":"")+Ct+": "+$t+";")}},ie=(we,Be)=>{if(!h||!Be)return!0;let Fe=h["*"];return Fe&&Fe[we]?!1:(Fe=h[Be],!(Fe&&Fe[we]))};return K&&u?(ve("*",u),ve(K,u)):jo(Z,(we,Be)=>{we&&ie(Be,K)&&(le+=(le.length>0?" ":"")+Be+": "+we+";")}),le}};return U},hy={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Xg=e=>e instanceof Event||un(e.initEvent),n1=e=>e.isDefaultPrevented===Do||e.isDefaultPrevented===Pn,by=e=>Zn(e.preventDefault)||Xg(e),yy=(e,t)=>{const n=t??{};for(const r in e)Yn(hy,r)||(n[r]=e[r]);return Je(e.composedPath)&&(n.composedPath=()=>e.composedPath()),Je(e.getModifierState)&&(n.getModifierState=r=>e.getModifierState(r)),Je(e.getTargetRanges)&&(n.getTargetRanges=()=>e.getTargetRanges()),n},vy=(e,t,n,r)=>{var a;const c=yy(t,r);return c.type=e,Zn(c.target)&&(c.target=(a=c.srcElement)!==null&&a!==void 0?a:n),by(t)&&(c.preventDefault=()=>{c.defaultPrevented=!0,c.isDefaultPrevented=Do,un(t.preventDefault)&&t.preventDefault()},c.stopPropagation=()=>{c.cancelBubble=!0,c.isPropagationStopped=Do,un(t.stopPropagation)&&t.stopPropagation()},c.stopImmediatePropagation=()=>{c.isImmediatePropagationStopped=Do,c.stopPropagation()},n1(c)||(c.isDefaultPrevented=c.defaultPrevented===!0?Do:Pn,c.isPropagationStopped=c.cancelBubble===!0?Do:Pn,c.isImmediatePropagationStopped=Pn)),c},Jg="mce-data-",T0=/^(?:mouse|contextmenu)|click/,Dm=(e,t,n,r)=>{e.addEventListener(t,n,r||!1)},ul=(e,t,n,r)=>{e.removeEventListener(t,n,r||!1)},Rm=e=>Je(e)&&T0.test(e.type),kf=(e,t)=>{const n=vy(e.type,e,document,t);if(Rm(e)&&wo(e.pageX)&&!wo(e.clientX)){const r=n.target.ownerDocument||document,a=r.documentElement,c=r.body,u=n;u.pageX=e.clientX+(a&&a.scrollLeft||c&&c.scrollLeft||0)-(a&&a.clientLeft||c&&c.clientLeft||0),u.pageY=e.clientY+(a&&a.scrollTop||c&&c.scrollTop||0)-(a&&a.clientTop||c&&c.clientTop||0)}return n},Es=(e,t,n)=>{const r=e.document,a={type:"ready"};if(n.domLoaded){t(a);return}const c=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,u=()=>{ul(e,"DOMContentLoaded",u),ul(e,"load",u),n.domLoaded||(n.domLoaded=!0,t(a)),e=null};c()?u():Dm(e,"DOMContentLoaded",u),n.domLoaded||Dm(e,"load",u)};class Jf{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Jg+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,n,r,a){const c=this;let u;const h=window,k=K=>{c.executeHandlers(kf(K||h.event),N)};if(!t||Nt(t)||Mu(t))return r;let N;t[c.expando]?N=t[c.expando]:(N=c.count++,t[c.expando]=N,c.events[N]={}),a=a||t;const U=n.split(" ");let Z=U.length;for(;Z--;){let K=U[Z],le=k,ve=!1,ie=!1;if(K==="DOMContentLoaded"&&(K="ready"),c.domLoaded&&K==="ready"&&t.readyState==="complete"){r.call(a,kf({type:K}));continue}!c.hasFocusIn&&(K==="focusin"||K==="focusout")&&(ve=!0,ie=K==="focusin"?"focus":"blur",le=we=>{const Be=kf(we||h.event);Be.type=Be.type==="focus"?"focusin":"focusout",c.executeHandlers(Be,N)}),u=c.events[N][K],u?K==="ready"&&c.domLoaded?r(kf({type:K})):u.push({func:r,scope:a}):(c.events[N][K]=u=[{func:r,scope:a}],u.fakeName=ie,u.capture=ve,u.nativeHandler=le,K==="ready"?Es(t,le,c):Dm(t,ie||K,le,ve))}return t=u=null,r}unbind(t,n,r){if(!t||Nt(t)||Mu(t))return this;const a=t[this.expando];if(a){let c=this.events[a];if(n){const u=n.split(" ");let h=u.length;for(;h--;){const k=u[h],N=c[k];if(N){if(r){let U=N.length;for(;U--;)if(N[U].func===r){const Z=N.nativeHandler,K=N.fakeName,le=N.capture,ve=N.slice(0,U).concat(N.slice(U+1));ve.nativeHandler=Z,ve.fakeName=K,ve.capture=le,c[k]=ve}}(!r||N.length===0)&&(delete c[k],ul(t,N.fakeName||k,N.nativeHandler,N.capture))}}}else jo(c,(u,h)=>{ul(t,u.fakeName||h,u.nativeHandler,u.capture)}),c={};for(const u in c)if(Yn(c,u))return this;delete this.events[a];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,n,r){return this.dispatch(t,n,r)}dispatch(t,n,r){if(!t||Nt(t)||Mu(t))return this;const a=kf({type:n,target:t},r);do{const c=t[this.expando];c&&this.executeHandlers(a,c),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!a.isPropagationStopped());return this}clean(t){if(!t||Nt(t)||Mu(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const n=t.getElementsByTagName("*");let r=n.length;for(;r--;)t=n[r],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,n){const r=this.events[n],a=r&&r[t.type];if(a)for(let c=0,u=a.length;c<u;c++){const h=a[c];if(h&&h.func.call(h.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}Jf.Event=new Jf;const Qi=Ut.each,rg=Ut.grep,qh="data-mce-style",sg=Ut.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Qf=(e,t,n)=>{Zn(n)||n===""?hs(e,t):Fr(e,t,n)},Gh=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),em=(e,t)=>{let n=0;if(e)for(let r=e.nodeType,a=e.previousSibling;a;a=a.previousSibling){const c=a.nodeType;t&&Nt(a)&&(c===r||!a.data.length)||(n++,r=c)}return n},xp=(e,t)=>{const n=qi(t,"style"),r=e.serialize(e.parse(n),Co(t));Qf(t,qh,r)},wp=(e,t)=>B(e)?Yn(sg,t)?e+"":e+"px":e,Kh=(e,t,n)=>{const r=Gh(t);Zn(n)||n===""?Kc(e,r):xm(e,r,wp(n,r))},Yh=(e,t,n)=>{const r=t.keep_values,a={set:(u,h,k)=>{const N=ye.fromDom(u);un(t.url_converter)&&Je(h)&&(h=t.url_converter.call(t.url_converter_scope||n(),String(h),k,u));const U="data-mce-"+k;Qf(N,U,h),Qf(N,k,h)},get:(u,h)=>{const k=ye.fromDom(u);return qi(k,"data-mce-"+h)||qi(k,h)}},c={style:{set:(u,h)=>{const k=ye.fromDom(u);r&&Qf(k,qh,h),hs(k,"style"),At(h)&&Ml(k,e.parse(h))},get:u=>{const h=ye.fromDom(u),k=qi(h,qh)||qi(h,"style");return e.serialize(e.parse(k),Co(h))}}};return r&&(c.href=c.src=a),c},us=(e,t={})=>{const n={},r=window,a={};let c=0;const u=!0,h=!0,k=uy.forElement(ye.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),N=[],U=t.schema?t.schema:Zu({}),Z=Wu({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,force_hex_color:t.force_hex_color},t.schema),K=t.ownEvents?new Jf:Jf.Event,le=U.getBlockElements(),ve=Ye=>At(Ye)?Yn(le,Ye):kn(Ye)&&(Yn(le,Ye.nodeName)||Hu(U,Ye)),ie=Ye=>Ye&&e&&At(Ye)?e.getElementById(Ye):Ye,we=Ye=>{const Qe=ie(Ye);return Je(Qe)?ye.fromDom(Qe):null},Be=(Ye,Qe,on="")=>{let Zt;const $n=we(Ye);if(Je($n)&&$i($n)){const yr=WT[Qe];yr&&yr.get?Zt=yr.get($n.dom,Qe):Zt=qi($n,Qe)}return Je(Zt)?Zt:on},Fe=Ye=>{const Qe=ie(Ye);return Zn(Qe)?[]:Qe.attributes},Ve=(Ye,Qe,on)=>{zn(Ye,Zt=>{if(kn(Zt)){const $n=ye.fromDom(Zt),yr=on===""?null:on,ai=qi($n,Qe),dc=WT[Qe];dc&&dc.set?dc.set($n.dom,yr,Qe):Qf($n,Qe,yr),ai!==yr&&t.onSetAttrib&&t.onSetAttrib({attrElm:$n.dom,attrName:Qe,attrValue:yr})}})},We=(Ye,Qe)=>Ye.cloneNode(Qe),Ct=()=>t.root_element||e.body,$t=Ye=>{const Qe=bs(Ye);return{x:Qe.x,y:Qe.y,w:Qe.width,h:Qe.height}},mn=(Ye,Qe)=>Qp(e.body,ie(Ye),Qe),it=(Ye,Qe,on)=>{zn(Ye,Zt=>{const $n=ye.fromDom(Zt);Kh($n,Qe,on),t.update_styles&&xp(Z,$n)})},tt=(Ye,Qe)=>{zn(Ye,on=>{const Zt=ye.fromDom(on);jo(Qe,($n,yr)=>{Kh(Zt,yr,$n)}),t.update_styles&&xp(Z,Zt)})},Mt=(Ye,Qe,on)=>{const Zt=ie(Ye);if(!(Zn(Zt)||!Ys(Zt)&&!cl(Zt)))return on?Wa(ye.fromDom(Zt),Gh(Qe)):(Qe=Qe.replace(/-(\D)/g,($n,yr)=>yr.toUpperCase()),Qe==="float"&&(Qe="cssFloat"),Zt.style?Zt.style[Qe]:void 0)},hn=Ye=>{const Qe=ie(Ye);if(!Qe)return{w:0,h:0};let on=Mt(Qe,"width"),Zt=Mt(Qe,"height");return(!on||on.indexOf("px")===-1)&&(on="0"),(!Zt||Zt.indexOf("px")===-1)&&(Zt="0"),{w:parseInt(on,10)||Qe.offsetWidth||Qe.clientWidth,h:parseInt(Zt,10)||Qe.offsetHeight||Qe.clientHeight}},Fn=Ye=>{const Qe=ie(Ye),on=mn(Qe),Zt=hn(Qe);return{x:on.x,y:on.y,w:Zt.w,h:Zt.h}},Ho=(Ye,Qe)=>{if(!Ye)return!1;const on=Ee(Ye)?Ye:[Ye];return ar(on,Zt=>Si(ye.fromDom(Zt),Qe))},Wo=(Ye,Qe,on,Zt)=>{const $n=[];let yr=ie(Ye);Zt=Zt===void 0;const ai=on||(Ct().nodeName!=="BODY"?Ct().parentNode:null);if(At(Qe))if(Qe==="*")Qe=kn;else{const dc=Qe;Qe=ql=>Ho(ql,dc)}for(;yr&&!(yr===ai||Zn(yr.nodeType)||Cl(yr)||$f(yr));){if(!Qe||Qe(yr))if(Zt)$n.push(yr);else return[yr];yr=yr.parentNode}return Zt?$n:null},gs=(Ye,Qe,on)=>{const Zt=Wo(Ye,Qe,on,!1);return Zt&&Zt.length>0?Zt[0]:null},Is=(Ye,Qe,on)=>{let Zt=Qe;if(Ye){At(Qe)&&(Zt=$n=>Ho($n,Qe));for(let $n=Ye[on];$n;$n=$n[on])if(un(Zt)&&Zt($n))return $n}return null},vi=(Ye,Qe)=>Is(Ye,Qe,"nextSibling"),Hc=(Ye,Qe)=>Is(Ye,Qe,"previousSibling"),$l=Ye=>un(Ye.querySelectorAll),an=(Ye,Qe)=>{var on,Zt;const $n=(Zt=(on=ie(Qe))!==null&&on!==void 0?on:t.root_element)!==null&&Zt!==void 0?Zt:e;return $l($n)?_n($n.querySelectorAll(Ye)):[]},zn=function(Ye,Qe,on){const Zt=on??this;if(Ee(Ye)){const $n=[];return Qi(Ye,(yr,ai)=>{const dc=ie(yr);dc&&$n.push(Qe.call(Zt,dc,ai))}),$n}else{const $n=ie(Ye);return $n?Qe.call(Zt,$n):!1}},Tr=(Ye,Qe)=>{zn(Ye,on=>{jo(Qe,(Zt,$n)=>{Ve(on,$n,Zt)})})},br=(Ye,Qe)=>{zn(Ye,on=>{const Zt=ye.fromDom(on);Dc(Zt,Qe)})},On=(Ye,Qe,on,Zt,$n)=>zn(Ye,yr=>{const ai=At(Qe)?e.createElement(Qe):Qe;return Je(on)&&Tr(ai,on),Zt&&(!At(Zt)&&Zt.nodeType?ai.appendChild(Zt):At(Zt)&&br(ai,Zt)),$n?ai:yr.appendChild(ai)}),Dn=(Ye,Qe,on)=>On(e.createElement(Ye),Ye,Qe,on,!0),Gt=la.decode,ho=la.encodeAllRaw,mr=(Ye,Qe,on="")=>{let Zt="<"+Ye;for(const $n in Qe)Hi(Qe,$n)&&(Zt+=" "+$n+'="'+ho(Qe[$n])+'"');return as(on)&&Yn(U.getVoidElements(),Ye)?Zt+" />":Zt+">"+on+"</"+Ye+">"},ws=Ye=>{const Qe=e.createElement("div"),on=e.createDocumentFragment();on.appendChild(Qe),Ye&&(Qe.innerHTML=Ye);let Zt;for(;Zt=Qe.firstChild;)on.appendChild(Zt);return on.removeChild(Qe),on},Xs=(Ye,Qe)=>zn(Ye,on=>{const Zt=ye.fromDom(on);return Qe&&ut(Br(Zt),$n=>{Hs($n)&&$n.dom.length===0?lr($n):Ms(Zt,$n)}),lr(Zt),Zt.dom}),gu=Ye=>zn(Ye,Qe=>{const on=Qe.attributes;for(let Zt=on.length-1;Zt>=0;Zt--)Qe.removeAttributeNode(on.item(Zt))}),ym=Ye=>Z.parse(Ye),ay=(Ye,Qe)=>Z.serialize(Ye,Qe),hu=Ye=>{if(qv!==us.DOM&&e===document){if(n[Ye])return;n[Ye]=!0}let Qe=e.getElementById("mceDefaultStyles");if(!Qe){Qe=e.createElement("style"),Qe.id="mceDefaultStyles",Qe.type="text/css";const on=e.head;on.firstChild?on.insertBefore(Qe,on.firstChild):on.appendChild(Qe)}Qe.styleSheet?Qe.styleSheet.cssText+=Ye:Qe.appendChild(e.createTextNode(Ye))},Mg=Ye=>{Ye||(Ye=""),ut(Ye.split(","),Qe=>{a[Qe]=!0,k.load(Qe).catch(bt)})},yo=(Ye,Qe,on)=>{zn(Ye,Zt=>{if(kn(Zt)){const $n=ye.fromDom(Zt),yr=Qe.split(" ");ut(yr,ai=>{Je(on)?(on?ra:Ci)($n,ai):Ou($n,ai)})}})},pr=(Ye,Qe)=>{yo(Ye,Qe,!0)},ks=(Ye,Qe)=>{yo(Ye,Qe,!1)},Va=(Ye,Qe)=>{const on=we(Ye),Zt=Qe.split(" ");return Je(on)&&Os(Zt,$n=>Ac(on,$n))},Ya=Ye=>{zn(Ye,Qe=>Kc(ye.fromDom(Qe),"display"))},Vp=Ye=>{zn(Ye,Qe=>xm(ye.fromDom(Qe),"display","none"))},w2=Ye=>{const Qe=we(Ye);return Je(Qe)&&Cu(Ue(Qe,"display"),"none")},HT=Ye=>(Ye||"mce_")+c++,Xx=Ye=>{const Qe=we(Ye);return Je(Qe)?kn(Qe.dom)?Qe.dom.outerHTML:xc(Qe):""},Zv=(Ye,Qe)=>{zn(Ye,on=>{kn(on)&&(on.outerHTML=Qe)})},Wv=(Ye,Qe)=>{const on=ie(Qe);return zn(Ye,Zt=>{const $n=on==null?void 0:on.parentNode,yr=on==null?void 0:on.nextSibling;return $n&&(yr?$n.insertBefore(Zt,yr):$n.appendChild(Zt)),Zt})},UT=(Ye,Qe,on)=>zn(Qe,Zt=>{var $n;const yr=Ee(Qe)?Ye.cloneNode(!0):Ye;return on&&Qi(rg(Zt.childNodes),ai=>{yr.appendChild(ai)}),($n=Zt.parentNode)===null||$n===void 0||$n.replaceChild(yr,Zt),Zt}),u5=(Ye,Qe)=>{if(Ye.nodeName!==Qe.toUpperCase()){const on=Dn(Qe);return Qi(Fe(Ye),Zt=>{Ve(on,Zt.nodeName,Be(Ye,Zt.nodeName))}),UT(on,Ye,!0),on}else return Ye},f5=(Ye,Qe)=>{let on=Ye;for(;on;){let Zt=Qe;for(;Zt&&on!==Zt;)Zt=Zt.parentNode;if(on===Zt)break;on=on.parentNode}return!on&&Ye.ownerDocument?Ye.ownerDocument.documentElement:on},k2=Ye=>{if(kn(Ye)){const Qe=Ye.nodeName.toLowerCase()==="a"&&!Be(Ye,"href")&&Be(Ye,"id");if(Be(Ye,"name")||Be(Ye,"data-mce-bookmark")||Qe)return!0}return!1},m5=(Ye,Qe,on)=>{let Zt=0;if(k2(Ye))return!1;const $n=Ye.firstChild;if($n){const yr=new pi($n,Ye),ai=U?U.getWhitespaceElements():{},dc=Qe||(U?U.getNonEmptyElements():null);let ql=$n;do{if(kn(ql)){const $T=ql.getAttribute("data-mce-bogus");if($T){ql=yr.next($T==="all");continue}const qT=ql.nodeName.toLowerCase();if(dc&&dc[qT]){if(qT==="br"){Zt++,ql=yr.next();continue}return!1}if(k2(ql))return!1}if(Mu(ql)||Nt(ql)&&!ou(ql.data)&&(!(on!=null&&on.includeZwsp)||!vd(ql.data))||Nt(ql)&&ql.parentNode&&ai[ql.parentNode.nodeName]&&ou(ql.data))return!1;ql=yr.next()}while(ql)}return Zt<=1},$v=()=>e.createRange(),_2=(Ye,Qe,on)=>{let Zt=$v(),$n,yr;if(Ye&&Qe&&Ye.parentNode&&Qe.parentNode){const ai=Ye.parentNode;return Zt.setStart(ai,em(Ye)),Zt.setEnd(Qe.parentNode,em(Qe)),$n=Zt.extractContents(),Zt=$v(),Zt.setStart(Qe.parentNode,em(Qe)+1),Zt.setEnd(ai,em(Ye)+1),yr=Zt.extractContents(),ai.insertBefore(jh(qv,$n,U),Ye),on?ai.insertBefore(on,Ye):ai.insertBefore(Qe,Ye),ai.insertBefore(jh(qv,yr,U),Ye),Xs(Ye),on||Qe}else return},Lg=(Ye,Qe,on,Zt)=>{if(Ee(Ye)){let $n=Ye.length;const yr=[];for(;$n--;)yr[$n]=Lg(Ye[$n],Qe,on,Zt);return yr}else return t.collect&&(Ye===e||Ye===r)&&N.push([Ye,Qe,on,Zt]),K.bind(Ye,Qe,on,Zt||qv)},k0=(Ye,Qe,on)=>{if(Ee(Ye)){let Zt=Ye.length;const $n=[];for(;Zt--;)$n[Zt]=k0(Ye[Zt],Qe,on);return $n}else{if(N.length>0&&(Ye===e||Ye===r)){let Zt=N.length;for(;Zt--;){const[$n,yr,ai]=N[Zt];Ye===$n&&(!Qe||Qe===yr)&&(!on||on===ai)&&K.unbind($n,yr,ai)}}return K.unbind(Ye,Qe,on)}},jT=(Ye,Qe,on)=>K.dispatch(Ye,Qe,on),ZT=(Ye,Qe,on)=>K.dispatch(Ye,Qe,on),p5=Ye=>{if(Ye&&Ys(Ye)){const Qe=Ye.getAttribute("data-mce-contenteditable");return Qe&&Qe!=="inherit"?Qe:Ye.contentEditable!=="inherit"?Ye.contentEditable:null}else return null},qv={doc:e,settings:t,win:r,files:a,stdMode:u,boxModel:h,styleSheetLoader:k,boundEvents:N,styles:Z,schema:U,events:K,isBlock:ve,root:null,clone:We,getRoot:Ct,getViewPort:$t,getRect:Fn,getSize:hn,getParent:gs,getParents:Wo,get:ie,getNext:vi,getPrev:Hc,select:an,is:Ho,add:On,create:Dn,createHTML:mr,createFragment:ws,remove:Xs,setStyle:it,getStyle:Mt,setStyles:tt,removeAllAttribs:gu,setAttrib:Ve,setAttribs:Tr,getAttrib:Be,getPos:mn,parseStyle:ym,serializeStyle:ay,addStyle:hu,loadCSS:Mg,addClass:pr,removeClass:ks,hasClass:Va,toggleClass:yo,show:Ya,hide:Vp,isHidden:w2,uniqueId:HT,setHTML:br,getOuterHTML:Xx,setOuterHTML:Zv,decode:Gt,encode:ho,insertAfter:Wv,replace:UT,rename:u5,findCommonAncestor:f5,run:zn,getAttribs:Fe,isEmpty:m5,createRng:$v,nodeIndex:em,split:_2,bind:Lg,unbind:k0,fire:ZT,dispatch:jT,getContentEditable:p5,getContentEditableParent:Ye=>{const Qe=Ct();let on=null;for(let Zt=Ye;Zt&&Zt!==Qe&&(on=p5(Zt),on===null);Zt=Zt.parentNode);return on},isEditable:Ye=>{if(Je(Ye)){const Qe=kn(Ye)?Ye:Ye.parentElement;return Je(Qe)&&Ys(Qe)&&Za(ye.fromDom(Qe))}else return!1},destroy:()=>{if(N.length>0){let Ye=N.length;for(;Ye--;){const[Qe,on,Zt]=N[Ye];K.unbind(Qe,on,Zt)}}jo(a,(Ye,Qe)=>{k.unload(Qe),delete a[Qe]})},isChildOf:(Ye,Qe)=>Ye===Qe||Qe.contains(Ye),dumpRng:Ye=>"startContainer: "+Ye.startContainer.nodeName+", startOffset: "+Ye.startOffset+", endContainer: "+Ye.endContainer.nodeName+", endOffset: "+Ye.endOffset},WT=Yh(Z,t,ft(qv));return qv};us.DOM=us(document),us.nodeIndex=em;const Ri=us.DOM,Qg=0,tm=1,_f=2,xy=3;class Hl{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((n,r)=>{const a=Ri;let c;const u=()=>{a.remove(N),c&&(c.onerror=c.onload=c=null)},h=()=>{u(),n()},k=()=>{u(),r("Failed to load script: "+t)},N=a.uniqueId();c=document.createElement("script"),c.id=N,c.type="text/javascript",c.src=Ut._addCacheSuffix(t),this.settings.referrerPolicy&&a.setAttrib(c,"referrerpolicy",this.settings.referrerPolicy),c.onload=h,c.onerror=k,(document.getElementsByTagName("head")[0]||document.body).appendChild(c)})}isDone(t){return this.states[t]===_f}markDone(t){this.states[t]=_f}add(t){const n=this;return n.queue.push(t),n.states[t]===void 0&&(n.states[t]=Qg),new Promise((a,c)=>{n.scriptLoadedCallbacks[t]||(n.scriptLoadedCallbacks[t]=[]),n.scriptLoadedCallbacks[t].push({resolve:a,reject:c})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const n=this,r=(k,N)=>{Ir(n.scriptLoadedCallbacks,N).each(U=>{ut(U,Z=>Z[k](N))}),delete n.scriptLoadedCallbacks[N]},a=k=>{const N=dt(k,U=>U.status==="rejected");return N.length>0?Promise.reject(go(N,({reason:U})=>Ee(U)?U:[U])):Promise.resolve()},c=k=>Promise.allSettled(no(k,N=>n.states[N]===_f?(r("resolve",N),Promise.resolve()):n.states[N]===xy?(r("reject",N),Promise.reject(N)):(n.states[N]=tm,n.loadScript(N).then(()=>{n.states[N]=_f,r("resolve",N);const U=n.queue;return U.length>0?(n.queue=[],c(U).then(a)):Promise.resolve()},()=>(n.states[N]=xy,r("reject",N),Promise.reject(N)))))),u=k=>(n.loading=!0,c(k).then(N=>{n.loading=!1;const U=n.queueLoadedCallbacks.shift();return Y.from(U).each(Js),a(N)})),h=bl(t);return n.loading?new Promise((k,N)=>{n.queueLoadedCallbacks.push(()=>{u(h).then(k,N)})}):u(h)}}Hl.ScriptLoader=new Hl;const qa=e=>{let t=e;return{get:()=>t,set:a=>{t=a}}},z0=(e,t)=>{const n=e.indexOf(t);return n!==-1&&e.indexOf(t,n+1)>n},nm=e=>Te(e)&&Yn(e,"raw"),kp=e=>Ee(e)&&e.length>1,Bm={},Xh=qa("en"),Jh=()=>Ir(Bm,Xh.get()),_c={getData:()=>li(Bm,e=>({...e})),setCode:e=>{e&&Xh.set(e)},getCode:()=>Xh.get(),add:(e,t)=>{let n=Bm[e];n||(Bm[e]=n={});const r=no(Bt(t),a=>a.toLowerCase());jo(t,(a,c)=>{const u=c.toLowerCase();u!==c&&z0(r,u)?(Yn(t,u)||(n[u]=a),n[c]=a):n[u]=a})},translate:e=>{const t=Jh().getOr({}),n=u=>un(u)?Object.prototype.toString.call(u):r(u)?"":""+u,r=u=>u===""||u===null||u===void 0,a=u=>{const h=n(u);return Yn(t,h)?n(t[h]):Ir(t,h.toLowerCase()).map(n).getOr(h)},c=u=>u.replace(/{context:\w+}$/,"");if(r(e))return"";if(nm(e))return n(e.raw);if(kp(e)){const u=e.slice(1),h=a(e[0]).replace(/\{([0-9]+)\}/g,(k,N)=>Yn(u,N)?n(u[N]):k);return c(h)}return c(a(e))},isRtl:()=>Jh().bind(e=>Ir(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>Yn(Bm,e)},zl=()=>{const e=[],t={},n={},r=[],a=(ie,we)=>{const Be=dt(r,Fe=>Fe.name===ie&&Fe.state===we);ut(Be,Fe=>Fe.resolve())},c=ie=>Yn(t,ie),u=ie=>Yn(n,ie),h=ie=>{if(n[ie])return n[ie].instance},k=(ie,we)=>{const Be=_c.getCode(),Fe=","+(we||"")+",";!Be||we&&Fe.indexOf(","+Be+",")===-1||Hl.ScriptLoader.add(t[ie]+"/langs/"+Be+".js")},N=(ie,we)=>{zl.languageLoad!==!1&&(c(ie)?k(ie,we):ve(ie,"loaded").then(()=>k(ie,we)))},U=(ie,we)=>(e.push(we),n[ie]={instance:we},a(ie,"added"),we),Z=ie=>{delete t[ie],delete n[ie]},K=(ie,we)=>At(we)?At(ie)?{prefix:"",resource:we,suffix:""}:{prefix:ie.prefix,resource:we,suffix:ie.suffix}:we,le=(ie,we)=>{if(t[ie])return Promise.resolve();let Be=At(we)?we:we.prefix+we.resource+we.suffix;Be.indexOf("/")!==0&&Be.indexOf("://")===-1&&(Be=zl.baseURL+"/"+Be),t[ie]=Be.substring(0,Be.lastIndexOf("/"));const Fe=()=>(a(ie,"loaded"),Promise.resolve());return n[ie]?Fe():Hl.ScriptLoader.add(Be).then(Fe)},ve=(ie,we="added")=>we==="added"&&u(ie)||we==="loaded"&&c(ie)?Promise.resolve():new Promise(Be=>{r.push({name:ie,state:we,resolve:Be})});return{items:e,urls:t,lookup:n,get:h,requireLangPack:N,add:U,remove:Z,createUrl:K,load:le,waitFor:ve}};zl.languageLoad=!0,zl.baseURL="",zl.PluginManager=zl(),zl.ThemeManager=zl(),zl.ModelManager=zl();const eb=e=>{const t=qa(Y.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(Y.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:h=>{n(),t.set(Y.some(h))}}},tb=e=>{const t=qa(Y.none()),n=()=>t.get().each(h=>clearInterval(h));return{clear:()=>{n(),t.set(Y.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:h=>{n(),t.set(Y.some(setInterval(h,e)))}}},$u=()=>{const e=eb(bt);return{...e,on:n=>e.get().each(n)}},eh=(e,t)=>{let n=null;return{cancel:()=>{qe(n)||(clearTimeout(n),n=null)},throttle:(...c)=>{qe(n)&&(n=setTimeout(()=>{n=null,e.apply(null,c)},t))}}},_d=(e,t)=>{let n=null;const r=()=>{qe(n)||(clearTimeout(n),n=null)};return{cancel:r,throttle:(...c)=>{r(),n=setTimeout(()=>{n=null,e.apply(null,c)},t)}}},Cf=ft("mce-annotation"),Mm=ft("data-mce-annotation"),om=ft("data-mce-annotation-uid"),rm=ft("data-mce-annotation-active"),iu=ft("data-mce-annotation-classes"),ig=ft("data-mce-annotation-attrs"),th=e=>t=>Pe(t,e),nb=(e,t)=>{const n=e.selection.getRng(),r=ye.fromDom(n.startContainer),a=ye.fromDom(e.getBody()),c=t.fold(()=>"."+Cf(),k=>`[${Mm()}="${k}"]`),u=yc(r,n.startOffset).getOr(r);return Gi(u,c,th(a)).bind(k=>qs(k,`${om()}`).bind(N=>qs(k,`${Mm()}`).map(U=>{const Z=Cy(e,N);return{uid:N,name:U,elements:Z}})))},Ul=e=>$i(e)&&Ac(e,Cf()),_y=(e,t)=>Na(e,"data-mce-bogus")||ba(e,'[data-mce-bogus="all"]',th(t)),Cy=(e,t)=>{const n=ye.fromDom(e.getBody()),r=zi(n,`[${om()}="${t}"]`);return dt(r,a=>!_y(a,n))},ob=(e,t)=>{const n=ye.fromDom(e.getBody()),r=zi(n,`[${Mm()}="${t}"]`),a={};return ut(r,c=>{if(!_y(c,n)){const u=qi(c,om()),h=Ir(a,u).getOr([]);a[u]=h.concat([c])}}),a},o1=(e,t)=>{const n=qa({}),r=()=>({listeners:[],previous:$u()}),a=(Z,K)=>{c(Z,le=>(K(le),le))},c=(Z,K)=>{const le=n.get(),ve=Ir(le,Z).getOrThunk(r),ie=K(ve);le[Z]=ie,n.set(le)},u=(Z,K,le)=>{a(Z,ve=>{ut(ve.listeners,ie=>ie(!0,Z,{uid:K,nodes:no(le,we=>we.dom)}))})},h=Z=>{a(Z,K=>{ut(K.listeners,le=>le(!1,Z))})},k=(Z,K)=>{ut(Cy(e,Z),le=>{K?Fr(le,rm(),"true"):hs(le,rm())})},N=_d(()=>{const Z=Mo(t.getNames());ut(Z,K=>{c(K,le=>{const ve=le.previous.get();return nb(e,Y.some(K)).fold(()=>{ve.each(ie=>{h(K),le.previous.clear(),k(ie,!1)})},({uid:ie,name:we,elements:Be})=>{Cu(ve,ie)||(ve.each(Fe=>k(Fe,!1)),u(we,ie,Be),le.previous.set(ie),k(ie,!0))}),{previous:le.previous,listeners:le.listeners}})})},30);return e.on("remove",()=>{N.cancel()}),e.on("NodeChange",()=>{N.throttle()}),{addListener:(Z,K)=>{c(Z,le=>({previous:le.previous,listeners:le.listeners.concat([K])}))}}},nh=(e,t)=>{const n=Mm(),r=c=>Y.from(c.attr(n)).bind(t.lookup),a=c=>{var u,h;c.attr(om(),null),c.attr(Mm(),null),c.attr(rm(),null);const k=Y.from(c.attr(ig())).map(K=>K.split(",")).getOr([]),N=Y.from(c.attr(iu())).map(K=>K.split(",")).getOr([]);ut(k,K=>c.attr(K,null));const U=(h=(u=c.attr("class"))===null||u===void 0?void 0:u.split(" "))!==null&&h!==void 0?h:[],Z=Ur(U,[Cf()].concat(N));c.attr("class",Z.length>0?Z.join(" "):null),c.attr(iu(),null),c.attr(ig(),null)};e.serializer.addTempAttr(rm()),e.serializer.addAttributeFilter(n,c=>{for(const u of c)r(u).each(h=>{h.persistent===!1&&(u.name==="span"?u.unwrap():a(u))})})},Sy=()=>{const e={};return{register:(a,c)=>{e[a]={name:a,settings:c}},lookup:a=>Ir(e,a).map(c=>c.settings),getNames:()=>Bt(e)}};let sm=0;const am=e=>{const n=new Date().getTime(),r=Math.floor(Math.random()*1e9);return sm++,e+"_"+r+sm+String(n)},A0=(e,t)=>{ut(t,n=>{ra(e,n)})},rb=(e,t)=>{ut(t,n=>{Ci(e,n)})},sb=(e,t)=>ye.fromDom(e.dom.cloneNode(t)),im=e=>sb(e,!1),Lm=e=>sb(e,!0),ab=(e,t)=>{const n=ye.fromTag(t),r=Us(e);return Cs(n,r),n},oh=(e,t)=>{const n=ab(e,t);es(e,n);const r=Br(e);return Ba(n,r),lr(e),n},Pm=(e,t,n=Pn)=>{const r=new pi(e,t),a=c=>{let u;do u=r[c]();while(u&&!Nt(u)&&!n(u));return Y.from(u).filter(Nt)};return{current:()=>Y.from(r.current()).filter(Nt),next:()=>a("next"),prev:()=>a("prev"),prev2:()=>a("prev2")}},Im=(e,t)=>{const n=t||(u=>e.isBlock(u)||ss(u)||$r(u)),r=(u,h,k,N)=>{if(Nt(u)){const U=N(u,h,u.data);if(U!==-1)return Y.some({container:u,offset:U})}return k().bind(U=>r(U.container,U.offset,k,N))};return{backwards:(u,h,k,N)=>{const U=Pm(u,N??e.getRoot(),n);return r(u,h,()=>U.prev().map(Z=>({container:Z,offset:Z.length})),k).getOrNull()},forwards:(u,h,k,N)=>{const U=Pm(u,N??e.getRoot(),n);return r(u,h,()=>U.next().map(Z=>({container:Z,offset:0})),k).getOrNull()}}},_p=Math.round,qu=e=>e?{left:_p(e.left),top:_p(e.top),bottom:_p(e.bottom),right:_p(e.right),width:_p(e.width),height:_p(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Fm=(e,t)=>(e=qu(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),r1=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,rh=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,Vm=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top?!0:e.top>t.bottom?!1:rh(t.top-e.bottom,e,t)},Cp=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:rh(t.bottom-e.top,e,t),ib=(e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom,Ey=e=>lo(e,(t,n)=>t.fold(()=>Y.some(n),r=>{const a=Math.min(n.left,r.left),c=Math.min(n.top,r.top),u=Math.max(n.right,r.right),h=Math.max(n.bottom,r.bottom);return Y.some({top:c,right:u,bottom:h,left:a,width:u-a,height:h-c})}),Y.none()),Ty=(e,t,n)=>{const r=Math.max(Math.min(t,e.left+e.width),e.left),a=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-r)*(t-r)+(n-a)*(n-a))},Ol=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),lb=(e,t,n)=>Math.min(Math.max(e,t),n),Gu=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},Cd=(e,t)=>{if(kn(e)&&e.hasChildNodes()){const n=e.childNodes,r=lb(t,0,n.length-1);return n[r]}else return e},zy=(e,t)=>{if(!(t<0&&kn(e)&&e.hasChildNodes()))return Cd(e,t)},sh=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Hm=e=>At(e)&&e.charCodeAt(0)>=768&&sh.test(e),Um=(...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1},cb=(...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0},db=kn,lm=kr,jm=Du("display","block table"),ah=Du("float","left right"),Zm=cb(db,lm,bo(ah)),ih=bo(Du("white-space","pre pre-line pre-wrap")),lh=Nt,lg=ss,ub=us.nodeIndex,Sp=zy,Sf=e=>e?e.createRange():us.DOM.createRng(),cm=e=>At(e)&&/[\r\n\t ]/.test(e),cg=e=>!!e.setStart&&!!e.setEnd,fb=e=>{const t=e.startContainer,n=e.startOffset;if(cm(e.toString())&&ih(t.parentNode)&&Nt(t)){const r=t.data;if(cm(r[n-1])||cm(r[n+1]))return!0}return!1},lu=e=>{const t=e.ownerDocument,n=Sf(t),r=t.createTextNode(Ro),a=e.parentNode;a.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);const c=qu(n.getBoundingClientRect());return a.removeChild(r),c},Ep=e=>{const t=e.startContainer,n=e.endContainer,r=e.startOffset,a=e.endOffset;if(t===n&&Nt(n)&&r===0&&a===1){const c=e.cloneRange();return c.setEndAfter(n),Eo(c)}else return null},dg=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Eo=e=>{var t;let n;const r=e.getClientRects();return r.length>0?n=qu(r[0]):n=qu(e.getBoundingClientRect()),!cg(e)&&lg(e)&&dg(n)?lu(e):dg(n)&&cg(e)&&(t=Ep(e))!==null&&t!==void 0?t:n},Al=(e,t)=>{const n=Fm(e,t);return n.width=1,n.right=n.left+1,n},ug=e=>{const t=[],n=u=>{u.height!==0&&(t.length>0&&r1(u,t[t.length-1])||t.push(u))},r=(u,h)=>{const k=Sf(u.ownerDocument);if(h<u.data.length){if(Hm(u.data[h]))return;if(Hm(u.data[h-1])&&(k.setStart(u,h),k.setEnd(u,h+1),!fb(k))){n(Al(Eo(k),!1));return}}h>0&&(k.setStart(u,h-1),k.setEnd(u,h),fb(k)||n(Al(Eo(k),!1))),h<u.data.length&&(k.setStart(u,h),k.setEnd(u,h+1),fb(k)||n(Al(Eo(k),!0)))},a=e.container(),c=e.offset();if(lh(a))return r(a,c),t;if(db(a))if(e.isAtEnd()){const u=Sp(a,c);lh(u)&&r(u,u.data.length),Zm(u)&&!lg(u)&&n(Al(Eo(u),!1))}else{const u=Sp(a,c);if(lh(u)&&r(u,0),Zm(u)&&e.isAtEnd())return n(Al(Eo(u),!1)),t;const h=Sp(e.container(),e.offset()-1);Zm(h)&&!lg(h)&&(jm(h)||jm(u)||!Zm(u))&&n(Al(Eo(h),!1)),Zm(u)&&n(Al(Eo(u),!0))}return t},ot=(e,t,n)=>{const r=()=>(lh(e),t===0),a=()=>lh(e)?t>=e.data.length:t>=e.childNodes.length,c=()=>{const U=Sf(e.ownerDocument);return U.setStart(e,t),U.setEnd(e,t),U},u=()=>(n||(n=ug(ot(e,t))),n),h=()=>u().length>0,k=U=>U&&e===U.container()&&t===U.offset(),N=U=>Sp(e,U?t-1:t);return{container:ft(e),offset:ft(t),toRange:c,getClientRects:u,isVisible:h,isAtStart:r,isAtEnd:a,isEqual:k,getNode:N}};ot.fromRangeStart=e=>ot(e.startContainer,e.startOffset),ot.fromRangeEnd=e=>ot(e.endContainer,e.endOffset),ot.after=e=>ot(e.parentNode,ub(e)+1),ot.before=e=>ot(e.parentNode,ub(e)),ot.isAbove=(e,t)=>Jr(oo(t.getClientRects()),dn(e.getClientRects()),Vm).getOr(!1),ot.isBelow=(e,t)=>Jr(dn(t.getClientRects()),oo(e.getClientRects()),Cp).getOr(!1),ot.isAtStart=e=>e?e.isAtStart():!1,ot.isAtEnd=e=>e?e.isAtEnd():!1,ot.isTextPosition=e=>e?Nt(e.container()):!1,ot.isElementPosition=e=>!ot.isTextPosition(e);const fg=(e,t)=>{Nt(t)&&t.data.length===0&&e.remove(t)},mb=(e,t,n)=>{t.insertNode(n),fg(e,n.previousSibling),fg(e,n.nextSibling)},N0=(e,t,n)=>{const r=Y.from(n.firstChild),a=Y.from(n.lastChild);t.insertNode(n),r.each(c=>fg(e,c.previousSibling)),a.each(c=>fg(e,c.nextSibling))},mg=(e,t,n)=>{$f(n)?N0(e,t,n):mb(e,t,n)},Sd=Nt,pg=Yc,pb=us.nodeIndex,Oy=e=>{const t=e.parentNode;return pg(t)?Oy(t):t},ch=e=>e?fc(e.childNodes,(t,n)=>(pg(n)&&n.nodeName!=="BR"?t=t.concat(ch(n)):t.push(n),t),[]):[],gb=(e,t)=>{let n=e;for(;(n=n.previousSibling)&&Sd(n);)t+=n.data.length;return t},Ay=e=>t=>e===t,D0=e=>{let t,n;t=ch(Oy(e)),n=ci(t,Ay(e),e),t=t.slice(0,n+1);const r=fc(t,(a,c,u)=>(Sd(c)&&Sd(t[u-1])&&a++,a),0);return t=vu(t,Ll([e.nodeName])),n=ci(t,Ay(e),e),n-r},hb=e=>(Sd(e)?"text()":e.nodeName.toLowerCase())+"["+D0(e)+"]",R0=(e,t,n)=>{const r=[];for(let a=t.parentNode;a&&a!==e&&!(n&&n(a));a=a.parentNode)r.push(a);return r},cu=(e,t)=>{let n=[],r=t.container(),a=t.offset(),c;if(Sd(r))c=gb(r,a);else{const h=r.childNodes;a>=h.length?(c="after",a=h.length-1):c="before",r=h[a]}n.push(hb(r));let u=R0(e,r);return u=vu(u,bo(Yc)),n=n.concat(of(u,h=>hb(h))),n.reverse().join("/")+","+c},s1=(e,t,n)=>{let r=ch(e);return r=vu(r,(a,c)=>!Sd(a)||!Sd(r[c-1])),r=vu(r,Ll([t])),r[n]},cn=(e,t)=>{let n=e,r=0;for(;Sd(n);){const a=n.data.length;if(t>=r&&t<=r+a){e=n,t=t-r;break}if(!Sd(n.nextSibling)){e=n,t=a;break}r+=a,n=n.nextSibling}return Sd(e)&&t>e.data.length&&(t=e.data.length),ot(e,t)},ca=(e,t)=>{if(!t)return null;const n=t.split(","),r=n[0].split("/"),a=n.length>1?n[1]:"before",c=fc(r,(u,h)=>{const k=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(h);return k?(k[1]==="text()"&&(k[1]="#text"),s1(u,k[1],parseInt(k[2],10))):null},e);if(!c)return null;if(!Sd(c)&&c.parentNode){let u;return a==="after"?u=pb(c)+1:u=pb(c),ot(c.parentNode,u)}return cn(c,parseInt(a,10))},rr=$r,Bi=(e,t,n)=>{let r=e(t.data.slice(0,n)).length;for(let a=t.previousSibling;a&&Nt(a);a=a.previousSibling)r+=e(a.data).length;return r},Mi=(e,t,n,r,a)=>{const c=a?r.startContainer:r.endContainer;let u=a?r.startOffset:r.endOffset;const h=[],k=e.getRoot();if(Nt(c))h.push(n?Bi(t,c,u):u);else{let N=0;const U=c.childNodes;u>=U.length&&U.length&&(N=1,u=Math.max(0,U.length-1)),h.push(e.nodeIndex(U[u],n)+N)}for(let N=c;N&&N!==k;N=N.parentNode)h.push(e.nodeIndex(N,n));return h},Ia=(e,t,n,r)=>{const a=t.dom,c=Mi(a,e,n,r,!0),u=t.isForward(),h=gf(r)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:c,forward:u,...h};{const k=Mi(a,e,n,r,!1);return{start:c,end:k,forward:u,...h}}},bb=(e,t,n)=>{let r=0;return Ut.each(e.select(t),a=>{if(a.getAttribute("data-mce-bogus")!=="all"){if(a===n)return!1;r++;return}}),r},du=(e,t)=>{let n=t?e.startContainer:e.endContainer,r=t?e.startOffset:e.endOffset;if(kn(n)&&n.nodeName==="TR"){const a=n.childNodes;n=a[Math.min(t?r:r-1,a.length-1)],n&&(r=t?0:n.childNodes.length,t?e.setStart(n,r):e.setEnd(n,r))}},p=e=>(du(e,!0),du(e,!1),e),y=(e,t)=>{if(kn(e)&&(e=Cd(e,t),rr(e)))return e;if(Tn(e)){Nt(e)&&It(e)&&(e=e.parentNode);let n=e.previousSibling;if(rr(n)||(n=e.nextSibling,rr(n)))return n}},_=e=>y(e.startContainer,e.startOffset)||y(e.endContainer,e.endOffset),T=(e,t,n)=>{const r=n.getNode(),a=n.getRng();if(r.nodeName==="IMG"||rr(r)){const u=r.nodeName;return{name:u,index:bb(n.dom,u,r)}}const c=_(a);if(c){const u=c.tagName;return{name:u,index:bb(n.dom,u,c)}}return Ia(e,n,t,a)},I=e=>{const t=e.getRng();return{start:cu(e.dom.getRoot(),ot.fromRangeStart(t)),end:cu(e.dom.getRoot(),ot.fromRangeEnd(t)),forward:e.isForward()}},F=e=>({rng:e.getRng(),forward:e.isForward()}),$=(e,t,n)=>{const r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},X=(e,t)=>{const n=e.dom;let r=e.getRng();const a=n.uniqueId(),c=e.isCollapsed(),u=e.getNode(),h=u.nodeName,k=e.isForward();if(h==="IMG")return{name:h,index:bb(n,h,u)};const N=p(r.cloneRange());if(!c){N.collapse(!1);const Z=$(n,a+"_end",t);mg(n,N,Z)}r=p(r),r.collapse(!0);const U=$(n,a+"_start",t);return mg(n,r,U),e.moveToBookmark({id:a,keep:!0,forward:k}),{id:a,forward:k}},oe=(e,t,n=!1)=>t===2?T(G,n,e):t===3?I(e):t?F(e):X(e,!1),xe=zt(T,Mn,!0),Se=e=>{const t=c=>c(e),n=ft(e),r=()=>a,a={tag:!0,inner:e,fold:(c,u)=>u(e),isValue:Do,isError:Pn,map:c=>Ne.value(c(e)),mapError:r,bind:t,exists:t,forall:t,getOr:n,or:r,getOrThunk:n,orThunk:r,getOrDie:n,each:c=>{c(e)},toOptional:()=>Y.some(e)};return a},he=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(r,a)=>r(e),isValue:Pn,isError:Do,map:t,mapError:r=>Ne.error(r(e)),bind:t,exists:Pn,forall:Do,getOr:Mn,or:Mn,getOrThunk:nn,orThunk:nn,getOrDie:St(String(e)),each:bt,toOptional:Y.none};return n},Ne={value:Se,error:he,fromOption:(e,t)=>e.fold(()=>he(t),Se)},He={generate:e=>{if(!Ee(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],n={};return ut(e,(r,a)=>{const c=Bt(r);if(c.length!==1)throw new Error("one and only one name per case");const u=c[0],h=r[u];if(n[u]!==void 0)throw new Error("duplicate key detected:"+u);if(u==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Ee(h))throw new Error("case arguments must be an array");t.push(u),n[u]=(...k)=>{const N=k.length;if(N!==h.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+h.length+" ("+h+"), got "+N);return{fold:(...Z)=>{if(Z.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+Z.length);return Z[a].apply(null,k)},match:Z=>{const K=Bt(Z);if(t.length!==K.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+K.join(","));if(!Os(t,ve=>_o(K,ve)))throw new Error("Not all branches were specified when using match. Specified: "+K.join(", ")+`
Required: `+t.join(", "));return Z[u].apply(null,k)},log:Z=>{console.log(Z,{constructors:t,constructor:u,params:k})}}}}),n}};He.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const ct=e=>{const t=[],n=[];return ut(e,r=>{r.fold(a=>{t.push(a)},a=>{n.push(a)})}),{errors:t,values:n}},gt=e=>e.type==="inline-command"||e.type==="inline-format",Lt=e=>e.type==="block-command"||e.type==="block-format",wt=e=>{const t=r=>Ne.error({message:r,pattern:e}),n=(r,a,c)=>{if(e.format!==void 0){let u;if(Ee(e.format)){if(!Os(e.format,At))return t(r+" pattern has non-string items in the `format` array");u=e.format}else if(At(e.format))u=[e.format];else return t(r+" pattern has non-string `format` parameter");return Ne.value(a(u))}else return e.cmd!==void 0?At(e.cmd)?Ne.value(c(e.cmd,e.value)):t(r+" pattern has non-string `cmd` parameter"):t(r+" pattern is missing both `format` and `cmd` parameters")};if(!Te(e))return t("Raw pattern is not an object");if(!At(e.start))return t("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!At(e.end))return t("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return t("Inline pattern has empty `start` and `end` parameters");let r=e.start,a=e.end;return a.length===0&&(a=r,r=""),n("Inline",c=>({type:"inline-format",start:r,end:a,format:c}),(c,u)=>({type:"inline-command",start:r,end:a,cmd:c,value:u}))}else return e.replacement!==void 0?At(e.replacement)?e.start.length===0?t("Replacement pattern has empty `start` parameter"):Ne.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter"):e.start.length===0?t("Block pattern has empty `start` parameter"):n("Block",r=>({type:"block-format",start:e.start,format:r[0]}),(r,a)=>({type:"block-command",start:e.start,cmd:r,value:a}))},Pt=e=>dt(e,Lt),jt=e=>dt(e,gt),sn=(e,t)=>({inlinePatterns:jt(e),blockPatterns:Pt(e),dynamicPatternsLookup:t}),Un=e=>{const t=ct(no(e,wt));return ut(t.errors,n=>console.error(n.message,n.pattern)),t.values},jn=e=>t=>{const n=e(t);return Un(n)},Oo=Wn().deviceType,Gn=Oo.isTouch(),Ao=us.DOM,vo=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return lo(t,(n,r)=>{const a=r.split("="),c=a[0],u=a.length>1?a[1]:c;return n[Tc(c)]=Tc(u),n},{})},Sr=e=>ln(e,RegExp),qt=e=>t=>t.options.get(e),Li=e=>At(e)||Te(e),Fa=(e,t="")=>n=>{const r=At(n);if(r)if(n.indexOf("=")!==-1){const a=vo(n);return{value:Ir(a,e.id).getOr(t),valid:r}}else return{value:n,valid:r};else return{valid:!1,message:"Must be a string."}},ti=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:Fa(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:Fa(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:n=>{const r=At(n)&&za(n);return r?{value:n,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:n=>{const r=_o(["block","linebreak","invert","default"],n);return r?{value:n,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:n=>Cn(n)?{valid:!0,value:n}:At(n)?{valid:!0,value:n}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:n=>{const r=n===!1||At(n)||Tt(n,At);return r?At(n)?{value:no(n.split(","),Tc),valid:r}:Ee(n)?{value:n,valid:r}:n===!1?{value:[],valid:r}:{value:n,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:vb(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:n=>{const r=At(n)||Tt(n,At);return r?{value:Ee(n)?n:no(n.split(","),Tc),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:n=>{const r=Cn(n)||At(n);return r?n===!1||Oo.isiPhone()||Oo.isiPad()?{value:"",valid:r}:{value:n===!0?"table,img,figure.image,div,video,iframe":n,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!Gn}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"object"}),t("service_message",{processor:"string"}),t("theme",{processor:n=>n===!1||At(n)||un(n),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:n=>{const r=n===!1||At(n);return r?{value:n===!1?"":n,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:"string"}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:Li}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:Li}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:Li}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:n=>At(n)||n===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:n=>Tt(n,Te)||n===!1?{value:Un(n===!1?[]:n),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),t("text_patterns_lookup",{processor:n=>un(n)?{value:jn(n),valid:!0}:{valid:!1,message:"Must be a single function"},default:n=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:n=>Tt(n,Sr)?{value:n,valid:!0}:Sr(n)?{value:[n],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!1}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:n=>{const r=_o(["inherited","collapsed","expanded"],n);return r?{value:n,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:n=>{const r=_o(["inherited","collapsed","expanded"],n);return r?{value:n,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("force_hex_color",{processor:n=>{const r=["always","rgb_only","off"],a=_o(r,n);return a?{value:n,valid:a}:{valid:!1,message:`Must be one of: ${r.join(", ")}.`}},default:"off"}),t("sandbox_iframes",{processor:"boolean",default:!1}),t("convert_unsafe_embeds",{processor:"boolean",default:!1}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:_c.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:Ao.getAttrib(e.getElement(),"placeholder")})})},Nn=qt("iframe_attrs"),ni=qt("doctype"),fl=qt("document_base_url"),gg=qt("body_id"),dh=qt("body_class"),fs=qt("content_security_policy"),uh=qt("br_in_pre"),oi=qt("forced_root_block"),hg=qt("forced_root_block_attrs"),nw=qt("newline_behavior"),a1=qt("br_newline_selector"),ow=qt("no_newline_selector"),M2=qt("keep_styles"),L2=qt("end_container_on_empty_block"),Ed=qt("automatic_uploads"),lc=qt("images_reuse_filename"),yb=qt("images_replace_blob_uris"),rw=qt("icons"),P2=qt("icons_url"),tr=qt("images_upload_url"),I2=qt("images_upload_base_path"),sw=qt("images_upload_credentials"),Ny=qt("images_upload_handler"),F2=qt("content_css_cors"),Dy=qt("referrer_policy"),aw=qt("language"),V2=qt("language_url"),B0=qt("indent_use_margin"),jl=qt("indentation"),Td=qt("content_css"),H2=qt("content_style"),iw=qt("font_css"),U2=qt("directionality"),Xn=qt("inline_boundaries_selector"),i1=qt("object_resizing"),Ry=qt("resize_img_proportional"),l1=qt("placeholder"),M0=qt("event_root"),lw=qt("service_message"),fh=qt("theme"),cw=qt("theme_url"),L0=qt("model"),dw=qt("model_url"),dr=qt("inline_boundaries"),j2=qt("formats"),Tp=qt("preview_styles"),Wm=qt("format_empty_lines"),zp=qt("format_noneditable_selector"),zd=qt("custom_ui_selector"),vb=qt("inline"),By=qt("hidden_input"),P0=qt("submit_patch"),xb=qt("add_form_submit_trigger"),uw=qt("add_unload_trigger"),fw=qt("custom_undo_redo_levels"),Z2=qt("disable_nodechange"),mw=qt("readonly"),sr=qt("editable_root"),Ef=qt("content_css_cors"),$m=qt("plugins"),W2=qt("external_plugins"),My=qt("block_unsupported_drop"),fr=qt("visual"),pw=qt("visual_table_class"),I0=qt("visual_anchor_class"),$2=qt("iframe_aria_text"),wb=qt("setup"),mh=qt("init_instance_callback"),gw=qt("urlconverter_callback"),q2=qt("auto_focus"),G2=qt("browser_spellcheck"),Ly=qt("protect"),kb=qt("paste_block_drop"),F0=qt("paste_data_images"),hw=qt("paste_preprocess"),K2=qt("paste_postprocess"),bw=qt("newdocument_content"),Y2=qt("paste_webkit_styles"),yw=qt("paste_remove_styles_if_webkit"),c1=qt("paste_merge_formats"),Py=qt("smart_paste"),V0=qt("paste_as_text"),d1=qt("paste_tab_spaces"),vw=qt("allow_html_data_urls"),xw=qt("text_patterns"),H0=qt("text_patterns_lookup"),Iy=qt("noneditable_class"),ww=qt("editable_class"),kw=qt("noneditable_regexp"),_w=qt("preserve_cdata"),Od=qt("highlight_on_focus"),_b=qt("xss_sanitization"),X2=qt("init_content_sync"),J2=e=>e.options.isSet("text_patterns_lookup"),U0=e=>Ut.explode(e.options.get("font_size_style_values")),Cw=e=>Ut.explode(e.options.get("font_size_classes")),j0=e=>e.options.get("encoding")==="xml",u1=e=>Ut.explode(e.options.get("images_file_types")),f1=qt("table_tab_navigation"),Q2=qt("details_initial_state"),eC=qt("details_serialized_state"),tC=qt("force_hex_color"),m1=qt("sandbox_iframes"),p1=kn,g1=Nt,Fy=e=>{const t=e.parentNode;t&&t.removeChild(e)},Sw=e=>{const t=G(e);return{count:e.length-t.length,text:t}},Cb=e=>{let t;for(;(t=e.data.lastIndexOf(C))!==-1;)e.deleteData(t,1)},Z0=(e,t)=>(qm(e),t),Ew=(e,t)=>{const n=Sw(e.data.substr(0,t.offset())),r=Sw(e.data.substr(t.offset()));return(n.text+r.text).length>0?(Cb(e),ot(e,t.offset()-n.count)):t},Tw=(e,t)=>{const n=t.container(),r=Gl(_n(n.childNodes),e).map(a=>a<t.offset()?ot(n,t.offset()-1):t).getOr(t);return qm(e),r},zw=(e,t)=>g1(e)&&t.container()===e?Ew(e,t):Z0(e,t),nC=(e,t)=>t.container()===e.parentNode?Tw(e,t):Z0(e,t),oC=(e,t)=>ot.isTextPosition(t)?zw(e,t):nC(e,t),qm=e=>{p1(e)&&Tn(e)&&(co(e)?e.removeAttribute("data-mce-caret"):Fy(e)),g1(e)&&(Cb(e),e.data.length===0&&Fy(e))},Ow=$r,Aw=gn,Nw=uf,Dw="*[contentEditable=false],video,audio,embed,object",Rw=(e,t,n)=>{const r=Fm(t.getBoundingClientRect(),n);let a,c;if(e.tagName==="BODY"){const h=e.ownerDocument.documentElement;a=e.scrollLeft||h.scrollLeft,c=e.scrollTop||h.scrollTop}else{const h=e.getBoundingClientRect();a=e.scrollLeft-h.left,c=e.scrollTop-h.top}r.left+=a,r.right+=a,r.top+=c,r.bottom+=c,r.width=1;let u=t.offsetWidth-t.clientWidth;return u>0&&(n&&(u*=-1),r.left+=u,r.right+=u),r},rC=e=>{var t,n;const r=zi(ye.fromDom(e),Dw);for(let a=0;a<r.length;a++){const c=r[a].dom;let u=c.previousSibling;if($a(u)){const h=u.data;h.length===1?(t=u.parentNode)===null||t===void 0||t.removeChild(u):u.deleteData(h.length-1,1)}u=c.nextSibling,La(u)&&(u.data.length===1?(n=u.parentNode)===null||n===void 0||n.removeChild(u):u.deleteData(0,1))}},W0=(e,t,n,r)=>{const a=$u();let c,u;const h=oi(e),k=e.dom,N=(ie,we)=>{let Be;if(U(),Nw(we))return null;if(n(we)){const Fe=ns(h,we,ie),Ve=Rw(t,we,ie);k.setStyle(Fe,"top",Ve.top),u=Fe;const We=k.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});k.setStyles(We,{...Ve}),k.add(t,We),a.set({caret:We,element:we,before:ie}),ie&&k.addClass(We,"mce-visual-caret-before"),Z(),Be=we.ownerDocument.createRange(),Be.setStart(Fe,0),Be.setEnd(Fe,0)}else return u=ys(we,ie),Be=we.ownerDocument.createRange(),Sb(u.nextSibling)?(Be.setStart(u,0),Be.setEnd(u,0)):(Be.setStart(u,1),Be.setEnd(u,1)),Be;return Be},U=()=>{rC(t),u&&(qm(u),u=null),a.on(ie=>{k.remove(ie.caret),a.clear()}),c&&(clearInterval(c),c=void 0)},Z=()=>{c=setInterval(()=>{a.on(ie=>{r()?k.toggleClass(ie.caret,"mce-visual-caret-hidden"):k.addClass(ie.caret,"mce-visual-caret-hidden")})},500)};return{show:N,hide:U,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{a.on(ie=>{const we=Rw(t,ie.element,ie.before);k.setStyles(ie.caret,{...we})})},destroy:()=>clearInterval(c)}},h1=()=>Qo.browser.isFirefox(),Sb=e=>Ow(e)||Aw(e),Vy=e=>(Sb(e)||gd(e)&&h1())&&Rr(ye.fromDom(e)).exists(Za),sC=tc,b1=$r,aC=gn,Bw=Du("display","block table table-cell table-caption list-item"),Mw=Tn,d=It,g=kn,S=Nt,j=kr,ee=e=>e>0,ke=e=>e<0,Le=(e,t)=>{let n;for(;n=e(t);)if(!d(n))return n;return null},je=(e,t,n,r,a)=>{const c=new pi(e,r),u=b1(e)||d(e);let h;if(ke(t)){if(u&&(h=Le(c.prev.bind(c),!0),n(h)))return h;for(;h=Le(c.prev.bind(c),a);)if(n(h))return h}if(ee(t)){if(u&&(h=Le(c.next.bind(c),!0),n(h)))return h;for(;h=Le(c.next.bind(c),a);)if(n(h))return h}return null},rt=(e,t)=>{const n=a=>sC(a.dom),r=a=>a.dom===t;return ei(ye.fromDom(e),n,r).map(a=>a.dom).getOr(t)},Xt=(e,t)=>{for(;e&&e!==t;){if(Bw(e))return e;e=e.parentNode}return null},Yt=(e,t,n)=>Xt(e.container(),n)===Xt(t.container(),n),fn=(e,t)=>{if(!t)return Y.none();const n=t.container(),r=t.offset();return g(n)?Y.from(n.childNodes[r+e]):Y.none()},Kn=(e,t)=>{var n;const a=((n=t.ownerDocument)!==null&&n!==void 0?n:document).createRange();return e?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)),a},No=(e,t,n)=>Xt(t,e)===Xt(n,e),nr=(e,t,n)=>{const r=e?"previousSibling":"nextSibling";let a=n;for(;a&&a!==t;){let c=a[r];if(c&&Mw(c)&&(c=c[r]),b1(c)||aC(c)){if(No(t,c,a))return c;break}if(j(c))break;a=a.parentNode}return null},Er=zt(Kn,!0),Zo=zt(Kn,!1),Qt=(e,t,n)=>{let r;const a=zt(nr,!0,t),c=zt(nr,!1,t),u=n.startContainer,h=n.startOffset;if(It(u)){const k=S(u)?u.parentNode:u,N=k.getAttribute("data-mce-caret");if(N==="before"&&(r=k.nextSibling,Vy(r)))return Er(r);if(N==="after"&&(r=k.previousSibling,Vy(r)))return Zo(r)}if(!n.collapsed)return n;if(Nt(u)){if(Mw(u)){if(e===1){if(r=c(u),r)return Er(r);if(r=a(u),r)return Zo(r)}if(e===-1){if(r=a(u),r)return Zo(r);if(r=c(u),r)return Er(r)}return n}if($a(u)&&h>=u.data.length-1)return e===1&&(r=c(u),r)?Er(r):n;if(La(u)&&h<=1)return e===-1&&(r=a(u),r)?Zo(r):n;if(h===u.data.length)return r=c(u),r?Er(r):n;if(h===0)return r=a(u),r?Zo(r):n}return n},ms=(e,t)=>fn(e?0:-1,t).filter(b1),Cc=(e,t,n)=>{const r=Qt(e,t,n);return e===-1?ot.fromRangeStart(r):ot.fromRangeEnd(r)},Sc=e=>Y.from(e.getNode()).map(ye.fromDom),Ad=e=>Y.from(e.getNode(!0)).map(ye.fromDom),el=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},Pc=(e,t)=>{const n=Yt(e,t);return!n&&ss(e.getNode())?!0:n};var ya;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(ya||(ya={}));const Lw=$r,Jn=Nt,xo=kn,Pw=ss,$0=kr,o3=vs,Iw=Yi,ao=(e,t)=>{const n=[];let r=e;for(;r&&r!==t;)n.push(r),r=r.parentNode;return n},q0=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,iC=(e,t)=>{if(ee(e)){if($0(t.previousSibling)&&!Jn(t.previousSibling))return ot.before(t);if(Jn(t))return ot(t,0)}if(ke(e)){if($0(t.nextSibling)&&!Jn(t.nextSibling))return ot.after(t);if(Jn(t))return ot(t,t.data.length)}return ke(e)?Pw(t)?ot.before(t):ot.after(t):ot.before(t)},r3=(e,t)=>{const n=t.nextSibling;return n&&$0(n)?Jn(n)?ot(n,0):ot.before(n):lC(ya.Forwards,ot.after(t),e)},lC=(e,t,n)=>{let r,a,c,u;if(!xo(n)||!t)return null;if(t.isEqual(ot.after(n))&&n.lastChild){if(u=ot.after(n.lastChild),ke(e)&&$0(n.lastChild)&&xo(n.lastChild))return Pw(n.lastChild)?ot.before(n.lastChild):u}else u=t;const h=u.container();let k=u.offset();if(Jn(h)){if(ke(e)&&k>0)return ot(h,--k);if(ee(e)&&k<h.length)return ot(h,++k);r=h}else{if(ke(e)&&k>0&&(a=q0(h,k-1),$0(a)))return!o3(a)&&(c=je(a,e,Iw,a),c)?Jn(c)?ot(c,c.data.length):ot.after(c):Jn(a)?ot(a,a.data.length):ot.before(a);if(ee(e)&&k<h.childNodes.length&&(a=q0(h,k),$0(a)))return Pw(a)?r3(n,a):!o3(a)&&(c=je(a,e,Iw,a),c)?Jn(c)?ot(c,0):ot.before(c):Jn(a)?ot(a,0):ot.after(a);r=a||u.getNode()}if(r&&(ee(e)&&u.isAtEnd()||ke(e)&&u.isAtStart())&&(r=je(r,e,Do,n,!0),Iw(r,n)))return iC(e,r);a=r&&je(r,e,Iw,n);const N=Qs(dt(ao(h,n),Lw));return N&&(!a||!N.contains(a))?(ee(e)?u=ot.after(N):u=ot.before(N),u):a?iC(e,a):null},bg=e=>({next:t=>lC(ya.Forwards,t,e),prev:t=>lC(ya.Backwards,t,e)}),s3=(e,t,n)=>{const r=e?ot.before(n):ot.after(n);return Tf(e,t,r)},M5=e=>ss(e)?ot.before(e):ot.after(e),Bo=e=>ot.isTextPosition(e)?e.offset()===0:kr(e.getNode()),cC=e=>{if(ot.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return kr(e.getNode(!0))},y1=(e,t)=>!ot.isTextPosition(e)&&!ot.isTextPosition(t)&&e.getNode()===t.getNode(!0),a3=e=>!ot.isTextPosition(e)&&ss(e.getNode()),i3=(e,t,n)=>e?!y1(t,n)&&!a3(t)&&cC(t)&&Bo(n):!y1(n,t)&&Bo(t)&&cC(n),Tf=(e,t,n)=>{const r=bg(t);return Y.from(e?r.next(n):r.prev(n))},Hy=(e,t,n)=>Tf(e,t,n).bind(r=>Yt(n,r,t)&&i3(e,n,r)?Tf(e,t,r):Y.some(r)),dC=(e,t,n,r)=>Hy(e,t,n).bind(a=>r(a)?dC(e,t,a,r):Y.some(a)),Uy=(e,t)=>{const n=e?t.firstChild:t.lastChild;return Nt(n)?Y.some(ot(n,e?0:n.data.length)):n?kr(n)?Y.some(e?ot.before(n):M5(n)):s3(e,t,n):Y.none()},uu=zt(Tf,!0),Ku=zt(Tf,!1),ed=zt(Uy,!0),Gm=zt(Uy,!1),uC="_mce_caret",Yu=e=>kn(e)&&e.id===uC,ph=(e,t)=>{let n=t;for(;n&&n!==e;){if(Yu(n))return n;n=n.parentNode}return null},L5=e=>At(e.start),P5=e=>Yn(e,"rng"),I5=e=>Yn(e,"id"),l3=e=>Yn(e,"name"),fC=e=>Ut.isArray(e.start),yg=e=>!l3(e)&&Cn(e.forward)?e.forward:!0,mC=(e,t)=>(kn(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),c3=(e,t)=>{const n=Y.from(ca(e.getRoot(),t.start)),r=Y.from(ca(e.getRoot(),t.end));return Jr(n,r,(a,c)=>{const u=e.createRng();return u.setStart(a.container(),a.offset()),u.setEnd(c.container(),c.offset()),{range:u,forward:yg(t)}})},F5=(e,t)=>{var n;const a=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(C);e.appendChild(a),t.setStart(a,0),t.setEnd(a,0)},V5=e=>!e.hasChildNodes(),d3=(e,t)=>Gm(e).fold(Pn,n=>(t.setStart(n.container(),n.offset()),t.setEnd(n.container(),n.offset()),!0)),pC=(e,t,n)=>V5(t)&&ph(e,t)?(F5(t,n),!0):!1,td=(e,t,n,r)=>{const a=n[t?"start":"end"],c=e.getRoot();if(a){let u=c,h=a[0];for(let k=a.length-1;u&&k>=1;k--){const N=u.childNodes;if(pC(c,u,r))return!0;if(a[k]>N.length-1)return pC(c,u,r)?!0:d3(u,r);u=N[a[k]]}Nt(u)&&(h=Math.min(a[0],u.data.length)),kn(u)&&(h=Math.min(a[0],u.childNodes.length)),t?r.setStart(u,h):r.setEnd(u,h)}return!0},gC=e=>Nt(e)&&e.data.length>0,Eb=(e,t,n)=>{const r=e.get(n.id+"_"+t),a=r==null?void 0:r.parentNode,c=n.keep;if(r&&a){let u,h;if(t==="start"?c?r.hasChildNodes()?(u=r.firstChild,h=1):gC(r.nextSibling)?(u=r.nextSibling,h=0):gC(r.previousSibling)?(u=r.previousSibling,h=r.previousSibling.data.length):(u=a,h=e.nodeIndex(r)+1):(u=a,h=e.nodeIndex(r)):c?r.hasChildNodes()?(u=r.firstChild,h=1):gC(r.previousSibling)?(u=r.previousSibling,h=r.previousSibling.data.length):(u=a,h=e.nodeIndex(r)):(u=a,h=e.nodeIndex(r)),!c){const k=r.previousSibling,N=r.nextSibling;Ut.each(Ut.grep(r.childNodes),Z=>{Nt(Z)&&(Z.data=Z.data.replace(/\uFEFF/g,""))});let U;for(;U=e.get(n.id+"_"+t);)e.remove(U,!0);if(Nt(N)&&Nt(k)&&!Qo.browser.isOpera()){const Z=k.data.length;k.appendData(N.data),e.remove(N),u=k,h=Z}}return Y.some(ot(u,h))}else return Y.none()},Ca=(e,t)=>{const n=e.createRng();return td(e,!0,t,n)&&td(e,!1,t,n)?Y.some({range:n,forward:yg(t)}):Y.none()},Fw=(e,t)=>{const n=Eb(e,"start",t),r=Eb(e,"end",t);return Jr(n,r.or(n),(a,c)=>{const u=e.createRng();return u.setStart(mC(e,a.container()),a.offset()),u.setEnd(mC(e,c.container()),c.offset()),{range:u,forward:yg(t)}})},cc=(e,t)=>Y.from(e.select(t.name)[t.index]).map(n=>{const r=e.createRng();return r.selectNode(n),{range:r,forward:!0}}),gh=(e,t)=>{const n=e.dom;if(t){if(fC(t))return Ca(n,t);if(L5(t))return c3(n,t);if(I5(t))return Fw(n,t);if(l3(t))return cc(n,t);if(P5(t))return Y.some({range:t.rng,forward:yg(t)})}return Y.none()},Vr=(e,t,n)=>oe(e,t,n),u3=(e,t)=>{gh(e,t).each(({range:n,forward:r})=>{e.setRng(n,r)})},zf=e=>kn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",Vw=(e=>t=>e===t)(Ro),G0=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Nd=e=>!G0(e)&&!Vw(e)&&!Ma(e),Of=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},f3=e=>go(e,t=>{const n=Gu(t);return n?[ye.fromDom(n)]:[]}),hC=e=>Of(e).length>1,bC=e=>dt(f3(e),mf),Hw=e=>zi(e,"td[data-mce-selected],th[data-mce-selected]"),yC=(e,t)=>{const n=Hw(t);return n.length>0?n:bC(e)},vg=e=>yC(Of(e.selection.getSel()),ye.fromDom(e.getBody())),Tb=(e,t)=>Da(e,"table",t),vC=e=>{const t=e.startContainer,n=e.startOffset;return Nt(t)?n===0?Y.some(ye.fromDom(t)):Y.none():Y.from(t.childNodes[n]).map(ye.fromDom)},m3=e=>{const t=e.endContainer,n=e.endOffset;return Nt(t)?n===t.data.length?Y.some(ye.fromDom(t)):Y.none():Y.from(t.childNodes[n-1]).map(ye.fromDom)},K0=e=>Zr(e).fold(ft([e]),t=>[e].concat(K0(t))),xC=e=>ga(e).fold(ft([e]),t=>Co(t)==="br"?Rs(t).map(n=>[e].concat(xC(n))).getOr([]):[e].concat(xC(t))),wC=(e,t)=>Jr(vC(t),m3(t),(n,r)=>{const a=mo(K0(e),zt(Pe,n)),c=mo(xC(e),zt(Pe,r));return a.isSome()&&c.isSome()}).getOr(!1),dm=(e,t,n,r)=>{const a=n,c=new pi(n,a),u=hl(e.schema.getMoveCaretBeforeOnEnterElements(),(k,N)=>!_o(["td","th","table"],N.toLowerCase()));let h=n;do{if(Nt(h)&&Ut.trim(h.data).length!==0){r?t.setStart(h,0):t.setEnd(h,h.data.length);return}if(u[h.nodeName]){r?t.setStartBefore(h):h.nodeName==="BR"?t.setEndBefore(h):t.setEndAfter(h);return}}while(h=r?c.next():c.prev());a.nodeName==="BODY"&&(r?t.setStart(a,0):t.setEnd(a,a.childNodes.length))},nd=e=>{const t=e.selection.getSel();return Je(t)&&t.rangeCount>0},jy=(e,t)=>{const n=vg(e);n.length>0?ut(n,r=>{const a=r.dom,c=e.dom.createRng();c.setStartBefore(a),c.setEndAfter(a),t(c,!0)}):t(e.selection.getRng(),!1)},kC=(e,t,n)=>{const r=X(e,t);n(r),e.moveToBookmark(r)},Dd=e=>B(e==null?void 0:e.nodeType),ps=e=>kn(e)&&!zf(e)&&!Yu(e)&&!Yc(e),H5=(e,t)=>{if(ps(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,"data-mce-selected"),r=parseInt(n,10);return!isNaN(r)&&r>0}else return!1},zb=(e,t,n)=>{const{selection:r,dom:a}=e,c=r.getNode(),u=$r(c);kC(r,!0,()=>{t()}),u&&$r(c)&&a.isChildOf(c,e.getBody())?e.selection.select(c):n(r.getStart())&&v1(a,r)},v1=(e,t)=>{var n,r;const a=t.getRng(),{startContainer:c,startOffset:u}=a,h=t.getNode();if(!H5(e,h)&&kn(c)){const k=c.childNodes,N=e.getRoot();let U;if(u<k.length){const Z=k[u];U=new pi(Z,(n=e.getParent(Z,e.isBlock))!==null&&n!==void 0?n:N)}else{const Z=k[k.length-1];U=new pi(Z,(r=e.getParent(Z,e.isBlock))!==null&&r!==void 0?r:N),U.next(!0)}for(let Z=U.current();Z;Z=U.next()){if(e.getContentEditable(Z)==="false")return;if(Nt(Z)&&!CC(Z)){a.setStart(Z,0),t.setRng(a);return}}}},_C=(e,t,n)=>{if(e){const r=t?"nextSibling":"previousSibling";for(e=n?e:e[r];e;e=e[r])if(kn(e)||!CC(e))return e}},x1=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Hu(e,t),Ob=(e,t,n)=>e.schema.isValidChild(t,n),CC=(e,t=!1)=>{if(Je(e)&&Nt(e)){const n=t?e.data.replace(/ /g," "):e.data;return ou(n)}else return!1},SC=e=>Je(e)&&Nt(e)&&e.length===0,U5=(e,t)=>{const n="[data-mce-cef-wrappable]",r=zp(e),a=as(r)?n:`${n},${r}`;return Si(ye.fromDom(t),a)},EC=(e,t)=>{const n=e.dom;return ps(t)&&n.getContentEditable(t)==="false"&&U5(e,t)&&n.select('[contenteditable="true"]',t).length===0},hh=(e,t)=>un(e)?e(t):(Je(t)&&(e=e.replace(/%(\w+)/g,(n,r)=>t[r]||n)),e),w1=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),Uw=(e,t)=>{if(Zn(e))return null;{let n=String(e);return(t==="color"||t==="backgroundColor")&&(n=Vl(n)),t==="fontWeight"&&e===700&&(n="bold"),t==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},Zy=(e,t,n)=>{const r=e.getStyle(t,n);return Uw(r,n)},p3=(e,t)=>{let n;return e.getParent(t,r=>kn(r)?(n=e.getStyle(r,"text-decoration"),!!n&&n!=="none"):!1),n},jw=(e,t,n)=>e.getParents(t,n,e.getRoot()),TC=(e,t,n)=>{const r=e.formatter.get(t);return Je(r)&&ar(r,n)},j5=(e,t)=>TC(e,t,r=>{const a=c=>un(c)||c.length>1&&c.charAt(0)==="%";return ar(["styles","attributes"],c=>Ir(r,c).exists(u=>{const h=Ee(u)?u:Kl(u);return ar(h,a)}))}),Z5=(e,t,n)=>{const r=["inline","block","selector","attributes","styles","classes"],a=c=>hl(c,(u,h)=>ar(r,k=>k===h));return TC(e,t,c=>{const u=a(c);return TC(e,n,h=>{const k=a(h);return wi(u,k)})})},Op=e=>Hi(e,"block"),W5=e=>Op(e)&&e.wrapper===!0,$5=e=>Op(e)&&e.wrapper!==!0,Af=e=>Hi(e,"selector"),Zl=e=>Hi(e,"inline"),g3=e=>Af(e)&&Zl(e)&&Cu(Ir(e,"mixed"),!0),zC=e=>Af(e)&&e.expand!==!1&&!Zl(e),q5=e=>{const t=[];let n=e;for(;n;){if(Nt(n)&&n.data!==C||n.childNodes.length>1)return[];kn(n)&&t.push(n),n=n.firstChild}return t},OC=e=>q5(e).length>0,fu=e=>Yu(e.dom)&&OC(e.dom),Y0=zf,AC=jw,Zw=CC,NC=x1,h3=e=>ss(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,DC=(e,t)=>{let n=t;for(;n;){if(kn(n)&&e.getContentEditable(n))return e.getContentEditable(n)==="false"?n:t;n=n.parentNode}return t},Ww=(e,t,n,r)=>{const a=t.data;if(e){for(let c=n;c>0;c--)if(r(a.charAt(c-1)))return c}else for(let c=n;c<a.length;c++)if(r(a.charAt(c)))return c;return-1},b3=(e,t,n)=>Ww(e,t,n,r=>Vw(r)||G0(r)),Km=(e,t,n)=>Ww(e,t,n,Nd),y3=(e,t,n,r,a,c)=>{let u;const h=e.getParent(n,e.isBlock)||t,k=(U,Z,K)=>{const le=Im(e),ve=a?le.backwards:le.forwards;return Y.from(ve(U,Z,(ie,we)=>Y0(ie.parentNode)?-1:(u=ie,K(a,ie,we)),h))};return k(n,r,b3).bind(U=>c?k(U.container,U.offset+(a?-1:0),Km):Y.some(U)).orThunk(()=>u?Y.some({container:u,offset:a?0:u.length}):Y.none())},$w=(e,t,n,r,a)=>{const c=r[a];Nt(r)&&as(r.data)&&c&&(r=c);const u=AC(e,r);for(let h=0;h<u.length;h++)for(let k=0;k<t.length;k++){const N=t[k];if(!(Je(N.collapsed)&&N.collapsed!==n.collapsed)&&Af(N)&&e.is(u[h],N.selector))return u[h]}return r},Nf=(e,t,n,r)=>{var a;let c=n;const u=e.getRoot(),h=t[0];if(Op(h)&&(c=h.wrapper?null:e.getParent(n,h.block,u)),!c){const k=(a=e.getParent(n,"LI,TD,TH,SUMMARY"))!==null&&a!==void 0?a:u;c=e.getParent(Nt(n)?n.parentNode:n,N=>N!==u&&NC(e.schema,N),k)}if(c&&Op(h)&&h.wrapper&&(c=AC(e,c,"ul,ol").reverse()[0]||c),!c)for(c=n;c&&c[r]&&!e.isBlock(c[r])&&(c=c[r],!w1(c,"br")););return c||n},X0=(e,t,n,r)=>{const a=n.parentNode;return Je(n[r])?!1:a===t||Zn(a)||e.isBlock(a)?!0:X0(e,t,a,r)},bh=(e,t,n,r,a)=>{let c=n;const u=a?"previousSibling":"nextSibling",h=e.getRoot();if(Nt(n)&&!Zw(n)&&(a?r>0:r<n.data.length))return n;for(;c;){if(!t[0].block_expand&&e.isBlock(c))return c;for(let k=c[u];k;k=k[u]){const N=Nt(k)&&!X0(e,h,k,u);if(!Y0(k)&&!h3(k)&&!Zw(k,N))return c}if(c===h||c.parentNode===h){n=c;break}c=c.parentNode}return n},v3=e=>Y0(e.parentNode)||Y0(e),Ym=(e,t,n,r=!1)=>{let{startContainer:a,startOffset:c,endContainer:u,endOffset:h}=t;const k=n[0];return kn(a)&&a.hasChildNodes()&&(a=Cd(a,c),Nt(a)&&(c=0)),kn(u)&&u.hasChildNodes()&&(u=Cd(u,t.collapsed?h:h-1),Nt(u)&&(h=u.data.length)),a=DC(e,a),u=DC(e,u),v3(a)&&(a=Y0(a)?a:a.parentNode,t.collapsed?a=a.previousSibling||a:a=a.nextSibling||a,Nt(a)&&(c=t.collapsed?a.length:0)),v3(u)&&(u=Y0(u)?u:u.parentNode,t.collapsed?u=u.nextSibling||u:u=u.previousSibling||u,Nt(u)&&(h=t.collapsed?0:u.length)),t.collapsed&&(y3(e,e.getRoot(),a,c,!0,r).each(({container:Z,offset:K})=>{a=Z,c=K}),y3(e,e.getRoot(),u,h,!1,r).each(({container:Z,offset:K})=>{u=Z,h=K})),(Zl(k)||k.block_expand)&&((!Zl(k)||!Nt(a)||c===0)&&(a=bh(e,n,a,c,!0)),(!Zl(k)||!Nt(u)||h===u.data.length)&&(u=bh(e,n,u,h,!1))),zC(k)&&(a=$w(e,n,t,a,"previousSibling"),u=$w(e,n,t,u,"nextSibling")),(Op(k)||Af(k))&&(a=Nf(e,n,a,"previousSibling"),u=Nf(e,n,u,"nextSibling"),Op(k)&&(e.isBlock(a)||(a=bh(e,n,a,c,!0)),e.isBlock(u)||(u=bh(e,n,u,h,!1)))),kn(a)&&a.parentNode&&(c=e.nodeIndex(a),a=a.parentNode),kn(u)&&u.parentNode&&(h=e.nodeIndex(u)+1,u=u.parentNode),{startContainer:a,startOffset:c,endContainer:u,endOffset:h}},Gr=(e,t,n)=>{var r;const a=t.startOffset,c=Cd(t.startContainer,a),u=t.endOffset,h=Cd(t.endContainer,u-1),k=we=>{const Be=we[0];Nt(Be)&&Be===c&&a>=Be.data.length&&we.splice(0,1);const Fe=we[we.length-1];return u===0&&we.length>0&&Fe===h&&Nt(Fe)&&we.splice(we.length-1,1),we},N=(we,Be,Fe)=>{const Ve=[];for(;we&&we!==Fe;we=we[Be])Ve.push(we);return Ve},U=(we,Be)=>e.getParent(we,Fe=>Fe.parentNode===Be,Be),Z=(we,Be,Fe)=>{const Ve=Fe?"nextSibling":"previousSibling";for(let We=we,Ct=We.parentNode;We&&We!==Be;We=Ct){Ct=We.parentNode;const $t=N(We===we?We:We[Ve],Ve);$t.length&&(Fe||$t.reverse(),n(k($t)))}};if(c===h)return n(k([c]));const K=(r=e.findCommonAncestor(c,h))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(c,h))return Z(c,K,!0);if(e.isChildOf(h,c))return Z(h,K);const le=U(c,K)||c,ve=U(h,K)||h;Z(c,le,!0);const ie=N(le===c?le:le.nextSibling,"nextSibling",ve===h?ve.nextSibling:ve);ie.length&&n(k(ie)),Z(h,ve)},k1=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],x3=e=>Hs(e)&&Xd(e)===C,w3=(e,t,n,r)=>Dr(t).fold(()=>"skipping",a=>r==="br"||x3(t)?"valid":Ul(t)?"existing":Yu(t.dom)?"caret":ar(k1,c=>Si(t,c))?"valid-block":!Ob(e,n,r)||!Ob(e,Co(a),n)?"invalid-child":"valid"),RC=(e,t)=>{const n=Ym(e.dom,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},qw=(e,t,n,r,a,c)=>{const{uid:u=t,...h}=n;ra(e,Cf()),Fr(e,`${om()}`,u),Fr(e,`${Mm()}`,r);const{attributes:k={},classes:N=[]}=a(u,h);if(Cs(e,k),A0(e,N),c){N.length>0&&Fr(e,`${iu()}`,N.join(","));const U=Bt(k);U.length>0&&Fr(e,`${ig()}`,U.join(","))}},BC=e=>{Ci(e,Cf()),hs(e,`${om()}`),hs(e,`${Mm()}`),hs(e,`${rm()}`);const t=qs(e,`${ig()}`).map(r=>r.split(",")).getOr([]),n=qs(e,`${iu()}`).map(r=>r.split(",")).getOr([]);ut(t,r=>hs(e,r)),rb(e,n),hs(e,`${iu()}`),hs(e,`${ig()}`)},Gw=(e,t,n,r,a)=>{const c=ye.fromTag("span",e);return qw(c,t,n,r,a,!1),c},Kw=(e,t,n,r,a,c)=>{const u=[],h=Gw(e.getDoc(),n,c,r,a),k=$u(),N=()=>{k.clear()},U=()=>k.get().getOrThunk(()=>{const ve=im(h);return u.push(ve),k.set(ve),ve}),Z=ve=>{ut(ve,K)},K=ve=>{switch(w3(e,ve,"span",Co(ve))){case"invalid-child":{N();const we=Br(ve);Z(we),N();break}case"valid-block":{N(),qw(ve,n,c,r,a,!0);break}case"valid":{const we=U();Wf(ve,we);break}}},le=ve=>{const ie=no(ve,ye.fromDom);Z(ie)};return Gr(e.dom,t,ve=>{N(),le(ve)}),u},MC=(e,t,n,r)=>{e.undoManager.transact(()=>{const a=e.selection,c=a.getRng(),u=vg(e).length>0,h=am("mce-annotation");if(c.collapsed&&!u&&RC(e,c),a.getRng().collapsed&&!u){const k=Gw(e.getDoc(),h,r,t,n.decorate);Dc(k,Ro),a.getRng().insertNode(k.dom),a.select(k.dom)}else kC(a,!1,()=>{jy(e,k=>{Kw(e,k,h,t,n.decorate,r)})})})},LC=e=>{const t=Sy();nh(e,t);const n=o1(e,t),r=ma("span"),a=c=>{ut(c,u=>{r(u)?ha(u):BC(u)})};return{register:(c,u)=>{t.register(c,u)},annotate:(c,u)=>{t.lookup(c).each(h=>{MC(e,c,h,u)})},annotationChanged:(c,u)=>{n.addListener(c,u)},remove:c=>{nb(e,Y.some(c)).each(({elements:u})=>{const h=e.selection.getBookmark();a(u),e.selection.moveToBookmark(h)})},removeAll:c=>{const u=e.selection.getBookmark();jo(ob(e,c),(h,k)=>{a(h)}),e.selection.moveToBookmark(u)},getAll:c=>{const u=ob(e,c);return li(u,h=>no(h,k=>k.dom))}}},J0=e=>({getBookmark:zt(Vr,e),moveToBookmark:zt(u3,e)});J0.isBookmarkNode=zf;const PC=(e,t,n)=>n.collapsed?!1:ar(n.getClientRects(),r=>ib(r,e,t)),k3=(e,t)=>e.dispatch("PreProcess",t),_3=(e,t)=>e.dispatch("PostProcess",t),Q0=e=>{e.dispatch("remove")},C3=e=>{e.dispatch("detach")},IC=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},G5=(e,t,n,r,a)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:r,origin:a})},K5=(e,t,n,r,a)=>{e.dispatch("ObjectResized",{target:t,width:n,height:r,origin:a})},S3=e=>{e.dispatch("PreInit")},E3=e=>{e.dispatch("PostRender")},T3=e=>{e.dispatch("Init")},Yw=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},FC=(e,t,n)=>{e.dispatch(t,n)},VC=(e,t,n,r)=>{e.dispatch("FormatApply",{format:t,node:n,vars:r})},HC=(e,t,n,r)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:r})},z3=(e,t)=>e.dispatch("BeforeSetContent",t),UC=(e,t)=>e.dispatch("SetContent",t),O3=(e,t)=>e.dispatch("BeforeGetContent",t),jC=(e,t)=>e.dispatch("GetContent",t),A3=(e,t)=>{e.dispatch("AutocompleterStart",t)},N3=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},D3=e=>{e.dispatch("AutocompleterEnd")},ZC=(e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}),R3=(e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}),WC=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),B3=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),vn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||vn.metaKeyPressed(e),metaKeyPressed:e=>Qo.os.isMacOS()||Qo.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Ab="data-mce-selected",M3="table,img,figure.image,hr,video,span.mce-preview-object,details",Xw=Math.abs,Wy=Math.round,ev={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Jw=e=>e.type==="longpress"||e.type.indexOf("touch")===0,$C=(e,t)=>{const n=t.dom,r=t.getDoc(),a=document,c=t.getBody();let u,h,k,N,U,Z,K,le,ve,ie,we,Be,Fe,Ve,We,Ct,$t;const mn=Gt=>Je(Gt)&&(Sl(Gt)||n.is(Gt,"figure.image")),it=Gt=>gn(Gt)||n.hasClass(Gt,"mce-preview-object"),tt=(Gt,ho)=>{if(Jw(Gt)){const mr=Gt.touches[0];return mn(Gt.target)&&!PC(mr.clientX,mr.clientY,ho)}else return mn(Gt.target)&&!PC(Gt.clientX,Gt.clientY,ho)},Mt=Gt=>{const ho=Gt.target;tt(Gt,t.selection.getRng())&&!Gt.isDefaultPrevented()&&t.selection.select(ho)},hn=Gt=>n.hasClass(Gt,"mce-preview-object")&&Je(Gt.firstElementChild)?[Gt,Gt.firstElementChild]:n.is(Gt,"figure.image")?[Gt.querySelector("img")]:[Gt],Fn=Gt=>{const ho=i1(t);return!ho||Gt.getAttribute("data-mce-resize")==="false"||Gt===t.getBody()?!1:n.hasClass(Gt,"mce-preview-object")&&Je(Gt.firstElementChild)?Si(ye.fromDom(Gt.firstElementChild),ho):Si(ye.fromDom(Gt),ho)},Ho=Gt=>it(Gt)?n.create("img",{src:Qo.transparentSrc}):Gt.cloneNode(!0),Wo=(Gt,ho,mr)=>{if(Je(mr)){const ws=hn(Gt);ut(ws,Xs=>{Xs.style[ho]||!t.schema.isValid(Xs.nodeName.toLowerCase(),ho)?n.setStyle(Xs,ho,mr):n.setAttrib(Xs,ho,""+mr)})}},gs=(Gt,ho,mr)=>{Wo(Gt,"width",ho),Wo(Gt,"height",mr)},Is=Gt=>{let ho,mr,ws,Xs,gu;ho=Gt.screenX-Z,mr=Gt.screenY-K,Ve=ho*N[2]+ie,We=mr*N[3]+we,Ve=Ve<5?5:Ve,We=We<5?5:We,(mn(u)||it(u))&&Ry(t)!==!1?ws=!vn.modifierPressed(Gt):ws=vn.modifierPressed(Gt),ws&&(Xw(ho)>Xw(mr)?(We=Wy(Ve*Be),Ve=Wy(We/Be)):(Ve=Wy(We/Be),We=Wy(Ve*Be))),gs(h,Ve,We),Xs=N.startPos.x+ho,gu=N.startPos.y+mr,Xs=Xs>0?Xs:0,gu=gu>0?gu:0,n.setStyles(k,{left:Xs,top:gu,display:"block"}),k.innerHTML=Ve+" &times; "+We,N[2]<0&&h.clientWidth<=Ve&&n.setStyle(h,"left",le+(ie-Ve)),N[3]<0&&h.clientHeight<=We&&n.setStyle(h,"top",ve+(we-We)),ho=c.scrollWidth-Ct,mr=c.scrollHeight-$t,ho+mr!==0&&n.setStyles(k,{left:Xs-ho,top:gu-mr}),Fe||(G5(t,u,ie,we,"corner-"+N.name),Fe=!0)},vi=()=>{const Gt=Fe;Fe=!1,Gt&&(Wo(u,"width",Ve),Wo(u,"height",We)),n.unbind(r,"mousemove",Is),n.unbind(r,"mouseup",vi),a!==r&&(n.unbind(a,"mousemove",Is),n.unbind(a,"mouseup",vi)),n.remove(h),n.remove(k),n.remove(U),Hc(u),Gt&&(K5(t,u,Ve,We,"corner-"+N.name),n.setAttrib(u,"style",n.getAttrib(u,"style"))),t.nodeChanged()},Hc=Gt=>{br();const ho=n.getPos(Gt,c),mr=ho.x,ws=ho.y,Xs=Gt.getBoundingClientRect(),gu=Xs.width||Xs.right-Xs.left,ym=Xs.height||Xs.bottom-Xs.top;u!==Gt&&(an(),u=Gt,Ve=We=0);const ay=t.dispatch("ObjectSelected",{target:Gt});Fn(Gt)&&!ay.isDefaultPrevented()?jo(ev,(hu,Mg)=>{const yo=ks=>{const Va=hn(u)[0];Z=ks.screenX,K=ks.screenY,ie=Va.clientWidth,we=Va.clientHeight,Be=we/ie,N=hu,N.name=Mg,N.startPos={x:gu*hu[0]+mr,y:ym*hu[1]+ws},Ct=c.scrollWidth,$t=c.scrollHeight,U=n.add(c,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(U,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),h=Ho(u),n.addClass(h,"mce-clonedresizable"),n.setAttrib(h,"data-mce-bogus","all"),h.contentEditable="false",n.setStyles(h,{left:mr,top:ws,margin:0}),gs(h,gu,ym),h.removeAttribute(Ab),c.appendChild(h),n.bind(r,"mousemove",Is),n.bind(r,"mouseup",vi),a!==r&&(n.bind(a,"mousemove",Is),n.bind(a,"mouseup",vi)),k=n.add(c,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ie+" &times; "+we)};let pr=n.get("mceResizeHandle"+Mg);pr&&n.remove(pr),pr=n.add(c,"div",{id:"mceResizeHandle"+Mg,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Mg+"-resize; margin:0; padding:0"}),n.bind(pr,"mousedown",ks=>{ks.stopImmediatePropagation(),ks.preventDefault(),yo(ks)}),hu.elm=pr,n.setStyles(pr,{left:gu*hu[0]+mr-pr.offsetWidth/2,top:ym*hu[1]+ws-pr.offsetHeight/2})}):an(!1)},$l=eh(Hc,0),an=(Gt=!0)=>{$l.cancel(),br(),u&&Gt&&u.removeAttribute(Ab),jo(ev,(ho,mr)=>{const ws=n.get("mceResizeHandle"+mr);ws&&(n.unbind(ws),n.remove(ws))})},zn=(Gt,ho)=>n.isChildOf(Gt,ho),Tr=Gt=>{if(Fe||t.removed||t.composing)return;const ho=Gt.type==="mousedown"?Gt.target:e.getNode(),mr=Gi(ye.fromDom(ho),M3).map(Xs=>Xs.dom).filter(Xs=>n.isEditable(Xs.parentElement)||Xs.nodeName==="IMG"&&n.isEditable(Xs)).getOrUndefined(),ws=Je(mr)?n.getAttrib(mr,Ab,"1"):"1";if(ut(n.select(`img[${Ab}],hr[${Ab}]`),Xs=>{Xs.removeAttribute(Ab)}),Je(mr)&&zn(mr,c)&&t.hasFocus()){On();const Xs=e.getStart(!0);if(zn(Xs,mr)&&zn(e.getEnd(!0),mr)){n.setAttrib(mr,Ab,ws),$l.throttle(mr);return}}an()},br=()=>{jo(ev,Gt=>{Gt.elm&&(n.unbind(Gt.elm),delete Gt.elm)})},On=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{On(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Tr),t.on("keyup compositionend",Gt=>{u&&u.nodeName==="TABLE"&&Tr(Gt)}),t.on("hide blur",an),t.on("contextmenu longpress",Mt,!0)}),t.on("remove",br),{isResizable:Fn,showResizeRect:Hc,hideResizeRect:an,updateResizeRect:Tr,destroy:()=>{$l.cancel(),u=h=U=null}}},Qw=(e,t)=>{t.fold(n=>{e.setStartBefore(n.dom)},(n,r)=>{e.setStart(n.dom,r)},n=>{e.setStartAfter(n.dom)})},qC=(e,t)=>{t.fold(n=>{e.setEndBefore(n.dom)},(n,r)=>{e.setEnd(n.dom,r)},n=>{e.setEndAfter(n.dom)})},tv=(e,t,n)=>{const r=e.document.createRange();return Qw(r,t),qC(r,n),r},_1=(e,t,n,r,a)=>{const c=e.document.createRange();return c.setStart(t.dom,n),c.setEnd(r.dom,a),c},nv=He.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),$y=(e,t,n)=>t(ye.fromDom(n.startContainer),n.startOffset,ye.fromDom(n.endContainer),n.endOffset),GC=(e,t)=>t.match({domRange:n=>({ltr:ft(n),rtl:Y.none}),relative:(n,r)=>({ltr:Ui(()=>tv(e,n,r)),rtl:Ui(()=>Y.some(tv(e,r,n)))}),exact:(n,r,a,c)=>({ltr:Ui(()=>_1(e,n,r,a,c)),rtl:Ui(()=>Y.some(_1(e,a,c,n,r)))})}),KC=(e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter(a=>a.collapsed===!1).map(a=>nv.rtl(ye.fromDom(a.endContainer),a.endOffset,ye.fromDom(a.startContainer),a.startOffset)).getOrThunk(()=>$y(e,nv.ltr,n)):$y(e,nv.ltr,n)},C1=(e,t)=>{const n=GC(e,t);return KC(e,n)};nv.ltr,nv.rtl;const YC={create:(e,t,n,r)=>({start:e,soffset:t,finish:n,foffset:r})},Y5=(e,t,n)=>{var r,a;return Y.from((a=(r=e.dom).caretPositionFromPoint)===null||a===void 0?void 0:a.call(r,t,n)).bind(c=>{if(c.offsetNode===null)return Y.none();const u=e.dom.createRange();return u.setStart(c.offsetNode,c.offset),u.collapse(),Y.some(u)})},L3=(e,t,n)=>{var r,a;return Y.from((a=(r=e.dom).caretRangeFromPoint)===null||a===void 0?void 0:a.call(r,t,n))},P3=(()=>document.caretPositionFromPoint?Y5:document.caretRangeFromPoint?L3:Y.none)(),XC=(e,t,n)=>{const r=ye.fromDom(e.document);return P3(r,t,n).map(a=>YC.create(ye.fromDom(a.startContainer),a.startOffset,ye.fromDom(a.endContainer),a.endOffset))},um=He.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),JC=(e,t,n,r)=>e.fold(t,n,r),ek=e=>e.fold(Mn,Mn,Mn),I3=um.before,X5=um.on,F3=um.after,xg={before:I3,on:X5,after:F3,cata:JC,getStart:ek},ov=He.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),V3=e=>ov.exact(e.start,e.soffset,e.finish,e.foffset),S1=e=>e.match({domRange:t=>ye.fromDom(t.startContainer),relative:(t,n)=>xg.getStart(t),exact:(t,n,r,a)=>t}),H3=ov.domRange,U3=ov.relative,j3=ov.exact,J5=e=>{const t=S1(e);return ir(t)},QC=YC.create,Xm={domRange:H3,relative:U3,exact:j3,exactFromRange:V3,getWin:J5,range:QC},tk=(e,t)=>{const n=Co(e);return n==="input"?xg.after(e):_o(["br","img"],n)?t===0?xg.before(e):xg.after(e):xg.on(e,t)},Q5=(e,t)=>{const n=e.fold(xg.before,tk,xg.after),r=t.fold(xg.before,tk,xg.after);return Xm.relative(n,r)},E1=(e,t,n,r)=>{const a=tk(e,t),c=tk(n,r);return Xm.relative(a,c)},Z3=e=>e.match({domRange:t=>{const n=ye.fromDom(t.startContainer),r=ye.fromDom(t.endContainer);return E1(n,t.startOffset,r,t.endOffset)},relative:Q5,exact:E1}),nk=(e,t)=>{const r=(t||document).createDocumentFragment();return ut(e,a=>{r.appendChild(a.dom)}),ye.fromDom(r)},eB=e=>{const t=Xm.getWin(e).dom,n=(a,c,u,h)=>_1(t,a,c,u,h),r=Z3(e);return C1(t,r).match({ltr:n,rtl:n})},W3=(e,t,n)=>XC(e,t,n),Nb=(e,t,n)=>{const r=ir(ye.fromDom(n));return W3(r.dom,e,t).map(a=>{const c=n.createRange();return c.setStart(a.start.dom,a.soffset),c.setEnd(a.finish.dom,a.foffset),c}).getOrUndefined()},ok=(e,t)=>Je(e)&&Je(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,$3=(e,t,n)=>{let r=e;for(;r&&r!==t;){if(n(r))return r;r=r.parentNode}return null},eS=(e,t,n)=>$3(e,t,n)!==null,rk=(e,t,n)=>eS(e,t,r=>r.nodeName===n),q3=(e,t)=>Tn(e)&&!eS(e,t,Yu),tS=(e,t,n)=>{const r=t.parentNode;if(r){const a=new pi(t,e.getParent(r,e.isBlock)||e.getRoot());let c;for(;c=a[n?"prev":"next"]();)if(ss(c))return!0}return!1},tB=(e,t)=>{var n;return((n=e.previousSibling)===null||n===void 0?void 0:n.nodeName)===t},sk=(e,t)=>{let n=t;for(;n&&n!==e;){if($r(n))return!0;n=n.parentNode}return!1},ak=(e,t,n,r,a)=>{const c=e.getRoot(),u=e.schema.getNonEmptyElements(),h=a.parentNode;let k,N;if(!h)return Y.none();const U=e.getParent(h,e.isBlock)||c;if(r&&ss(a)&&t&&e.isEmpty(U))return Y.some(ot(h,e.nodeIndex(a)));const Z=new pi(a,U);for(;N=Z[r?"prev":"next"]();){if(e.getContentEditableParent(N)==="false"||q3(N,c))return Y.none();if(Nt(N)&&N.data.length>0)return rk(N,c,"A")?Y.none():Y.some(ot(N,r?N.data.length:0));if(e.isBlock(N)||u[N.nodeName.toLowerCase()])return Y.none();k=N}return Mu(k)?Y.none():n&&k?Y.some(ot(k,0)):Y.none()},ik=(e,t,n,r)=>{const a=e.getRoot();let c,u=!1,h=n?r.startContainer:r.endContainer,k=n?r.startOffset:r.endOffset;const N=kn(h)&&k===h.childNodes.length,U=e.schema.getNonEmptyElements();let Z=n;if(Tn(h))return Y.none();if(kn(h)&&k>h.childNodes.length-1&&(Z=!1),Cl(h)&&(h=a,k=0),h===a){if(Z&&(c=h.childNodes[k>0?k-1:0],c&&(Tn(c)||U[c.nodeName]||gd(c))))return Y.none();if(h.hasChildNodes()){if(k=Math.min(!Z&&k>0?k-1:k,h.childNodes.length-1),h=h.childNodes[k],k=Nt(h)&&N?h.data.length:0,!t&&h===a.lastChild&&gd(h)||sk(a,h)||Tn(h)||mp(h))return Y.none();if(h.hasChildNodes()&&!gd(h)){c=h;const K=new pi(h,a);do{if($r(c)||Tn(c)){u=!1;break}if(Nt(c)&&c.data.length>0){k=Z?0:c.data.length,h=c,u=!0;break}if(U[c.nodeName.toLowerCase()]&&!Lo(c)){k=e.nodeIndex(c),h=c.parentNode,Z||k++,u=!0;break}}while(c=Z?K.next():K.prev())}}}return t&&(Nt(h)&&k===0&&ak(e,N,t,!0,h).each(K=>{h=K.container(),k=K.offset(),u=!0}),kn(h)&&(c=h.childNodes[k],c||(c=h.childNodes[k-1]),c&&ss(c)&&!tB(c,"A")&&!tS(e,c,!1)&&!tS(e,c,!0)&&ak(e,N,t,!0,c).each(K=>{h=K.container(),k=K.offset(),u=!0}))),Z&&!t&&Nt(h)&&k===h.data.length&&ak(e,N,t,!1,h).each(K=>{h=K.container(),k=K.offset(),u=!0}),u&&h?Y.some(ot(h,k)):Y.none()},T1=(e,t)=>{const n=t.collapsed,r=t.cloneRange(),a=ot.fromRangeStart(t);return ik(e,n,!0,r).each(c=>{(!n||!ot.isAbove(a,c))&&r.setStart(c.container(),c.offset())}),n||ik(e,n,!1,r).each(c=>{r.setEnd(c.container(),c.offset())}),n&&r.collapse(!0),ok(t,r)?Y.none():Y.some(r)},rv=(e,t)=>e.splitText(t),z1=e=>{let t=e.startContainer,n=e.startOffset,r=e.endContainer,a=e.endOffset;if(t===r&&Nt(t)){if(n>0&&n<t.data.length)if(r=rv(t,n),t=r.previousSibling,a>n){a=a-n;const c=rv(r,a).previousSibling;t=r=c,a=c.data.length,n=0}else a=0}else if(Nt(t)&&n>0&&n<t.data.length&&(t=rv(t,n),n=0),Nt(r)&&a>0&&a<r.data.length){const c=rv(r,a).previousSibling;r=c,a=c.data.length}return{startContainer:t,startOffset:n,endContainer:r,endOffset:a}},wg=e=>({walk:(c,u)=>Gr(e,c,u),split:z1,expand:(c,u={type:"word"})=>{if(u.type==="word"){const h=Ym(e,c,[{inline:"span"}]),k=e.createRng();return k.setStart(h.startContainer,h.startOffset),k.setEnd(h.endContainer,h.endOffset),k}return c},normalize:c=>T1(e,c).fold(Pn,u=>(c.setStart(u.startContainer,u.startOffset),c.setEnd(u.endContainer,u.endOffset),!0))});wg.compareRanges=ok,wg.getCaretRangeFromPoint=Nb,wg.getSelectedNode=Gu,wg.getNode=Cd;const nB=((e,t)=>{const n=(h,k)=>{if(!B(k)&&!k.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+k);const N=h.dom;Bl(N)&&(N.style[e]=k+"px")},r=h=>{const k=t(h);if(k<=0||k===null){const N=Wa(h,e);return parseFloat(N)||0}return k},a=r,c=(h,k)=>lo(k,(N,U)=>{const Z=Wa(h,U),K=Z===void 0?0:parseInt(Z,10);return isNaN(K)?N:N+K},0);return{set:n,get:r,getOuter:a,aggregate:c,max:(h,k,N)=>{const U=c(h,N);return k>U?k-U:0}}})("height",e=>{const t=e.dom;return Gs(e)?t.getBoundingClientRect().height:t.offsetHeight}),nS=e=>nB.get(e),ri=()=>ye.fromDom(document),lk=(e,t)=>e.view(t).fold(ft([]),r=>{const a=e.owner(r),c=lk(e,a);return[r].concat(c)}),oS=(e,t)=>{const n=t.owner(e);return lk(t,n)};var G3=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?Y.none():Y.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(ye.fromDom)},owner:e=>Sn(e)});const O1=e=>{const t=ri(),n=yn(t),r=oS(e,G3),a=Ot(e),c=wn(r,(u,h)=>{const k=Ot(h);return{left:u.left+k.left,top:u.top+k.top}},{left:0,top:0});return V(c.left+a.left+n.left,c.top+a.top+n.top)},rS=e=>Co(e)==="textarea",rB=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),sv=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},sB=(e,t)=>{const n=Br(e);if(n.length===0||rS(e))return{element:e,offset:t};if(t<n.length&&!rS(n[t]))return{element:n[t],offset:0};{const r=n[n.length-1];return rS(r)?{element:e,offset:t}:Co(r)==="img"?{element:r,offset:1}:Hs(r)?{element:r,offset:Xd(r).length}:{element:r,offset:Br(r).length}}},Bb=(e,t)=>{const n=Ae(e),r=nS(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}},aB=(e,t)=>{const n=sB(e,t),r=ye.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+C+"</span>");return Ms(n.element,r),Bb(r,()=>lr(r))},Mb=e=>Bb(ye.fromDom(e),bt),Df=(e,t,n,r)=>{iB(e,(a,c)=>sS(e,t,n,r),n)},A1=(e,t,n,r,a)=>{const c={elm:r.element.dom,alignToTop:a};if(rB(e,c))return;const u=yn(t).top;n(e,t,u,r,a),sv(e,c)},sS=(e,t,n,r)=>{const a=ye.fromDom(e.getBody()),c=ye.fromDom(e.getDoc());_l(a);const u=aB(ye.fromDom(n.startContainer),n.startOffset);A1(e,c,t,u,r),u.cleanup()},K3=(e,t,n,r)=>{const a=ye.fromDom(e.getDoc());A1(e,a,n,Mb(t),r)},iB=(e,t,n)=>{const r=n.startContainer,a=n.startOffset,c=n.endContainer,u=n.endOffset;t(ye.fromDom(r),ye.fromDom(c));const h=e.dom.createRng();h.setStart(r,a),h.setEnd(c,u),e.selection.setRng(n)},av=(e,t,n,r,a)=>{const c=t.pos;if(r)so(c.left,c.top,a);else{const u=c.top-n+t.height;so(-e.getBody().getBoundingClientRect().left,u,a)}},Y3=(e,t,n,r,a,c)=>{const u=r+n,h=a.pos.top,k=a.bottom,N=k-h>=r;h<n?av(e,a,r,c!==!1,t):h>u?av(e,a,r,N?c!==!1:c===!0,t):k>u&&!N&&av(e,a,r,c===!0,t)},fm=(e,t,n,r,a)=>{const c=ir(t).dom.innerHeight;Y3(e,t,n,c,r,a)},N1=(e,t,n,r,a)=>{const c=ir(t).dom.innerHeight;Y3(e,t,n,c,r,a);const u=O1(r.element),h=bs(window);u.top<h.y?Hn(r.element,a!==!1):u.top>h.bottom&&Hn(r.element,a===!0)},X3=(e,t,n)=>Df(e,fm,t,n),aS=(e,t,n)=>K3(e,t,fm,n),iS=(e,t,n)=>Df(e,N1,t,n),Gy=(e,t,n)=>K3(e,t,N1,n),lS=(e,t,n)=>{(e.inline?aS:Gy)(e,t,n)},iv=(e,t,n)=>{(e.inline?X3:iS)(e,t,n)},J3=(e,t=!1)=>e.dom.focus({preventScroll:t}),lv=e=>{const t=ll(e).dom;return e.dom===t.activeElement},cS=(e=ri())=>Y.from(e.dom.activeElement).map(ye.fromDom),Q3=e=>cS(ll(e)).filter(t=>e.dom.contains(t.dom)),ck=(e,t)=>{const n=Hs(t)?Xd(t).length:Br(t).length+1;return e>n?n:e<0?0:e},lB=e=>Xm.range(e.start,ck(e.soffset,e.start),e.finish,ck(e.foffset,e.finish)),dS=(e,t)=>!wm(t.dom)&&(Dt(e,t)||Pe(e,t)),uS=e=>t=>dS(e,t.start)&&dS(e,t.finish),cB=e=>e.inline||Qo.browser.isFirefox(),dB=e=>Xm.range(ye.fromDom(e.startContainer),e.startOffset,ye.fromDom(e.endContainer),e.endOffset),uB=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?Y.none():Y.from(t.getRangeAt(0))).map(dB)},fB=e=>{const t=ir(e);return uB(t.dom).filter(uS(e))},mB=(e,t)=>Y.from(t).filter(uS(e)).map(lB),pB=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),Y.some(t)}catch{return Y.none()}},fS=e=>{const t=cB(e)?fB(ye.fromDom(e.getBody())):Y.none();e.bookmark=t.isSome()?t:e.bookmark},mS=e=>(e.bookmark?e.bookmark:Y.none()).bind(n=>mB(ye.fromDom(e.getBody()),n)).bind(pB),gB=e=>{mS(e).each(t=>e.selection.setRng(t))},ez={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},tz=(e,t)=>(B(t)||(t=0),setTimeout(e,t)),hB=(e,t)=>(B(t)||(t=0),setInterval(e,t)),od={setEditorTimeout:(e,t,n)=>tz(()=>{e.removed||t()},n),setEditorInterval:(e,t,n)=>{const r=hB(()=>{e.removed?clearInterval(r):t()},n);return r}},bB=e=>e.type==="nodechange"&&e.selectionChange,yB=(e,t)=>{const n=()=>{t.throttle()};us.DOM.bind(document,"mouseup",n),e.on("remove",()=>{us.DOM.unbind(document,"mouseup",n)})},nz=(e,t)=>{e.on("mouseup touchend",n=>{t.throttle()})},vB=(e,t)=>{nz(e,t),e.on("keyup NodeChange AfterSetSelectionRange",n=>{bB(n)||fS(e)})},xB=e=>{const t=eh(()=>{fS(e)},0);e.on("init",()=>{e.inline&&yB(e,t),vB(e,t)}),e.on("remove",()=>{t.cancel()})};let cv;const pS=us.DOM,wB=e=>kn(e)&&ez.isEditorUIElement(e),gS=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},dv=(e,t)=>{const n=zd(e);return pS.getParent(t,a=>wB(a)||(n?e.dom.is(a,n):!1))!==null},Ky=e=>{try{const t=ll(ye.fromDom(e.getElement()));return cS(t).fold(()=>document.body,n=>n.dom)}catch{return document.body}},oz=(e,t)=>{const n=t.editor;xB(n);const r=(a,c)=>{if(Od(a)&&a.inline!==!0){const u=ye.fromDom(a.getContainer());c(u,"tox-edit-focus")}};n.on("focusin",()=>{const a=e.focusedEditor;gS(Ky(n))&&r(n,ra),a!==n&&(a&&a.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:a}),n.focus(!0))}),n.on("focusout",()=>{od.setEditorTimeout(n,()=>{const a=e.focusedEditor;(!gS(Ky(n))||a!==n)&&r(n,Ci),!dv(n,Ky(n))&&a===n&&(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),cv||(cv=a=>{const c=e.activeEditor;c&&fi(a).each(u=>{const h=u;h.ownerDocument===document&&h!==document.body&&!dv(c,h)&&e.focusedEditor===c&&(c.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},pS.bind(document,"focusin",cv))},D1=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&cv&&(pS.unbind(document,"focusin",cv),cv=null)},R1=e=>{e.on("AddEditor",zt(oz,e)),e.on("RemoveEditor",zt(D1,e))},rz=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="true"),kB=e=>e.collapsed?Y.from(Cd(e.startContainer,e.startOffset)).map(ye.fromDom):Y.none(),_B=(e,t)=>kB(t).bind(n=>yd(n)?Y.some(n):Dt(e,n)?Y.none():Y.some(e)),sz=(e,t)=>{_B(ye.fromDom(e.getBody()),t).bind(n=>ed(n.dom)).fold(()=>{e.selection.normalize()},n=>e.selection.setRng(n.toRange()))},hS=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},az=e=>lv(e)||Q3(e).isSome(),iz=e=>Je(e.iframeElement)&&lv(ye.fromDom(e.iframeElement)),CB=e=>{const t=e.getBody();return t&&az(ye.fromDom(t))},dk=e=>{const t=ll(ye.fromDom(e.getElement()));return cS(t).filter(n=>!gS(n.dom)&&dv(e,n.dom)).isSome()},Lb=e=>e.inline?CB(e):iz(e),tl=e=>Lb(e)||dk(e),uv=e=>{const t=e.selection,n=e.getBody();let r=t.getRng();e.quirks.refreshContentEditable(),Je(e.bookmark)&&!Lb(e)&&mS(e).each(c=>{e.selection.setRng(c),r=c});const a=rz(e,t.getNode());if(a&&e.dom.isChildOf(a,n)){hS(a),sz(e,r),uk(e);return}e.inline||(Qo.browser.isOpera()||hS(n),e.getWin().focus()),(Qo.browser.isFirefox()||e.inline)&&(hS(n),sz(e,r)),uk(e)},uk=e=>e.editorManager.setActive(e),bS=(e,t)=>{e.removed||(t?uk(e):uv(e))},B1=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),yh=(e,t,n,r,a)=>{const c=n?t.startContainer:t.endContainer,u=n?t.startOffset:t.endOffset;return Y.from(c).map(ye.fromDom).map(h=>!r||!t.collapsed?yc(h,a(h,u)).getOr(h):h).bind(h=>$i(h)?Y.some(h):Dr(h).filter($i)).map(h=>h.dom).getOr(e)},vh=(e,t,n=!1)=>yh(e,t,!0,n,(r,a)=>Math.min(Nc(r),a)),lz=(e,t,n=!1)=>yh(e,t,!1,n,(r,a)=>a>0?a-1:a),cz=(e,t)=>{const n=e;for(;e&&Nt(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||n},fv=(e,t)=>{if(!t)return e;let n=t.startContainer,r=t.endContainer;const a=t.startOffset,c=t.endOffset;let u=t.commonAncestorContainer;t.collapsed||(n===r&&c-a<2&&n.hasChildNodes()&&(u=n.childNodes[a]),Nt(n)&&Nt(r)&&(n.length===a?n=cz(n.nextSibling,!0):n=n.parentNode,c===0?r=cz(r.previousSibling,!1):r=r.parentNode,n&&n===r&&(u=n)));const h=Nt(u)?u.parentNode:u;return Ys(h)?h:e},mv=(e,t,n,r)=>{const a=[],c=e.getRoot(),u=e.getParent(n||vh(c,t,t.collapsed),e.isBlock),h=e.getParent(r||lz(c,t,t.collapsed),e.isBlock);if(u&&u!==c&&a.push(u),u&&h&&u!==h){let k;const N=new pi(u,c);for(;(k=N.next())&&k!==h;)e.isBlock(k)&&a.push(k)}return h&&u!==h&&h!==c&&a.push(h),a},pv=(e,t,n)=>Y.from(t).bind(r=>Y.from(r.parentNode).map(a=>{const c=e.nodeIndex(r),u=e.createRng();return u.setStart(a,c),u.setEnd(a,c+1),n&&(dm(e,u,r,!0),dm(e,u,r,!1)),u})),fk=(e,t)=>no(t,n=>{const r=e.dispatch("GetSelectionRange",{range:n});return r.range!==n?r.range:n}),yS=e=>Co(e)==="img"?1:Jd(e).fold(()=>Br(e).length,t=>t.length),dz=e=>Jd(e).filter(t=>t.trim().length!==0||t.indexOf(Ro)>-1).isSome(),uz=e=>Tu(e)&&qi(e,"contenteditable")==="false",SB=["img","br"],fz=e=>dz(e)||_o(SB,Co(e))||uz(e),mz=e=>Bs(e,fz),pz=e=>M1(e,fz),M1=(e,t)=>{const n=r=>{const a=Br(r);for(let c=a.length-1;c>=0;c--){const u=a[c];if(t(u))return Y.some(u);const h=n(u);if(h.isSome())return h}return Y.none()};return n(e)},vS="[data-mce-autocompleter]",gz=(e,t)=>{if(xS(ye.fromDom(e.getBody())).isNone()){const n=ye.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());Mr(n,ye.fromDom(t.extractContents())),t.insertNode(n.dom),Dr(n).each(r=>r.dom.normalize()),pz(n).map(r=>{e.selection.setCursorLocation(r.dom,yS(r))})}},hz=e=>Gi(e,vS),xS=e=>Ra(e,vS),bz=(e,t)=>xS(t).each(n=>{const r=e.selection.getBookmark();ha(n),e.selection.moveToBookmark(r)}),yz={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},L1=(e,t,n)=>{const r=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[r])return e[r];if(e!==t){let c=e[a];if(c)return c;for(let u=e.parent;u&&u!==t;u=u.parent)if(c=u[a],c)return c}},vz=e=>{var t;const n=(t=e.value)!==null&&t!==void 0?t:"";if(!ou(n))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(n))},wS=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class Ic{static create(t,n){const r=new Ic(t,yz[t]||1);return n&&jo(n,(a,c)=>{r.attr(c,a)}),r}constructor(t,n){this.name=t,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}replace(t){const n=this;return t.parent&&t.remove(),n.insert(t,n),n.remove(),n}attr(t,n){const r=this;if(!At(t))return Je(t)&&jo(t,(c,u)=>{r.attr(u,c)}),r;const a=r.attributes;if(a){if(n!==void 0){if(n===null){if(t in a.map){delete a.map[t];let c=a.length;for(;c--;)if(a[c].name===t)return a.splice(c,1),r}return r}if(t in a.map){let c=a.length;for(;c--;)if(a[c].name===t){a[c].value=n;break}}else a.push({name:t,value:n});return a.map[t]=n,r}return a.map[t]}}clone(){const t=this,n=new Ic(t.name,t.type),r=t.attributes;if(r){const a=[];a.map={};for(let c=0,u=r.length;c<u;c++){const h=r[c];h.name!=="id"&&(a[a.length]={name:h.name,value:h.value},a.map[h.name]=h.value)}n.attributes=a}return n.value=t.value,n}wrap(t){const n=this;return n.parent&&(n.parent.insert(t,n),t.append(n)),n}unwrap(){const t=this;for(let n=t.firstChild;n;){const r=n.next;t.insert(n,t,!0),n=r}t.remove()}remove(){const t=this,n=t.parent,r=t.next,a=t.prev;return n&&(n.firstChild===t?(n.firstChild=r,r&&(r.prev=null)):a&&(a.next=r),n.lastChild===t?(n.lastChild=a,a&&(a.next=null)):r&&(r.prev=a),t.parent=t.next=t.prev=null),t}append(t){const n=this;t.parent&&t.remove();const r=n.lastChild;return r?(r.next=t,t.prev=r,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t}insert(t,n,r){t.parent&&t.remove();const a=n.parent||this;return r?(n===a.firstChild?a.firstChild=t:n.prev&&(n.prev.next=t),t.prev=n.prev,t.next=n,n.prev=t):(n===a.lastChild?a.lastChild=t:n.next&&(n.next.prev=t),t.next=n.next,t.prev=n,n.next=t),t.parent=a,t}getAll(t){const n=this,r=[];for(let a=n.firstChild;a;a=L1(a,n))a.name===t&&r.push(a);return r}children(){const t=this,n=[];for(let r=t.firstChild;r;r=r.next)n.push(r);return n}empty(){const t=this;if(t.firstChild){const n=[];for(let a=t.firstChild;a;a=L1(a,t))n.push(a);let r=n.length;for(;r--;){const a=n[r];a.parent=a.firstChild=a.lastChild=a.next=a.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,n={},r){var a;const c=this;let u=c.firstChild;if(wS(c))return!1;if(u)do{if(u.type===1){if(u.attr("data-mce-bogus"))continue;if(t[u.name]||wS(u))return!1}if(u.type===8||u.type===3&&!vz(u)||u.type===3&&u.parent&&n[u.parent.name]&&ou((a=u.value)!==null&&a!==void 0?a:"")||r&&r(u))return!1}while(u=L1(u,c));return!0}walk(t){return L1(this,null,t)}}const P1=Ut.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),kS=e=>At(e.nodeValue)&&e.nodeValue.includes(C),_S=e=>`${e.length===0?"":`${no(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,mk=(e,t)=>t.querySelectorAll(_S(e)),xz=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>kS(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),wz=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(kS(t)){const n=t.parentNode;return n&&Yn(P1,n.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),Pb=e=>xz(e).nextNode()!==null,CS=e=>wz(e).nextNode()!==null,kz=(e,t)=>t.querySelector(_S(e))!==null,I1=(e,t)=>{ut(mk(e,t),n=>{const r=ye.fromDom(n);qi(r,"data-mce-bogus")==="all"?lr(r):ut(e,a=>{Na(r,a)&&hs(r,a)})})},SS=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},ES=pn(SS,xz),_z=pn(SS,wz),TS=(e,t)=>{const n=[{condition:zt(kz,t),action:zt(I1,t)},{condition:Pb,action:ES},{condition:CS,action:_z}];let r=e,a=!1;return ut(n,({condition:c,action:u})=>{c(r)&&(a||(r=e.cloneNode(!0),a=!0),u(r))}),r},pk=e=>{const t=zi(e,"[data-mce-bogus]");ut(t,n=>{qi(n,"data-mce-bogus")==="all"?lr(n):Ki(n)?(Ms(n,ye.fromText(nc)),lr(n)):ha(n)})},zS=e=>{const t=zi(e,"input");ut(t,n=>{hs(n,"name")})},EB=(e,t)=>{const n=oi(e),r=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${n}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(r,"")},gk=(e,t)=>{const n=e.getDoc(),r=ll(ye.fromDom(e.getBody())),a=ye.fromTag("div",n);Fr(a,"data-mce-bogus","all"),Ml(a,{position:"fixed",left:"-9999999px",top:"0"}),Dc(a,t.innerHTML),pk(a),zS(a);const c=Ql(r);Mr(c,a);const u=G(a.dom.innerText);return lr(a),u},rd=(e,t,n)=>{let r;return t.format==="raw"?r=Ut.trim(G(TS(n,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?r=gk(e,n):t.format==="tree"?r=e.serializer.serialize(n,t):r=EB(e,e.serializer.serialize(n,t)),t.format!=="text"&&!Gf(ye.fromDom(n))&&At(r)?Ut.trim(r):r},hk=(e,t)=>Y.from(e.getBody()).fold(ft(t.format==="tree"?new Ic("body",11):""),n=>rd(e,t,n)),Ib=Ut.makeMap,OS=e=>{const t=[];e=e||{};const n=e.indent,r=Ib(e.indent_before||""),a=Ib(e.indent_after||""),c=la.getEncodeFunc(e.entity_encoding||"raw",e.entities),u=e.element_format!=="xhtml";return{start:(h,k,N)=>{if(n&&r[h]&&t.length>0){const U=t[t.length-1];U.length>0&&U!==`
`&&t.push(`
`)}if(t.push("<",h),k)for(let U=0,Z=k.length;U<Z;U++){const K=k[U];t.push(" ",K.name,'="',c(K.value,!0),'"')}if(!N||u?t[t.length]=">":t[t.length]=" />",N&&n&&a[h]&&t.length>0){const U=t[t.length-1];U.length>0&&U!==`
`&&t.push(`
`)}},end:h=>{let k;t.push("</",h,">"),n&&a[h]&&t.length>0&&(k=t[t.length-1],k.length>0&&k!==`
`&&t.push(`
`))},text:(h,k)=>{h.length>0&&(t[t.length]=k?h:c(h))},cdata:h=>{t.push("<![CDATA[",h,"]]>")},comment:h=>{t.push("<!--",h,"-->")},pi:(h,k)=>{k?t.push("<?",h," ",c(k),"?>"):t.push("<?",h,"?>"),n&&t.push(`
`)},doctype:h=>{t.push("<!DOCTYPE",h,">",n?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Wl=(e={},t=Zu())=>{const n=OS(e);return e.validate="validate"in e?e.validate:!0,{serialize:a=>{const c=e.validate,u={3:k=>{var N;n.text((N=k.value)!==null&&N!==void 0?N:"",k.raw)},8:k=>{var N;n.comment((N=k.value)!==null&&N!==void 0?N:"")},7:k=>{n.pi(k.name,k.value)},10:k=>{var N;n.doctype((N=k.value)!==null&&N!==void 0?N:"")},4:k=>{var N;n.cdata((N=k.value)!==null&&N!==void 0?N:"")},11:k=>{let N=k;if(N=N.firstChild)do h(N);while(N=N.next)}};n.reset();const h=k=>{var N;const U=u[k.type];if(U)U(k);else{const Z=k.name,K=Z in t.getVoidElements();let le=k.attributes;if(c&&le&&le.length>1){const ve=[];ve.map={};const ie=t.getElementRule(k.name);if(ie){for(let we=0,Be=ie.attributesOrder.length;we<Be;we++){const Fe=ie.attributesOrder[we];if(Fe in le.map){const Ve=le.map[Fe];ve.map[Fe]=Ve,ve.push({name:Fe,value:Ve})}}for(let we=0,Be=le.length;we<Be;we++){const Fe=le[we].name;if(!(Fe in ve.map)){const Ve=le.map[Fe];ve.map[Fe]=Ve,ve.push({name:Fe,value:Ve})}}le=ve}}if(n.start(Z,le,K),Tl(Z))At(k.value)&&n.text(k.value,!0),n.end(Z);else if(!K){let ve=k.firstChild;if(ve){(Z==="pre"||Z==="textarea")&&ve.type===3&&((N=ve.value)===null||N===void 0?void 0:N[0])===`
`&&n.text(`
`,!0);do h(ve);while(ve=ve.next)}n.end(Z)}}};return a.type===1&&!e.inner?h(a):a.type===3?u[3](a):u[11](a),n.getContent()}}},Fb=new Set;ut(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{Fb.add(t)});const AS=["font","text-decoration","text-emphasis"],bk=(e,t)=>Bt(e.parseStyle(e.getAttrib(t,"style"))),Cz=e=>Fb.has(e),F1=(e,t)=>Os(bk(e,t),n=>!Cz(n)),NS=e=>dt(e,t=>ar(AS,n=>zr(t,n))),Sz=(e,t,n)=>{const r=bk(e,t),a=bk(e,n),c=u=>{var h,k;const N=(h=e.getStyle(t,u))!==null&&h!==void 0?h:"",U=(k=e.getStyle(n,u))!==null&&k!==void 0?k:"";return za(N)&&za(U)&&N!==U};return ar(r,u=>{const h=k=>ar(k,N=>N===u);if(!h(a)&&h(AS)){const k=NS(a);return ar(k,c)}else return c(u)})},Ez=(e,t,n)=>Y.from(n.container()).filter(Nt).exists(r=>{const a=e?0:-1;return t(r.data.charAt(n.offset()+a))}),V1=zt(Ez,!0,G0),H1=zt(Ez,!1,G0),TB=e=>{const t=e.container();return Nt(t)&&(t.data.length===0||D(t.data)&&J0.isBookmarkNode(t.parentNode))},Rd=(e,t)=>n=>fn(e?0:-1,n).filter(t).isSome(),yk=e=>Sl(e)&&Wa(ye.fromDom(e),"display")==="block",U1=e=>$r(e)&&!Fg(e),DS=Rd(!0,yk),Tz=Rd(!1,yk),gv=Rd(!0,gn),hv=Rd(!1,gn),zz=Rd(!0,gd),Oz=Rd(!1,gd),xh=Rd(!0,U1),wh=Rd(!1,U1),RS=e=>e.slice(0,-1),BS=(e,t,n)=>Dt(t,e)?RS(ui(e,r=>n(r)||Pe(r,t))):[],MS=(e,t)=>BS(e,t,Pn),Ap=(e,t)=>[e].concat(MS(e,t)),vk=(e,t,n)=>dC(e,t,n,TB),Az=e=>t=>e.isBlock(Co(t)),xk=(e,t,n)=>mo(Ap(ye.fromDom(t.container()),e),Az(n)),LS=(e,t,n,r)=>vk(e,t.dom,n).forall(a=>xk(t,n,r).fold(()=>!Yt(a,n,t.dom),c=>!Yt(a,n,t.dom)&&Dt(c,ye.fromDom(a.container())))),PS=(e,t,n,r)=>xk(t,n,r).fold(()=>vk(e,t.dom,n).forall(a=>!Yt(a,n,t.dom)),a=>vk(e,a.dom,n).isNone()),wk=zt(PS,!1),kk=zt(PS,!0),zB=zt(LS,!1),_k=zt(LS,!0),Nz=e=>Sc(e).exists(Ki),j1=(e,t,n,r)=>{const a=dt(Ap(ye.fromDom(n.container()),t),u=>r.isBlock(Co(u))),c=oo(a).getOr(t);return Tf(e,c.dom,n).filter(Nz)},IS=(e,t,n)=>Sc(t).exists(Ki)||j1(!0,e,t,n).isSome(),FS=(e,t,n)=>Ad(t).exists(Ki)||j1(!1,e,t,n).isSome(),Dz=zt(j1,!1),OB=zt(j1,!0),VS=e=>ot.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),Rz=(e,t,n)=>{const r=dt(Ap(ye.fromDom(t.container()),e),a=>n.isBlock(Co(a)));return oo(r).getOr(e)},Bz=(e,t,n)=>VS(t)?H1(t):H1(t)||Ku(Rz(e,t,n).dom,t).exists(H1),Mz=(e,t,n)=>VS(t)?V1(t):V1(t)||uu(Rz(e,t,n).dom,t).exists(V1),Ga=e=>_o(["pre","pre-wrap"],e),Z1=e=>Sc(e).bind(t=>at(t,$i)).exists(t=>Ga(Wa(t,"white-space"))),AB=(e,t)=>Ku(e.dom,t).isNone(),NB=(e,t)=>uu(e.dom,t).isNone(),bv=(e,t,n)=>AB(e,t)||NB(e,t)||wk(e,t,n)||kk(e,t,n)||FS(e,t,n)||IS(e,t,n),Vb=e=>Je(e)&&$r(e)&&Bw(e),kg=(e,t)=>n=>Vb(new pi(n,e)[t]()),Lz=(e,t)=>{const n=uu(e.dom,t).getOr(t),r=kg(e.dom,"next");return t.isAtEnd()&&(r(t.container())||r(n.container()))},Pz=(e,t)=>{const n=Ku(e.dom,t).getOr(t),r=kg(e.dom,"prev");return t.isAtStart()&&(r(t.container())||r(n.container()))},HS=(e,t,n)=>Z1(t)?!1:bv(e,t,n)||Bz(e,t,n)||Mz(e,t,n),Hb=(e,t,n)=>Z1(t)?!1:wk(e,t,n)||zB(e,t,n)||FS(e,t,n)||Bz(e,t,n)||Pz(e,t),DB=e=>{const t=e.container(),n=e.offset();return Nt(t)&&n<t.data.length?ot(t,n+1):e},Yy=(e,t,n)=>Z1(t)?!1:kk(e,t,n)||_k(e,t,n)||IS(e,t,n)||Mz(e,t,n)||Lz(e,t),Ck=(e,t,n)=>Hb(e,t,n)||Yy(e,DB(t),n),US=(e,t)=>Vw(e.charAt(t)),Sk=(e,t)=>G0(e.charAt(t)),Iz=e=>{const t=e.container();return Nt(t)&&xr(t.data,Ro)},jS=e=>{const t=e.split("");return no(t,(n,r)=>Vw(n)&&r>0&&r<t.length-1&&Nd(t[r-1])&&Nd(t[r+1])?" ":n).join("")},Fz=(e,t,n,r)=>{const a=t.data,c=ot(t,0);return!n&&US(a,0)&&!Ck(e,c,r)?(t.data=" "+a.slice(1),!0):n&&Sk(a,0)&&Hb(e,c,r)?(t.data=Ro+a.slice(1),!0):!1},RB=e=>{const t=e.data,n=jS(t);return n!==t?(e.data=n,!0):!1},Rf=(e,t,n,r)=>{const a=t.data,c=ot(t,a.length-1);return!n&&US(a,a.length-1)&&!Ck(e,c,r)?(t.data=a.slice(0,-1)+" ",!0):n&&Sk(a,a.length-1)&&Yy(e,c,r)?(t.data=a.slice(0,-1)+Ro,!0):!1},Vz=(e,t,n)=>{const r=t.container();if(!Nt(r))return Y.none();if(Iz(t)){const a=Fz(e,r,!1,n)||RB(r)||Rf(e,r,!1,n);return Wi(a,t)}else if(Ck(e,t,n)){const a=Fz(e,r,!0,n)||Rf(e,r,!0,n);return Wi(a,t)}else return Y.none()},BB=e=>{const t=ye.fromDom(e.getBody());e.selection.isCollapsed()&&Vz(t,ot.fromRangeStart(e.selection.getRng()),e.schema).each(n=>{e.selection.setRng(n.toRange())})},Hz=(e,t,n,r)=>{if(n===0)return;const a=ye.fromDom(e),c=ei(a,N=>r.isBlock(Co(N))).getOr(a),u=e.data.slice(t,t+n),h=t+n>=e.data.length&&Yy(c,ot(e,e.data.length),r),k=t===0&&Hb(c,ot(e,0),r);e.replaceData(t,n,hf(u,4,k,h))},Xy=(e,t,n)=>{const r=e.data.slice(t),a=r.length-mc(r).length;Hz(e,t,a,n)},ZS=(e,t,n)=>{const r=e.data.slice(0,t),a=r.length-ad(r).length;Hz(e,t-a,a,n)},WS=(e,t,n,r,a=!0)=>{const c=ad(e.data).length,u=a?e:t,h=a?t:e;return a?u.appendData(h.data):u.insertData(0,h.data),lr(ye.fromDom(h)),r&&Xy(u,c,n),u},Uz=(e,t)=>{const n=e.container(),r=e.offset();return!ot.isTextPosition(e)&&n===t.parentNode&&r>ot.before(t).offset()},$S=(e,t)=>Uz(t,e)?ot(t.container(),t.offset()-1):t,MB=e=>Nt(e)?ot(e,0):ot.before(e),LB=e=>Nt(e)?ot(e,e.data.length):ot.after(e),qS=e=>kr(e.previousSibling)?Y.some(LB(e.previousSibling)):e.previousSibling?Gm(e.previousSibling):Y.none(),GS=e=>kr(e.nextSibling)?Y.some(MB(e.nextSibling)):e.nextSibling?ed(e.nextSibling):Y.none(),Jy=(e,t)=>Y.from(t.previousSibling?t.previousSibling:t.parentNode).bind(n=>Ku(e,ot.before(n))).orThunk(()=>uu(e,ot.after(t))),yv=(e,t)=>uu(e,ot.after(t)).orThunk(()=>Ku(e,ot.before(t))),W1=(e,t)=>qS(t).orThunk(()=>GS(t)).orThunk(()=>Jy(e,t)),jz=(e,t)=>GS(t).orThunk(()=>qS(t)).orThunk(()=>yv(e,t)),Zz=(e,t,n)=>e?jz(t,n):W1(t,n),PB=(e,t,n)=>Zz(e,t,n).map(zt($S,n)),KS=(e,t,n)=>{n.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),t)})},$1=e=>t=>t.dom===e,Wz=(e,t)=>t&&Yn(e.schema.getBlockElements(),Co(t)),$z=(e,t)=>{if(qr(e)){const n=ye.fromHtml('<br data-mce-bogus="1">');return t?ut(Br(e),r=>{fu(r)||lr(r)}):mi(e),Mr(e,n),Y.some(ot.before(n.dom))}else return Y.none()},qz=(e,t,n,r)=>{const a=Rs(e).filter(Hs),c=Ei(e).filter(Hs);return lr(e),Up(a,c,t,(u,h,k)=>{const N=u.dom,U=h.dom,Z=N.data.length;return WS(N,U,n,r),k.container()===U?ot(N,Z):k}).orThunk(()=>(r&&(a.each(u=>ZS(u.dom,u.dom.length,n)),c.each(u=>Xy(u.dom,0,n))),t))},IB=(e,t)=>Yn(e.schema.getTextInlineElements(),Co(t)),Bd=(e,t,n,r=!0,a=!1)=>{const c=PB(t,e.getBody(),n.dom),u=ei(n,zt(Wz,e),$1(e.getBody())),h=qz(n,c,e.schema,IB(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):u.bind(k=>$z(k,a)).fold(()=>{r&&KS(e,t,h)},k=>{r&&KS(e,t,Y.some(k))})},YS=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,FB=e=>YS.test(e),Qy=(e,t)=>Si(ye.fromDom(t),Xn(e))&&!Hu(e.schema,t)&&e.dom.isEditable(t),Lr=e=>{var t;return us.DOM.getStyle(e,"direction",!0)==="rtl"||FB((t=e.textContent)!==null&&t!==void 0?t:"")},VB=(e,t,n)=>dt(us.DOM.getParents(n.container(),"*",t),e),Ub=(e,t,n)=>{const r=VB(e,t,n);return Y.from(r[r.length-1])},Sa=(e,t,n)=>{const r=Xt(t,e),a=Xt(n,e);return Je(r)&&r===a},HB=e=>ko(e)||cr(e),Md=(e,t)=>{const n=t.container(),r=t.offset();return e?rn(n)?Nt(n.nextSibling)?ot(n.nextSibling,0):ot.after(n):ko(t)?ot(n,r+1):t:rn(n)?Nt(n.previousSibling)?ot(n.previousSibling,n.previousSibling.data.length):ot.before(n):cr(t)?ot(n,r-1):t},Gz=zt(Md,!0),XS=zt(Md,!1),kh=(e,t)=>{const n=r=>r.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},Xu=e=>{e.execCommand("delete")},e0=e=>kh(e,"Delete"),jb=e=>kh(e,"ForwardDelete"),_g=e=>t=>Cu(Dr(t),e,Pe),q1=e=>qf(e)||Fu(e),vv=(e,t)=>Dt(e,t)?at(t,q1,_g(e)):Y.none(),G1=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},JS=(e,t,n)=>Jr(ed(n),Gm(n),(r,a)=>{const c=Md(!0,r),u=Md(!1,a),h=Md(!1,t);return e?uu(n,h).exists(k=>k.isEqual(u)&&t.isEqual(c)):Ku(n,h).exists(k=>k.isEqual(c)&&t.isEqual(u))}).getOr(!0),QS=e=>(Zd(e)?Rs(e):ga(e)).bind(QS).orThunk(()=>Y.some(e)),Kz=(e,t,n,r=!0)=>{var a;t.deleteContents();const c=QS(n).getOr(n),u=ye.fromDom((a=e.dom.getParent(c.dom,e.dom.isBlock))!==null&&a!==void 0?a:n.dom);if(u.dom===e.getBody()?G1(e,r):qr(u)&&(pf(u),r&&e.selection.setCursorLocation(u.dom,0)),!Pe(n,u)){const h=Cu(Dr(u),n)?[]:Rn(u);ut(h.concat(Br(n)),k=>{!Pe(k,u)&&!Dt(k,u)&&qr(k)&&lr(k)})}},UB=(e,t,n)=>ei(e,t,n).isSome(),Yz=(e,t)=>wl(e,t).isSome(),eE=(e,t)=>Bs(e,t).isSome(),Xz=e=>t=>Pe(e,t),Ek=e=>zi(e,"td,th"),Tk=(e,t)=>Tb(ye.fromDom(e),t),jB=e=>Jr(e.startTable,e.endTable,(t,n)=>{const r=eE(t,c=>Pe(c,n)),a=eE(n,c=>Pe(c,t));return!r&&!a?e:{...e,startTable:r?Y.none():e.startTable,endTable:a?Y.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),ZB=e=>jB(e),WB=(e,t)=>{const n=Tk(e.startContainer,t),r=Tk(e.endContainer,t),a=n.isSome(),c=r.isSome(),u=Jr(n,r,Pe).getOr(!1);return ZB({startTable:n,endTable:r,isStartInTable:a,isEndInTable:c,isSameTable:u,isMultiTable:!u&&a&&c})},Jm=(e,t)=>({start:e,end:t}),K1=(e,t,n)=>({rng:e,table:t,cells:n}),xv=He.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Y1=(e,t)=>Gi(ye.fromDom(e),"td,th",t),tE=e=>!Pe(e.start,e.end),Jz=(e,t)=>Tb(e.start,t).bind(n=>Tb(e.end,t).bind(r=>Wi(Pe(n,r),n))),Zb=(e,t)=>!tE(e)&&Jz(e,t).exists(n=>{const r=n.dom.rows;return r.length===1&&r[0].cells.length===1}),$B=(e,t)=>{const n=Y1(e.startContainer,t),r=Y1(e.endContainer,t);return Jr(n,r,Jm)},qB=e=>t=>Tb(t,e).bind(n=>dn(Ek(n)).map(r=>Jm(t,r))),GB=e=>t=>Tb(t,e).bind(n=>oo(Ek(n)).map(r=>Jm(r,t))),nE=e=>t=>Jz(t,e).map(n=>K1(t,n,Ek(n))),Qz=(e,t,n,r)=>{if(n.collapsed||!e.forall(tE))return Y.none();if(t.isSameTable){const a=e.bind(nE(r));return Y.some({start:a,end:a})}else{const a=Y1(n.startContainer,r),c=Y1(n.endContainer,r),u=a.bind(qB(r)).bind(nE(r)),h=c.bind(GB(r)).bind(nE(r));return Y.some({start:u,end:h})}},eO=(e,t)=>Ta(e,n=>Pe(n,t)),oE=e=>Jr(eO(e.cells,e.rng.start),eO(e.cells,e.rng.end),(t,n)=>e.cells.slice(t,n+1)),KB=(e,t,n)=>e.exists(r=>Zb(r,n)&&wC(r.start,t)),tO=(e,t)=>{const{startTable:n,endTable:r}=t,a=e.cloneRange();return n.each(c=>a.setStartAfter(c.dom)),r.each(c=>a.setEndBefore(c.dom)),a},zk=(e,t,n,r)=>Qz(e,t,n,r).bind(({start:a,end:c})=>a.or(c)).bind(a=>{const{isSameTable:c}=t,u=oE(a).getOr([]);if(c&&a.cells.length===u.length)return Y.some(xv.fullTable(a.table));if(u.length>0){if(c)return Y.some(xv.partialTable(u,Y.none()));{const h=tO(n,t);return Y.some(xv.partialTable(u,Y.some({...t,rng:h})))}}else return Y.none()}),YB=(e,t,n,r)=>Qz(e,t,n,r).bind(({start:a,end:c})=>{const u=a.bind(oE).getOr([]),h=c.bind(oE).getOr([]);if(u.length>0&&h.length>0){const k=tO(n,t);return Y.some(xv.multiTable(u,h,k))}else return Y.none()}),X1=(e,t)=>{const n=Xz(e),r=$B(t,n),a=WB(t,n);return KB(r,t,n)?r.map(c=>xv.singleCellTable(t,c.start)):a.isMultiTable?YB(r,a,t,n):zk(r,a,t,n)},Ok=e=>ut(e,t=>{hs(t,"contenteditable"),pf(t)}),t0=(e,t)=>Y.from(e.dom.getParent(t,e.dom.isBlock)).map(ye.fromDom),n0=(e,t,n)=>{n.each(r=>{t?lr(r):(pf(r),e.selection.setCursorLocation(r.dom,0))})},wv=(e,t,n,r)=>{const a=n.cloneRange();r?(a.setStart(n.startContainer,n.startOffset),a.setEndAfter(t.dom.lastChild)):(a.setStartBefore(t.dom.firstChild),a.setEnd(n.endContainer,n.endOffset)),kv(e,a,t,!1).each(c=>c())},J1=e=>{const t=vg(e),n=ye.fromDom(e.selection.getNode());uf(n.dom)&&qr(n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&ar(t,r=>Pe(r,n))&&Fr(n,"data-mce-selected","1")},Wb=(e,t,n)=>Y.some(()=>{const r=e.selection.getRng(),a=n.bind(({rng:c,isStartInTable:u})=>{const h=t0(e,u?c.endContainer:c.startContainer);c.deleteContents(),n0(e,u,h.filter(qr));const k=u?t[0]:t[t.length-1];return wv(e,k,r,u),qr(k)?Y.none():Y.some(u?t.slice(1):t.slice(0,-1))}).getOr(t);Ok(a),J1(e)}),o0=(e,t,n,r)=>Y.some(()=>{const a=e.selection.getRng(),c=t[0],u=n[n.length-1];wv(e,c,a,!0),wv(e,u,a,!1);const h=qr(c)?t:t.slice(1),k=qr(u)?n:n.slice(0,-1);Ok(h.concat(k)),r.deleteContents(),J1(e)}),kv=(e,t,n,r=!0)=>Y.some(()=>{Kz(e,t,n,r)}),Ak=(e,t)=>Y.some(()=>Bd(e,!1,t)),nO=(e,t,n)=>X1(t,n).bind(r=>r.fold(zt(kv,e),zt(Ak,e),zt(Wb,e),zt(o0,e))),rE=(e,t)=>Q1(e,t),sE=(e,t,n,r)=>$b(t,r).fold(()=>nO(e,t,n),a=>rE(e,a)),oO=(e,t,n)=>{const r=ye.fromDom(e.getBody()),a=e.selection.getRng();return n.length!==0?Wb(e,n,Y.none()):sE(e,r,a,t)},aE=(e,t)=>mo(Ap(t,e),mf),$b=(e,t)=>mo(Ap(t,e),ma("caption")),rO=(e,t,n,r,a)=>Hy(n,e.getBody(),a).bind(c=>aE(t,ye.fromDom(c.getNode())).bind(u=>Pe(u,r)?Y.none():Y.some(bt))),Q1=(e,t)=>Y.some(()=>{pf(t),e.selection.setCursorLocation(t.dom,0)}),sO=(e,t,n,r)=>ed(e.dom).bind(a=>Gm(e.dom).map(c=>t?n.isEqual(a)&&r.isEqual(c):n.isEqual(c)&&r.isEqual(a))).getOr(!0),Nk=(e,t)=>Q1(e,t),aO=(e,t,n)=>$b(e,ye.fromDom(n.getNode())).fold(()=>Y.some(bt),r=>Wi(!Pe(r,t),bt)),iO=(e,t,n,r,a)=>Hy(n,e.getBody(),a).fold(()=>Y.some(bt),c=>sO(r,n,a,c)?Nk(e,r):aO(t,r,c)),lO=(e,t,n,r)=>{const a=ot.fromRangeStart(e.selection.getRng());return aE(n,r).bind(c=>qr(c)?Q1(e,c):rO(e,n,t,c,a))},cO=(e,t,n,r)=>{const a=ot.fromRangeStart(e.selection.getRng());return qr(r)?Q1(e,r):iO(e,n,t,r,a)},Cg=(e,t)=>e?zz(t):Oz(t),qb=(e,t)=>{const n=ot.fromRangeStart(e.selection.getRng());return Cg(t,n)||Tf(t,e.getBody(),n).exists(r=>Cg(t,r))},Qm=(e,t,n)=>{const r=ye.fromDom(e.getBody());return $b(r,n).fold(()=>lO(e,t,r,n).orThunk(()=>Wi(qb(e,t),bt)),a=>cO(e,t,r,a))},ex=(e,t)=>{const n=ye.fromDom(e.selection.getStart(!0)),r=vg(e);return e.selection.isCollapsed()&&r.length===0?Qm(e,t,n):oO(e,n,r)},_h=(e,t)=>{let n=t;for(;n&&n!==e;){if(tc(n)||$r(n))return n;n=n.parentNode}return null},dO=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],uO=Ut.each,Dk=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),r=(c,u)=>{if(c.nodeName!==u.nodeName||c.nodeType!==u.nodeType)return!1;const h=N=>{const U={};return uO(t.getAttribs(N),Z=>{const K=Z.nodeName.toLowerCase();K!=="style"&&!a(K)&&(U[K]=t.getAttrib(N,K))}),U},k=(N,U)=>{for(const Z in N)if(Yn(N,Z)){const K=U[Z];if(wo(K)||N[Z]!==K)return!1;delete U[Z]}for(const Z in U)if(Yn(U,Z))return!1;return!0};return kn(c)&&kn(u)&&(!k(h(c),h(u))||!k(t.parseStyle(t.getAttrib(c,"style")),t.parseStyle(t.getAttrib(u,"style"))))?!1:!zf(c)&&!zf(u)},a=c=>ar(dO,u=>zr(c,u))||n.has(c);return{compare:r,isAttributeInternal:a}},Rk=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),fO=e=>e.name==="summary",mO=(e,t)=>{let n=e;for(;n=n.walk();)t(n)},Bk=(e,t,n,r)=>{const a=n.name;for(let c=0,u=e.length;c<u;c++){const h=e[c];if(h.name===a){const k=r.nodes[a];k?k.nodes.push(n):r.nodes[a]={filter:h,nodes:[n]}}}if(n.attributes)for(let c=0,u=t.length;c<u;c++){const h=t[c],k=h.name;if(k in n.attributes.map){const N=r.attributes[k];N?N.nodes.push(n):r.attributes[k]={filter:h,nodes:[n]}}}},Sg=(e,t,n)=>{const r={nodes:{},attributes:{}};return n.firstChild&&mO(n,a=>{Bk(e,t,a,r)}),r},mm=(e,t)=>{const n=(r,a)=>{jo(r,c=>{const u=_n(c.nodes);ut(c.filter.callbacks,h=>{for(let k=u.length-1;k>=0;k--){const N=u[k];(!(a?N.attr(c.filter.name)!==void 0:N.name===c.filter.name)||Zn(N.parent))&&u.splice(k,1)}u.length>0&&h(u,c.filter.name,t)})})};n(e.nodes,!1),n(e.attributes,!0)},tx=(e,t,n,r={})=>{const a=Sg(e,t,n);mm(a,r)},Mk=(e,t,n,r)=>{if((e.pad_empty_with_br||t.insert)&&n(r)){const c=new Ic("br",1);t.insert&&c.attr("data-mce-bogus","1"),r.empty().append(c)}else r.empty().append(new Ic("#text",3)).value=Ro},Lk=e=>{var t;return iE(e,"#text")&&((t=e==null?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===Ro},iE=(e,t)=>{const n=e==null?void 0:e.firstChild;return Je(n)&&n===e.lastChild&&n.name===t},pO=(e,t)=>{const n=e.getElementRule(t.name);return(n==null?void 0:n.paddEmpty)===!0},_v=(e,t,n,r)=>r.isEmpty(t,n,a=>pO(e,a)),gO=(e,t)=>Je(e)&&(t(e)||e.name==="br"),hO=e=>{let t;for(let n=e;n;n=n.parent){const r=n.attr("contenteditable");if(r==="false")break;r==="true"&&(t=n)}return Y.from(t)},Pk=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const a of r)n&&!t.isValidChild(n.name,a.name)&&Pk(a,t,n);e.unwrap()}},Cv=(e,t,n,r=bt)=>{const a=t.getTextBlockElements(),c=t.getNonEmptyElements(),u=t.getWhitespaceElements(),h=Ut.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),k=new Set,N=U=>U!==n&&!h[U.name];for(let U=0;U<e.length;U++){const Z=e[U];let K,le,ve;if(!Z.parent||k.has(Z))continue;if(a[Z.name]&&Z.parent.name==="li"){let we=Z.next;for(;we&&a[we.name];){we.name="li",k.add(we),Z.parent.insert(we,Z.parent);we=we.next}Z.unwrap();continue}const ie=[Z];for(K=Z.parent;K&&!t.isValidChild(K.name,Z.name)&&N(K);K=K.parent)ie.push(K);if(K&&ie.length>1)if(Ik(t,Z,K))Pk(Z,t);else{ie.reverse(),le=ie[0].clone(),r(le);let we=le;for(let Be=0;Be<ie.length-1;Be++){t.isValidChild(we.name,ie[Be].name)&&Be>0?(ve=ie[Be].clone(),r(ve),we.append(ve)):ve=we;for(let Fe=ie[Be].firstChild;Fe&&Fe!==ie[Be+1];){const Ve=Fe.next;ve.append(Fe),Fe=Ve}we=ve}_v(t,c,u,le)?K.insert(Z,ie[0],!0):(K.insert(le,ie[0],!0),K.insert(Z,le)),K=ie[0],(_v(t,c,u,K)||iE(K,"br"))&&K.empty().remove()}else if(Z.parent){if(Z.name==="li"){let we=Z.prev;if(we&&(we.name==="ul"||we.name==="ol")){we.append(Z);continue}if(we=Z.next,we&&(we.name==="ul"||we.name==="ol")&&we.firstChild){we.insert(Z,we.firstChild,!0);continue}const Be=new Ic("ul",1);r(Be),Z.wrap(Be);continue}if(t.isValidChild(Z.parent.name,"div")&&t.isValidChild("div",Z.name)){const we=new Ic("div",1);r(we),Z.wrap(we)}else Pk(Z,t)}}},lE=(e,t)=>{let n=e;for(;n;){if(n.name===t)return!0;n=n.parent}return!1},Ik=(e,t,n=t.parent)=>n?e.children[t.name]&&!e.isValidChild(n.name,t.name)||t.name==="a"&&lE(n,"a")?!0:fO(n)&&Rk(t)?!((n==null?void 0:n.firstChild)===t&&(n==null?void 0:n.lastChild)===t):!1:!1,cE=(e,t,n,r)=>{const a=document.createRange();return a.setStart(e,t),a.setEnd(n,r),a},XB=e=>{const t=ot.fromRangeStart(e),n=ot.fromRangeEnd(e),r=e.commonAncestorContainer;return Tf(!1,r,n).map(a=>!Yt(t,n,r)&&Yt(t,a,r)?cE(t.container(),t.offset(),a.container(),a.offset()):e).getOr(e)},dE=e=>e.collapsed?e:XB(e),JB=e=>Je(e.firstChild)&&e.firstChild===e.lastChild,QB=e=>e.name==="br"||e.value===Ro,eM=(e,t)=>e.getBlockElements()[t.name]&&JB(t)&&QB(t.firstChild),tM=(e,t)=>{const n=e.getNonEmptyElements();return Je(t)&&(t.isEmpty(n)||eM(e,t))},Fk=(e,t)=>{let n=t.firstChild,r=t.lastChild;return n&&n.name==="meta"&&(n=n.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),tM(e,r)&&(r=r==null?void 0:r.prev),!n||n!==r?!1:n.name==="ul"||n.name==="ol"},uE=e=>{var t,n;const r=e.firstChild,a=e.lastChild;return r&&r.nodeName==="META"&&((t=r.parentNode)===null||t===void 0||t.removeChild(r)),a&&a.id==="mce_marker"&&((n=a.parentNode)===null||n===void 0||n.removeChild(a)),e},bO=(e,t,n)=>{const r=t.serialize(n),a=e.createFragment(r);return uE(a)},fE=e=>{var t;return dt((t=e==null?void 0:e.childNodes)!==null&&t!==void 0?t:[],n=>n.nodeName==="LI")},nM=e=>e.data===Ro||ss(e),oM=e=>Je(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&nM(e.firstChild),rM=e=>!e.firstChild||oM(e),sM=e=>e.length>0&&rM(e[e.length-1])?e.slice(0,-1):e,mE=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&n.nodeName==="LI"?n:null},aM=(e,t)=>!!mE(e,t),Vk=(e,t)=>{const n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},Hk=(e,t)=>{const n=ot.before(e),a=bg(t).next(n);return a?a.toRange():null},nx=(e,t)=>{const n=ot.after(e),a=bg(t).prev(n);return a?a.toRange():null},iM=(e,t,n,r)=>{const a=Vk(e,r),c=e.parentNode;return c&&(c.insertBefore(a[0],e),Ut.each(t,u=>{c.insertBefore(u,e)}),c.insertBefore(a[1],e),c.removeChild(e)),nx(t[t.length-1],n)},lM=(e,t,n)=>{const r=e.parentNode;return r&&Ut.each(t,a=>{r.insertBefore(a,e)}),Hk(e,n)},cM=(e,t,n,r)=>(r.insertAfter(t.reverse(),e),nx(t[0],n)),dM=(e,t,n,r)=>{const a=bO(t,e,r),c=mE(t,n.startContainer),u=sM(fE(a.firstChild)),h=1,k=2,N=t.getRoot(),U=Z=>{const K=ot.fromRangeStart(n),le=bg(t.getRoot()),ve=Z===h?le.prev(K):le.next(K),ie=ve==null?void 0:ve.getNode();return ie?mE(t,ie)!==c:!0};return c?U(h)?lM(c,u,N):U(k)?cM(c,u,N,t):iM(c,u,N,n):null},uM=["pre"],fM=(e,t,n,r)=>{var a;const c=t.firstChild,u=t.lastChild,h=u.attr("data-mce-type")==="bookmark"?u.prev:u,k=c===h,N=_o(uM,c.name);if(k&&N){const U=c.attr("contenteditable")!=="false",Z=((a=e.getParent(n,e.isBlock))===null||a===void 0?void 0:a.nodeName.toLowerCase())===c.name,K=Y.from(_h(r,n)).forall(tc);return U&&Z&&K}else return!1},Bf=uf,pE=(e,t,n)=>{if(Je(n)){const r=e.getParent(t.endContainer,Bf);return n===r&&wC(ye.fromDom(n),t)}else return!1},yO=(e,t,n)=>{var r;if(n.getAttribute("data-mce-bogus")==="all")(r=n.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(t),n);else{const a=n.firstChild,c=n.lastChild;!a||a===c&&a.nodeName==="BR"?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})}},vO=(e,t,n)=>{Y.from(e.getParent(t,"td,th")).map(ye.fromDom).each(r=>Lh(r,n))},xO=(e,t)=>{const n=e.schema.getTextInlineElements(),r=e.dom;if(t){const a=e.getBody(),c=Dk(e);Ut.each(r.select("*[data-mce-fragment]"),u=>{if(Je(n[u.nodeName.toLowerCase()])&&F1(r,u)){for(let k=u.parentElement;Je(k)&&k!==a&&!Sz(r,u,k);k=k.parentElement)if(c.compare(k,u)){r.remove(u,!0);break}}})}},mM=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},wO=e=>{Ut.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},pM=e=>!!e.getAttribute("data-mce-fragment"),Sv=(e,t)=>Je(t)&&!e.schema.getVoidElements()[t.nodeName],kO=(e,t)=>{var n,r,a;let c;const u=e.dom,h=e.selection;if(!t)return;h.scrollIntoView(t);const k=_h(e.getBody(),t);if(k&&u.getContentEditable(k)==="false"){u.remove(t),h.select(k);return}let N=u.createRng();const U=t.previousSibling;if(Nt(U)){N.setStart(U,(r=(n=U.nodeValue)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0);const le=t.nextSibling;Nt(le)&&(U.appendData(le.data),(a=le.parentNode)===null||a===void 0||a.removeChild(le))}else N.setStartBefore(t),N.setEndBefore(t);const Z=le=>{let ve=ot.fromRangeStart(le);return ve=bg(e.getBody()).next(ve),ve==null?void 0:ve.toRange()},K=u.getParent(t,u.isBlock);if(u.remove(t),K&&u.isEmpty(K)){const le=Bf(K);mi(ye.fromDom(K)),N.setStart(K,0),N.setEnd(K,0),!le&&!pM(K)&&(c=Z(N))?(N=c,u.remove(K)):u.add(K,u.create("br",le?{}:{"data-mce-bogus":"1"}))}h.setRng(N)},_O=e=>{const t=e.dom,n=dE(e.selection.getRng());e.selection.setRng(n);const r=t.getParent(n.startContainer,Bf);pE(t,n,r)?kv(e,n,ye.fromDom(r)):n.startContainer===n.endContainer&&n.endOffset-n.startOffset===1&&Nt(n.startContainer.childNodes[n.startOffset])?n.deleteContents():e.getDoc().execCommand("Delete",!1)},CO=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return Y.some(t);return Y.none()},gE=(e,t,n)=>{var r;return ar(n.children(),Rk)&&((r=e.getParent(t,e.isBlock))===null||r===void 0?void 0:r.nodeName)==="SUMMARY"},gM=(e,t,n)=>{var r,a;const c=e.selection,u=e.dom,h=e.parser,k=n.merge,N=Wl({validate:!0},e.schema),U='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.preserve_zwsp||(t=G(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,U);let Z=c.getRng();const K=Z.startContainer,le=e.getBody();K===le&&c.isCollapsed()&&u.isBlock(le.firstChild)&&Sv(e,le.firstChild)&&u.isEmpty(le.firstChild)&&(Z=u.createRng(),Z.setStart(le.firstChild,0),Z.setEnd(le.firstChild,0),c.setRng(Z)),c.isCollapsed()||_O(e);const ve=c.getNode(),ie={context:ve.nodeName.toLowerCase(),data:n.data,insert:!0},we=h.parse(t,ie);if(n.paste===!0&&Fk(e.schema,we)&&aM(u,ve))return Z=dM(N,u,c.getRng(),we),Z&&c.setRng(Z),t;n.paste===!0&&fM(u,we,ve,e.getBody())&&((r=we.firstChild)===null||r===void 0||r.unwrap()),mM(we);let Be=we.lastChild;if(Be&&Be.attr("id")==="mce_marker"){const Fe=Be;for(Be=Be.prev;Be;Be=Be.walk(!0))if(Be.type===3||!u.isBlock(Be.name)){Be.parent&&e.schema.isValidChild(Be.parent.name,"span")&&Be.parent.insert(Fe,Be,Be.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(ve),!ie.invalid&&!gE(u,ve,we))t=N.serialize(we),yO(e,t,ve);else{e.selection.setContent(U);let Fe=c.getNode(),Ve;const We=e.getBody();for(Cl(Fe)?Fe=Ve=We:Ve=Fe;Ve&&Ve!==We;)Fe=Ve,Ve=Ve.parentNode;t=Fe===We?We.innerHTML:u.getOuterHTML(Fe);const Ct=h.parse(t),$t=CO(Ct),mn=$t.bind(hO).getOr(Ct);$t.each(hn=>hn.replace(we));const it=we.children(),tt=(a=we.parent)!==null&&a!==void 0?a:Ct;we.unwrap();const Mt=dt(it,hn=>Ik(e.schema,hn,tt));Cv(Mt,e.schema,mn),tx(h.getNodeFilters(),h.getAttributeFilters(),Ct),t=N.serialize(Ct),Fe===We?u.setHTML(We,t):u.setOuterHTML(Fe,t)}return xO(e,k),kO(e,u.get("mce_marker")),wO(e.getBody()),vO(u,c.getStart(),e.schema),jg(e.schema,e.getBody(),c.getStart()),t},Uk=e=>e instanceof Ic,Gb=e=>{Lb(e)&&ed(e.getBody()).each(t=>{const n=t.getNode(),r=gd(n)?ed(n).getOr(t):t;e.selection.setRng(r.toRange())})},ox=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),n!==!0&&Gb(e)},hM=(e,t,n,r)=>{if(n=G(n),n.length===0||/^\s+$/.test(n)){const a='<br data-mce-bogus="1">';t.nodeName==="TABLE"?n="<tr><td>"+a+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+a+"</li>");const c=oi(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),c.toLowerCase())?(n=a,n=e.dom.createHTML(c,hg(e),n)):n||(n=a),ox(e,n,r.no_selection),{content:n,html:n}}else{r.format!=="raw"&&(n=Wl({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const a=Gf(ye.fromDom(t))?n:Ut.trim(n);return ox(e,a,r.no_selection),{content:a,html:a}}},bM=(e,t,n,r)=>{tx(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const a=Wl({validate:!1},e.schema).serialize(n),c=G(Gf(ye.fromDom(t))?a:Ut.trim(a));return ox(e,c,r.no_selection),{content:n,html:c}},r0=(e,t,n)=>Y.from(e.getBody()).map(r=>Uk(t)?bM(e,r,t,n):hM(e,r,t,n)).getOr({content:t,html:Uk(n.content)?"":n.content}),hE=e=>un(e)?e:Pn,jk=(e,t,n)=>{let r=e.dom;const a=hE(n);for(;r.parentNode;){r=r.parentNode;const c=ye.fromDom(r),u=t(c);if(u.isSome())return u;if(a(c))break}return Y.none()},bE=(e,t,n)=>{const r=t(e),a=hE(n);return r.orThunk(()=>a(e)?Y.none():jk(e,t,a))},yE=w1,Eg=(e,t,n)=>{const r=e.formatter.get(n);if(r)for(let a=0;a<r.length;a++){const c=r[a];if(Af(c)&&c.inherit===!1&&e.dom.is(t,c.selector))return!0}return!1},rx=(e,t,n,r,a)=>{const c=e.dom.getRoot();if(t===c)return!1;const u=e.dom.getParent(t,h=>Eg(e,h,n)?!0:h.parentNode===c||!!Np(e,h,n,r,!0));return!!Np(e,u,n,r,a)},Ev=(e,t,n)=>Zl(n)&&yE(t,n.inline)||Op(n)&&yE(t,n.block)?!0:Af(n)?kn(t)&&e.is(t,n.selector):!1,Zk=(e,t,n,r,a,c)=>{const u=n[r],h=r==="attributes";if(un(n.onmatch))return n.onmatch(t,n,r);if(u){if(jc(u)){for(let k=0;k<u.length;k++)if(h?e.getAttrib(t,u[k]):Zy(e,t,u[k]))return!0}else for(const k in u)if(Yn(u,k)){const N=h?e.getAttrib(t,k):Zy(e,t,k),U=hh(u[k],c),Z=Zn(N)||as(N);if(Z&&Zn(U))continue;if(a&&Z&&!n.exact||(!a||n.exact)&&!yE(N,Uw(U,k)))return!1}}return!0},Np=(e,t,n,r,a)=>{const c=e.formatter.get(n),u=e.dom;if(c&&kn(t))for(let h=0;h<c.length;h++){const k=c[h];if(Ev(e.dom,t,k)&&Zk(u,t,k,"attributes",a,r)&&Zk(u,t,k,"styles",a,r)){const N=k.classes;if(N){for(let U=0;U<N.length;U++)if(!e.dom.hasClass(t,hh(N[U],r)))return}return k}}},Wk=(e,t,n,r,a)=>{if(r)return rx(e,r,t,n,a);if(r=e.selection.getNode(),rx(e,r,t,n,a))return!0;const c=e.selection.getStart();return!!(c!==r&&rx(e,c,t,n,a))},SO=(e,t,n)=>{const r=[],a={},c=e.selection.getStart();return e.dom.getParent(c,u=>{for(let h=0;h<t.length;h++){const k=t[h];!a[k]&&Np(e,u,k,n)&&(a[k]=!0,r.push(k))}},e.dom.getRoot()),r},yM=(e,t)=>{const n=a=>Pe(a,ye.fromDom(e.getBody())),r=(a,c)=>Np(e,a.dom,c)?Y.some(c):Y.none();return Y.from(e.selection.getStart(!0)).bind(a=>bE(ye.fromDom(a),c=>Ws(t,u=>r(c,u)),n)).getOrNull()},sx=(e,t)=>{const n=e.formatter.get(t),r=e.dom;if(n&&e.selection.isEditable()){const a=e.selection.getStart(),c=jw(r,a);for(let u=n.length-1;u>=0;u--){const h=n[u];if(!Af(h))return!0;for(let k=c.length-1;k>=0;k--)if(r.is(c[k],h.selector))return!0}}return!1},$k=(e,t,n)=>lo(n,(r,a)=>{const c=j5(e,a);return e.formatter.matchNode(t,a,{},c)?r.concat([a]):r},[]),Tv=C,EO=(e,t)=>e.importNode(t,!0),vE=e=>{if(e){const t=new pi(e,e);for(let n=t.current();n;n=t.next())if(Nt(n))return n}return null},qk=e=>{const t=ye.fromTag("span");return Cs(t,{id:uC,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Mr(t,ye.fromText(Tv)),t},Gk=e=>{const t=vE(e);return t&&t.data.charAt(0)===Tv&&t.deleteData(0,1),t},ax=(e,t,n)=>{const r=e.dom,a=e.selection;if(OC(t))Bd(e,!1,ye.fromDom(t),n,!0);else{const c=a.getRng(),u=r.getParent(t,r.isBlock),h=c.startContainer,k=c.startOffset,N=c.endContainer,U=c.endOffset,Z=Gk(t);r.remove(t,!0),h===Z&&k>0&&c.setStart(Z,k-1),N===Z&&U>0&&c.setEnd(Z,U-1),u&&r.isEmpty(u)&&pf(ye.fromDom(u)),a.setRng(c)}},s0=(e,t,n)=>{const r=e.dom,a=e.selection;if(t)ax(e,t,n);else if(t=ph(e.getBody(),a.getStart()),!t)for(;t=r.get(uC);)ax(e,t,n)},vM=(e,t,n)=>{var r,a;const c=e.dom,u=c.getParent(n,zt(x1,e.schema));u&&c.isEmpty(u)?(r=n.parentNode)===null||r===void 0||r.replaceChild(t,n):(pp(ye.fromDom(n)),c.isEmpty(n)?(a=n.parentNode)===null||a===void 0||a.replaceChild(t,n):c.insertAfter(t,n))},xE=(e,t)=>(e.appendChild(t),t),TO=(e,t)=>{var n;const r=wn(e,(c,u)=>xE(c,u.cloneNode(!1)),t),a=(n=r.ownerDocument)!==null&&n!==void 0?n:document;return xE(r,a.createTextNode(Tv))},xM=(e,t,n,r,a,c)=>{const u=e.formatter,h=e.dom,k=dt(Bt(u.get()),Z=>Z!==r&&!xr(Z,"removeformat")),N=$k(e,n,k);if(dt(N,Z=>!Z5(e,Z,r)).length>0){const Z=n.cloneNode(!1);return h.add(t,Z),u.remove(r,a,Z,c),h.remove(Z),Y.some(Z)}else return Y.none()},zO=(e,t,n)=>{let r;const a=e.selection,c=e.formatter.get(t);if(!c)return;const u=a.getRng();let h=u.startOffset;const N=u.startContainer.nodeValue;r=ph(e.getBody(),a.getStart());const U=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(N&&h>0&&h<N.length&&U.test(N.charAt(h))&&U.test(N.charAt(h-1))){const Z=a.getBookmark();u.collapse(!0);let K=Ym(e.dom,u,c);K=z1(K),e.formatter.apply(t,n,K),a.moveToBookmark(Z)}else{let Z=r?vE(r):null;(!r||(Z==null?void 0:Z.data)!==Tv)&&(r=EO(e.getDoc(),qk(!0).dom),Z=r.firstChild,u.insertNode(r),h=1),e.formatter.apply(t,n,r),a.setCursorLocation(Z,h)}},OO=(e,t,n,r)=>{const a=e.dom,c=e.selection;let u=!1;const h=e.formatter.get(t);if(!h)return;const k=c.getRng(),N=k.startContainer,U=k.startOffset;let Z=N;Nt(N)&&(U!==N.data.length&&(u=!0),Z=Z.parentNode);const K=[];let le;for(;Z;){if(Np(e,Z,t,n,r)){le=Z;break}Z.nextSibling&&(u=!0),K.push(Z),Z=Z.parentNode}if(le)if(u){const ve=c.getBookmark();k.collapse(!0);let ie=Ym(a,k,h,!0);ie=z1(ie),e.formatter.remove(t,n,ie,r),c.moveToBookmark(ve)}else{const ve=ph(e.getBody(),le),ie=Je(ve)?a.getParents(le.parentNode,Do,ve):[],we=qk(!1).dom;vM(e,we,ve??le);const Be=xM(e,we,le,t,n,r),Fe=TO([...K,...Be.toArray(),...ie],we);ve&&ax(e,ve,Je(ve)),c.setCursorLocation(Fe,1),a.isEmpty(le)&&a.remove(le)}},wM=(e,t,n)=>{const r=e.selection,a=e.getBody();s0(e,null,n),(t===8||t===46)&&r.isCollapsed()&&r.getStart().innerHTML===Tv&&s0(e,ph(a,r.getStart()),!0),(t===37||t===39)&&s0(e,ph(a,r.getStart()),!0)},AO=e=>Nt(e)&&vl(e.data,Ro),a0=e=>{e.on("mouseup keydown",t=>{wM(e,t.keyCode,AO(e.selection.getRng().endContainer))})},wE=e=>{const t=qk(!1),n=TO(e,t.dom);return{caretContainer:t,caretPosition:ot(n,0)}},Kk=(e,t)=>{const{caretContainer:n,caretPosition:r}=wE(t);return Ms(ye.fromDom(e),n),lr(ye.fromDom(e)),r},NO=(e,t)=>{const{caretContainer:n,caretPosition:r}=wE(t);return e.insertNode(n.dom),r},Yk=(e,t)=>{if(Yu(t.dom))return!1;const n=e.schema.getTextInlineElements();return Yn(n,Co(t))&&!Yu(t.dom)&&!Yc(t.dom)},ep={},kE=Ll(["pre"]),pm=(e,t)=>{ep[e]||(ep[e]=[]),ep[e].push(t)},i0=(e,t)=>{Yn(ep,e)&&ut(ep[e],n=>{n(t)})};pm("pre",e=>{const t=e.selection.getRng(),n=a=>c=>{const u=c.previousSibling;return kE(u)&&_o(a,u)},r=(a,c)=>{const u=ye.fromDom(c),h=Sn(u).dom;lr(u),Ba(ye.fromDom(a),[ye.fromTag("br",h),ye.fromTag("br",h),...Br(u)])};if(!t.collapsed){const a=e.selection.getSelectedBlocks(),c=dt(dt(a,kE),n(a));ut(c,u=>{r(u.previousSibling,u)})}});const Xk=["fontWeight","fontStyle","color","fontSize","fontFamily"],DO=e=>Te(e.styles)&&ar(Bt(e.styles),t=>_o(Xk,t)),kM=e=>mo(e,t=>Zl(t)&&t.inline==="span"&&DO(t)),_E=(e,t)=>{const n=e.get(t);return Ee(n)?kM(n):Y.none()},l0=(e,t)=>Ku(t,ot.fromRangeStart(e)).isNone(),Jk=(e,t)=>uu(t,ot.fromRangeEnd(e)).exists(n=>!ss(n.getNode())||uu(t,n).isSome())===!1,CE=e=>t=>Lu(t)&&e.isEditable(t),RO=e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return l0(n,t[0])&&Jk(n,t[0])?t:[];{const r=oo(t).filter(u=>l0(n,u)).toArray(),a=dn(t).filter(u=>Jk(n,u)).toArray(),c=t.slice(1,-1);return r.concat(c).concat(a)}},SE=e=>dt(RO(e),CE(e.dom)),BO=e=>dt(e.getSelectedBlocks(),CE(e.dom)),EE=Ut.each,Qk=e=>kn(e)&&!zf(e)&&!Yu(e)&&!Yc(e),MO=(e,t)=>{for(let n=e;n;n=n[t]){if(Nt(n)&&za(n.data))return e;if(kn(n)&&!zf(n))return n}return e},Ju=(e,t,n)=>{const r=Dk(e),a=Ys(t)&&e.dom.isEditable(t),c=Ys(n)&&e.dom.isEditable(n);if(a&&c){const u=MO(t,"previousSibling"),h=MO(n,"nextSibling");if(r.compare(u,h)){for(let k=u.nextSibling;k&&k!==h;){const N=k;k=k.nextSibling,u.appendChild(N)}return e.dom.remove(h),Ut.each(Ut.grep(h.childNodes),k=>{u.appendChild(k)}),u}}return n},e_=(e,t,n,r)=>{var a;if(r&&t.merge_siblings!==!1){const c=(a=Ju(e,_C(r),r))!==null&&a!==void 0?a:r;Ju(e,c,_C(c,!0))}},LO=(e,t,n)=>{if(t.clear_child_styles){const r=t.links?"*:not(a)":"*";EE(e.select(r,n),a=>{Qk(a)&&e.isEditable(a)&&EE(t.styles,(c,u)=>{e.setStyle(a,u,"")})})}},ix=(e,t,n)=>{EE(e.childNodes,r=>{Qk(r)&&(t(r)&&n(r),r.hasChildNodes()&&ix(r,t,n))})},PO=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},zv=(e,t)=>n=>!!(n&&Zy(e,n,t)),Tg=(e,t,n)=>r=>{e.setStyle(r,t,n),r.getAttribute("style")===""&&r.removeAttribute("style"),PO(e,r)},gm=He.generate([{keep:[]},{rename:["name"]},{removed:[]}]),t_=/^(src|href|style)$/,lx=Ut.each,Ov=w1,IO=e=>/^(TR|TH|TD)$/.test(e.nodeName),FO=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),TE=(e,t,n)=>{let r=t[n?"startContainer":"endContainer"],a=t[n?"startOffset":"endOffset"];if(kn(r)){const c=r.childNodes.length-1;!n&&a&&a--,r=r.childNodes[a>c?c:a]}return Nt(r)&&n&&a>=r.data.length&&(r=new pi(r,e.getBody()).next()||r),Nt(r)&&!n&&a===0&&(r=new pi(r,e.getBody()).prev()||r),r},zE=(e,t)=>{const n=t?"firstChild":"lastChild",r=e[n];return IO(e)&&r?e.nodeName==="TR"&&r[n]||r:e},n_=(e,t,n,r)=>{var a;const c=e.create(n,r);return(a=t.parentNode)===null||a===void 0||a.insertBefore(c,t),c.appendChild(t),c},OE=(e,t,n,r,a)=>{const c=ye.fromDom(t),u=ye.fromDom(e.create(r,a)),h=n?bc(c):Wp(c);return Ba(u,h),n?(Ms(c,u),ls(u,c)):(es(c,u),Mr(u,c)),u.dom},_M=(e,t)=>t.links&&e.nodeName==="A",VO=(e,t,n)=>{const r=t.parentNode;let a;const c=e.dom,u=oi(e);Op(n)&&r===c.getRoot()&&(!n.list_block||!Ov(t,n.list_block))&&ut(_n(t.childNodes),h=>{Ob(e,u,h.nodeName.toLowerCase())?a?a.appendChild(h):(a=n_(c,h,u),c.setAttribs(a,hg(e))):a=null}),!(g3(n)&&!Ov(n.inline,t))&&c.remove(t,!0)},HO=(e,t,n)=>B(e)?{name:t,value:null}:{name:e,value:hh(t,n)},mu=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},AE=(e,t,n,r,a)=>{let c=!1;lx(n.styles,(u,h)=>{const{name:k,value:N}=HO(h,u,r),U=Uw(N,k);(n.remove_similar||qe(N)||!kn(a)||Ov(Zy(e,a,k),U))&&e.setStyle(t,k,""),c=!0}),c&&mu(e,t)},cx=(e,t,n)=>{t==="removeformat"?ut(BO(e.selection),r=>{ut(Xk,a=>e.dom.setStyle(r,a,"")),mu(e.dom,r)}):_E(e.formatter,t).each(r=>{ut(BO(e.selection),a=>AE(e.dom,a,r,n,null))})},UO=(e,t,n,r,a)=>{const c=e.dom,u=Dk(e),h=e.schema;if(Zl(t)&&Am(h,t.inline)&&Hu(h,r)&&r.parentElement===e.getBody())return VO(e,r,t),gm.removed();if(!t.ceFalseOverride&&r&&c.getContentEditableParent(r)==="false"||r&&!Ev(c,r,t)&&!_M(r,t))return gm.keep();const k=r,N=t.preserve_attributes;if(Zl(t)&&t.remove==="all"&&Ee(N)){const U=dt(c.getAttribs(k),Z=>_o(N,Z.name.toLowerCase()));if(c.removeAllAttribs(k),ut(U,Z=>c.setAttrib(k,Z.name,Z.value)),U.length>0)return gm.rename("span")}if(t.remove!=="all"){AE(c,k,t,n,a),lx(t.attributes,(Z,K)=>{const{name:le,value:ve}=HO(K,Z,n);if(t.remove_similar||qe(ve)||!kn(a)||Ov(c.getAttrib(a,le),ve)){if(le==="class"){const ie=c.getAttrib(k,le);if(ie){let we="";if(ut(ie.split(/\s+/),Be=>{/mce\-\w+/.test(Be)&&(we+=(we?" ":"")+Be)}),we){c.setAttrib(k,le,we);return}}}if(t_.test(le)&&k.removeAttribute("data-mce-"+le),le==="style"&&Ll(["li"])(k)&&c.getStyle(k,"list-style-type")==="none"){k.removeAttribute(le),c.setStyle(k,"list-style-type","none");return}le==="class"&&k.removeAttribute("className"),k.removeAttribute(le)}}),lx(t.classes,Z=>{Z=hh(Z,n),(!kn(a)||c.hasClass(a,Z))&&c.removeClass(k,Z)});const U=c.getAttribs(k);for(let Z=0;Z<U.length;Z++){const K=U[Z].nodeName;if(!u.isAttributeInternal(K))return gm.keep()}}return t.remove!=="none"?(VO(e,k,t),gm.removed()):gm.keep()},jO=(e,t,n,r,a)=>{let c;return t.parentNode&&ut(jw(e.dom,t.parentNode).reverse(),u=>{if(!c&&kn(u)&&u.id!=="_start"&&u.id!=="_end"){const h=Np(e,u,n,r,a);h&&h.split!==!1&&(c=u)}}),c},ZO=(e,t,n,r)=>UO(e,t,n,r,r).fold(ft(r),a=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,a)),ft(null)),NE=(e,t,n,r,a,c,u,h)=>{var k,N;let U,Z;const K=e.dom;if(n){const le=n.parentNode;for(let ve=r.parentNode;ve&&ve!==le;ve=ve.parentNode){let ie=K.clone(ve,!1);for(let we=0;we<t.length&&(ie=ZO(e,t[we],h,ie),ie!==null);we++);ie&&(U&&ie.appendChild(U),Z||(Z=ie),U=ie)}c&&(!u.mixed||!K.isBlock(n))&&(r=(k=K.split(n,r))!==null&&k!==void 0?k:r),U&&Z&&((N=a.parentNode)===null||N===void 0||N.insertBefore(U,a),Z.appendChild(a),Zl(u)&&e_(e,u,h,U))}return r},WO=(e,t,n,r,a)=>{const c=e.formatter.get(t),u=c[0],h=e.dom,k=e.selection,N=ie=>{const we=jO(e,ie,t,n,a);return NE(e,c,we,ie,ie,!0,u,n)},U=ie=>zf(ie)&&kn(ie)&&(ie.id==="_start"||ie.id==="_end"),Z=ie=>ar(c,we=>dx(e,we,n,ie,ie)),K=ie=>{const we=_n(ie.childNodes),Fe=Z(ie)||ar(c,Ct=>Ev(h,ie,Ct)),Ve=ie.parentNode;if(!Fe&&Je(Ve)&&zC(u)&&Z(Ve),u.deep&&we.length)for(let Ct=0;Ct<we.length;Ct++)K(we[Ct]);ut(["underline","line-through","overline"],Ct=>{kn(ie)&&e.dom.getStyle(ie,"text-decoration")===Ct&&ie.parentNode&&p3(h,ie.parentNode)===Ct&&dx(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Ct}},void 0,ie)})},le=ie=>{const we=h.get(ie?"_start":"_end");if(we){let Be=we[ie?"firstChild":"lastChild"];return U(Be)&&(Be=Be[ie?"firstChild":"lastChild"]),Nt(Be)&&Be.data.length===0&&(Be=ie?we.previousSibling||we.nextSibling:we.nextSibling||we.previousSibling),h.remove(we,!0),Be}else return null},ve=ie=>{let we,Be,Fe=Ym(h,ie,c,ie.collapsed);if(u.split){if(Fe=z1(Fe),we=TE(e,Fe,!0),Be=TE(e,Fe),we!==Be){if(we=zE(we,!0),Be=zE(Be,!1),FO(h,we,Be)){const We=Y.from(we.firstChild).getOr(we);N(OE(h,We,!0,"span",{id:"_start","data-mce-type":"bookmark"})),le(!0);return}if(FO(h,Be,we)){const We=Y.from(Be.lastChild).getOr(Be);N(OE(h,We,!1,"span",{id:"_end","data-mce-type":"bookmark"})),le(!1);return}we=n_(h,we,"span",{id:"_start","data-mce-type":"bookmark"}),Be=n_(h,Be,"span",{id:"_end","data-mce-type":"bookmark"});const Ve=h.createRng();Ve.setStartAfter(we),Ve.setEndBefore(Be),Gr(h,Ve,We=>{ut(We,Ct=>{!zf(Ct)&&!zf(Ct.parentNode)&&N(Ct)})}),N(we),N(Be),we=le(!0),Be=le()}else we=Be=N(we);Fe.startContainer=we.parentNode?we.parentNode:we,Fe.startOffset=h.nodeIndex(we),Fe.endContainer=Be.parentNode?Be.parentNode:Be,Fe.endOffset=h.nodeIndex(Be)+1}Gr(h,Fe,Ve=>{ut(Ve,K)})};if(r){if(Dd(r)){const ie=h.createRng();ie.setStartBefore(r),ie.setEndAfter(r),ve(ie)}else ve(r);HC(e,t,r,n);return}!k.isCollapsed()||!Zl(u)||vg(e).length?(zb(e,()=>jy(e,ve),ie=>Zl(u)&&Wk(e,t,n,ie)),e.nodeChanged()):OO(e,t,n,a),cx(e,t,n),HC(e,t,r,n)},$O=(e,t,n,r,a)=>{(r||e.selection.isEditable())&&WO(e,t,n,r,a)},dx=(e,t,n,r,a)=>UO(e,t,n,r,a).fold(Pn,c=>(e.dom.rename(r,c),!0),Do),qO=Ut.each,DE=(e,t,n,r)=>{const a=c=>{if(Ys(c)&&kn(c.parentNode)&&e.isEditable(c)){const u=p3(e,c.parentNode);e.getStyle(c,"color")&&u?e.setStyle(c,"text-decoration",u):e.getStyle(c,"text-decoration")===u&&e.setStyle(c,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(Ut.walk(r,a,"childNodes"),a(r))},CM=(e,t,n,r)=>{if(t.styles&&t.styles.backgroundColor){const a=zv(e,"fontSize");ix(r,c=>a(c)&&e.isEditable(c),Tg(e,"backgroundColor",hh(t.styles.backgroundColor,n)))}},SM=(e,t,n,r)=>{if(Zl(t)&&(t.inline==="sub"||t.inline==="sup")){const a=zv(e,"fontSize");ix(r,u=>a(u)&&e.isEditable(u),Tg(e,"fontSize",""));const c=dt(e.select(t.inline==="sup"?"sub":"sup",r),e.isEditable);e.remove(c,!0)}},GO=(e,t,n,r)=>{qO(t,a=>{Zl(a)&&qO(e.dom.select(a.inline,r),c=>{Qk(c)&&dx(e,a,n,c,a.exact?c:null)}),LO(e.dom,a,r)})},EM=(e,t,n,r,a)=>{const c=a.parentNode;Np(e,c,n,r)&&dx(e,t,r,a)||t.merge_with_parents&&c&&e.dom.getParent(c,u=>Np(e,u,n,r)?(dx(e,t,r,a),!0):!1)},o_=Ut.each,RE=(e,t,n,r)=>{if(Wm(e)&&Zl(t)&&n.parentNode){const a=Yg(e.schema),c=Yz(ye.fromDom(n),u=>Yu(u.dom));return Hi(a,r)&&qr(ye.fromDom(n.parentNode),!1)&&!c}else return!1},ux=(e,t,n,r)=>{if(o_(n.styles,(a,c)=>{e.setStyle(t,c,hh(a,r))}),n.styles){const a=e.getAttrib(t,"style");a&&e.setAttrib(t,"data-mce-style",a)}},KO=(e,t,n,r)=>{const a=e.formatter.get(t),c=a[0],u=!r&&e.selection.isCollapsed(),h=e.dom,k=e.selection,N=(ve,ie=c)=>{un(ie.onformat)&&ie.onformat(ve,ie,n,r),ux(h,ve,ie,n),o_(ie.attributes,(we,Be)=>{h.setAttrib(ve,Be,hh(we,n))}),o_(ie.classes,we=>{const Be=hh(we,n);h.hasClass(ve,Be)||h.addClass(ve,Be)})},U=(ve,ie)=>{let we=!1;return o_(ve,Be=>Af(Be)?h.getContentEditable(ie)==="false"&&!Be.ceFalseOverride||Je(Be.collapsed)&&Be.collapsed!==u?!0:h.is(ie,Be.selector)&&!Yu(ie)?(N(ie,Be),we=!0,!1):!0:!1),we},Z=ve=>{if(At(ve)){const ie=h.create(ve);return N(ie),ie}else return null},K=(ve,ie,we)=>{const Be=[];let Fe=!0;const Ve=c.inline||c.block,We=Z(Ve),Ct=it=>W5(c)&&Np(e,it,t,n),$t=(it,tt,Mt)=>{const hn=$5(c)&&x1(e.schema,it)&&Ob(e,tt,Ve);return Mt&&hn},mn=(it,tt,Mt,hn)=>{const Fn=it.nodeName.toLowerCase(),Ho=Ob(e,Ve,Fn)&&Ob(e,tt,Ve),Wo=!we&&Nt(it)&&D(it.data),gs=Yu(it),Is=!Zl(c)||!ve.isBlock(it);return(Mt||hn)&&Ho&&!Wo&&!gs&&Is};Gr(ve,ie,it=>{let tt;const Mt=hn=>{let Fn=!1,Ho=Fe,Wo=!1;const gs=hn.parentNode,Is=gs.nodeName.toLowerCase(),vi=ve.getContentEditable(hn);Je(vi)&&(Ho=Fe,Fe=vi==="true",Fn=!0,Wo=EC(e,hn));const Hc=Fe&&!Fn;if(ss(hn)&&!RE(e,c,hn,Is)){tt=null,Op(c)&&ve.remove(hn);return}if(Ct(hn)){tt=null;return}if($t(hn,Is,Hc)){const $l=ve.rename(hn,Ve);N($l),Be.push($l),tt=null;return}if(Af(c)){let $l=U(a,hn);if(!$l&&Je(gs)&&zC(c)&&($l=U(a,gs)),!Zl(c)||$l){tt=null;return}}Je(We)&&mn(hn,Is,Hc,Wo)?(tt||(tt=ve.clone(We,!1),gs.insertBefore(tt,hn),Be.push(tt)),Wo&&Fn&&(Fe=Ho),tt.appendChild(hn)):(tt=null,ut(_n(hn.childNodes),Mt),Fn&&(Fe=Ho),tt=null)};ut(it,Mt)}),c.links===!0&&ut(Be,it=>{const tt=Mt=>{Mt.nodeName==="A"&&N(Mt,c),ut(_n(Mt.childNodes),tt)};tt(it)}),ut(Be,it=>{const tt=Fn=>{let Ho=0;return ut(Fn.childNodes,Wo=>{!SC(Wo)&&!zf(Wo)&&Ho++}),Ho},Mt=Fn=>mo(Fn.childNodes,ps).filter(Wo=>ve.getContentEditable(Wo)!=="false"&&Ev(ve,Wo,c)).map(Wo=>{const gs=ve.clone(Wo,!1);return N(gs),ve.replace(gs,Fn,!0),ve.remove(Wo,!0),gs}).getOr(Fn),hn=tt(it);if((Be.length>1||!ve.isBlock(it))&&hn===0){ve.remove(it,!0);return}(Zl(c)||Op(c)&&c.wrapper)&&(!c.exact&&hn===1&&(it=Mt(it)),GO(e,a,n,it),EM(e,c,t,n,it),CM(ve,c,n,it),DE(ve,c,n,it),SM(ve,c,n,it),e_(e,c,n,it))})},le=Dd(r)?r:k.getNode();if(h.getContentEditable(le)==="false"&&!EC(e,le)){r=le,U(a,r),VC(e,t,r,n);return}if(c){if(r)if(Dd(r)){if(!U(a,r)){const ve=h.createRng();ve.setStartBefore(r),ve.setEndAfter(r),K(h,Ym(h,ve,a),!0)}}else K(h,r,!0);else!u||!Zl(c)||vg(e).length?(k.setRng(dE(k.getRng())),zb(e,()=>{jy(e,(ve,ie)=>{const we=ie?ve:Ym(h,ve,a);K(h,we,!1)})},Do),e.nodeChanged()):zO(e,t,n),_E(e.formatter,t).each(ve=>{ut(SE(e.selection),ie=>ux(h,ie,ve,n))});i0(t,e)}VC(e,t,r,n)},BE=(e,t,n,r)=>{(r||e.selection.isEditable())&&KO(e,t,n,r)},r_=e=>Yn(e,"vars"),TM=(e,t)=>{e.set({}),t.on("NodeChange",n=>{JO(t,n.element,e.get())}),t.on("FormatApply FormatRemove",n=>{const r=Y.from(n.node).map(a=>Dd(a)?a:a.startContainer).bind(a=>kn(a)?Y.some(a):Y.from(a.parentElement)).getOrThunk(()=>YO(t));JO(t,r,e.get())})},YO=e=>e.selection.getStart(),XO=(e,t,n,r,a)=>qo(t,h=>{const k=e.formatter.matchNode(h,n,a??{},r);return!wo(k)},h=>Eg(e,h,n)?!0:r?!1:Je(e.formatter.matchNode(h,n,a,!0))),Kb=(e,t)=>{const n=t??YO(e);return dt(jw(e.dom,n),r=>kn(r)&&!Yc(r))},JO=(e,t,n)=>{const r=Kb(e,t);jo(n,(a,c)=>{const u=h=>{const k=XO(e,r,c,h.similar,r_(h)?h.vars:void 0),N=k.isSome();if(h.state.get()!==N){h.state.set(N);const U=k.getOr(t);r_(h)?h.callback(N,{node:U,format:c,parents:r}):ut(h.callbacks,Z=>Z(N,{node:U,format:c,parents:r}))}};ut([a.withSimilar,a.withoutSimilar],u),ut(a.withVars,u)})},s_=(e,t,n,r,a,c)=>{const u=t.get();ut(n.split(","),h=>{const k=Ir(u,h).getOrThunk(()=>{const U={withSimilar:{state:qa(!1),similar:!0,callbacks:[]},withoutSimilar:{state:qa(!1),similar:!1,callbacks:[]},withVars:[]};return u[h]=U,U}),N=()=>{const U=Kb(e);return XO(e,U,h,a,c).isSome()};if(wo(c)){const U=a?k.withSimilar:k.withoutSimilar;U.callbacks.push(r),U.callbacks.length===1&&U.state.set(N())}else k.withVars.push({state:qa(N()),similar:a,vars:c,callback:r})}),t.set(u)},zM=(e,t,n)=>{const r=e.get();ut(t.split(","),a=>Ir(r,a).each(c=>{r[a]={withSimilar:{...c.withSimilar,callbacks:dt(c.withSimilar.callbacks,u=>u!==n)},withoutSimilar:{...c.withoutSimilar,callbacks:dt(c.withoutSimilar.callbacks,u=>u!==n)},withVars:dt(c.withVars,u=>u.callback!==n)}})),e.set(r)},ME=(e,t,n,r,a,c)=>(s_(e,t,n,r,a,c),{unbind:()=>zM(t,n,r)}),QO=(e,t,n,r)=>{const a=e.formatter.get(t);a&&(Wk(e,t,n,r)&&(!("toggle"in a[0])||a[0].toggle)?$O(e,t,n,r):BE(e,t,n,r))},LE=Ut.explode,PE=()=>{const e={};return{addFilter:(a,c)=>{ut(LE(a),u=>{Yn(e,u)||(e[u]={name:u,callbacks:[]}),e[u].callbacks.push(c)})},getFilters:()=>Kl(e),removeFilter:(a,c)=>{ut(LE(a),u=>{if(Yn(e,u))if(Je(c)){const h=e[u],k=dt(h.callbacks,N=>N!==c);k.length>0?h.callbacks=k:delete e[u]}else delete e[u]})}}},a_=(e,t)=>{ut(t,n=>{e.attr(n,null)})},OM=(e,t,n)=>{e.addNodeFilter("font",r=>{ut(r,a=>{const c=t.parse(a.attr("style")),u=a.attr("color"),h=a.attr("face"),k=a.attr("size");u&&(c.color=u),h&&(c["font-family"]=h),k&&Fs(k).each(N=>{c["font-size"]=n[N-1]}),a.name="span",a.attr("style",t.serialize(c)),a_(a,["color","face","size"])})})},AM=(e,t,n)=>{e.addNodeFilter("strike",r=>{const a=t.type!=="html4";ut(r,c=>{if(a)c.name="s";else{const u=n.parse(c.attr("style"));u["text-decoration"]="line-through",c.name="span",c.attr("style",n.serialize(u))}})})},IE=(e,t,n)=>{var r;const a=Wu();t.convert_fonts_to_spans&&OM(e,a,Ut.explode((r=t.font_size_legacy_values)!==null&&r!==void 0?r:"")),AM(e,n,a)},eA=(e,t,n)=>{t.inline_styles&&IE(e,t,n)},tA=(e,t,n)=>{t.addNodeFilter("br",(r,a,c)=>{const u=Ut.extend({},n.getBlockElements()),h=n.getNonEmptyElements(),k=n.getWhitespaceElements();u.body=1;const N=U=>U.name in u||wd(n,U);for(let U=0,Z=r.length;U<Z;U++){let K=r[U],le=K.parent;if(le&&N(le)&&K===le.lastChild){let ve=K.prev;for(;ve;){const ie=ve.name;if(ie!=="span"||ve.attr("data-mce-type")!=="bookmark"){ie==="br"&&(K=null);break}ve=ve.prev}if(K&&(K.remove(),_v(n,h,k,le))){const ie=n.getElementRule(le.name);ie&&(ie.removeEmpty?le.remove():ie.paddEmpty&&Mk(e,c,N,le))}}else{let ve=K;for(;le&&le.firstChild===ve&&le.lastChild===ve&&(ve=le,!u[le.name]);)le=le.parent;if(ve===le){const ie=new Ic("#text",3);ie.value=Ro,K.replace(ie)}}}})},NM=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),DM=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},FE=e=>{const[t,...n]=e.split(","),r=n.join(","),a=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(a){const c=a[2]===";base64",u=c?DM(r):decodeURIComponent(r);return Y.some({type:a[1],data:u,base64Encoded:c})}else return Y.none()},i_=(e,t,n=!0)=>{let r=t;if(n)try{r=atob(t)}catch{return Y.none()}const a=new Uint8Array(r.length);for(let c=0;c<a.length;c++)a[c]=r.charCodeAt(c);return Y.some(new Blob([a],{type:e}))},nA=e=>new Promise((t,n)=>{FE(e).bind(({type:r,data:a,base64Encoded:c})=>i_(r,a,c)).fold(()=>n("Invalid data URI"),t)}),RM=e=>zr(e,"blob:")?NM(e):zr(e,"data:")?nA(e):Promise.reject("Unknown URI format"),oA=e=>new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>{t(r.result)},r.onerror=()=>{var a;n((a=r.error)===null||a===void 0?void 0:a.message)},r.readAsDataURL(e)});let ml=0;const BM=e=>(e||"blobid")+ml++,rA=(e,t,n)=>FE(e).bind(({data:r,type:a,base64Encoded:c})=>{if(t&&!c)return Y.none();{const u=c?r:btoa(r);return n(u,a)}}),VE=(e,t,n)=>{const r=e.create(BM(),t,n);return e.add(r),r},l_=(e,t,n=!1)=>rA(t,n,(r,a)=>Y.from(e.getByData(r,a)).orThunk(()=>i_(a,r).map(c=>VE(e,c,r)))),sA=(e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(zr(t,"blob:")){const r=e.getByUri(t);return Je(r)?Promise.resolve(r):RM(t).then(a=>oA(a).then(c=>rA(c,!1,u=>Y.some(VE(e,a,u))).getOrThunk(n)))}else return zr(t,"data:")?l_(e,t).fold(n,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},Yb=e=>Je(e.attr("data-mce-bogus")),HE=e=>e.attr("src")===Qo.transparentSrc||Je(e.attr("data-mce-placeholder")),aA=(e,t)=>{const{blob_cache:n}=t;if(n){const r=a=>{const c=a.attr("src");HE(a)||Yb(a)||Zn(c)||l_(n,c,!0).each(u=>{a.attr("src",u.blobUri())})};e.addAttributeFilter("src",a=>ut(a,r))}},fx=(e,t)=>zr(e,`${t}/`),UE=(e,t,n,r,a)=>{let c;wo(e)?c="iframe":fx(e,"image")?c="img":fx(e,"video")?c="video":fx(e,"audio")?c="audio":c="iframe";const u=new Ic(c,1);return u.attr(c==="audio"?{src:t}:{src:t,width:n,height:r}),(c==="audio"||c==="video")&&u.attr("controls",""),c==="iframe"&&a&&u.attr("sandbox",""),u},jE=(e,t)=>{const n=e.schema;t.remove_trailing_brs&&tA(t,e,n),e.addAttributeFilter("href",a=>{let c=a.length;const u=k=>k.split(" ").filter(U=>U.length>0).concat(["noopener"]).sort().join(" "),h=k=>{const N=k?Ut.trim(k):"";return/\b(noopener)\b/g.test(N)?N:u(N)};if(!t.allow_unsafe_link_target)for(;c--;){const k=a[c];k.name==="a"&&k.attr("target")==="_blank"&&k.attr("rel",h(k.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",a=>{let c=a.length,u,h,k,N;for(;c--;)if(N=a[c],N.name==="a"&&N.firstChild&&!N.attr("href"))for(k=N.parent,u=N.lastChild;u&&k;)h=u.prev,k.insert(u,N),u=h}),t.fix_list_elements&&e.addNodeFilter("ul,ol",a=>{let c=a.length,u,h;for(;c--;)if(u=a[c],h=u.parent,h&&(h.name==="ul"||h.name==="ol"))if(u.prev&&u.prev.name==="li")u.prev.append(u);else{const k=new Ic("li",1);k.attr("style","list-style-type: none"),u.wrap(k)}});const r=n.getValidClasses();t.validate&&r&&e.addAttributeFilter("class",a=>{var c;let u=a.length;for(;u--;){const h=a[u],k=(c=h.attr("class"))!==null&&c!==void 0?c:"",N=Ut.explode(k," ");let U="";for(let Z=0;Z<N.length;Z++){const K=N[Z];let le=!1,ve=r["*"];ve&&ve[K]&&(le=!0),ve=r[h.name],!le&&ve&&ve[K]&&(le=!0),le&&(U&&(U+=" "),U+=K)}U.length||(U=null),h.attr("class",U)}}),aA(e,t),t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",a=>ut(a,c=>{c.replace(UE(c.attr("type"),c.name==="object"?c.attr("data"):c.attr("src"),c.attr("width"),c.attr("height"),t.sandbox_iframes))})),t.sandbox_iframes&&e.addNodeFilter("iframe",a=>ut(a,c=>c.attr("sandbox","")))};/*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE */const{entries:ZE,setPrototypeOf:mx,isFrozen:c_,getPrototypeOf:px,getOwnPropertyDescriptor:gx}=Object;let{freeze:Pi,seal:pu,create:WE}=Object,{apply:d_,construct:$E}=typeof Reflect<"u"&&Reflect;Pi||(Pi=function(t){return t}),pu||(pu=function(t){return t}),d_||(d_=function(t,n,r){return t.apply(n,r)}),$E||($E=function(t,n){return new t(...n)});const hx=hm(Array.prototype.forEach),iA=hm(Array.prototype.pop),bx=hm(Array.prototype.push),Xb=hm(String.prototype.toLowerCase),qE=hm(String.prototype.toString),lA=hm(String.prototype.match),yx=hm(String.prototype.replace),MM=hm(String.prototype.indexOf),LM=hm(String.prototype.trim),Dp=hm(Object.prototype.hasOwnProperty),Qu=hm(RegExp.prototype.test),vx=PM(TypeError);function hm(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return d_(e,t,r)}}function PM(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $E(e,n)}}function Ts(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Xb;mx&&mx(e,null);let r=t.length;for(;r--;){let a=t[r];if(typeof a=="string"){const c=n(a);c!==a&&(c_(t)||(t[r]=c),a=c)}e[a]=!0}return e}function cA(e){for(let t=0;t<e.length;t++)Dp(e,t)||(e[t]=null);return e}function Jb(e){const t=WE(null);for(const[n,r]of ZE(e))Dp(e,n)&&(Array.isArray(r)?t[n]=cA(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=Jb(r):t[n]=r);return t}function Av(e,t){for(;e!==null;){const r=gx(e,t);if(r){if(r.get)return hm(r.get);if(typeof r.value=="function")return hm(r.value)}e=px(e)}function n(){return null}return n}const GE=Pi(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),u_=Pi(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),f_=Pi(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),dA=Pi(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),KE=Pi(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),uA=Pi(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),fA=Pi(["#text"]),mA=Pi(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),m_=Pi(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),YE=Pi(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),p_=Pi(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),pA=pu(/\{\{[\w\W]*|[\w\W]*\}\}/gm),gA=pu(/<%[\w\W]*|[\w\W]*%>/gm),IM=pu(/\${[\w\W]*}/gm),FM=pu(/^data-[\-\w.\u00B7-\uFFFF]/),VM=pu(/^aria-[\-\w]+$/),hA=pu(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),HM=pu(/^(?:\w+script|data):/i),g_=pu(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),XE=pu(/^html$/i),bA=pu(/^[a-z][.\w]*(-[.\w]+)+$/i);var JE=Object.freeze({__proto__:null,MUSTACHE_EXPR:pA,ERB_EXPR:gA,TMPLIT_EXPR:IM,DATA_ATTR:FM,ARIA_ATTR:VM,IS_ALLOWED_URI:hA,IS_SCRIPT_OR_DATA:HM,ATTR_WHITESPACE:g_,DOCTYPE_NAME:XE,CUSTOM_ELEMENT:bA});const xx={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},UM=function(){return typeof window>"u"?null:window},yA=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const a="data-tt-policy-suffix";n&&n.hasAttribute(a)&&(r=n.getAttribute(a));const c="dompurify"+(r?"#"+r:"");try{return t.createPolicy(c,{createHTML(u){return u},createScriptURL(u){return u}})}catch{return console.warn("TrustedTypes policy "+c+" could not be created."),null}};function vA(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:UM();const t=Yo=>vA(Yo);if(t.version="3.1.7",t.removed=[],!e||!e.document||e.document.nodeType!==xx.document)return t.isSupported=!1,t;let{document:n}=e;const r=n,a=r.currentScript,{DocumentFragment:c,HTMLTemplateElement:u,Node:h,Element:k,NodeFilter:N,NamedNodeMap:U=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:Z,DOMParser:K,trustedTypes:le}=e,ve=k.prototype,ie=Av(ve,"cloneNode"),we=Av(ve,"remove"),Be=Av(ve,"nextSibling"),Fe=Av(ve,"childNodes"),Ve=Av(ve,"parentNode");if(typeof u=="function"){const Yo=n.createElement("template");Yo.content&&Yo.content.ownerDocument&&(n=Yo.content.ownerDocument)}let We,Ct="";const{implementation:$t,createNodeIterator:mn,createDocumentFragment:it,getElementsByTagName:tt}=n,{importNode:Mt}=r;let hn={};t.isSupported=typeof ZE=="function"&&typeof Ve=="function"&&$t&&$t.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Fn,ERB_EXPR:Ho,TMPLIT_EXPR:Wo,DATA_ATTR:gs,ARIA_ATTR:Is,IS_SCRIPT_OR_DATA:vi,ATTR_WHITESPACE:Hc,CUSTOM_ELEMENT:$l}=JE;let{IS_ALLOWED_URI:an}=JE,zn=null;const Tr=Ts({},[...GE,...u_,...f_,...KE,...fA]);let br=null;const On=Ts({},[...mA,...m_,...YE,...p_]);let Dn=Object.seal(WE(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Gt=null,ho=null,mr=!0,ws=!0,Xs=!1,gu=!0,ym=!1,ay=!0,hu=!1,Mg=!1,yo=!1,pr=!1,ks=!1,Va=!1,Ya=!0,Vp=!1;const w2="user-content-";let HT=!0,Xx=!1,Zv={},Wv=null;const UT=Ts({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let u5=null;const f5=Ts({},["audio","video","img","source","image","track"]);let k2=null;const m5=Ts({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),$v="http://www.w3.org/1998/Math/MathML",_2="http://www.w3.org/2000/svg",Lg="http://www.w3.org/1999/xhtml";let k0=Lg,jT=!1,ZT=null;const p5=Ts({},[$v,_2,Lg],qE);let C2=null;const MF=["application/xhtml+xml","text/html"],LF="text/html";let Hd=null,Jx=null;const qv=n.createElement("form"),WT=function(nt){return nt instanceof RegExp||nt instanceof Function},Ye=function(){let nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Jx&&Jx===nt)){if((!nt||typeof nt!="object")&&(nt={}),nt=Jb(nt),C2=MF.indexOf(nt.PARSER_MEDIA_TYPE)===-1?LF:nt.PARSER_MEDIA_TYPE,Hd=C2==="application/xhtml+xml"?qE:Xb,zn=Dp(nt,"ALLOWED_TAGS")?Ts({},nt.ALLOWED_TAGS,Hd):Tr,br=Dp(nt,"ALLOWED_ATTR")?Ts({},nt.ALLOWED_ATTR,Hd):On,ZT=Dp(nt,"ALLOWED_NAMESPACES")?Ts({},nt.ALLOWED_NAMESPACES,qE):p5,k2=Dp(nt,"ADD_URI_SAFE_ATTR")?Ts(Jb(m5),nt.ADD_URI_SAFE_ATTR,Hd):m5,u5=Dp(nt,"ADD_DATA_URI_TAGS")?Ts(Jb(f5),nt.ADD_DATA_URI_TAGS,Hd):f5,Wv=Dp(nt,"FORBID_CONTENTS")?Ts({},nt.FORBID_CONTENTS,Hd):UT,Gt=Dp(nt,"FORBID_TAGS")?Ts({},nt.FORBID_TAGS,Hd):{},ho=Dp(nt,"FORBID_ATTR")?Ts({},nt.FORBID_ATTR,Hd):{},Zv=Dp(nt,"USE_PROFILES")?nt.USE_PROFILES:!1,mr=nt.ALLOW_ARIA_ATTR!==!1,ws=nt.ALLOW_DATA_ATTR!==!1,Xs=nt.ALLOW_UNKNOWN_PROTOCOLS||!1,gu=nt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ym=nt.SAFE_FOR_TEMPLATES||!1,ay=nt.SAFE_FOR_XML!==!1,hu=nt.WHOLE_DOCUMENT||!1,pr=nt.RETURN_DOM||!1,ks=nt.RETURN_DOM_FRAGMENT||!1,Va=nt.RETURN_TRUSTED_TYPE||!1,yo=nt.FORCE_BODY||!1,Ya=nt.SANITIZE_DOM!==!1,Vp=nt.SANITIZE_NAMED_PROPS||!1,HT=nt.KEEP_CONTENT!==!1,Xx=nt.IN_PLACE||!1,an=nt.ALLOWED_URI_REGEXP||hA,k0=nt.NAMESPACE||Lg,Dn=nt.CUSTOM_ELEMENT_HANDLING||{},nt.CUSTOM_ELEMENT_HANDLING&&WT(nt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Dn.tagNameCheck=nt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),nt.CUSTOM_ELEMENT_HANDLING&&WT(nt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Dn.attributeNameCheck=nt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),nt.CUSTOM_ELEMENT_HANDLING&&typeof nt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Dn.allowCustomizedBuiltInElements=nt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ym&&(ws=!1),ks&&(pr=!0),Zv&&(zn=Ts({},fA),br=[],Zv.html===!0&&(Ts(zn,GE),Ts(br,mA)),Zv.svg===!0&&(Ts(zn,u_),Ts(br,m_),Ts(br,p_)),Zv.svgFilters===!0&&(Ts(zn,f_),Ts(br,m_),Ts(br,p_)),Zv.mathMl===!0&&(Ts(zn,KE),Ts(br,YE),Ts(br,p_))),nt.ADD_TAGS&&(zn===Tr&&(zn=Jb(zn)),Ts(zn,nt.ADD_TAGS,Hd)),nt.ADD_ATTR&&(br===On&&(br=Jb(br)),Ts(br,nt.ADD_ATTR,Hd)),nt.ADD_URI_SAFE_ATTR&&Ts(k2,nt.ADD_URI_SAFE_ATTR,Hd),nt.FORBID_CONTENTS&&(Wv===UT&&(Wv=Jb(Wv)),Ts(Wv,nt.FORBID_CONTENTS,Hd)),HT&&(zn["#text"]=!0),hu&&Ts(zn,["html","head","body"]),zn.table&&(Ts(zn,["tbody"]),delete Gt.tbody),nt.TRUSTED_TYPES_POLICY){if(typeof nt.TRUSTED_TYPES_POLICY.createHTML!="function")throw vx('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof nt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw vx('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');We=nt.TRUSTED_TYPES_POLICY,Ct=We.createHTML("")}else We===void 0&&(We=yA(le,a)),We!==null&&typeof Ct=="string"&&(Ct=We.createHTML(""));Pi&&Pi(nt),Jx=nt}},Qe=Ts({},["mi","mo","mn","ms","mtext"]),on=Ts({},["annotation-xml"]),Zt=Ts({},["title","style","font","a","script"]),$n=Ts({},[...u_,...f_,...dA]),yr=Ts({},[...KE,...uA]),ai=function(nt){let In=Ve(nt);(!In||!In.tagName)&&(In={namespaceURI:k0,tagName:"template"});const Uo=Xb(nt.tagName),gl=Xb(In.tagName);return ZT[nt.namespaceURI]?nt.namespaceURI===_2?In.namespaceURI===Lg?Uo==="svg":In.namespaceURI===$v?Uo==="svg"&&(gl==="annotation-xml"||Qe[gl]):!!$n[Uo]:nt.namespaceURI===$v?In.namespaceURI===Lg?Uo==="math":In.namespaceURI===_2?Uo==="math"&&on[gl]:!!yr[Uo]:nt.namespaceURI===Lg?In.namespaceURI===_2&&!on[gl]||In.namespaceURI===$v&&!Qe[gl]?!1:!yr[Uo]&&(Zt[Uo]||!$n[Uo]):!!(C2==="application/xhtml+xml"&&ZT[nt.namespaceURI]):!1},dc=function(nt){bx(t.removed,{element:nt});try{Ve(nt).removeChild(nt)}catch{we(nt)}},ql=function(nt,In){try{bx(t.removed,{attribute:In.getAttributeNode(nt),from:In})}catch{bx(t.removed,{attribute:null,from:In})}if(In.removeAttribute(nt),nt==="is"&&!br[nt])if(pr||ks)try{dc(In)}catch{}else try{In.setAttribute(nt,"")}catch{}},$T=function(nt){let In=null,Uo=null;if(yo)nt="<remove></remove>"+nt;else{const bu=lA(nt,/^[\r\n\t ]+/);Uo=bu&&bu[0]}C2==="application/xhtml+xml"&&k0===Lg&&(nt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+nt+"</body></html>");const gl=We?We.createHTML(nt):nt;if(k0===Lg)try{In=new K().parseFromString(gl,C2)}catch{}if(!In||!In.documentElement){In=$t.createDocument(k0,"template",null);try{In.documentElement.innerHTML=jT?Ct:gl}catch{}}const If=In.body||In.documentElement;return nt&&Uo&&If.insertBefore(n.createTextNode(Uo),If.childNodes[0]||null),k0===Lg?tt.call(In,hu?"html":"body")[0]:hu?In.documentElement:If},qT=function(nt){return mn.call(nt.ownerDocument||nt,nt,N.SHOW_ELEMENT|N.SHOW_COMMENT|N.SHOW_TEXT|N.SHOW_PROCESSING_INSTRUCTION|N.SHOW_CDATA_SECTION,null)},PF=function(nt){return nt instanceof Z&&(typeof nt.nodeName!="string"||typeof nt.textContent!="string"||typeof nt.removeChild!="function"||!(nt.attributes instanceof U)||typeof nt.removeAttribute!="function"||typeof nt.setAttribute!="function"||typeof nt.namespaceURI!="string"||typeof nt.insertBefore!="function"||typeof nt.hasChildNodes!="function")},IF=function(nt){return typeof h=="function"&&nt instanceof h},_0=function(nt,In,Uo){hn[nt]&&hx(hn[nt],gl=>{gl.call(t,In,Uo,Jx)})},FF=function(nt){let In=null;if(_0("beforeSanitizeElements",nt,null),PF(nt))return dc(nt),!0;const Uo=Hd(nt.nodeName);if(_0("uponSanitizeElement",nt,{tagName:Uo,allowedTags:zn}),nt.hasChildNodes()&&!IF(nt.firstElementChild)&&Qu(/<[/\w]/g,nt.innerHTML)&&Qu(/<[/\w]/g,nt.textContent)||nt.nodeType===xx.progressingInstruction||ay&&nt.nodeType===xx.comment&&Qu(/<[/\w]/g,nt.data))return dc(nt),!0;if(!zn[Uo]||Gt[Uo]){if(!Gt[Uo]&&HF(Uo)&&(Dn.tagNameCheck instanceof RegExp&&Qu(Dn.tagNameCheck,Uo)||Dn.tagNameCheck instanceof Function&&Dn.tagNameCheck(Uo)))return!1;if(HT&&!Wv[Uo]){const gl=Ve(nt)||nt.parentNode,If=Fe(nt)||nt.childNodes;if(If&&gl){const bu=If.length;for(let rp=bu-1;rp>=0;--rp){const iy=ie(If[rp],!0);iy.__removalCount=(nt.__removalCount||0)+1,gl.insertBefore(iy,Be(nt))}}}return dc(nt),!0}return nt instanceof k&&!ai(nt)||(Uo==="noscript"||Uo==="noembed"||Uo==="noframes")&&Qu(/<\/no(script|embed|frames)/i,nt.innerHTML)?(dc(nt),!0):(ym&&nt.nodeType===xx.text&&(In=nt.textContent,hx([Fn,Ho,Wo],gl=>{In=yx(In,gl," ")}),nt.textContent!==In&&(bx(t.removed,{element:nt.cloneNode()}),nt.textContent=In)),_0("afterSanitizeElements",nt,null),!1)},VF=function(nt,In,Uo){if(Ya&&(In==="id"||In==="name")&&(Uo in n||Uo in qv))return!1;if(!(ws&&!ho[In]&&Qu(gs,In))){if(!(mr&&Qu(Is,In))){if(!br[In]||ho[In]){if(!(HF(nt)&&(Dn.tagNameCheck instanceof RegExp&&Qu(Dn.tagNameCheck,nt)||Dn.tagNameCheck instanceof Function&&Dn.tagNameCheck(nt))&&(Dn.attributeNameCheck instanceof RegExp&&Qu(Dn.attributeNameCheck,In)||Dn.attributeNameCheck instanceof Function&&Dn.attributeNameCheck(In))||In==="is"&&Dn.allowCustomizedBuiltInElements&&(Dn.tagNameCheck instanceof RegExp&&Qu(Dn.tagNameCheck,Uo)||Dn.tagNameCheck instanceof Function&&Dn.tagNameCheck(Uo))))return!1}else if(!k2[In]){if(!Qu(an,yx(Uo,Hc,""))){if(!((In==="src"||In==="xlink:href"||In==="href")&&nt!=="script"&&MM(Uo,"data:")===0&&u5[nt])){if(!(Xs&&!Qu(vi,yx(Uo,Hc,"")))){if(Uo)return!1}}}}}}return!0},HF=function(nt){return nt!=="annotation-xml"&&lA(nt,$l)},UF=function(nt){_0("beforeSanitizeAttributes",nt,null);const{attributes:In}=nt;if(!In)return;const Uo={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:br};let gl=In.length;for(;gl--;){const If=In[gl],{name:bu,namespaceURI:rp,value:iy}=If,GT=Hd(bu);let nf=bu==="value"?iy:LM(iy);const vY=nf;if(Uo.attrName=GT,Uo.attrValue=nf,Uo.keepAttr=!0,Uo.forceKeepAttr=void 0,_0("uponSanitizeAttribute",nt,Uo),nf=Uo.attrValue,Uo.forceKeepAttr)continue;if(!Uo.keepAttr){ql(bu,nt);continue}if(!gu&&Qu(/\/>/i,nf)){ql(bu,nt);continue}ym&&hx([Fn,Ho,Wo],ZF=>{nf=yx(nf,ZF," ")});const jF=Hd(nt.nodeName);if(!VF(jF,GT,nf)){ql(bu,nt);continue}if(Vp&&(GT==="id"||GT==="name")&&(ql(bu,nt),nf=w2+nf),ay&&Qu(/((--!?|])>)|<\/(style|title)/i,nf)){ql(bu,nt);continue}if(We&&typeof le=="object"&&typeof le.getAttributeType=="function"&&!rp)switch(le.getAttributeType(jF,GT)){case"TrustedHTML":{nf=We.createHTML(nf);break}case"TrustedScriptURL":{nf=We.createScriptURL(nf);break}}if(nf!==vY)try{rp?nt.setAttributeNS(rp,bu,nf):nt.setAttribute(bu,nf),PF(nt)?dc(nt):iA(t.removed)}catch{}}_0("afterSanitizeAttributes",nt,null)},yY=function Yo(nt){let In=null;const Uo=qT(nt);for(_0("beforeSanitizeShadowDOM",nt,null);In=Uo.nextNode();)_0("uponSanitizeShadowNode",In,null),!FF(In)&&(In.content instanceof c&&Yo(In.content),UF(In));_0("afterSanitizeShadowDOM",nt,null)};return t.sanitize=function(Yo){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},In=null,Uo=null,gl=null,If=null;if(jT=!Yo,jT&&(Yo="<!-->"),typeof Yo!="string"&&!IF(Yo))if(typeof Yo.toString=="function"){if(Yo=Yo.toString(),typeof Yo!="string")throw vx("dirty is not a string, aborting")}else throw vx("toString is not a function");if(!t.isSupported)return Yo;if(Mg||Ye(nt),t.removed=[],typeof Yo=="string"&&(Xx=!1),Xx){if(Yo.nodeName){const iy=Hd(Yo.nodeName);if(!zn[iy]||Gt[iy])throw vx("root node is forbidden and cannot be sanitized in-place")}}else if(Yo instanceof h)In=$T("<!---->"),Uo=In.ownerDocument.importNode(Yo,!0),Uo.nodeType===xx.element&&Uo.nodeName==="BODY"||Uo.nodeName==="HTML"?In=Uo:In.appendChild(Uo);else{if(!pr&&!ym&&!hu&&Yo.indexOf("<")===-1)return We&&Va?We.createHTML(Yo):Yo;if(In=$T(Yo),!In)return pr?null:Va?Ct:""}In&&yo&&dc(In.firstChild);const bu=qT(Xx?Yo:In);for(;gl=bu.nextNode();)FF(gl)||(gl.content instanceof c&&yY(gl.content),UF(gl));if(Xx)return Yo;if(pr){if(ks)for(If=it.call(In.ownerDocument);In.firstChild;)If.appendChild(In.firstChild);else If=In;return(br.shadowroot||br.shadowrootmode)&&(If=Mt.call(r,If,!0)),If}let rp=hu?In.outerHTML:In.innerHTML;return hu&&zn["!doctype"]&&In.ownerDocument&&In.ownerDocument.doctype&&In.ownerDocument.doctype.name&&Qu(XE,In.ownerDocument.doctype.name)&&(rp="<!DOCTYPE "+In.ownerDocument.doctype.name+`>
`+rp),ym&&hx([Fn,Ho,Wo],iy=>{rp=yx(rp,iy," ")}),We&&Va?We.createHTML(rp):rp},t.setConfig=function(){let Yo=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ye(Yo),Mg=!0},t.clearConfig=function(){Jx=null,Mg=!1},t.isValidAttribute=function(Yo,nt,In){Jx||Ye({});const Uo=Hd(Yo),gl=Hd(nt);return VF(Uo,gl,In)},t.addHook=function(Yo,nt){typeof nt=="function"&&(hn[Yo]=hn[Yo]||[],bx(hn[Yo],nt))},t.removeHook=function(Yo){if(hn[Yo])return iA(hn[Yo])},t.removeHooks=function(Yo){hn[Yo]&&(hn[Yo]=[])},t.removeAllHooks=function(){hn={}},t}var h_=vA();const QE=Ut.each,jM=Ut.trim,Nl=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],zg={ftp:21,http:80,https:443,mailto:25},ZM=["img","video"],WM=(e,t)=>Je(e)?!e:Je(t)?!_o(ZM,t):!0,$M=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},e4=(e,t,n)=>{const r=$M(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?WM(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class Ld{static parseDataUri(t){let n;const r=decodeURIComponent(t).split(","),a=/data:([^;]+)/.exec(r[0]);return a&&(n=a[1]),{type:n,data:r[1]}}static isDomSafe(t,n,r={}){if(r.allow_script_urls)return!0;{const a=la.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!e4(r,a,n)}}static getDocumentBaseUrl(t){var n;let r;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?r=(n=t.href)!==null&&n!==void 0?n:"":r=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(t,n={}){this.path="",this.directory="",t=jM(t),this.settings=n;const r=n.base_uri,a=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){a.source=t;return}const c=t.indexOf("//")===0;if(t.indexOf("/")===0&&!c&&(t=(r&&r.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const h=r?r.path:new Ld(document.location.href).directory;if((r==null?void 0:r.protocol)==="")t="//mce_host"+a.toAbsPath(h,t);else{const k=/([^#?]*)([#?]?.*)/.exec(t);k&&(t=(r&&r.protocol||"http")+"://mce_host"+a.toAbsPath(h,k[1])+k[2])}}t=t.replace(/@@/g,"(mce_at)");const u=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);u&&QE(Nl,(h,k)=>{let N=u[k];N&&(N=N.replace(/\(mce_at\)/g,"@@")),a[h]=N}),r&&(a.protocol||(a.protocol=r.protocol),a.userInfo||(a.userInfo=r.userInfo),!a.port&&a.host==="mce_host"&&(a.port=r.port),(!a.host||a.host==="mce_host")&&(a.host=r.host),a.source=""),c&&(a.protocol="")}setPath(t){const n=/^(.*?)\/?(\w+)?$/.exec(t);n&&(this.path=n[0],this.directory=n[1],this.file=n[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const n=new Ld(t,{base_uri:this});if(n.host!=="mce_host"&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&n.protocol!=="")return n.getURI();const r=this.getURI(),a=n.getURI();if(r===a||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===a)return r;let c=this.toRelPath(this.path,n.path);return n.query&&(c+="?"+n.query),n.anchor&&(c+="#"+n.anchor),c}toAbsolute(t,n){const r=new Ld(t,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const n=this.protocol?zg[this.protocol]:null;if(n&&(this.port||n)==(t.port||n))return!0}return!1}toRelPath(t,n){let r=0,a="",c,u;const h=t.substring(0,t.lastIndexOf("/")).split("/"),k=n.split("/");if(h.length>=k.length){for(c=0,u=h.length;c<u;c++)if(c>=k.length||h[c]!==k[c]){r=c+1;break}}if(h.length<k.length){for(c=0,u=k.length;c<u;c++)if(c>=h.length||h[c]!==k[c]){r=c+1;break}}if(r===1)return n;for(c=0,u=h.length-(r-1);c<u;c++)a+="../";for(c=r-1,u=k.length;c<u;c++)c!==r-1?a+="/"+k[c]:a+=k[c];return a}toAbsPath(t,n){let r=0;const a=/\/$/.test(n)?"/":"",c=t.split("/"),u=n.split("/"),h=[];QE(c,Z=>{Z&&h.push(Z)});const k=[];for(let Z=u.length-1;Z>=0;Z--)if(!(u[Z].length===0||u[Z]===".")){if(u[Z]===".."){r++;continue}if(r>0){r--;continue}k.push(u[Z])}const N=h.length-r;let U;return N<=0?U=va(k).join("/"):U=h.slice(0,N).join("/")+"/"+va(k).join("/"),U.indexOf("/")!==0&&(U="/"+U),a&&U.lastIndexOf("/")!==U.length-1&&(U+=a),U}getURI(t=!1){let n;return(!this.source||t)&&(n="",t||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source}}const qM=Ut.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),bm="data-mce-type";let xA=0;const wA=(e,t,n,r,a)=>{var c,u,h,k;const N=t.validate,U=n.getSpecialElements();e.nodeType===$c&&!t.allow_conditional_comments&&/^\[if/i.test((c=e.nodeValue)!==null&&c!==void 0?c:"")&&(e.nodeValue=" "+e.nodeValue);const Z=(u=a==null?void 0:a.tagName)!==null&&u!==void 0?u:e.nodeName.toLowerCase();if(r!=="html"&&n.isValid(r)){Je(a)&&(a.allowedTags[Z]=!0);return}if(e.nodeType!==pc||Z==="body")return;const K=ye.fromDom(e),le=Na(K,bm),ve=qi(K,"data-mce-bogus");if(!le&&At(ve)){ve==="all"?lr(K):ha(K);return}const ie=n.getElementRule(Z);if(N&&!ie){Yn(U,Z)?lr(K):ha(K);return}else Je(a)&&(a.allowedTags[Z]=!0);if(N&&ie&&!le){if(ut((h=ie.attributesForced)!==null&&h!==void 0?h:[],we=>{Fr(K,we.name,we.value==="{$uid}"?`mce_${xA++}`:we.value)}),ut((k=ie.attributesDefault)!==null&&k!==void 0?k:[],we=>{Na(K,we.name)||Fr(K,we.name,we.value==="{$uid}"?`mce_${xA++}`:we.value)}),ie.attributesRequired&&!ar(ie.attributesRequired,we=>Na(K,we))){ha(K);return}if(ie.removeEmptyAttrs&&zu(K)){ha(K);return}ie.outputName&&ie.outputName!==Z&&oh(K,ie.outputName)}},kA=(e,t,n,r,a)=>{const c=e.tagName.toLowerCase(),{attrName:u,attrValue:h}=a;a.keepAttr=t4(t,n,r,c,u,h),a.keepAttr?(a.allowedAttributes[u]=!0,b_(u,n)&&(a.attrValue=u),t.allow_svg_data_urls&&zr(h,"data:image/svg+xml")&&(a.forceKeepAttr=!0)):_A(e,u)&&(a.forceKeepAttr=!0)},t4=(e,t,n,r,a,c)=>n!=="html"&&!Tl(r)?!0:!(a in qM&&e4(e,c,r))&&(!e.validate||t.isValid(r,a)||zr(a,"data-")||zr(a,"aria-")),_A=(e,t)=>e.hasAttribute(bm)&&(t==="id"||t==="class"||t==="style"),b_=(e,t)=>e in t.getBoolAttrs(),CA=(e,t,n,r)=>{const{attributes:a}=e;for(let c=a.length-1;c>=0;c--){const u=a[c],h=u.name,k=u.value;!t4(t,n,r,e.tagName.toLowerCase(),h,k)&&!_A(e,h)?e.removeAttribute(h):b_(h,n)&&e.setAttribute(h,h)}},GM=(e,t,n)=>{const r=h_();return r.addHook("uponSanitizeElement",(a,c)=>{wA(a,e,t,n.track(a),c)}),r.addHook("uponSanitizeAttribute",(a,c)=>{kA(a,e,t,n.current(),c)}),r},KM=(e,t)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[],SAFE_FOR_XML:!1}};return r.PARSER_MEDIA_TYPE=t,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},SA=e=>{const t=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(r=>`xlink:${r}`),n={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:t};return h_().sanitize(e,n),e.innerHTML},EA=(e,t)=>{const n=Hg();if(e.sanitize){const r=GM(e,t,n);return{sanitizeHtmlElement:(c,u)=>{r.sanitize(c,KM(e,u)),r.removed=[],n.reset()},sanitizeNamespaceElement:SA}}else return{sanitizeHtmlElement:(c,u)=>{const h=document.createNodeIterator(c,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let k;for(;k=h.nextNode();){const N=n.track(k);wA(k,e,t,N),kn(k)&&CA(k,e,t,N)}n.reset()},sanitizeNamespaceElement:bt}},y_=Ut.makeMap,v_=Ut.extend,x_=(e,t,n,r)=>{const a=e.name,c=a in n&&a!=="title"&&a!=="textarea"&&a!=="noscript",u=t.childNodes;for(let h=0,k=u.length;h<k;h++){const N=u[h],U=new Ic(N.nodeName.toLowerCase(),N.nodeType);if(kn(N)){const Z=N.attributes;for(let K=0,le=Z.length;K<le;K++){const ve=Z[K];U.attr(ve.name,ve.value)}Tl(U.name)&&(r(N),U.value=N.innerHTML)}else Nt(N)?(U.value=N.data,c&&(U.raw=!0)):(Mu(N)||km(N)||Bu(N))&&(U.value=N.data);Tl(U.name)||x_(U,N,n,r),e.append(U)}},n4=(e,t,n)=>{const r=[];for(let a=e,c=a;a;c=a,a=a.walk()){const u=a;ut(t,h=>h(u)),Zn(u.parent)&&u!==e?a=c:r.push(u)}for(let a=r.length-1;a>=0;a--){const c=r[a];ut(n,u=>u(c))}},TA=(e,t,n,r)=>{const a=n.validate,c=t.getNonEmptyElements(),u=t.getWhitespaceElements(),h=v_(y_("script,style,head,html,body,title,meta,param"),t.getBlockElements()),k=Yg(t),N=/[ \t\r\n]+/g,U=/^[ \t\r\n]+/,Z=/[ \t\r\n]+$/,K=Fe=>{let Ve=Fe.parent;for(;Je(Ve);){if(Ve.name in u)return!0;Ve=Ve.parent}return!1},le=Fe=>{let Ve=Fe;for(;Je(Ve);){if(Ve.name in k)return _v(t,c,u,Ve);Ve=Ve.parent}return!1},ve=Fe=>Fe.name in h||wd(t,Fe)||Tl(Fe.name)&&Fe.parent===e,ie=(Fe,Ve)=>{const We=Ve?Fe.prev:Fe.next;return Je(We)||Zn(Fe.parent)?!1:ve(Fe.parent)&&(Fe.parent!==e||r.isRootContent===!0)};return[Fe=>{var Ve;if(Fe.type===3&&!K(Fe)){let We=(Ve=Fe.value)!==null&&Ve!==void 0?Ve:"";We=We.replace(N," "),(gO(Fe.prev,ve)||ie(Fe,!0))&&(We=We.replace(U,"")),We.length===0?Fe.remove():Fe.value=We}},Fe=>{var Ve;if(Fe.type===1){const We=t.getElementRule(Fe.name);if(a&&We){const Ct=_v(t,c,u,Fe);We.paddInEmptyBlock&&Ct&&le(Fe)?Mk(n,r,ve,Fe):We.removeEmpty&&Ct?ve(Fe)?Fe.remove():Fe.unwrap():We.paddEmpty&&(Ct||Lk(Fe))&&Mk(n,r,ve,Fe)}}else if(Fe.type===3&&!K(Fe)){let We=(Ve=Fe.value)!==null&&Ve!==void 0?Ve:"";(Fe.next&&ve(Fe.next)||ie(Fe,!1))&&(We=We.replace(Z,"")),We.length===0?Fe.remove():Fe.value=We}}]},zA=(e,t)=>{var n;const r=(n=t.forced_root_block)!==null&&n!==void 0?n:e.forced_root_block;return r===!1?"":r===!0?"p":r},Qb=(e={},t=Zu())=>{const n=PE(),r=PE(),a={validate:!0,root_name:"body",sanitize:!0,...e},c=new DOMParser,u=EA(a,t),h=(Ve,We,Ct="html")=>{const $t=Ct==="xhtml"?"application/xhtml+xml":"text/html",mn=Yn(t.getSpecialElements(),We.toLowerCase()),it=mn?`<${We}>${Ve}</${We}>`:Ve,tt=Ct==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${it}</body></html>`:`<body>${it}</body>`,Mt=c.parseFromString(tt,$t).body;return u.sanitizeHtmlElement(Mt,$t),mn?Mt.firstChild:Mt},k=n.addFilter,N=n.getFilters,U=n.removeFilter,Z=r.addFilter,K=r.getFilters,le=r.removeFilter,ve=(Ve,We)=>{Ik(t,Ve)&&We.push(Ve)},ie=(Ve,We)=>{const Ct=At(We.attr(bm)),$t=We.type===1&&!Yn(Ve,We.name)&&!wd(t,We)&&!Tl(We.name);return We.type===3||$t&&!Ct},we=(Ve,We)=>{const Ct=v_(y_("script,style,head,html,body,title,meta,param"),t.getBlockElements()),$t=/^[ \t\r\n]+/,mn=/[ \t\r\n]+$/;let it=Ve.firstChild,tt=null;const Mt=hn=>{var Fn,Ho;hn&&(it=hn.firstChild,it&&it.type===3&&(it.value=(Fn=it.value)===null||Fn===void 0?void 0:Fn.replace($t,"")),it=hn.lastChild,it&&it.type===3&&(it.value=(Ho=it.value)===null||Ho===void 0?void 0:Ho.replace(mn,"")))};if(t.isValidChild(Ve.name,We.toLowerCase())){for(;it;){const hn=it.next;ie(Ct,it)?(tt||(tt=new Ic(We,1),tt.attr(a.forced_root_block_attrs),Ve.insert(tt,it)),tt.append(it)):(Mt(tt),tt=null),it=hn}Mt(tt)}},Fe={schema:t,addAttributeFilter:Z,getAttributeFilters:K,removeAttributeFilter:le,addNodeFilter:k,getNodeFilters:N,removeNodeFilter:U,parse:(Ve,We={})=>{var Ct;const $t=a.validate,mn=(Ct=We.context)!==null&&Ct!==void 0?Ct:a.root_name,it=h(Ve,mn,We.format);Hh(t,it);const tt=new Ic(mn,11);x_(tt,it,t.getSpecialElements(),u.sanitizeNamespaceElement),it.innerHTML="";const[Mt,hn]=TA(tt,t,a,We),Fn=[],Ho=$t?vi=>ve(vi,Fn):bt,Wo={nodes:{},attributes:{}},gs=vi=>Bk(N(),K(),vi,Wo);if(n4(tt,[Mt,gs],[hn,Ho]),Fn.reverse(),$t&&Fn.length>0)if(We.context){const{pass:vi,fail:Hc}=Ft(Fn,$l=>$l.parent===tt);Cv(Hc,t,tt,gs),We.invalid=vi.length>0}else Cv(Fn,t,tt,gs);const Is=zA(a,We);return Is&&(tt.name==="body"||We.isRootContent)&&we(tt,Is),We.invalid||mm(Wo,We),tt}};return jE(Fe,a),eA(Fe,a,t),Fe},YM=e=>Uk(e)?Wl({validate:!1}).serialize(e):e,o4=(e,t,n)=>{const r=YM(e),a=t(r);if(a.isDefaultPrevented())return a;if(Uk(e))if(a.content!==r){const c=Qb({validate:!1,forced_root_block:!1,...n}).parse(a.content,{context:e.name});return{...a,content:c}}else return{...a,content:e};else return a},w_=(e,t)=>{if(t.no_events)return Ne.value(t);{const n=O3(e,t);return n.isDefaultPrevented()?Ne.error(jC(e,{content:"",...n}).content):Ne.value(n)}},r4=(e,t,n)=>n.no_events?t:o4(t,a=>jC(e,{...n,content:a}),{sanitize:_b(e),sandbox_iframes:m1(e)}).content,k_=(e,t)=>{if(t.no_events)return Ne.value(t);{const n=o4(t.content,r=>z3(e,{...t,content:r}),{sanitize:_b(e),sandbox_iframes:m1(e)});return n.isDefaultPrevented()?(UC(e,n),Ne.error(void 0)):Ne.value(n)}},Nv=(e,t,n)=>{n.no_events||UC(e,{...n,content:t})},__=(e,t,n)=>({element:e,width:t,rows:n}),s4=(e,t)=>({element:e,cells:t}),XM=(e,t)=>({x:e,y:t}),OA=(e,t)=>qs(e,t).bind(Fs).getOr(1),JM=(e,t,n,r,a)=>{const c=OA(a,"rowspan"),u=OA(a,"colspan"),h=e.rows;for(let k=n;k<n+c;k++){h[k]||(h[k]=s4(Lm(r),[]));for(let N=t;N<t+u;N++){const U=h[k].cells;U[N]=k===n&&N===t?a:im(a)}}},QM=(e,t,n)=>{const r=e.rows;return!!(r[n]?r[n].cells:[])[t]},e6=(e,t,n)=>{for(;QM(e,t,n);)t++;return t},Ka=e=>lo(e,(t,n)=>n.cells.length>t?n.cells.length:t,0),C_=(e,t)=>{const n=e.rows;for(let r=0;r<n.length;r++){const a=n[r].cells;for(let c=0;c<a.length;c++)if(Pe(a[c],t))return Y.some(XM(c,r))}return Y.none()},Rp=(e,t,n,r,a)=>{const c=[],u=e.rows;for(let h=n;h<=a;h++){const k=u[h].cells,N=t<r?k.slice(t,r+1):k.slice(r,t+1);c.push(s4(u[h].element,N))}return c},AA=(e,t,n)=>{const r=t.x,a=t.y,c=n.x,u=n.y,h=a<u?Rp(e,r,a,c,u):Rp(e,r,u,c,a);return __(e.element,Ka(h),h)},NA=(e,t)=>{const n=im(e.element),r=ye.fromTag("tbody");return Ba(r,t),Mr(n,r),n},S_=e=>no(e.rows,t=>{const n=no(t.cells,a=>{const c=Lm(a);return hs(c,"colspan"),hs(c,"rowspan"),c}),r=im(t.element);return Ba(r,n),r}),a4=e=>{const t=__(im(e),0,[]);return ut(zi(e,"tr"),(n,r)=>{ut(zi(n,"td,th"),(a,c)=>{JM(t,e6(t,c,r),r,n,a)})}),__(t.element,Ka(t.rows),t.rows)},DA=e=>NA(e,S_(e)),RA=(e,t,n)=>C_(e,t).bind(r=>C_(e,n).map(a=>AA(e,r,a))),BA=e=>mo(e,t=>Co(t)==="ul"||Co(t)==="ol"),t6=(e,t)=>mo(e,n=>Co(n)==="li"&&wC(n,t)).fold(ft([]),n=>BA(e).map(r=>{const a=ye.fromTag(Co(r)),c=hl(_a(r),(u,h)=>zr(h,"list-style"));return Ml(a,c),[ye.fromTag("li"),a]}).getOr([])),n6=(e,t)=>{const n=lo(t,(r,a)=>(Mr(a,r),a),e);return t.length>0?nk([n]):n},o6=e=>Fu(e)?Dr(e).filter(bd).fold(ft([]),t=>[e,t]):bd(e)?[e]:[],MA=(e,t,n)=>{const r=ye.fromDom(t.commonAncestorContainer),a=Ap(r,e),c=dt(a,k=>n.isWrapper(Co(k))),u=t6(a,t),h=c.concat(u.length?u:o6(r));return no(h,im)},i4=()=>nk([]),r6=(e,t,n)=>n6(ye.fromDom(t.cloneContents()),MA(e,t,n)),l4=(e,t)=>Da(t,"table",zt(Pe,e)),LA=(e,t)=>l4(e,t[0]).bind(n=>{const r=t[0],a=t[t.length-1],c=a4(n);return RA(c,r,a).map(u=>nk([DA(u)]))}).getOrThunk(i4),s6=(e,t,n)=>t.length>0&&t[0].collapsed?i4():r6(e,t[0],n),PA=(e,t,n)=>{const r=yC(t,e);return r.length>0?LA(e,r):s6(e,t,n)},E_=(e,t)=>t>=0&&t<e.length&&G0(e.charAt(t)),IA=e=>G(e.innerText),Fc=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),a6=e=>Y.from(e.selection.getRng()).map(t=>{var n;const r=Y.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),a=e.getBody(),c=Fc(r),u=ye.fromDom(t.cloneContents());pk(u),zS(u);const h=e.dom.add(a,c,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},u.dom),k=IA(h),N=G((n=h.textContent)!==null&&n!==void 0?n:"");if(e.dom.remove(h),E_(N,0)||E_(N,N.length-1)){const U=r.getOr(a),Z=IA(U),K=Z.indexOf(k);if(K===-1)return k;{const le=E_(Z,K-1),ve=E_(Z,K+k.length);return(le?" ":"")+k+(ve?" ":"")}}else return k}).getOr(""),i6=(e,t)=>{const n=e.selection.getRng(),r=e.dom.create("body"),a=e.selection.getSel(),c=fk(e,Of(a)),u=t.contextual?PA(ye.fromDom(e.getBody()),c,e.schema).dom:n.cloneContents();return u&&r.appendChild(u),e.selection.serializer.serialize(r,t)},l6=(e,t)=>{if(t.format==="text")return a6(e);{const n=i6(e,t);return t.format==="tree"?n:e.selection.isCollapsed()?"":n}},c6=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),T_=(e,t,n={})=>{const r=c6(n,t);return w_(e,r).fold(Mn,a=>{const c=l6(e,a);return r4(e,c,a)})},c4=0,z_=1,O_=2,d6=(e,t)=>{const n=e.length+t.length+2,r=new Array(n),a=new Array(n),c=(U,Z,K)=>({start:U,end:Z,diag:K}),u=(U,Z,K,le,ve)=>{const ie=k(U,Z,K,le);if(ie===null||ie.start===Z&&ie.diag===Z-le||ie.end===U&&ie.diag===U-K){let we=U,Be=K;for(;we<Z||Be<le;)we<Z&&Be<le&&e[we]===t[Be]?(ve.push([c4,e[we]]),++we,++Be):Z-U>le-K?(ve.push([O_,e[we]]),++we):(ve.push([z_,t[Be]]),++Be)}else{u(U,ie.start,K,ie.start-ie.diag,ve);for(let we=ie.start;we<ie.end;++we)ve.push([c4,e[we]]);u(ie.end,Z,ie.end-ie.diag,le,ve)}},h=(U,Z,K,le)=>{let ve=U;for(;ve-Z<le&&ve<K&&e[ve]===t[ve-Z];)++ve;return c(U,ve,Z)},k=(U,Z,K,le)=>{const ve=Z-U,ie=le-K;if(ve===0||ie===0)return null;const we=ve-ie,Be=ie+ve,Fe=(Be%2===0?Be:Be+1)/2;r[1+Fe]=U,a[1+Fe]=Z+1;let Ve,We,Ct,$t,mn;for(Ve=0;Ve<=Fe;++Ve){for(We=-Ve;We<=Ve;We+=2){for(Ct=We+Fe,We===-Ve||We!==Ve&&r[Ct-1]<r[Ct+1]?r[Ct]=r[Ct+1]:r[Ct]=r[Ct-1]+1,$t=r[Ct],mn=$t-U+K-We;$t<Z&&mn<le&&e[$t]===t[mn];)r[Ct]=++$t,++mn;if(we%2!==0&&we-Ve<=We&&We<=we+Ve&&a[Ct-we]<=r[Ct])return h(a[Ct-we],We+U-K,Z,le)}for(We=we-Ve;We<=we+Ve;We+=2){for(Ct=We+Fe-we,We===we-Ve||We!==we+Ve&&a[Ct+1]<=a[Ct-1]?a[Ct]=a[Ct+1]-1:a[Ct]=a[Ct-1],$t=a[Ct]-1,mn=$t-U+K-We;$t>=U&&mn>=K&&e[$t]===t[mn];)a[Ct]=$t--,mn--;if(we%2===0&&-Ve<=We&&We<=Ve&&a[Ct]<=r[Ct+we])return h(a[Ct],We+U-K,Z,le)}}return null},N=[];return u(0,e.length,0,t.length,N),N},d4=e=>kn(e)?e.outerHTML:Nt(e)?la.encodeRaw(e.data,!1):Mu(e)?"<!--"+e.data+"-->":"",Bp=e=>{let t;const n=document.createElement("div"),r=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r},FA=(e,t,n)=>{const r=Bp(t);if(e.hasChildNodes()&&n<e.childNodes.length){const a=e.childNodes[n];e.insertBefore(r,a)}else e.appendChild(r)},u6=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];e.removeChild(n)}},u4=(e,t)=>{let n=0;ut(e,r=>{r[0]===c4?n++:r[0]===z_?(FA(t,r[1],n),n++):r[0]===O_&&u6(t,n)})},VA=(e,t)=>dt(no(_n(e.childNodes),t?pn(G,d4):d4),n=>n.length>0),A_=(e,t)=>{const n=no(_n(t.childNodes),d4);return u4(d6(n,e),t),t},HA=Ui(()=>document.implementation.createHTMLDocument("undo")),UA=e=>e.querySelector("iframe")!==null,jA=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),f6=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),N_=e=>{const t=e.serializer.getTempAttrs(),n=TS(e.getBody(),t);return UA(n)?jA(VA(n,!0)):f6(G(n.innerHTML))},wx=(e,t,n)=>{const r=n?t.beforeBookmark:t.bookmark;t.type==="fragmented"?A_(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:Je(r)&&fC(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},f4=e=>e.type==="fragmented"?e.fragments.join(""):e.content,ZA=e=>{const t=ye.fromTag("body",HA());return Dc(t,f4(e)),ut(zi(t,"*[data-mce-bogus]"),ha),fe(t)},D_=(e,t)=>f4(e)===f4(t),m4=(e,t)=>ZA(e)===ZA(t),kx=(e,t)=>!e||!t?!1:D_(e,t)?!0:m4(e,t),R_=e=>e.get()===0,Mp=(e,t,n)=>{R_(n)&&(e.typing=t)},WA=(e,t)=>{e.typing&&(Mp(e,!1,t),e.add())},m6=e=>{e.typing&&(e.typing=!1,e.add())},B_=(e,t,n)=>{R_(t)&&n.set(xe(e.selection))},$A=(e,t,n,r,a,c,u)=>{const h=N_(e),k=Ut.extend(c||{},h);if(!R_(r)||e.removed)return null;const N=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:k,lastLevel:N,originalEvent:u}).isDefaultPrevented()||N&&kx(N,k))return null;t.data[n.get()]&&a.get().each(K=>{t.data[n.get()].beforeBookmark=K});const U=fw(e);if(U&&t.data.length>U){for(let K=0;K<t.data.length-1;K++)t.data[K]=t.data[K+1];t.data.length--,n.set(t.data.length)}k.bookmark=xe(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(k),n.set(t.data.length-1);const Z={level:k,lastLevel:N,originalEvent:u};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",Z),e.dispatch("change",Z)):e.dispatch("AddUndo",Z),k},qA=(e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")},GA=(e,t,n,r,a)=>{if(t.transact(r)){const c=t.data[n.get()].bookmark,u=t.data[n.get()-1];wx(e,u,!0),t.transact(a)&&(t.data[n.get()-1].beforeBookmark=c)}},p6=(e,t,n)=>{let r;return t.get()<n.length-1&&(t.set(t.get()+1),r=n[t.get()],wx(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},g6=(e,t,n,r)=>{let a;return t.typing&&(t.add(),t.typing=!1,Mp(t,!1,n)),r.get()>0&&(r.set(r.get()-1),a=t.data[r.get()],wx(e,a,!0),e.setDirty(!0),e.dispatch("Undo",{level:a})),a},KA=e=>{e.clear(),e.add()},p4=(e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!kx(N_(e),t.data[0]),g4=(e,t)=>t.get()<e.data.length-1&&!e.typing,YA=(e,t,n)=>(WA(e,t),e.beforeChange(),e.ignore(n),e.add()),M_=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},XA=(e,t)=>{const n=e.dom,r=Je(t)?t:e.getBody();ut(n.select("table,a",r),a=>{switch(a.nodeName){case"TABLE":const c=pw(e),u=n.getAttrib(a,"border");(!u||u==="0")&&e.hasVisual?n.addClass(a,c):n.removeClass(a,c);break;case"A":if(!n.getAttrib(a,"href")){const h=n.getAttrib(a,"name")||a.id,k=I0(e);h&&e.hasVisual?n.addClass(a,k):n.removeClass(a,k)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},h4=e=>({init:{bindEvents:bt},undoManager:{beforeChange:(t,n)=>B_(e,t,n),add:(t,n,r,a,c,u)=>$A(e,t,n,r,a,c,u),undo:(t,n,r)=>g6(e,t,n,r),redo:(t,n)=>p6(e,t,n),clear:(t,n)=>qA(e,t,n),reset:t=>KA(t),hasUndo:(t,n)=>p4(e,t,n),hasRedo:(t,n)=>g4(t,n),transact:(t,n,r)=>YA(t,n,r),ignore:(t,n)=>M_(t,n),extra:(t,n,r,a)=>GA(e,t,n,r,a)},formatter:{match:(t,n,r,a)=>Wk(e,t,n,r,a),matchAll:(t,n)=>SO(e,t,n),matchNode:(t,n,r,a)=>Np(e,t,n,r,a),canApply:t=>sx(e,t),closest:t=>yM(e,t),apply:(t,n,r)=>BE(e,t,n,r),remove:(t,n,r,a)=>$O(e,t,n,r,a),toggle:(t,n,r)=>QO(e,t,n,r),formatChanged:(t,n,r,a,c)=>ME(e,t,n,r,a,c)},editor:{getContent:t=>hk(e,t),setContent:(t,n)=>r0(e,t,n),insertContent:(t,n)=>gM(e,t,n),addVisual:t=>XA(e,t)},selection:{getContent:(t,n)=>T_(e,t,n)},autocompleter:{addDecoration:t=>gz(e,t),removeDecoration:()=>bz(e,ye.fromDom(e.getBody()))},raw:{getModel:()=>Y.none()}}),h6=e=>{const t=N=>Te(N)?N:{},{init:n,undoManager:r,formatter:a,editor:c,selection:u,autocompleter:h,raw:k}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(N,U,Z)=>r.transact(Z),ignore:(N,U)=>r.ignore(U),extra:(N,U,Z,K)=>r.extra(Z,K)},formatter:{match:(N,U,Z,K)=>a.match(N,t(U),K),matchAll:a.matchAll,matchNode:a.matchNode,canApply:N=>a.canApply(N),closest:N=>a.closest(N),apply:(N,U,Z)=>a.apply(N,t(U)),remove:(N,U,Z,K)=>a.remove(N,t(U)),toggle:(N,U,Z)=>a.toggle(N,t(U)),formatChanged:(N,U,Z,K,le)=>a.formatChanged(U,Z,K,le)},editor:{getContent:N=>c.getContent(N),setContent:(N,U)=>({content:c.setContent(N,U),html:""}),insertContent:(N,U)=>(c.insertContent(N),""),addVisual:c.addVisual},selection:{getContent:(N,U)=>u.getContent(U)},autocompleter:{addDecoration:h.addDecoration,removeDecoration:h.removeDecoration},raw:{getModel:()=>Y.some(k.getRawModel())}}},b6=()=>{const e=ft(null),t=ft("");return{init:{bindEvents:bt},undoManager:{beforeChange:bt,add:e,undo:e,redo:e,clear:bt,reset:bt,hasUndo:Pn,hasRedo:Pn,transact:e,ignore:bt,extra:bt},formatter:{match:Pn,matchAll:ft([]),matchNode:ft(void 0),canApply:Pn,closest:t,apply:bt,remove:bt,toggle:bt,formatChanged:ft({unbind:bt})},editor:{getContent:t,setContent:ft({content:"",html:""}),insertContent:ft(""),addVisual:bt},selection:{getContent:t},autocompleter:{addDecoration:bt,removeDecoration:bt},raw:{getModel:ft(Y.none())}}},tp=e=>Yn(e.plugins,"rtc"),JA=e=>Ir(e.plugins,"rtc").bind(t=>Y.from(t.setup)),QA=e=>{const t=e;return JA(e).fold(()=>(t.rtcInstance=h4(e),Y.none()),n=>(t.rtcInstance=b6(),Y.some(()=>n().then(r=>(t.rtcInstance=h6(r),r.rtc.isRemote)))))},b4=e=>e.rtcInstance?e.rtcInstance:h4(e),nl=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},y6=(e,t,n)=>{nl(e).undoManager.beforeChange(t,n)},eN=(e,t,n,r,a,c,u)=>nl(e).undoManager.add(t,n,r,a,c,u),tN=(e,t,n,r)=>nl(e).undoManager.undo(t,n,r),v6=(e,t,n)=>nl(e).undoManager.redo(t,n),x6=(e,t,n)=>{nl(e).undoManager.clear(t,n)},Dv=(e,t)=>{nl(e).undoManager.reset(t)},w6=(e,t,n)=>nl(e).undoManager.hasUndo(t,n),k6=(e,t,n)=>nl(e).undoManager.hasRedo(t,n),nN=(e,t,n,r)=>nl(e).undoManager.transact(t,n,r),oN=(e,t,n)=>{nl(e).undoManager.ignore(t,n)},L_=(e,t,n,r,a)=>{nl(e).undoManager.extra(t,n,r,a)},_6=(e,t,n,r,a)=>nl(e).formatter.match(t,n,r,a),C6=(e,t,n)=>nl(e).formatter.matchAll(t,n),S6=(e,t,n,r,a)=>nl(e).formatter.matchNode(t,n,r,a),E6=(e,t)=>nl(e).formatter.canApply(t),T6=(e,t)=>nl(e).formatter.closest(t),z6=(e,t,n,r)=>{nl(e).formatter.apply(t,n,r)},O6=(e,t,n,r,a)=>{nl(e).formatter.remove(t,n,r,a)},A6=(e,t,n,r)=>{nl(e).formatter.toggle(t,n,r)},N6=(e,t,n,r,a,c)=>nl(e).formatter.formatChanged(t,n,r,a,c),D6=(e,t)=>b4(e).editor.getContent(t),zs=(e,t,n)=>b4(e).editor.setContent(t,n),rN=(e,t,n)=>b4(e).editor.insertContent(t,n),y4=(e,t,n)=>nl(e).selection.getContent(t,n),sN=(e,t)=>nl(e).editor.addVisual(t),v4=e=>nl(e).init.bindEvents(),x4=(e,t)=>nl(e).autocompleter.addDecoration(t),R6=e=>nl(e).autocompleter.removeDecoration(),B6=(e,t={})=>{const n=t.format?t.format:"html";return y4(e,n,t)},w4=e=>e.dom.length===0?(lr(e),Y.none()):Y.some(e),M6=(e,t)=>e.filter(n=>J0.isBookmarkNode(n.dom)).bind(t?Ei:Rs),L6=(e,t,n,r,a)=>{const c=e.dom,u=t.dom,h=r?c.length:u.length;r?(WS(c,u,a,!1,!r),n.setStart(u,h)):(WS(u,c,a,!1,!r),n.setEnd(u,h))},Rv=(e,t,n)=>{Dr(e).each(r=>{const a=e.dom;t&&Hb(r,ot(a,0),n)?Xy(a,0,n):!t&&Yy(r,ot(a,a.length),n)&&ZS(a,a.length,n)})},aN=(e,t,n,r,a)=>{e.bind(c=>((r?ZS:Xy)(c.dom,r?c.dom.length:0,a),t.filter(Hs).map(h=>L6(c,h,n,r,a)))).orThunk(()=>M6(t,r).or(t).filter(Hs).map(u=>Rv(u,r,a)))},Bv=(e,t,n)=>{const r=Y.from(t.firstChild).map(ye.fromDom),a=Y.from(t.lastChild).map(ye.fromDom);e.deleteContents(),e.insertNode(t);const c=r.bind(Rs).filter(Hs).bind(w4),u=a.bind(Ei).filter(Hs).bind(w4);aN(c,r,e,!0,n),aN(u,a,e,!1,n),e.collapse(!1)},_x=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),Mv=(e,t)=>{if(t.format!=="raw"){const n=e.selection.getRng(),r=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),a=r?{context:r.nodeName.toLowerCase()}:{},c=e.parser.parse(t.content,{forced_root_block:!1,...a,...t});return Wl({validate:!1},e.schema).serialize(c)}else return t.content},k4=(e,t,n={})=>{const r=_x(n,t);k_(e,r).each(a=>{const c=Mv(e,a),u=e.selection.getRng();Bv(u,u.createContextualFragment(c),e.schema),e.selection.setRng(u),iv(e,u),Nv(e,c,a)})},_4=(e,t,n)=>{if(Yn(e,t)){const r=dt(e[t],a=>a!==n);r.length===0?delete e[t]:e[t]=r}};var iN=(e,t)=>{let n,r;const a=(h,k)=>mo(k,N=>e.is(N,h)),c=h=>e.getParents(h,void 0,e.getRoot()),u=()=>{n={},r={},t.on("NodeChange",h=>{const k=h.element,N=c(k),U={};jo(n,(Z,K)=>{a(K,N).each(le=>{r[K]||(ut(Z,ve=>{ve(!0,{node:le,selector:K,parents:N})}),r[K]=Z),U[K]=Z})}),jo(r,(Z,K)=>{U[K]||(delete r[K],ut(Z,le=>{le(!1,{node:k,selector:K,parents:N})}))})})};return{selectorChangedWithUnbind:(h,k)=>(n||u(),n[h]||(n[h]=[]),n[h].push(k),a(h,c(t.selection.getStart())).each(()=>{r[h]=n[h]}),{unbind:()=>{_4(n,h,k),_4(r,h,k)}})}};const P_=e=>!!(e&&e.ownerDocument)&&Dt(ye.fromDom(e.ownerDocument),ye.fromDom(e)),lN=e=>e?P_(e.startContainer)&&P_(e.endContainer):!1,C4=(e,t,n,r)=>{let a,c;const{selectorChangedWithUnbind:u}=iN(e,r),h=(an,zn)=>{const Tr=e.createRng();Je(an)&&Je(zn)?(Tr.setStart(an,zn),Tr.setEnd(an,zn),We(Tr),Be(!1)):(dm(e,Tr,r.getBody(),!0),We(Tr))},k=an=>B6(r,an),N=(an,zn)=>k4(r,an,zn),U=an=>vh(r.getBody(),Ve(),an),Z=an=>lz(r.getBody(),Ve(),an),K=(an,zn)=>Hc.getBookmark(an,zn),le=an=>Hc.moveToBookmark(an),ve=(an,zn)=>(pv(e,an,zn).each(We),an),ie=()=>{const an=Ve(),zn=Fe();return!an||an.item?!1:an.compareEndPoints?an.compareEndPoints("StartToEnd",an)===0:!zn||an.collapsed},we=()=>{const an=Ve(),zn=r.getBody().querySelectorAll('[data-mce-selected="1"]');return zn.length>0?Os(zn,Tr=>e.isEditable(Tr.parentElement)):B1(e,an)},Be=an=>{const zn=Ve();zn.collapse(!!an),We(zn)},Fe=()=>t.getSelection?t.getSelection():t.document.selection,Ve=()=>{let an;const zn=(br,On,Dn)=>{try{return On.compareBoundaryPoints(br,Dn)}catch{return-1}},Tr=t.document;if(Je(r.bookmark)&&!Lb(r)){const br=mS(r);if(br.isSome())return br.map(On=>fk(r,[On])[0]).getOr(Tr.createRange())}try{const br=Fe();br&&!wm(br.anchorNode)&&(br.rangeCount>0?an=br.getRangeAt(0):an=Tr.createRange(),an=fk(r,[an])[0])}catch{}if(an||(an=Tr.createRange()),Cl(an.startContainer)&&an.collapsed){const br=e.getRoot();an.setStart(br,0),an.setEnd(br,0)}return a&&c&&(zn(an.START_TO_START,an,a)===0&&zn(an.END_TO_END,an,a)===0?an=c:(a=null,c=null)),an},We=(an,zn)=>{if(!lN(an))return;const Tr=Fe();if(an=r.dispatch("SetSelectionRange",{range:an,forward:zn}).range,Tr){c=an;try{Tr.removeAllRanges(),Tr.addRange(an)}catch{}zn===!1&&Tr.extend&&(Tr.collapse(an.endContainer,an.endOffset),Tr.extend(an.startContainer,an.startOffset)),a=Tr.rangeCount>0?Tr.getRangeAt(0):null}if(!an.collapsed&&an.startContainer===an.endContainer&&(Tr!=null&&Tr.setBaseAndExtent)&&an.endOffset-an.startOffset<2&&an.startContainer.hasChildNodes()){const On=an.startContainer.childNodes[an.startOffset];On&&On.nodeName==="IMG"&&(Tr.setBaseAndExtent(an.startContainer,an.startOffset,an.endContainer,an.endOffset),(Tr.anchorNode!==an.startContainer||Tr.focusNode!==an.endContainer)&&Tr.setBaseAndExtent(On,0,On,1))}r.dispatch("AfterSetSelectionRange",{range:an,forward:zn})},Ct=an=>(N(e.getOuterHTML(an)),an),$t=()=>fv(r.getBody(),Ve()),mn=(an,zn)=>mv(e,Ve(),an,zn),it=()=>{const an=Fe(),zn=an==null?void 0:an.anchorNode,Tr=an==null?void 0:an.focusNode;if(!an||!zn||!Tr||wm(zn)||wm(Tr))return!0;const br=e.createRng(),On=e.createRng();try{br.setStart(zn,an.anchorOffset),br.collapse(!0),On.setStart(Tr,an.focusOffset),On.collapse(!0)}catch{return!0}return br.compareBoundaryPoints(br.START_TO_START,On)<=0},vi={dom:e,win:t,serializer:n,editor:r,expand:(an={type:"word"})=>We(wg(e).expand(Ve(),an)),collapse:Be,setCursorLocation:h,getContent:k,setContent:N,getBookmark:K,moveToBookmark:le,select:ve,isCollapsed:ie,isEditable:we,isForward:it,setNode:Ct,getNode:$t,getSel:Fe,setRng:We,getRng:Ve,getStart:U,getEnd:Z,getSelectedBlocks:mn,normalize:()=>{const an=Ve(),zn=Fe();if(!hC(zn)&&nd(r)){const Tr=T1(e,an);return Tr.each(br=>{We(br,it())}),Tr.getOr(an)}return an},selectorChanged:(an,zn)=>(u(an,zn),vi),selectorChangedWithUnbind:u,getScrollContainer:()=>{let an,zn=e.getRoot();for(;zn&&zn.nodeName!=="BODY";){if(zn.scrollHeight>zn.clientHeight){an=zn;break}zn=zn.parentNode}return an},scrollIntoView:(an,zn)=>{Je(an)?lS(r,an,zn):iv(r,Ve(),zn)},placeCaretAt:(an,zn)=>We(Nb(an,zn,r.getDoc())),getBoundingClientRect:()=>{const an=Ve();return an.collapsed?ot.fromRangeStart(an).getClientRects()[0]:an.getBoundingClientRect()},destroy:()=>{t=a=c=null,$l.destroy()}},Hc=J0(vi),$l=$C(vi,r);return vi.bookmarkManager=Hc,vi.controlSelection=$l,vi},cN=(e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",(r,a)=>{let c=r.length;for(;c--;){const u=r[c];u.attr("tabindex",u.attr("data-mce-tabindex")),u.attr(a,null)}}),e.addAttributeFilter("src,href,style",(r,a)=>{const c="data-mce-"+a,u=t.url_converter,h=t.url_converter_scope;let k=r.length;for(;k--;){const N=r[k];let U=N.attr(c);U!==void 0?(N.attr(a,U.length>0?U:null),N.attr(c,null)):(U=N.attr(a),a==="style"?U=n.serializeStyle(n.parseStyle(U),N.name):u&&(U=u.call(h,U,a,N.name)),N.attr(a,U.length>0?U:null))}}),e.addAttributeFilter("class",r=>{let a=r.length;for(;a--;){const c=r[a];let u=c.attr("class");u&&(u=u.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",u.length>0?u:null))}}),e.addAttributeFilter("data-mce-type",(r,a,c)=>{let u=r.length;for(;u--;){const h=r[u];h.attr("data-mce-type")==="bookmark"&&!c.cleanup&&(Y.from(h.firstChild).exists(N=>{var U;return!D((U=N.value)!==null&&U!==void 0?U:"")})?h.unwrap():h.remove())}}),e.addNodeFilter("script,style",(r,a)=>{var c;const u=k=>k.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let h=r.length;for(;h--;){const k=r[h],N=k.firstChild,U=(c=N==null?void 0:N.value)!==null&&c!==void 0?c:"";if(a==="script"){const Z=k.attr("type");Z&&k.attr("type",Z==="mce-no/type"?null:Z.replace(/^mce\-/,"")),t.element_format==="xhtml"&&N&&U.length>0&&(N.value=`// <![CDATA[
`+u(U)+`
// ]]>`)}else t.element_format==="xhtml"&&N&&U.length>0&&(N.value=`<!--
`+u(U)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let a=r.length;for(;a--;){const c=r[a],u=c.value;t.preserve_cdata&&(u==null?void 0:u.indexOf("[CDATA["))===0?(c.name="#cdata",c.type=4,c.value=n.decode(u.replace(/^\[CDATA\[|\]\]$/g,""))):(u==null?void 0:u.indexOf("mce:protected "))===0&&(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(u).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,a)=>{let c=r.length;for(;c--;){const u=r[c];u.type===7?u.remove():u.type===1&&a==="input"&&!u.attr("type")&&u.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{ut(r,a=>{a.attr("data-mce-type")==="format-caret"&&(a.isEmpty(e.schema.getNonEmptyElements())?a.remove():a.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,a)=>{let c=r.length;for(;c--;)r[c].attr(a,null)}),t.remove_trailing_brs&&tA(t,e,e.schema)},S4=e=>{const t=r=>(r==null?void 0:r.name)==="br",n=e.lastChild;if(t(n)){const r=n.prev;t(r)&&(n.remove(),r.remove())}},dN=(e,t,n)=>{let r;const a=e.dom;let c=t.cloneNode(!0);const u=document.implementation;if(u.createHTMLDocument){const h=u.createHTMLDocument("");Ut.each(c.nodeName==="BODY"?c.childNodes:[c],k=>{h.body.appendChild(h.importNode(k,!0))}),c.nodeName!=="BODY"?c=h.body.firstChild:c=h.body,r=a.doc,a.doc=h}return k3(e,{...n,node:c}),r&&(a.doc=r),c},uN=(e,t)=>Je(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,E4=(e,t,n)=>uN(e,n)?dN(e,t,n):t,P6=(e,t,n)=>{Ut.inArray(t,n)===-1&&(e.addAttributeFilter(n,(r,a)=>{let c=r.length;for(;c--;)r[c].attr(a,null)}),t.push(n))},fN=(e,t,n)=>!t.no_events&&e?_3(e,{...t,content:n}).content:n,mN=(e,t,n)=>{const r=G(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Gf(ye.fromDom(t))?r:Ut.trim(r)},pN=(e,t,n)=>{const r=n.selection?{forced_root_block:!1,...n}:n,a=e.parse(t,r);return S4(a),a},I6=(e,t,n)=>Wl(e,t).serialize(n),F6=(e,t,n,r,a)=>{const c=I6(t,n,r);return fN(e,a,c)},I_=(e,t)=>{const n=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},a=t&&t.dom?t.dom:us.DOM,c=t&&t.schema?t.schema:Zu(r),u=Qb(r,c);cN(u,r,a);const h=(k,N={})=>{const U={format:"html",...N},Z=E4(t,k,U),K=mN(a,Z,U),le=pN(u,K,U);return U.format==="tree"?le:F6(t,r,c,le,U)};return{schema:c,addNodeFilter:u.addNodeFilter,addAttributeFilter:u.addAttributeFilter,serialize:h,addRules:c.addValidElements,setRules:c.setValidElements,addTempAttr:zt(P6,u,n),getTempAttrs:ft(n),getNodeFilters:u.getNodeFilters,getAttributeFilters:u.getAttributeFilters,removeNodeFilter:u.removeNodeFilter,removeAttributeFilter:u.removeAttributeFilter}},T4=(e,t)=>{const n=I_(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},gN="html",hN=(e,t)=>({...e,format:t,get:!0,getInner:!0}),V6=(e,t={})=>{const n=t.format?t.format:gN,r=hN(t,n);return w_(e,r).fold(Mn,a=>{const c=D6(e,a);return r4(e,c,a)})},H6="html",U6=(e,t)=>({format:H6,...e,set:!0,content:t}),z4=(e,t,n={})=>{const r=U6(n,t);return k_(e,r).map(a=>{const c=zs(e,a.content,a);return Nv(e,c.html,a),c.content}).getOr(t)},bN="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),yN="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),vN="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),xN=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],wN=(e,t)=>{const n=dt(t,r=>Yn(e,r));return Mo(n)},j6=e=>{const t=wN(e,bN),n=e.forced_root_block;return(n===!1||n==="")&&t.push("forced_root_block (false only)"),Mo(t)},Z6=e=>wN(e,yN),Cx=(e,t)=>{const n=Ut.makeMap(e.plugins," "),a=dt(t,c=>Yn(n,c));return Mo(a)},kN=e=>Cx(e,vN),W6=e=>Cx(e,xN.map(t=>t.name)),_N=(e,t)=>{const n=j6(e),r=kN(t),a=r.length>0,c=n.length>0,u=t.theme==="mobile";if(a||c||u){const h=`
- `,k=u?`

Themes:${h}mobile`:"",N=a?`

Plugins:${h}${r.join(h)}`:"",U=c?`

Options:${h}${n.join(h)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+k+N+U)}},CN=e=>mo(xN,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),O4=(e,t)=>{const n=Z6(e),r=W6(t),a=r.length>0,c=n.length>0;if(a||c){const u=`
- `,h=a?`

Plugins:${u}${r.map(CN).join(u)}`:"",k=c?`

Options:${u}${n.join(u)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+h+k)}},SN=(e,t)=>{_N(e,t),O4(e,t)},Sx=us.DOM,EN=e=>{Sx.setStyle(e.id,"display",e.orgDisplay)},F_=e=>Y.from(e).each(t=>t.destroy()),$6=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;if(n){const r=n.dom;t.selection=n.win=n.dom=r.doc=null}},Ex=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),Sx.unbind(t,"submit reset",e.formEventDelegate))},q6=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,r=e.getBody(),a=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Je(a==null?void 0:a.nextSibling)&&Sx.remove(a.nextSibling),Q0(e),e.editorManager.remove(e),!e.inline&&r&&EN(e),C3(e),Sx.remove(e.getContainer()),F_(t),F_(n),e.destroy()}},TN=(e,t)=>{const{selection:n,dom:r}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),F_(n),F_(r)),Ex(e),$6(e),e.destroyed=!0}},Tx=(()=>{const e={};return{add:(a,c)=>{e[a]=c},get:a=>e[a]?e[a]:{icons:{}},has:a=>Yn(e,a)}})(),c0=zl.ModelManager,zN=(e,t)=>t.dom[e],ON=(e,t)=>parseInt(Wa(t,e),10),N4=zt(zN,"clientWidth"),D4=zt(zN,"clientHeight"),V_=zt(ON,"margin-top"),AN=zt(ON,"margin-left"),R4=e=>e.dom.getBoundingClientRect(),NN=(e,t,n)=>{const r=N4(e),a=D4(e);return t>=0&&n>=0&&t<=r&&n<=a},G6=(e,t,n,r)=>{const a=R4(t),c=e?a.left+t.dom.clientLeft+AN(t):0,u=e?a.top+t.dom.clientTop+V_(t):0,h=n-c,k=r-u;return{x:h,y:k}},DN=(e,t,n)=>{const r=ye.fromDom(e.getBody()),a=e.inline?r:Po(r),c=G6(e.inline,a,t,n);return NN(a,c.x,c.y)},K6=e=>Y.from(e).map(ye.fromDom),RN=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return K6(t).map(Gs).getOr(!1)};var BN=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const MN=e=>{const t=[],n=()=>{const K=e.theme;return K&&K.getNotificationManagerImpl?K.getNotificationManagerImpl():BN()},r=()=>Y.from(t[0]),a=(K,le)=>K.type===le.type&&K.text===le.text&&!K.progressBar&&!K.timeout&&!le.progressBar&&!le.timeout,c=()=>{ut(t,K=>{K.reposition()})},u=K=>{t.push(K)},h=K=>{Ta(t,le=>le===K).each(le=>{t.splice(le,1)})},k=(K,le=!0)=>e.removed||!RN(e)?{}:(le&&e.dispatch("BeforeOpenNotification",{notification:K}),mo(t,ve=>a(n().getArgs(ve),K)).getOrThunk(()=>{e.editorManager.setActive(e);const ve=n().open(K,()=>{h(ve),c(),tl(e)&&r().fold(()=>e.focus(),ie=>J3(ye.fromDom(ie.getEl())))});return u(ve),c(),e.dispatch("OpenNotification",{notification:{...ve}}),ve})),N=()=>{r().each(K=>{n().close(K),h(K),c()})},U=ft(t);return(K=>{K.on("SkinLoaded",()=>{const le=lw(K);le&&k({text:le,type:"warning",timeout:0},!1),c()}),K.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(c)}),K.on("remove",()=>{ut(t.slice(),le=>{n().close(le)})})})(e),{open:k,close:N,getNotifications:U}},d0=zl.PluginManager,Ch=zl.ThemeManager;var LN=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const B4=e=>{let t=[];const n=()=>{const ie=e.theme;return ie&&ie.getWindowManagerImpl?ie.getWindowManagerImpl():LN()},r=(ie,we)=>(...Be)=>we?we.apply(ie,Be):void 0,a=ie=>{e.dispatch("OpenWindow",{dialog:ie})},c=ie=>{e.dispatch("CloseWindow",{dialog:ie})},u=ie=>{t.push(ie),a(ie)},h=ie=>{c(ie),t=dt(t,we=>we!==ie),t.length===0&&e.focus()},k=()=>Y.from(t[t.length-1]),N=ie=>{e.editorManager.setActive(e),fS(e),e.ui.show();const we=ie();return u(we),we},U=(ie,we)=>N(()=>n().open(ie,we,h)),Z=ie=>N(()=>n().openUrl(ie,h)),K=(ie,we,Be)=>{const Fe=n();Fe.alert(ie,r(Be||Fe,we))},le=(ie,we,Be)=>{const Fe=n();Fe.confirm(ie,r(Be||Fe,we))},ve=()=>{k().each(ie=>{n().close(ie),h(ie)})};return e.on("remove",()=>{ut(t,ie=>{n().close(ie)})}),{open:U,openUrl:Z,alert:K,confirm:le,close:ve}},M4=(e,t)=>{e.notificationManager.open({type:"error",text:t})},zx=(e,t)=>{e._skinLoaded?M4(e,t):e.on("SkinLoaded",()=>{M4(e,t)})},Y6=(e,t)=>{zx(e,_c.translate(["Failed to upload image: {0}",t]))},Ox=(e,t,n)=>{FC(e,t,{message:n}),console.error(n)},u0=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,X6=(e,t,n)=>{Ox(e,"PluginLoadError",u0("plugin",t,n))},PN=(e,t,n)=>{Ox(e,"IconsLoadError",u0("icons",t,n))},IN=(e,t,n)=>{Ox(e,"LanguageLoadError",u0("language",t,n))},L4=(e,t,n)=>{Ox(e,"ThemeLoadError",u0("theme",t,n))},P4=(e,t,n)=>{Ox(e,"ModelLoadError",u0("model",t,n))},I4=(e,t,n)=>{const r=_c.translate(["Failed to initialize plugin: {0}",t]);FC(e,"PluginLoadError",{message:r}),H_(r,n),zx(e,r)},H_=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},FN=e=>/^[a-z0-9\-]+$/i.test(e),F4=e=>"content/"+e+"/content.css",J6=e=>tinymce.Resource.has(F4(e)),VN=e=>HN(e,Td(e)),V4=e=>HN(e,iw(e)),HN=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",a=`content${e.editorManager.suffix}.css`;return no(t,c=>J6(c)?c:FN(c)&&!e.inline?`${n}/${c}/${a}`:e.documentBaseURI.toAbsolute(c))},U_=e=>{e.contentCSS=e.contentCSS.concat(VN(e),V4(e))},Q6=e=>e?_n(e.getElementsByTagName("img")):[],eL=(e,t)=>{const n={};return{findAll:(a,c=Do)=>{const u=dt(Q6(a),k=>{const N=k.src;return k.hasAttribute("data-mce-bogus")||k.hasAttribute("data-mce-placeholder")||!N||N===Qo.transparentSrc?!1:zr(N,"blob:")?!e.isUploaded(N)&&c(k):zr(N,"data:")?c(k):!1}),h=no(u,k=>{const N=k.src;if(Yn(n,N))return n[N].then(U=>At(U)?U:{image:k,blobInfo:U.blobInfo});{const U=sA(t,N).then(Z=>(delete n[N],{image:k,blobInfo:Z})).catch(Z=>(delete n[N],Z));return n[N]=U,U}});return Promise.all(h)}}},UN=()=>{let n={};const r=(K,le)=>({status:K,resultUri:le}),a=K=>K in n;return{hasBlobUri:a,getResultUri:K=>{const le=n[K];return le?le.resultUri:null},isPending:K=>a(K)?n[K].status===1:!1,isUploaded:K=>a(K)?n[K].status===2:!1,markPending:K=>{n[K]=r(1,null)},markUploaded:(K,le)=>{n[K]=r(2,le)},removeFailed:K=>{delete n[K]},destroy:()=>{n={}}}};let jN=0;const ZN=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},tL=e=>e+jN+++ZN(),WN=()=>{let e=[];const t=Z=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[Z.toLowerCase()]||"dat",n=(Z,K,le,ve,ie)=>{if(At(Z))return r({id:Z,name:ve,filename:ie,blob:K,base64:le});if(Te(Z))return r(Z);throw new Error("Unknown input type")},r=Z=>{if(!Z.blob||!Z.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const K=Z.id||tL("blobid"),le=Z.name||K,ve=Z.blob;return{id:ft(K),name:ft(le),filename:ft(Z.filename||le+"."+t(ve.type)),blob:ft(ve),base64:ft(Z.base64),blobUri:ft(Z.blobUri||URL.createObjectURL(ve)),uri:ft(Z.uri)}},a=Z=>{u(Z.id())||e.push(Z)},c=Z=>mo(e,Z).getOrUndefined(),u=Z=>c(K=>K.id()===Z);return{create:n,add:a,get:u,getByUri:Z=>c(K=>K.blobUri()===Z),getByData:(Z,K)=>c(le=>le.base64()===Z&&le.blob().type===K),findFirst:c,removeByUri:Z=>{e=dt(e,K=>K.blobUri()===Z?(URL.revokeObjectURL(K.blobUri()),!1):!0)},destroy:()=>{ut(e,Z=>{URL.revokeObjectURL(Z.blobUri())}),e=[]}}},Ax=(e,t)=>{const n={},r=(ie,we)=>ie?ie.replace(/\/$/,"")+"/"+we.replace(/^\//,""):we,a=(ie,we)=>new Promise((Be,Fe)=>{const Ve=new XMLHttpRequest;Ve.open("POST",t.url),Ve.withCredentials=t.credentials,Ve.upload.onprogress=Ct=>{we(Ct.loaded/Ct.total*100)},Ve.onerror=()=>{Fe("Image upload failed due to a XHR Transport error. Code: "+Ve.status)},Ve.onload=()=>{if(Ve.status<200||Ve.status>=300){Fe("HTTP Error: "+Ve.status);return}const Ct=JSON.parse(Ve.responseText);if(!Ct||!At(Ct.location)){Fe("Invalid JSON: "+Ve.responseText);return}Be(r(t.basePath,Ct.location))};const We=new FormData;We.append("file",ie.blob(),ie.filename()),Ve.send(We)}),c=un(t.handler)?t.handler:a,u=()=>new Promise(ie=>{ie([])}),h=(ie,we)=>({url:we,blobInfo:ie,status:!0}),k=(ie,we)=>({url:"",blobInfo:ie,status:!1,error:we}),N=(ie,we)=>{Ut.each(n[ie],Be=>{Be(we)}),delete n[ie]},U=(ie,we,Be)=>(e.markPending(ie.blobUri()),new Promise(Fe=>{let Ve,We;try{const Ct=()=>{Ve&&(Ve.close(),We=bt)},$t=it=>{Ct(),e.markUploaded(ie.blobUri(),it),N(ie.blobUri(),h(ie,it)),Fe(h(ie,it))},mn=it=>{Ct(),e.removeFailed(ie.blobUri()),N(ie.blobUri(),k(ie,it)),Fe(k(ie,it))};We=it=>{it<0||it>100||Y.from(Ve).orThunk(()=>Y.from(Be).map(nn)).each(tt=>{Ve=tt,tt.progressBar.value(it)})},we(ie,We).then($t,it=>{mn(At(it)?{message:it}:it)})}catch(Ct){Fe(k(ie,Ct))}})),Z=ie=>ie===a,K=ie=>{const we=ie.blobUri();return new Promise(Be=>{n[we]=n[we]||[],n[we].push(Be)})},le=(ie,we)=>(ie=Ut.grep(ie,Be=>!e.isUploaded(Be.blobUri())),Promise.all(Ut.map(ie,Be=>e.isPending(Be.blobUri())?K(Be):U(Be,c,we))));return{upload:(ie,we)=>!t.url&&Z(c)?u():le(ie,we)}},H4=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),$N=(e,t)=>Ax(t,{url:tr(e),basePath:I2(e),credentials:sw(e),handler:Ny(e)}),qN=e=>{const t=UN(),n=$N(e,t);return{upload:(r,a=!0)=>n.upload(r,a?H4(e):void 0)}},GN=(e,t)=>e.dom.isEmpty(t.dom)&&Je(e.schema.getTextBlockElements()[Co(t)]),nL=e=>t=>{GN(e,t)&&Mr(t,ye.fromHtml('<br data-mce-bogus="1" />'))},oL=e=>{const t=WN();let n,r;const a=UN(),c=[],u=Ve=>We=>e.selection?Ve(We):[],h=Ve=>Ve+(Ve.indexOf("?")===-1?"?":"&")+new Date().getTime(),k=(Ve,We,Ct)=>{let $t=0;do $t=Ve.indexOf(We,$t),$t!==-1&&(Ve=Ve.substring(0,$t)+Ct+Ve.substr($t+We.length),$t+=Ct.length-We.length+1);while($t!==-1);return Ve},N=(Ve,We,Ct)=>{const $t=`src="${Ct}"${Ct===Qo.transparentSrc?' data-mce-placeholder="1"':""}`;return Ve=k(Ve,`src="${We}"`,$t),Ve=k(Ve,'data-mce-src="'+We+'"','data-mce-src="'+Ct+'"'),Ve},U=(Ve,We)=>{ut(e.undoManager.data,Ct=>{Ct.type==="fragmented"?Ct.fragments=no(Ct.fragments,$t=>N($t,Ve,We)):Ct.content=N(Ct.content,Ve,We)})},Z=(Ve,We)=>{const Ct=e.convertURL(We,"src");U(Ve.src,We),Cs(ye.fromDom(Ve),{src:lc(e)?h(We):We,"data-mce-src":Ct})},K=()=>(n||(n=$N(e,a)),we().then(u(Ve=>{const We=no(Ve,Ct=>Ct.blobInfo);return n.upload(We,H4(e)).then(u(Ct=>{const $t=[];let mn=!1;const it=no(Ct,(tt,Mt)=>{const{blobInfo:hn,image:Fn}=Ve[Mt];let Ho=!1;return tt.status&&yb(e)?(tt.url&&!xr(Fn.src,tt.url)&&(mn=!0),t.removeByUri(Fn.src),tp(e)||Z(Fn,tt.url)):tt.error&&(tt.error.remove&&(U(Fn.src,Qo.transparentSrc),$t.push(Fn),Ho=!0),Y6(e,tt.error.message)),{element:Fn,status:tt.status,uploadUri:tt.url,blobInfo:hn,removed:Ho}});return $t.length>0&&!tp(e)?e.undoManager.transact(()=>{ut(ec($t),tt=>{const Mt=Dr(tt);lr(tt),Mt.each(nL(e)),t.removeByUri(tt.dom.src)})}):mn&&e.undoManager.dispatchChange(),it}))}))),le=()=>Ed(e)?K():Promise.resolve([]),ve=Ve=>Os(c,We=>We(Ve)),ie=Ve=>{c.push(Ve)},we=()=>(r||(r=eL(a,t)),r.findAll(e.getBody(),ve).then(u(Ve=>{const We=dt(Ve,Ct=>At(Ct)?(zx(e,Ct),!1):Ct.uriType!=="blob");return tp(e)||ut(We,Ct=>{U(Ct.image.src,Ct.blobInfo.blobUri()),Ct.image.src=Ct.blobInfo.blobUri(),Ct.image.removeAttribute("data-mce-src")}),We}))),Be=()=>{t.destroy(),a.destroy(),r=n=null},Fe=Ve=>Ve.replace(/src="(blob:[^"]+)"/g,(We,Ct)=>{const $t=a.getResultUri(Ct);if($t)return'src="'+$t+'"';let mn=t.getByUri(Ct);return mn||(mn=lo(e.editorManager.get(),(it,tt)=>it||tt.editorUpload&&tt.editorUpload.blobCache.getByUri(Ct),void 0)),mn?'src="data:'+mn.blob().type+";base64,"+mn.base64()+'"':We});return e.on("SetContent",()=>{Ed(e)?le():we()}),e.on("RawSaveContent",Ve=>{Ve.content=Fe(Ve.content)}),e.on("GetContent",Ve=>{Ve.source_view||Ve.format==="raw"||Ve.format==="tree"||(Ve.content=Fe(Ve.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",Ve=>{ut(Ve,We=>{const Ct=We.attr("src");if(!Ct||t.getByUri(Ct))return;const $t=a.getResultUri(Ct);$t&&We.attr("src",$t)})})}),{blobCache:t,addFilter:ie,uploadImages:K,uploadImagesAuto:le,scanForImages:we,destroy:Be}},rL=e=>{const t=e.dom,n=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:a=>{t.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:a=>{t.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const a={inline:"span",styles:{textDecoration:"line-through"},exact:!0},c={inline:"strike",remove:"all",preserve_attributes:["class","style"]},u={inline:"s",remove:"all",preserve_attributes:["class","style"]};return n!=="html4"?[u,a,c]:[a,u,c]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(a,c,u)=>kn(a)&&a.hasAttribute("href"),onformat:(a,c,u)=>{Ut.each(u,(h,k)=>{t.setAttrib(a,k,h)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":a=>{var c;return(c=a==null?void 0:a.customValue)!==null&&c!==void 0?c:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Ut.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),a=>{r[a]={block:a,remove:"all"}}),r},KN={remove_similar:!0,inherit:!1},f0={selector:"td,th",...KN},U4={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...f0},tablecellverticalalign:{styles:{"vertical-align":"%value"},...f0},tablecellbordercolor:{styles:{borderColor:"%value"},...f0},tablecellclass:{classes:["%value"],...f0},tableclass:{selector:"table",classes:["%value"],...KN},tablecellborderstyle:{styles:{borderStyle:"%value"},...f0},tablecellborderwidth:{styles:{borderWidth:"%value"},...f0}},YN=ft(U4),XN=e=>{const t={},n=u=>Je(u)?t[u]:t,r=u=>Yn(t,u),a=(u,h)=>{u&&(At(u)?(Ee(h)||(h=[h]),ut(h,k=>{wo(k.deep)&&(k.deep=!Af(k)),wo(k.split)&&(k.split=!Af(k)||Zl(k)),wo(k.remove)&&Af(k)&&!Zl(k)&&(k.remove="none"),Af(k)&&Zl(k)&&(k.mixed=!0,k.block_expand=!0),At(k.classes)&&(k.classes=k.classes.split(/\s+/))}),t[u]=h):jo(u,(k,N)=>{a(N,k)}))},c=u=>(u&&t[u]&&delete t[u],t);return a(rL(e)),a(YN()),a(j2(e)),{get:n,has:r,register:a,unregister:c}},Nx=Ut.each,Mf=us.DOM,j4=e=>Je(e)&&Te(e),j_=(e,t)=>{const n=t&&t.schema||Zu({}),r=(k,N)=>{N.classes.length>0&&Mf.addClass(k,N.classes.join(" ")),Mf.setAttribs(k,N.attrs)},a=k=>{const N=At(k)?{name:k,classes:[],attrs:{}}:k,U=Mf.create(N.name);return r(U,N),U},c=(k,N)=>{const U=n.getElementRule(k.nodeName.toLowerCase()),Z=U==null?void 0:U.parentsRequired;return Z&&Z.length?N&&_o(Z,N)?N:Z[0]:!1},u=(k,N,U)=>{let Z;const K=N[0],le=j4(K)?K.name:void 0,ve=c(k,le);if(ve)le===ve?(Z=K,N=N.slice(1)):Z=ve;else if(K)Z=K,N=N.slice(1);else if(!U)return k;const ie=Z?a(Z):Mf.create("div");ie.appendChild(k),U&&Ut.each(U,Be=>{const Fe=a(Be);ie.insertBefore(Fe,k)});const we=j4(Z)?Z.siblings:void 0;return u(ie,N,we)},h=Mf.create("div");if(e.length>0){const k=e[0],N=a(k),U=j4(k)?k.siblings:void 0;h.appendChild(u(N,e.slice(1),U))}return h},Z_=e=>{e=Ut.trim(e);let t="div";const n={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,a,c,u,h)=>{switch(a){case"#":n.attrs.id=c;break;case".":n.classes.push(c);break;case":":Ut.inArray("checked disabled enabled read-only required".split(" "),c)!==-1&&(n.attrs[c]=c);break}if(u==="["){const k=h.match(/([\w\-]+)(?:\=\"([^\"]+))?/);k&&(n.attrs[k[1]]=k[2])}return""})),n.name=t||"div",n},W_=e=>At(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Ut.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const n=Ut.map(t.split(/(?:~\+|~|\+)/),Z_),r=n.pop();return n.length&&(r.siblings=n),r}).reverse()):[],Sh=(e,t)=>{let n="",r=Tp(e);if(r==="")return"";const a=K=>At(K)?K.replace(/%(\w+)/g,""):"",c=(K,le)=>Mf.getStyle(le??e.getBody(),K,!0);if(At(t)){const K=e.formatter.get(t);if(!K)return"";t=K[0]}if("preview"in t){const K=t.preview;if(K===!1)return"";r=K||r}let u=t.block||t.inline||"span",h;const k=W_(t.selector);k.length>0?(k[0].name||(k[0].name=u),u=t.selector,h=j_(k,e)):h=j_([u],e);const N=Mf.select(u,h)[0]||h.firstChild;Nx(t.styles,(K,le)=>{const ve=a(K);ve&&Mf.setStyle(N,le,ve)}),Nx(t.attributes,(K,le)=>{const ve=a(K);ve&&Mf.setAttrib(N,le,ve)}),Nx(t.classes,K=>{const le=a(K);Mf.hasClass(N,le)||Mf.addClass(N,le)}),e.dispatch("PreviewFormats"),Mf.setStyles(h,{position:"absolute",left:-65535}),e.getBody().appendChild(h);const U=c("fontSize"),Z=/px$/.test(U)?parseInt(U,10):0;return Nx(r.split(" "),K=>{let le=c(K,N);if(!(K==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(le)&&(le=c(K),Vl(le).toLowerCase()==="#ffffff"))&&!(K==="color"&&Vl(le).toLowerCase()==="#000000")){if(K==="font-size"&&/em|%$/.test(le)){if(Z===0)return;le=parseFloat(le)/(/%$/.test(le)?100:1)*Z+"px"}K==="border"&&le&&(n+="padding:0 2px;"),n+=K+":"+le+";"}}),e.dispatch("AfterPreviewFormats"),Mf.remove(h),n},$_=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},m0=e=>{const t=XN(e),n=qa({});return $_(e),a0(e),tp(e)||TM(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(r,a,c)=>{z6(e,r,a,c)},remove:(r,a,c,u)=>{O6(e,r,a,c,u)},toggle:(r,a,c)=>{A6(e,r,a,c)},match:(r,a,c,u)=>_6(e,r,a,c,u),closest:r=>T6(e,r),matchAll:(r,a)=>C6(e,r,a),matchNode:(r,a,c,u)=>S6(e,r,a,c,u),canApply:r=>E6(e,r),formatChanged:(r,a,c,u)=>N6(e,n,r,a,c,u),getCssText:zt(Sh,e)}},Z4=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},JN=(e,t,n)=>{const r=qa(!1),a=k=>{Mp(t,!1,n),t.add({},k)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",k=>{const N=k.command;Z4(N)||(WA(t,n),t.beforeChange())}),e.on("ExecCommand",k=>{const N=k.command;Z4(N)||a(k)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",a),e.on("dragend",a),e.on("keyup",k=>{const N=k.keyCode;if(k.isDefaultPrevented())return;const U=Qo.os.isMacOS()&&k.key==="Meta";(N>=33&&N<=36||N>=37&&N<=40||N===45||k.ctrlKey||U)&&(a(),e.nodeChanged()),(N===46||N===8)&&e.nodeChanged(),r.get()&&t.typing&&!kx(N_(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",k=>{const N=k.keyCode;if(k.isDefaultPrevented())return;if(N>=33&&N<=36||N>=37&&N<=40||N===45){t.typing&&a(k);return}const U=k.ctrlKey&&!k.altKey||k.metaKey;if((N<16||N>20)&&N!==224&&N!==91&&!t.typing&&!U){t.beforeChange(),Mp(t,!0,n),t.add({},k),r.set(!0);return}(Qo.os.isMacOS()?k.metaKey:k.ctrlKey&&!k.altKey)&&t.beforeChange()}),e.on("mousedown",k=>{t.typing&&a(k)});const c=k=>k.inputType==="insertReplacementText",u=k=>k.inputType==="insertText"&&k.data===null,h=k=>k.inputType==="insertFromPaste"||k.inputType==="insertFromDrop";e.on("input",k=>{k.inputType&&(c(k)||u(k)||h(k))&&a(k)}),e.on("AddUndo Undo Redo ClearUndos",k=>{k.isDefaultPrevented()||e.nodeChanged()})},W4=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},Dx=e=>{const t=$u(),n=qa(0),r=qa(0),a={data:[],typing:!1,beforeChange:()=>{y6(e,n,t)},add:(c,u)=>eN(e,a,r,n,t,c,u),dispatchChange:()=>{e.setDirty(!0);const c=N_(e);c.bookmark=xe(e.selection),e.dispatch("change",{level:c,lastLevel:ua(a.data,r.get()).getOrUndefined()})},undo:()=>tN(e,a,n,r),redo:()=>v6(e,r,a.data),clear:()=>{x6(e,a,r)},reset:()=>{Dv(e,a)},hasUndo:()=>w6(e,a,r),hasRedo:()=>k6(e,a,r),transact:c=>nN(e,a,n,c),ignore:c=>{oN(e,n,c)},extra:(c,u)=>{L_(e,a,r,c,u)}};return tp(e)||JN(e,a,n),W4(e),a},ey=[9,27,vn.HOME,vn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,vn.DOWN,vn.UP,vn.LEFT,vn.RIGHT].concat(Qo.browser.isFirefox()?[224]:[]),ty="data-mce-placeholder",$4=e=>e.type==="keydown"||e.type==="keyup",QN=e=>{const t=e.keyCode;return t===vn.BACKSPACE||t===vn.DELETE},eD=e=>{if($4(e)){const t=e.keyCode;return!QN(e)&&(vn.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||_o(ey,t))}else return!1},sL=e=>$4(e)&&!(QN(e)||e.type==="keyup"&&e.keyCode===229),aL=(e,t,n)=>{if(qr(ye.fromDom(t),!1)){const r=t.firstElementChild;return r?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:n===r.nodeName.toLowerCase():!0}else return!1},iL=e=>{var t;const n=e.dom,r=oi(e),a=(t=l1(e))!==null&&t!==void 0?t:"",c=(u,h)=>{if(eD(u))return;const k=e.getBody(),N=sL(u)?!1:aL(n,k,r);(n.getAttrib(k,ty)!==""!==N||h)&&(n.setAttrib(k,ty,N?a:null),n.setAttrib(k,"aria-placeholder",N?a:null),Yw(e,N),e.on(N?"keydown":"keyup",c),e.off(N?"keyup":"keydown",c))};za(a)&&e.on("init",u=>{c(u,!0),e.on("change SetContent ExecCommand",c),e.on("paste",h=>od.setEditorTimeout(e,()=>c(h)))})},q4=(e,t)=>({block:e,position:t}),tD=(e,t)=>({from:e,to:t}),G4=(e,t)=>{const n=ye.fromDom(e),r=ye.fromDom(t.container());return vv(n,r).map(a=>q4(a,t))},nD=e=>!Pe(e.from.block,e.to.block),oD=(e,t)=>at(t,a=>mf(a)||tc(a.dom),a=>Pe(a,e)).filter($i).getOr(e),K4=(e,t)=>{const n=ye.fromDom(e);return Pe(oD(n,t.from.block),oD(n,t.to.block))},lL=e=>$r(e.from.block.dom)===!1&&$r(e.to.block.dom)===!1,rD=e=>{const t=n=>qf(n)||hp(n.dom);return t(e.from.block)&&t(e.to.block)},Y4=(e,t,n)=>ss(n.position.getNode())&&!qr(n.block)?Uy(!1,n.block.dom).bind(r=>r.isEqual(n.position)?Tf(t,e,r).bind(a=>G4(e,a)):Y.some(n)).getOr(n):n,sD=(e,t,n)=>{const r=G4(e,ot.fromRangeStart(n)),a=r.bind(c=>Tf(t,e,c.position).bind(u=>G4(e,u).map(h=>Y4(e,t,h))));return Jr(r,a,tD).filter(c=>nD(c)&&K4(e,c)&&lL(c)&&rD(c))},X4=(e,t,n)=>n.collapsed?sD(e,t,n):Y.none(),cL=(e,t)=>{const n=Br(e);return Ta(n,r=>t.isBlock(Co(r))).fold(ft(n),r=>n.slice(0,r))},J4=(e,t)=>{const n=cL(e,t);return ut(n,lr),n},aD=(e,t)=>{const n=Ap(t,e);return mo(n.reverse(),r=>qr(r)).each(lr)},iD=e=>dt(Wp(e),t=>!qr(t)).length===0,lD=(e,t,n,r,a)=>{if(qr(n))return pf(n),ed(n.dom);iD(a)&&qr(t)&&Ms(a,ye.fromTag("br"));const c=Ku(n.dom,ot.before(a.dom));return ut(J4(t,r),u=>{Ms(a,u)}),aD(e,t),c},dL=(e,t)=>e.isInline(Co(t)),uL=(e,t,n,r)=>{if(qr(n)){if(qr(t)){const u=wn((h=>{const k=(N,U)=>Zr(N).fold(()=>U,Z=>dL(r,Z)?k(Z,U.concat(im(Z))):U);return k(h,[])})(n),(h,k)=>(Wf(h,k),k),Sm());mi(t),Mr(t,u)}return lr(n),ed(t.dom)}const a=Gm(n.dom);return ut(J4(t,r),c=>{Mr(n,c)}),aD(e,t),a},fL=(e,t)=>{const n=Ap(t,e);return Y.from(n[n.length-1])},mL=(e,t)=>Dt(t,e)?fL(t,e):Y.none(),cD=(e,t)=>{Uy(e,t.dom).bind(n=>Y.from(n.getNode())).map(ye.fromDom).filter(Ki).each(lr)},ny=(e,t,n,r)=>(cD(!0,t),cD(!1,n),mL(t,n).fold(zt(uL,e,t,n,r),zt(lD,e,t,n,r))),Q4=(e,t,n,r,a)=>t?ny(e,r,n,a):ny(e,n,r,a),q_=(e,t)=>{const n=ye.fromDom(e.getBody());return X4(n.dom,t,e.selection.getRng()).map(a=>()=>{Q4(n,t,a.from.block,a.to.block,e.schema).each(c=>{e.selection.setRng(c.toRange())})})},dD=(e,t,n)=>{const r=t.getRng();return Jr(vv(e,ye.fromDom(r.startContainer)),vv(e,ye.fromDom(r.endContainer)),(a,c)=>Pe(a,c)?Y.none():Y.some(()=>{r.deleteContents(),Q4(e,!0,a,c,n).each(u=>{t.setRng(u.toRange())})})).getOr(Y.none())},uD=(e,t)=>{const n=ye.fromDom(t),r=zt(Pe,e);return ei(n,mf,r).isSome()},pL=(e,t)=>uD(e,t.startContainer)||uD(e,t.endContainer),oy=(e,t)=>{const n=Ku(e.dom,ot.fromRangeStart(t)).isNone(),r=uu(e.dom,ot.fromRangeEnd(t)).isNone();return!pL(e,t)&&n&&r},fD=e=>Y.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),G_=e=>{const t=ye.fromDom(e.getBody()),n=e.selection.getRng();return oy(t,n)?fD(e):dD(t,e.selection,e.schema)},eT=(e,t)=>e.selection.isCollapsed()?Y.none():G_(e),Og=(e,t,n,r,a)=>Y.from(t._selectionOverrides.showCaret(e,n,r,a)),gL=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},Rx=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?Y.none():Y.some(gL(t)),tT=(e,t,n)=>{const r=Qt(1,e.getBody(),t),a=ot.fromRangeStart(r),c=a.getNode();if(Sb(c))return Og(1,e,c,!a.isAtEnd(),!1);const u=a.getNode(!0);if(Sb(u))return Og(1,e,u,!1,!1);const h=_h(e.dom.getRoot(),a.getNode());return Sb(h)?Og(1,e,h,!1,n):Y.none()},nT=(e,t,n)=>t.collapsed?tT(e,t,n).getOr(t):t,pl=e=>xh(e)||gv(e),hL=e=>wh(e)||hv(e),bL=(e,t)=>{Nt(t)&&t.data.length===0&&e.remove(t)},K_=(e,t,n,r,a,c)=>{Og(r,e,c.getNode(!a),a,!0).each(u=>{if(t.collapsed){const h=t.cloneRange();a?h.setEnd(u.startContainer,u.startOffset):h.setStart(u.endContainer,u.endOffset),h.deleteContents()}else t.deleteContents();e.selection.setRng(u)}),bL(e.dom,n)},mD=(e,t)=>{const n=e.selection.getRng();if(!Nt(n.commonAncestorContainer))return Y.none();const r=t?ya.Forwards:ya.Backwards,a=bg(e.getBody()),c=zt(el,t?a.next:a.prev),u=t?pl:hL,h=Cc(r,e.getBody(),n),k=c(h),N=k&&Md(t,k);if(!N||!Pc(h,N))return Y.none();if(u(N))return Y.some(()=>K_(e,n,h.getNode(),r,t,N));const U=c(N);return U&&u(U)&&Pc(N,U)?Y.some(()=>K_(e,n,h.getNode(),r,t,U)):Y.none()},Bx=(e,t)=>mD(e,t),oT=(e,t)=>{const n=e.getBody();return t?ed(n).filter(xh):Gm(n).filter(wh)},rT=e=>{const t=e.selection.getRng();return!t.collapsed&&(oT(e,!0).exists(n=>n.isEqual(ot.fromRangeStart(t)))||oT(e,!1).exists(n=>n.isEqual(ot.fromRangeEnd(t))))},yL=e=>Je(e)&&(mf(ye.fromDom(e))||Fu(ye.fromDom(e))),Lf=He.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),vL=(e,t)=>{const n=t.getNode(!e),r=e?"after":"before";return kn(n)&&n.getAttribute("data-mce-caret")===r},xL=(e,t,n,r,a)=>{const c=u=>a.isInline(u.nodeName.toLowerCase())&&!Yt(n,r,e);return ms(!t,n).fold(()=>ms(t,r).fold(Pn,c),c)},pD=(e,t,n,r)=>{const a=r.getNode(!t);return vv(ye.fromDom(e),ye.fromDom(n.getNode())).map(c=>qr(c)?Lf.remove(c.dom):Lf.moveToElement(a)).orThunk(()=>Y.some(Lf.moveToElement(a)))},p0=(e,t,n,r)=>Tf(t,e,n).bind(a=>yL(a.getNode())||xL(e,t,n,a,r)?Y.none():t&&$r(a.getNode())||!t&&$r(a.getNode(!0))?pD(e,t,n,a):t&&wh(n)||!t&&xh(n)?Y.some(Lf.moveToPosition(a)):Y.none()),Lp=(e,t)=>Zn(t)?Y.none():e&&$r(t.nextSibling)?Y.some(Lf.moveToElement(t.nextSibling)):!e&&$r(t.previousSibling)?Y.some(Lf.moveToElement(t.previousSibling)):Y.none(),wL=(e,t,n)=>n.fold(r=>Y.some(Lf.remove(r)),r=>Y.some(Lf.moveToElement(r)),r=>Yt(t,r,e)?Y.none():Y.some(Lf.moveToPosition(r))),kL=(e,t,n,r)=>vL(t,n)?Lp(t,n.getNode(!t)).orThunk(()=>p0(e,t,n,r)):p0(e,t,n,r).bind(a=>wL(e,n,a)),_L=(e,t,n,r)=>{const a=Qt(t?1:-1,e,n),c=ot.fromRangeStart(a),u=ye.fromDom(e);return!t&&wh(c)?Y.some(Lf.remove(c.getNode(!0))):t&&xh(c)?Y.some(Lf.remove(c.getNode())):!t&&xh(c)&&FS(u,c,r)?Dz(u,c,r).map(h=>Lf.remove(h.getNode())):t&&wh(c)&&IS(u,c,r)?OB(u,c,r).map(h=>Lf.remove(h.getNode())):kL(e,t,c,r)},CL=(e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),Bd(e,t,ye.fromDom(n)),!0),SL=(e,t)=>n=>{const r=t?ot.before(n):ot.after(n);return e.selection.setRng(r.toRange()),!0},EL=e=>t=>(e.selection.setRng(t.toRange()),!0),gD=(e,t)=>Y.from(_h(e.getBody(),t)),TL=(e,t)=>{const n=e.selection.getNode();return gD(e,n).filter($r).fold(()=>_L(e.getBody(),t,e.selection.getRng(),e.schema).map(r=>()=>r.fold(CL(e,t),SL(e,t),EL(e))),()=>Y.some(bt))},zL=e=>{ut(zi(e,".mce-offscreen-selection"),lr)},OL=(e,t)=>{const n=e.selection.getNode();return $r(n)&&!uf(n)?gD(e,n.parentNode).filter($r).fold(()=>Y.some(()=>{zL(ye.fromDom(e.getBody())),Bd(e,t,ye.fromDom(e.selection.getNode())),G1(e)}),()=>Y.some(bt)):rT(e)?Y.some(()=>{Kz(e,e.selection.getRng(),ye.fromDom(e.getBody()))}):Y.none()},hD=e=>{const t=e.dom,n=e.selection,r=_h(e.getBody(),n.getNode());if(tc(r)&&t.isBlock(r)&&t.isEmpty(r)){const a=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(a),n.setRng(ot.before(a).toRange())}return!0},sT=(e,t)=>e.selection.isCollapsed()?TL(e,t):OL(e,t),AL=(e,t)=>{const n=ot.fromRangeStart(e.selection.getRng());return Tf(t,e.getBody(),n).filter(r=>t?DS(r):Tz(r)).bind(r=>fn(t?0:-1,r)).map(r=>()=>e.selection.select(r))},aT=(e,t)=>e.selection.isCollapsed()?AL(e,t):Y.none(),Lv=Nt,bD=e=>Lv(e)&&e.data[0]===C,yD=e=>Lv(e)&&e.data[e.data.length-1]===C,vD=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(C)},NL=e=>{var t;if(Lv(e.previousSibling))return yD(e.previousSibling)||e.previousSibling.appendData(C),e.previousSibling;if(Lv(e))return bD(e)||e.insertData(0,C),e;{const n=vD(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(n,e),n}},DL=e=>{var t,n;if(Lv(e.nextSibling))return bD(e.nextSibling)||e.nextSibling.insertData(0,C),e.nextSibling;if(Lv(e))return yD(e)||e.appendData(C),e;{const r=vD(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(r,e.nextSibling):(n=e.parentNode)===null||n===void 0||n.appendChild(r),r}},Y_=(e,t)=>e?NL(t):DL(t),RL=zt(Y_,!0),BL=zt(Y_,!1),xD=(e,t)=>Nt(e.container())?Y_(t,e.container()):Y_(t,e.getNode()),wD=(e,t)=>{const n=t.get();return n&&e.container()===n&&rn(n)},iT=(e,t)=>t.fold(n=>{qm(e.get());const r=RL(n);return e.set(r),Y.some(ot(r,r.length-1))},n=>ed(n).map(r=>{if(wD(r,e)){const a=e.get();return ot(a,1)}else{qm(e.get());const a=xD(r,!0);return e.set(a),ot(a,1)}}),n=>Gm(n).map(r=>{if(wD(r,e)){const a=e.get();return ot(a,a.length-1)}else{qm(e.get());const a=xD(r,!1);return e.set(a),ot(a,a.length-1)}}),n=>{qm(e.get());const r=BL(n);return e.set(r),Y.some(ot(r,1))}),kD=(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n].apply(null,t);if(r.isSome())return r}return Y.none()},Pd=He.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),_D=(e,t)=>{const n=Xt(t,e);return n||e},ML=(e,t,n)=>{const r=Gz(n),a=_D(t,r.container());return Ub(e,a,r).fold(()=>uu(a,r).bind(zt(Ub,e,a)).map(c=>Pd.before(c)),Y.none)},LL=(e,t)=>ph(e,t)===null,lT=(e,t,n)=>Ub(e,t,n).filter(zt(LL,t)),PL=(e,t,n)=>{const r=XS(n);return lT(e,t,r).bind(a=>Ku(a,r).isNone()?Y.some(Pd.start(a)):Y.none())},IL=(e,t,n)=>{const r=Gz(n);return lT(e,t,r).bind(a=>uu(a,r).isNone()?Y.some(Pd.end(a)):Y.none())},FL=(e,t,n)=>{const r=XS(n),a=_D(t,r.container());return Ub(e,a,r).fold(()=>Ku(a,r).bind(zt(Ub,e,a)).map(c=>Pd.after(c)),Y.none)},CD=e=>!Lr(cT(e)),Ag=(e,t,n)=>kD([ML,PL,IL,FL],[e,t,n]).filter(CD),cT=e=>e.fold(Mn,Mn,Mn,Mn),SD=e=>e.fold(ft("before"),ft("start"),ft("end"),ft("after")),X_=e=>e.fold(Pd.before,Pd.before,Pd.after,Pd.after),J_=e=>e.fold(Pd.start,Pd.start,Pd.end,Pd.end),VL=(e,t)=>SD(e)===SD(t)&&cT(e)===cT(t),HL=(e,t,n,r,a,c)=>Jr(Ub(t,n,r),Ub(t,n,a),(u,h)=>u!==h&&Sa(n,u,h)?Pd.after(e?u:h):c).getOr(c),UL=(e,t)=>e.fold(Do,n=>!VL(n,t)),jL=(e,t,n,r,a)=>{const c=Md(e,a);return Tf(e,n,c).map(zt(Md,e)).fold(()=>r.map(X_),k=>Ag(t,n,k).map(zt(HL,e,t,n,c,k)).filter(zt(UL,r))).filter(CD)},ZL=(e,t)=>e?t.fold(pn(Y.some,Pd.start),Y.none,pn(Y.some,Pd.after),Y.none):t.fold(Y.none,pn(Y.some,Pd.before),Y.none,pn(Y.some,Pd.end)),WL=(e,t,n,r)=>{const a=Md(e,r),c=Ag(t,n,a);return Ag(t,n,a).bind(zt(ZL,e)).orThunk(()=>jL(e,t,n,c,r))},$L=e=>un(e.selection.getSel().modify),ED=(e,t,n)=>{const r=e?1:-1;return t.setRng(ot(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},TD=(e,t)=>{const n=t.selection.getRng(),r=e?ot.fromRangeEnd(n):ot.fromRangeStart(n);return $L(t)?e&&ko(r)?ED(!0,t.selection,r):!e&&cr(r)?ED(!1,t.selection,r):!1:!1};var Pp;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Pp||(Pp={}));const Q_=(e,t)=>e===ya.Backwards?va(t):t,zD=(e,t,n)=>e===ya.Forwards?t.next(n):t.prev(n),qL=(e,t,n,r)=>ss(r.getNode(t===ya.Forwards))?Pp.Br:Yt(n,r)===!1?Pp.Block:Pp.Wrap,OD=(e,t,n,r)=>{const a=bg(n);let c=r;const u=[];for(;c;){const h=zD(t,a,c);if(!h)break;if(ss(h.getNode(!1)))return t===ya.Forwards?{positions:Q_(t,u).concat([h]),breakType:Pp.Br,breakAt:Y.some(h)}:{positions:Q_(t,u),breakType:Pp.Br,breakAt:Y.some(h)};if(!h.isVisible()){c=h;continue}if(e(c,h)){const k=qL(n,t,c,h);return{positions:Q_(t,u),breakType:k,breakAt:Y.some(h)}}u.push(h),c=h}return{positions:Q_(t,u),breakType:Pp.Eol,breakAt:Y.none()}},AD=(e,t,n,r)=>t(n,r).breakAt.map(a=>{const c=t(n,a).positions;return e===ya.Backwards?c.concat(a):[a].concat(c)}).getOr([]),dT=(e,t)=>lo(e,(n,r)=>n.fold(()=>Y.some(r),a=>Jr(oo(a.getClientRects()),oo(r.getClientRects()),(c,u)=>{const h=Math.abs(t-c.left);return Math.abs(t-u.left)<=h?r:a}).or(n)),Y.none()),e2=(e,t)=>oo(t.getClientRects()).bind(n=>dT(e,n.left)),Mx=zt(OD,ot.isAbove,-1),g0=zt(OD,ot.isBelow,1),t2=zt(AD,-1,Mx),ND=zt(AD,1,g0),uT=(e,t)=>Mx(e,t).breakAt.isNone(),DD=(e,t)=>g0(e,t).breakAt.isNone(),GL=e=>ed(e).map(t=>[t].concat(g0(e,t).positions)).getOr([]),KL=e=>Gm(e).map(t=>Mx(e,t).positions.concat(t)).getOr([]),YL=(e,t)=>e2(t2(e,t),t),XL=(e,t)=>e2(ND(e,t),t),JL=$r,RD=(e,t)=>Math.abs(e.left-t),BD=(e,t)=>Math.abs(e.right-t),fT=e=>Hi(e,"node"),MD=(e,t)=>fc(e,(n,r)=>{const a=Math.min(RD(n,t),BD(n,t)),c=Math.min(RD(r,t),BD(r,t));return c===a&&fT(r)&&JL(r.node)||c<a?r:n}),QL=e=>{const t=n=>no(n,r=>{const a=qu(r);return a.node=e,a});if(kn(e))return t(e.getClientRects());if(Nt(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}else return[]},LD=e=>go(e,QL);var Pv;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Pv||(Pv={}));const h0=(e,t,n,r)=>{let a=r;for(;a=je(a,e,Yi,t);)if(n(a))return},PD=(e,t,n,r,a,c)=>{let u=0;const h=[],k=Z=>{let K=LD([Z]);e===-1&&(K=K.reverse());for(let le=0;le<K.length;le++){const ve=K[le];if(!n(ve,N)){if(h.length>0&&t(ve,Qs(h))&&u++,ve.line=u,a(ve))return!0;h.push(ve)}}return!1},N=Qs(c.getClientRects());if(!N)return h;const U=c.getNode();return U&&(k(U),h0(e,r,k,U)),h},eP=(e,t)=>t.line>e,tP=(e,t)=>t.line===e,ef=zt(PD,Pv.Up,Vm,Cp),ID=zt(PD,Pv.Down,Cp,Vm),FD=e=>Qs(e.getClientRects()),nP=(e,t,n,r)=>{const a=bg(t);let c,u,h,k;const N=[];let U=0;e===1?(c=a.next,u=Cp,h=Vm,k=ot.after(r)):(c=a.prev,u=Vm,h=Cp,k=ot.before(r));const Z=FD(k);do{if(!k.isVisible())continue;const K=FD(k);if(h(K,Z))continue;N.length>0&&u(K,Qs(N))&&U++;const le=qu(K);if(le.position=k,le.line=U,n(le))return N;N.push(le)}while(k=c(k));return N},VD=e=>t=>eP(e,t),mT=e=>t=>tP(e,t),Eh=(e,t)=>{e.selection.setRng(t),iv(e,e.selection.getRng())},n2=(e,t,n)=>Y.some(nT(e,t,n)),HD=(e,t,n,r,a,c)=>{const u=t===ya.Forwards,h=bg(e.getBody()),k=zt(el,u?h.next:h.prev),N=u?r:a;if(!n.collapsed){const ve=Gu(n);if(c(ve))return Og(t,e,ve,t===ya.Backwards,!1);if(rT(e)){const ie=n.cloneRange();return ie.collapse(t===ya.Backwards),Y.from(ie)}}const U=Cc(t,e.getBody(),n);if(N(U))return Rx(e,U.getNode(!u));let Z=k(U);const K=gf(n);if(Z)Z=Md(u,Z);else return K?Y.some(n):Y.none();if(N(Z))return Og(t,e,Z.getNode(!u),u,!1);const le=k(Z);return le&&N(le)&&Pc(Z,le)?Og(t,e,le.getNode(!u),u,!1):K?n2(e,Z.toRange(),!1):Y.none()},UD=(e,t,n,r,a,c)=>{const u=Cc(t,e.getBody(),n),h=Qs(u.getClientRects()),k=t===Pv.Down,N=e.getBody();if(!h)return Y.none();if(rT(e)){const we=k?ot.fromRangeEnd(n):ot.fromRangeStart(n);return(k?XL:YL)(N,we).orThunk(()=>Y.from(we)).map(Fe=>Fe.toRange())}const Z=(k?ID:ef)(N,VD(1),u),K=dt(Z,mT(1)),le=h.left,ve=MD(K,le);if(ve&&c(ve.node)){const we=Math.abs(le-ve.left),Be=Math.abs(le-ve.right);return Og(t,e,ve.node,we<Be,!1)}let ie;if(r(u)?ie=u.getNode():a(u)?ie=u.getNode(!0):ie=Gu(n),ie){const we=nP(t,N,VD(1),ie);let Be=MD(dt(we,mT(1)),le);if(Be||(Be=Qs(dt(we,mT(0))),Be))return n2(e,Be.position.toRange(),!1)}return K.length===0?pT(e,k).filter(k?a:r).map(we=>nT(e,we.toRange(),!1)):Y.none()},pT=(e,t)=>{const n=e.selection.getRng(),r=t?ot.fromRangeEnd(n):ot.fromRangeStart(n),a=rt(r.container(),e.getBody());if(t){const c=g0(a,r);return dn(c.positions)}else{const c=Mx(a,r);return oo(c.positions)}},jD=(e,t,n)=>pT(e,t).filter(n).exists(r=>(e.selection.setRng(r.toRange()),!0)),o2=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},b0=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},gT=(e,t,n)=>iT(t,n).map(r=>(o2(e,r),n)),r2=(e,t,n)=>{const r=ot.fromRangeStart(e);if(e.collapsed)return r;{const a=ot.fromRangeEnd(e);return n?Ku(t,a).getOr(a):uu(t,r).getOr(r)}},hT=(e,t,n)=>{const r=e.getBody(),a=r2(e.selection.getRng(),r,n),c=zt(Qy,e);return WL(n,c,r,a).bind(h=>gT(e,t,h))},ZD=(e,t,n)=>{const r=no(zi(ye.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),u=>u.dom),a=dt(r,e),c=dt(n,e);ut(Ur(a,c),zt(b0,!1)),ut(Ur(c,a),zt(b0,!0))},WD=(e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const r=ot.fromRangeStart(e.selection.getRng());ot.isTextPosition(r)&&!HB(r)&&(o2(e,oC(n,r)),t.set(null))}},oP=(e,t,n,r)=>{if(t.selection.isCollapsed()){const a=dt(r,e);ut(a,c=>{const u=ot.fromRangeStart(t.selection.getRng());Ag(e,t.getBody(),u).bind(h=>gT(t,n,h))})}},bT=(e,t,n)=>dr(e)?hT(e,t,n).isSome():!1,$D=(e,t,n)=>dr(t)?TD(e,t):!1,qD=e=>{const t=qa(null),n=zt(Qy,e);return e.on("NodeChange",r=>{dr(e)&&(ZD(n,e.dom,r.parents),WD(e,t),oP(n,e,t,r.parents))}),t},GD=zt($D,!0),KD=zt($D,!1),Lx=(e,t,n)=>{if(dr(e)){const r=pT(e,t).getOrThunk(()=>{const a=e.selection.getRng();return t?ot.fromRangeEnd(a):ot.fromRangeStart(a)});return Ag(zt(Qy,e),e.getBody(),r).exists(a=>{const c=X_(a);return iT(n,c).exists(u=>(o2(e,u),!0))})}else return!1},YD=(e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},XD=e=>Jr(ed(e),Gm(e),(t,n)=>{const r=Md(!0,t),a=Md(!1,n);return uu(e,r).forall(c=>c.isEqual(a))}).getOr(!0),s2=(e,t)=>n=>iT(t,n).map(r=>()=>o2(e,r)),yT=(e,t,n,r)=>{const a=e.getBody(),c=zt(Qy,e);e.undoManager.ignore(()=>{e.selection.setRng(YD(n,r)),e0(e),Ag(c,a,ot.fromRangeStart(e.selection.getRng())).map(J_).bind(s2(e,t)).each(Js)}),e.nodeChanged()},JD=(e,t)=>{const n=Xt(t,e);return n||e},QD=(e,t,n,r)=>{const a=JD(e.getBody(),r.container()),c=zt(Qy,e),u=Ag(c,a,r);return u.bind(k=>n?k.fold(ft(Y.some(J_(k))),Y.none,ft(Y.some(X_(k))),Y.none):k.fold(Y.none,ft(Y.some(X_(k))),Y.none,ft(Y.some(J_(k))))).map(s2(e,t)).getOrThunk(()=>{const k=Hy(n,a,r),N=k.bind(U=>Ag(c,a,U));return Jr(u,N,()=>Ub(c,a,r).bind(U=>XD(U)?Y.some(()=>{Bd(e,n,ye.fromDom(U))}):Y.none())).getOrThunk(()=>N.bind(()=>k.map(U=>()=>{n?yT(e,t,r,U):yT(e,t,U,r)})))})},a2=(e,t,n)=>{if(e.selection.isCollapsed()&&dr(e)){const r=ot.fromRangeStart(e.selection.getRng());return QD(e,t,n,r)}return Y.none()},eR=e=>Nc(e)>1,vT=(e,t)=>{const n=ye.fromDom(e.getBody()),r=ye.fromDom(e.selection.getStart()),a=Ap(r,n);return Ta(a,t).fold(ft(a),c=>a.slice(0,c))},tR=e=>Nc(e)===1,xT=e=>vT(e,t=>e.schema.isBlock(Co(t))||eR(t)),wT=e=>vT(e,t=>e.schema.isBlock(Co(t))),Px=(e,t)=>{const n=zt(Yk,e);return go(t,r=>n(r)?[r.dom]:[])},kT=e=>{const t=wT(e);return Px(e,t)},nR=(e,t,n,r)=>{const a=Px(t,r);if(a.length===0)Bd(t,e,n);else{const c=Kk(n.dom,a);t.selection.setRng(c.toRange())}},oR=(e,t)=>{const n=dt(xT(e),tR);return dn(n).bind(r=>{const a=ot.fromRangeStart(e.selection.getRng());return JS(t,a,r.dom)&&!fu(r)?Y.some(()=>nR(t,e,r,n)):Y.none()})},_T=(e,t)=>{const n=t.parentElement;return ss(t)&&!qe(n)&&e.dom.isEmpty(n)},rR=e=>fu(ye.fromDom(e)),CT=(e,t)=>{const n=e.selection.getStart(),r=_T(e,n)||rR(n)?Kk(n,t):NO(e.selection.getRng(),t);e.selection.setRng(r.toRange())},sR=(e,t)=>{const n=Ur(t,kT(e));n.length>0&&CT(e,n)},aR=e=>Nt(e.startContainer),iR=e=>e.startOffset===0&&aR(e),lR=(e,t)=>{const n=t.startContainer.parentElement;return!qe(n)&&Yk(e,ye.fromDom(n))},cR=e=>{const t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!qe(t)&&!qe(n)&&t.isEqualNode(n)},dR=e=>{const t=e.endContainer;return e.endOffset===(Nt(t)?t.length:t.childNodes.length)},uR=e=>cR(e)&&dR(e),ST=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),rP=e=>uR(e)||ST(e),fR=e=>{const t=e.selection.getRng();return iR(t)&&lR(e,t)&&rP(t)},sP=e=>{if(fR(e)){const t=kT(e);return Y.some(()=>{e0(e),sR(e,t)})}else return Y.none()},i2=(e,t)=>e.selection.isCollapsed()?oR(e,t):sP(e),mR=(e,t)=>UB(e,n=>Yu(n.dom),n=>t.isBlock(Co(n))),aP=e=>mR(ye.fromDom(e.selection.getStart()),e.schema),iP=e=>{const t=e.selection.getRng();return t.collapsed&&(aR(t)||e.dom.isEmpty(t.startContainer))&&!aP(e)},o=e=>(iP(e)&&CT(e,[]),!0),s=(e,t,n)=>Je(n)?Y.some(()=>{e._selectionOverrides.hideFakeCaret(),Bd(e,t,ye.fromDom(n))}):Y.none(),i=(e,t)=>{const n=t?gv:hv,r=t?ya.Forwards:ya.Backwards,a=Cc(r,e.getBody(),e.selection.getRng());return n(a)?s(e,t,a.getNode(!t)):Y.from(Md(t,a)).filter(c=>n(c)&&Pc(a,c)).bind(c=>s(e,t,c.getNode(!t)))},l=(e,t)=>{const n=e.selection.getNode();return gn(n)?s(e,t,n):Y.none()},f=(e,t)=>e.selection.isCollapsed()?i(e,t):l(e,t),m=e=>at(e,t=>tc(t.dom)||$r(t.dom)).exists(t=>tc(t.dom)),b=e=>Fs(e??"").getOr(0),x=(e,t)=>{const n=e||Cm(t)?"margin":"padding",r=Wa(t,"direction")==="rtl"?"-right":"-left";return n+r},w=(e,t,n,r,a,c)=>{const u=x(n,ye.fromDom(c)),h=b(e.getStyle(c,u));if(t==="outdent"){const k=Math.max(0,h-r);e.setStyle(c,u,k?k+a:"")}else{const k=h+r+a;e.setStyle(c,u,k)}},E=(e,t)=>Os(t,n=>{const r=x(B0(e),n),a=Ue(n,r).map(b).getOr(0);return e.dom.getContentEditable(n.dom)!=="false"&&a>0}),O=e=>{const t=H(e);return!e.mode.isReadOnly()&&(t.length>1||E(e,t))},A=e=>bd(e)||Fu(e),L=e=>Dr(e).exists(A),H=e=>dt(ec(e.selection.getSelectedBlocks()),t=>!A(t)&&!L(t)&&m(t)),q=(e,t)=>{var n,r;const{dom:a}=e,c=jl(e),u=(r=(n=/[a-z%]+$/i.exec(c))===null||n===void 0?void 0:n[0])!==null&&r!==void 0?r:"px",h=b(c),k=B0(e);ut(H(e),N=>{w(a,t,k,h,u,N.dom)})},re=e=>q(e,"indent"),se=e=>q(e,"outdent"),me=e=>{if(e.selection.isCollapsed()&&O(e)){const t=e.dom,n=e.selection.getRng(),r=ot.fromRangeStart(n),a=t.getParent(n.startContainer,t.isBlock);if(a!==null&&wk(ye.fromDom(a),r,e.schema))return Y.some(()=>se(e))}return Y.none()},te=(e,t,n)=>Ws([me,sT,Bx,(r,a)=>a2(r,t,a),q_,ex,aT,f,eT,i2],r=>r(e,n)).filter(r=>e.selection.isEditable()),Q=(e,t)=>{te(e,t,!1).fold(()=>{e.selection.isEditable()&&(e0(e),G1(e))},Js)},ce=(e,t)=>{te(e,t,!0).fold(()=>{e.selection.isEditable()&&jb(e)},Js)},pe=(e,t)=>{e.addCommand("delete",()=>{Q(e,t)}),e.addCommand("forwardDelete",()=>{ce(e,t)})},_e=5,Re=400,Ge=e=>e.touches===void 0||e.touches.length!==1?Y.none():Y.some(e.touches[0]),pt=(e,t)=>{const n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>_e||r>_e},yt=e=>{const t=$u(),n=qa(!1),r=_d(a=>{e.dispatch("longpress",{...a,type:"longpress"}),n.set(!0)},Re);e.on("touchstart",a=>{Ge(a).each(c=>{r.cancel();const u={x:c.clientX,y:c.clientY,target:a.target};r.throttle(a),n.set(!1),t.set(u)})},!0),e.on("touchmove",a=>{r.cancel(),Ge(a).each(c=>{t.on(u=>{pt(c,u)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",a=>{r.cancel(),a.type!=="touchcancel"&&t.get().filter(c=>c.target.isEqualNode(a.target)).each(()=>{n.get()?a.preventDefault():e.dispatch("tap",{...a,type:"tap"})})},!0)},Et=(e,t)=>Yn(e,t.nodeName),en=(e,t)=>Nt(t)?!0:kn(t)?!Et(e.getBlockElements(),t)&&!zf(t)&&!Hu(e,t)&&!Yp(t):!1,xn=(e,t,n)=>ar(MS(ye.fromDom(n),ye.fromDom(t)),r=>Et(e,r.dom)),Bn=(e,t)=>{if(Nt(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||Et(e,t.nextSibling)||Yp(t.nextSibling)}return!1},Qn=e=>e.dom.create(oi(e),hg(e)),uo=e=>{const t=e.dom,n=e.selection,r=e.schema,a=r.getBlockElements(),c=n.getStart(),u=e.getBody();let h,k,N=!1;const U=oi(e);if(!c||!kn(c))return;const Z=u.nodeName.toLowerCase();if(!r.isValidChild(Z,U.toLowerCase())||xn(a,u,c))return;const K=n.getRng(),{startContainer:le,startOffset:ve,endContainer:ie,endOffset:we}=K,Be=Lb(e);let Fe=u.firstChild;for(;Fe;)if(kn(Fe)&&Om(r,Fe),en(r,Fe)){if(Bn(a,Fe)){k=Fe,Fe=Fe.nextSibling,t.remove(k);continue}h||(h=Qn(e),u.insertBefore(h,Fe),N=!0),k=Fe,Fe=Fe.nextSibling,h.appendChild(k)}else h=null,Fe=Fe.nextSibling;N&&Be&&(K.setStart(le,ve),K.setEnd(ie,we),n.setRng(K),e.nodeChanged())},Io=(e,t,n)=>{const r=ye.fromDom(Qn(e)),a=Sm();Mr(r,a),n(t,r);const c=document.createRange();return c.setStartBefore(a.dom),c.setEndBefore(a.dom),c},Ps=e=>{e.on("NodeChange",zt(uo,e))},da=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,Ko=(e,t,n)=>function(r){const a=arguments,c=a[a.length-2],u=c>0?t.charAt(c-1):"";if(u==='"')return r;if(u===">"){const h=t.lastIndexOf("<",c);if(h!==-1&&t.substring(h,c).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(a[0])+'">'+e.dom.encode(typeof a[1]=="string"?a[1]:a[0])+"</span>"},Dl=(e,t,n)=>{let r=t.length,a=n.content;if(n.format!=="raw"){for(;r--;)a=a.replace(t[r],Ko(e,a,Iy(e)));n.content=a}},po=(e,t)=>Os(e,n=>{const r=t.match(n);return r!==null&&r[0].length===t.length}),si=e=>{const t="contenteditable",n=" "+Ut.trim(ww(e))+" ",r=" "+Ut.trim(Iy(e))+" ",a=da(n),c=da(r),u=kw(e);u.length>0&&e.on("BeforeSetContent",h=>{Dl(e,u,h)}),e.parser.addAttributeFilter("class",h=>{let k=h.length;for(;k--;){const N=h[k];a(N)?N.attr(t,"true"):c(N)&&N.attr(t,"false")}}),e.serializer.addAttributeFilter(t,h=>{let k=h.length;for(;k--;){const N=h[k];if(!a(N)&&!c(N))continue;const U=N.attr("data-mce-content");u.length>0&&U?po(u,U)?(N.name="#text",N.type=3,N.raw=!0,N.value=U):N.remove():N.attr(t,null)}})},js=e=>Ra(ye.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),Id=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Em(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},_r=(e,t)=>{const n=js(e);if(n){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),Id(e,n);return}co(n)&&(Id(e,n),e.undoManager.add())}},Ii=e=>{e.on("keyup compositionstart",zt(_r,e))},Fd=$r,Iv=(e,t,n)=>HD(t,e,n,xh,wh,Fd),y0=(e,t,n)=>UD(t,e,n,c=>xh(c)||zz(c),c=>wh(c)||Oz(c),Fd),l2=e=>{const t=e.dom.create(oi(e));return t.innerHTML='<br data-mce-bogus="1">',t},Ix=(e,t,n)=>{const r=bg(e.getBody()),a=zt(el,t===1?r.next:r.prev);if(n.collapsed){const c=e.dom.getParent(n.startContainer,"PRE");if(!c)return;if(!a(ot.fromRangeStart(n))){const h=ye.fromDom(l2(e));t===1?es(ye.fromDom(c),h):Ms(ye.fromDom(c),h),e.selection.select(h.dom,!0),e.selection.collapse()}}},ry=(e,t)=>{const n=t?ya.Forwards:ya.Backwards,r=e.selection.getRng();return Iv(n,e,r).orThunk(()=>(Ix(e,n,r),Y.none()))},sy=(e,t)=>{const n=t?1:-1,r=e.selection.getRng();return y0(n,e,r).orThunk(()=>(Ix(e,n,r),Y.none()))},Ng=(e,t)=>{const n=t?e.getEnd(!0):e.getStart(!0);return Lr(n)?!t:t},v0=(e,t)=>ry(e,Ng(e.selection,t)).exists(n=>(Eh(e,n),!0)),x0=(e,t)=>sy(e,t).exists(n=>(Eh(e,n),!0)),Dg=(e,t)=>jD(e,t,t?wh:xh),Th=(e,t)=>oT(e,!t).map(n=>{const r=n.toRange(),a=e.selection.getRng();return t?r.setStart(a.startContainer,a.startOffset):r.setEnd(a.endContainer,a.endOffset),r}).exists(n=>(Eh(e,n),!0)),Fv=e=>_o(["figcaption"],Co(e)),Fx=(e,t,n)=>{const r=zt(Pe,t);return at(ye.fromDom(e.container()),a=>n.isBlock(Co(a)),r).filter(Fv)},Vx=(e,t,n)=>t?DD(e.dom,n):uT(e.dom,n),Vv=(e,t)=>{const n=ye.fromDom(e.getBody()),r=ot.fromRangeStart(e.selection.getRng());return Fx(r,n,e.schema).exists(()=>{if(Vx(n,t,r)){const c=Io(e,n,t?Mr:ls);return e.selection.setRng(c),!0}else return!1})},os=(e,t)=>e.selection.isCollapsed()?Vv(e,t):!1,np=(e,t,n)=>{const r=e.selection.getRng(),a=ot.fromRangeStart(r);return e.getBody().firstChild===t&&uT(n,a)?(e.execCommand("InsertNewBlockBefore"),!0):!1},tf=(e,t)=>{const n=e.selection.getRng(),r=ot.fromRangeStart(n);return e.getBody().lastChild===t&&DD(t,r)?(e.execCommand("InsertNewBlockAfter"),!0):!1},pR=(e,t)=>t?Y.from(e.dom.getParent(e.selection.getNode(),"details")).map(n=>tf(e,n)).getOr(!1):Y.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(n=>Y.from(e.dom.getParent(n,"details")).map(r=>np(e,r,n))).getOr(!1),ET=(e,t)=>pR(e,t),TT={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},zT=e=>no(e,t=>({...TT,...t})),gR=e=>no(e,t=>({...TT,...t})),Hx=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,c2=(e,t)=>go(zT(e),n=>Hx(n,t)?[n]:[]),zh=(e,t)=>go(gR(e),n=>Hx(n,t)?[n]:[]),to=(e,...t)=>()=>e.apply(null,t),w0=(e,t)=>mo(c2(e,t),n=>n.action()),d2=(e,t)=>Ws(zh(e,t),n=>n.action()),hR=(e,t)=>{const n=t?ya.Forwards:ya.Backwards,r=e.selection.getRng();return HD(e,n,r,gv,hv,gn).exists(a=>(Eh(e,a),!0))},Hv=(e,t)=>{const n=t?1:-1,r=e.selection.getRng();return UD(e,n,r,gv,hv,gn).exists(a=>(Eh(e,a),!0))},bR=(e,t)=>jD(e,t,t?hv:gv),Vc=He.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),jx={...Vc,none:e=>Vc.none(e)},yR=(e,t)=>u2(e,t,Do),u2=(e,t,n)=>go(Br(e),r=>Si(r,t)?n(r)?[r]:[]:u2(r,t,n)),vR=(e,t,n=Pn)=>{if(n(t))return Y.none();if(_o(e,Co(t)))return Y.some(t);const r=a=>Si(a,"table")||n(a);return Da(t,e.join(","),r)},xR=(e,t)=>vR(["td","th"],e,t),lP=e=>yR(e,"th,td"),OT=(e,t)=>Gi(e,"table",t),f2=(e,t,n,r,a=Do)=>{const c=r===1;if(!c&&n<=0)return jx.first(e[0]);if(c&&n>=e.length-1)return jx.last(e[e.length-1]);{const u=n+r,h=e[u];return a(h)?jx.middle(t,h):f2(e,t,u,r,a)}},Ip=(e,t)=>OT(e,t).bind(n=>{const r=lP(n);return Ta(r,c=>Pe(e,c)).map(c=>({index:c,all:r}))}),Zx=(e,t,n)=>Ip(e,n).fold(()=>jx.none(e),a=>f2(a.all,e,a.index,1,t)),wR=(e,t,n)=>Ip(e,n).fold(()=>jx.none(),a=>f2(a.all,e,a.index,-1,t)),kR=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),_R=(e,t)=>go(t,n=>{const r=kR(qu(n.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:n},{x:r.right,y:e(r),cell:n}]}),CR=(e,t,n)=>lo(e,(r,a)=>r.fold(()=>Y.some(a),c=>{const u=Math.sqrt(Math.abs(c.x-t)+Math.abs(c.y-n)),h=Math.sqrt(Math.abs(a.x-t)+Math.abs(a.y-n));return Y.some(h<u?a:c)}),Y.none()),Rg=(e,t,n,r,a)=>{const c=zi(ye.fromDom(n),"td,th,caption").map(h=>h.dom),u=dt(_R(e,c),h=>t(h,a));return CR(u,r,a).map(h=>h.cell)},SR=e=>e.bottom,ER=e=>e.top,TR=(e,t)=>e.y<t,zR=(e,t)=>e.y>t,cP=zt(Rg,SR,TR),Ze=zt(Rg,ER,zR),Fo=(e,t)=>oo(t.getClientRects()).bind(n=>cP(e,n.left,n.top)).bind(n=>e2(KL(n),t)),fo=(e,t)=>dn(t.getClientRects()).bind(n=>Ze(e,n.left,n.top)).bind(n=>e2(GL(n),t)),Zs=(e,t,n)=>n.breakAt.exists(r=>e(t,r).breakAt.isSome()),Ea=e=>e.breakType===Pp.Wrap&&e.positions.length===0,xs=e=>e.breakType===Pp.Br&&e.positions.length===1,Ec=(e,t,n)=>{const r=e(t,n);return Ea(r)||!ss(n.getNode())&&xs(r)?!Zs(e,t,r):r.breakAt.isNone()},Oh=zt(Ec,Mx),Bg=zt(Ec,g0),Vd=(e,t,n)=>{const r=ot.fromRangeStart(t);return Uy(!e,n).exists(a=>a.isEqual(r))},dP=(e,t,n,r)=>{const a=e.selection.getRng(),c=t?1:-1;return h1()&&Vd(t,a,n)?(Og(c,e,n,!t,!1).each(u=>{Eh(e,u)}),!0):!1},OR=(e,t,n)=>Fo(t,n).orThunk(()=>oo(n.getClientRects()).bind(r=>dT(t2(e,ot.before(t)),r.left))).getOr(ot.before(t)),AR=(e,t,n)=>fo(t,n).orThunk(()=>oo(n.getClientRects()).bind(r=>dT(ND(e,ot.after(t)),r.left))).getOr(ot.after(t)),q8=(e,t)=>{const n=t.getNode(e);return gd(n)?Y.some(n):Y.none()},rU=(e,t,n)=>{t.undoManager.transact(()=>{const r=e?es:Ms,a=Io(t,ye.fromDom(n),r);Eh(t,a)})},G8=(e,t,n)=>{const r=q8(!!t,n),a=t===!1;r.fold(()=>Eh(e,n.toRange()),c=>Uy(a,e.getBody()).filter(u=>u.isEqual(n)).fold(()=>Eh(e,n.toRange()),u=>rU(t,e,c)))},sU=(e,t,n,r)=>{const a=e.selection.getRng(),c=ot.fromRangeStart(a),u=e.getBody();if(!t&&Oh(r,c)){const h=OR(u,n,c);return G8(e,t,h),!0}else if(t&&Bg(r,c)){const h=AR(u,n,c);return G8(e,t,h),!0}else return!1},K8=(e,t,n)=>Y.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>Y.from(e.dom.getParent(r,"table")).map(a=>n(e,t,a,r))).getOr(!1),Y8=(e,t)=>K8(e,t,dP),uP=(e,t)=>K8(e,t,sU),aU=e=>{const t=Xm.exact(e,0,e,0);return eB(t)},X8=(e,t,n)=>n.fold(Y.none,Y.none,(r,a)=>mz(a).map(c=>aU(c)),r=>(e.execCommand("mceTableInsertRowAfter"),J8(e,t,r))),J8=(e,t,n)=>X8(e,t,Zx(n,Za)),iU=(e,t,n)=>X8(e,t,wR(n,Za)),Q8=(e,t)=>{const n=["table","li","dl"],r=ye.fromDom(e.getBody()),a=h=>{const k=Co(h);return Pe(h,r)||_o(n,k)},c=e.selection.getRng(),u=ye.fromDom(t?c.endContainer:c.startContainer);return xR(u,a).map(h=>(OT(h,a).each(U=>{e.model.table.clearSelectedCells(U.dom)}),e.selection.collapse(!t),(t?J8:iU)(e,a,h).each(U=>{e.selection.setRng(U)}),!0)).getOr(!1)},lU=(e,t,n)=>{const r=Qo.os.isMacOS()||Qo.os.isiOS();w0([{keyCode:vn.RIGHT,action:to(v0,e,!0)},{keyCode:vn.LEFT,action:to(v0,e,!1)},{keyCode:vn.UP,action:to(x0,e,!1)},{keyCode:vn.DOWN,action:to(x0,e,!0)},...r?[{keyCode:vn.UP,action:to(Th,e,!1),metaKey:!0,shiftKey:!0},{keyCode:vn.DOWN,action:to(Th,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:vn.RIGHT,action:to(Y8,e,!0)},{keyCode:vn.LEFT,action:to(Y8,e,!1)},{keyCode:vn.UP,action:to(uP,e,!1)},{keyCode:vn.DOWN,action:to(uP,e,!0)},{keyCode:vn.UP,action:to(uP,e,!1)},{keyCode:vn.UP,action:to(ET,e,!1)},{keyCode:vn.DOWN,action:to(ET,e,!0)},{keyCode:vn.RIGHT,action:to(hR,e,!0)},{keyCode:vn.LEFT,action:to(hR,e,!1)},{keyCode:vn.UP,action:to(Hv,e,!1)},{keyCode:vn.DOWN,action:to(Hv,e,!0)},{keyCode:vn.RIGHT,action:to(bT,e,t,!0)},{keyCode:vn.LEFT,action:to(bT,e,t,!1)},{keyCode:vn.RIGHT,ctrlKey:!r,altKey:r,action:to(GD,e,t)},{keyCode:vn.LEFT,ctrlKey:!r,altKey:r,action:to(KD,e,t)},{keyCode:vn.UP,action:to(os,e,!1)},{keyCode:vn.DOWN,action:to(os,e,!0)}],n).each(a=>{n.preventDefault()})},cU=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||lU(e,t,n)})},Ah=(e,t)=>({container:e,offset:t}),NR=us.DOM,DR=e=>t=>e===t?-1:0,dU=e=>t=>e.isBlock(t)||_o(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",fP=(e,t,n)=>{if(Nt(e)&&t>=0)return Y.some(Ah(e,t));{const r=Im(NR);return Y.from(r.backwards(e,t,DR(e),n)).map(a=>Ah(a.container,a.container.data.length))}},uU=(e,t,n)=>{if(Nt(e)&&t>=e.length)return Y.some(Ah(e,t));{const r=Im(NR);return Y.from(r.forwards(e,t,DR(e),n)).map(a=>Ah(a.container,0))}},mP=(e,t,n)=>{if(!Nt(e))return Y.none();const r=e.data;if(t>=0&&t<=r.length)return Y.some(Ah(e,t));{const a=Im(NR);return Y.from(a.backwards(e,t,DR(e),n)).bind(c=>{const u=c.container.data;return mP(c.container,t+u.length,n)})}},eI=(e,t,n)=>{if(!Nt(e))return Y.none();const r=e.data;if(t<=r.length)return Y.some(Ah(e,t));{const a=Im(NR);return Y.from(a.forwards(e,t,DR(e),n)).bind(c=>eI(c.container,t-r.length,n))}},pP=(e,t,n,r,a)=>{const c=Im(e,dU(e));return Y.from(c.backwards(t,n,r,a))},fU=e=>e.collapsed&&Nt(e.startContainer),tI=e=>G(e.toString().replace(/\u00A0/g," ")),nI=e=>e!==""&&`  \f
\r	\v`.indexOf(e)!==-1,gP=(e,t)=>e.substring(t.length),mU=(e,t,n)=>{let r;const a=n.charAt(0);for(r=t-1;r>=0;r--){const c=e.charAt(r);if(nI(c))return Y.none();if(a===c&&xr(e,n,r,t))break}return Y.some(r)},pU=(e,t,n,r=0)=>{if(!fU(t))return Y.none();const a={text:"",offset:0},c=(h,k,N)=>(a.text=N+a.text,a.offset+=k,mU(a.text,a.offset,n).getOr(k)),u=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return pP(e,t.startContainer,t.startOffset,c,u).bind(h=>{const k=t.cloneRange();if(k.setStart(h.container,h.offset),k.setEnd(t.endContainer,t.endOffset),k.collapsed)return Y.none();const N=tI(k);return N.lastIndexOf(n)!==0||gP(N,n).length<r?Y.none():Y.some({text:gP(N,n),range:k,trigger:n})})},oI=(e,t,n,r=0)=>hz(ye.fromDom(t.startContainer)).fold(()=>pU(e,t,n,r),a=>{const c=e.createRng();c.selectNode(a.dom);const u=tI(c);return Y.some({range:c,text:gP(u,n),trigger:n})}),gU=e=>e.nodeType===Oc,hU=e=>e.nodeType===pc,rI=e=>{if(gU(e))return Ah(e,e.data.length);{const t=e.childNodes;return t.length>0?rI(t[t.length-1]):Ah(e,t.length)}},sI=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?sI(n[t],0):n.length>0&&hU(e)&&n.length===t?rI(n[n.length-1]):Ah(e,t)},bU=(e,t)=>{var n;const r=(n=e.getParent(t.container,e.isBlock))!==null&&n!==void 0?n:e.getRoot();return pP(e,t.container,t.offset,(a,c)=>c===0?-1:c,r).filter(a=>{const c=a.container.data.charAt(a.offset-1);return!nI(c)}).isSome()},yU=e=>t=>{const n=sI(t.startContainer,t.startOffset);return!bU(e,n)},vU=(e,t,n)=>Ws(n.triggers,r=>oI(e,t,r)),xU=(e,t)=>{const n=t(),r=e.selection.getRng();return vU(e.dom,r,n).bind(a=>aI(e,t,a))},aI=(e,t,n,r={})=>{var a;const c=t(),h=(a=e.selection.getRng().startContainer.nodeValue)!==null&&a!==void 0?a:"",k=dt(c.lookupByTrigger(n.trigger),U=>n.text.length>=U.minChars&&U.matches.getOrThunk(()=>yU(e.dom))(n.range,h,n.text));if(k.length===0)return Y.none();const N=Promise.all(no(k,U=>U.fetch(n.text,U.maxResults,r).then(K=>({matchText:n.text,items:K,columns:U.columns,onAction:U.onAction,highlightOn:U.highlightOn}))));return Y.some({lookupData:N,context:n})};var Nh;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Nh||(Nh={}));const hP=(e,t,n)=>e.stype===Nh.Error?t(e.serror):n(e.svalue),wU=e=>{const t=[],n=[];return ut(e,r=>{hP(r,a=>n.push(a),a=>t.push(a))}),{values:t,errors:n}},kU=(e,t)=>e.stype===Nh.Error?{stype:Nh.Error,serror:t(e.serror)}:e,_U=(e,t)=>e.stype===Nh.Value?{stype:Nh.Value,svalue:t(e.svalue)}:e,CU=(e,t)=>e.stype===Nh.Value?t(e.svalue):e,SU=(e,t)=>e.stype===Nh.Error?t(e.serror):e,iI=e=>({stype:Nh.Value,svalue:e}),lI=e=>({stype:Nh.Error,serror:e}),sd={fromResult:e=>e.fold(lI,iI),toResult:e=>hP(e,Ne.error,Ne.value),svalue:iI,partition:wU,serror:lI,bind:CU,bindError:SU,map:_U,mapError:kU,fold:hP},bP=e=>Te(e)&&Bt(e).length>100?" removed due to size":JSON.stringify(e,null,2),EU=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:ft("... (only showing first ten failures)")}]):e;return no(t,n=>"Failed path: ("+n.path.join(" > ")+`)
`+n.getErrorInfo())},RR=(e,t)=>sd.serror([{path:e,getErrorInfo:t}]),TU=(e,t,n)=>RR(e,()=>'Could not find valid *required* value for "'+t+'" in '+bP(n)),zU=(e,t)=>RR(e,()=>'Choice schema did not contain choice key: "'+t+'"'),OU=(e,t,n)=>RR(e,()=>'The chosen schema: "'+n+'" did not exist in branches: '+bP(t)),AU=(e,t)=>RR(e,ft(t)),NU=(e,t,n,r)=>Ir(n,r).fold(()=>OU(e,n,r),c=>c.extract(e.concat(["branch: "+r]),t)),DU=(e,t)=>({extract:(a,c)=>Ir(c,e).fold(()=>zU(a,e),h=>NU(a,c,t,h)),toString:()=>"chooseOn("+e+"). Possible values: "+Bt(t)}),RU=(e,t)=>t,BU=(e,t)=>kt(e)&&kt(t)?BR(e,t):t,cI=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const n={};for(let r=0;r<t.length;r++){const a=t[r];for(const c in a)Yn(a,c)&&(n[c]=e(n[c],a[c]))}return n},BR=cI(BU),MU=cI(RU),dI=()=>({tag:"required",process:{}}),LU=e=>({tag:"defaultedThunk",process:e}),uI=e=>LU(ft(e)),PU=()=>({tag:"option",process:{}}),IU=(e,t)=>e.length>0?sd.svalue(BR(t,MU.apply(void 0,e))):sd.svalue(t),fI=e=>pn(sd.serror,Nr)(e),FU={consolidateObj:(e,t)=>{const n=sd.partition(e);return n.errors.length>0?fI(n.errors):IU(n.values,t)},consolidateArr:e=>{const t=sd.partition(e);return t.errors.length>0?fI(t.errors):sd.svalue(t.values)}},VU=(e,t,n,r)=>({tag:"field",key:e,newKey:t,presence:n,prop:r}),HU=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),mI=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},yP=e=>{const t=(r,a)=>sd.bindError(e(a),c=>AU(r,c)),n=ft("val");return{extract:t,toString:n}},UU=yP(sd.svalue),jU=(e,t,n,r)=>Ir(t,n).fold(()=>TU(e,n,t),r),pI=(e,t,n,r)=>{const a=Ir(e,t).getOrThunk(()=>n(e));return r(a)},ZU=(e,t,n)=>n(Ir(e,t)),WU=(e,t,n,r)=>{const a=Ir(e,t).map(c=>c===!0?n(e):c);return r(a)},$U=(e,t,n,r,a)=>{const c=h=>a.extract(t.concat([r]),h),u=h=>h.fold(()=>sd.svalue(Y.none()),k=>{const N=a.extract(t.concat([r]),k);return sd.map(N,Y.some)});switch(e.tag){case"required":return jU(t,n,r,c);case"defaultedThunk":return pI(n,r,e.process,c);case"option":return ZU(n,r,u);case"defaultedOptionThunk":return WU(n,r,e.process,u);case"mergeWithThunk":return pI(n,r,ft({}),h=>{const k=BR(e.process(n),h);return c(k)})}},qU=(e,t,n)=>{const r={},a=[];for(const c of n)mI(c,(u,h,k,N)=>{const U=$U(k,e,t,u,N);sd.fold(U,Z=>{a.push(...Z)},Z=>{r[h]=Z})},(u,h)=>{r[u]=h(t)});return a.length>0?sd.serror(a):sd.svalue(r)},vP=e=>({extract:(r,a)=>qU(r,a,e),toString:()=>`obj{
`+no(e,a=>mI(a,(c,u,h,k)=>c+" -> "+k.toString(),(c,u)=>"state("+c+")")).join(`
`)+"}"}),gI=e=>({extract:(r,a)=>{const c=no(a,(u,h)=>e.extract(r.concat(["["+h+"]"]),u));return FU.consolidateArr(c)},toString:()=>"array("+e.toString()+")"}),GU=e=>yP(t=>e(t).fold(sd.serror,sd.svalue)),KU=(e,t,n)=>{const r=t.extract([e],n);return sd.mapError(r,a=>({input:n,errors:a}))},YU=(e,t,n)=>sd.toResult(KU(e,t,n)),XU=e=>`Errors: 
`+EU(e.errors).join(`
`)+`

Input object: `+bP(e.input),hI=(e,t)=>DU(e,li(t,vP)),JU=ft(UU),MR=(e,t)=>yP(n=>{const r=typeof n;return e(n)?sd.svalue(n):sd.serror(`Expected type: ${t} but got: ${r}`)}),QU=MR(B,"number"),LR=MR(At,"string"),ej=MR(Cn,"boolean"),xP=MR(un,"function"),AT=VU,bI=HU,tj=e=>GU(t=>_o(e,t)?Ne.value(t):Ne.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),yI=(e,t)=>AT(e,e,dI(),t),vI=e=>yI(e,LR),xI=e=>yI(e,xP),nj=(e,t)=>AT(e,e,dI(),gI(t)),wP=(e,t)=>AT(e,e,PU(),t),PR=e=>wP(e,LR),oj=e=>wP(e,xP),rj=(e,t)=>AT(e,e,uI(t),JU()),m2=(e,t,n)=>AT(e,e,uI(t),n),wI=(e,t)=>m2(e,t,QU),sj=(e,t)=>m2(e,t,LR),kI=(e,t,n)=>m2(e,t,tj(n)),kP=(e,t)=>m2(e,t,ej),_P=(e,t)=>m2(e,t,xP),aj=(e,t,n)=>m2(e,t,gI(n)),ij=vI("type"),lj=xI("fetch"),CP=xI("onAction"),cj=_P("onSetup",()=>bt),dj=PR("text"),uj=PR("icon"),fj=PR("tooltip"),mj=PR("label"),pj=kP("active",!1),gj=kP("enabled",!0),_I=kP("primary",!1),hj=e=>rj("columns",e),NT=e=>sj("type",e),bj=vP([ij,vI("trigger"),wI("minChars",1),hj(1),wI("maxResults",10),oj("matches"),lj,CP,aj("highlightOn",[],LR)]),yj=e=>YU("Autocompleter",bj,{trigger:e.ch,...e}),SP=[gj,fj,uj,dj,cj],CI=[pj].concat(SP),vj=[_P("predicate",Pn),kI("scope","node",["node","editor"]),kI("position","selection",["node","selection","line"])],xj=SP.concat([NT("contextformbutton"),_I,CP,bI("original",Mn)]),wj=CI.concat([NT("contextformbutton"),_I,CP,bI("original",Mn)]),kj=SP.concat([NT("contextformbutton")]),_j=CI.concat([NT("contextformtogglebutton")]),Cj=hI("type",{contextformbutton:xj,contextformtogglebutton:wj});vP([NT("contextform"),_P("initValue",ft("")),mj,nj("commands",Cj),wP("launch",hI("type",{contextformbutton:kj,contextformtogglebutton:_j}))].concat(vj));const Sj=e=>{const t=e.ui.registry.getAll().popups,n=li(t,u=>yj(u).fold(h=>{throw new Error(XU(h))},Mn)),r=bl(Vi(n,u=>u.trigger)),a=Kl(n);return{dataset:n,triggers:r,lookupByTrigger:u=>dt(a,h=>h.trigger===u)}},Ej=(e,t)=>{const n=_d(t.load,50);e.on("keypress compositionend",r=>{r.which!==27&&n.throttle()}),e.on("keydown",r=>{const a=r.which;a===8?n.throttle():a===27&&t.cancelIfNecessary()}),e.on("remove",n.cancel)},Tj=e=>{const t=$u(),n=qa(!1),r=t.isSet,a=()=>{r()&&(R6(e),D3(e),n.set(!1),t.clear())},c=N=>{r()||(x4(e,N.range),t.set({trigger:N.trigger,matchLength:N.text.length}))},u=Ui(()=>Sj(e)),h=N=>t.get().map(U=>oI(e.dom,e.selection.getRng(),U.trigger).bind(Z=>aI(e,u,Z,N))).getOrThunk(()=>xU(e,u)),k=N=>{h(N).fold(a,U=>{c(U.context),U.lookupData.then(Z=>{t.get().map(K=>{const le=U.context;K.trigger===le.trigger&&(le.text.length-K.matchLength>=10?a():(t.set({...K,matchLength:le.text.length}),n.get()?N3(e,{lookupData:Z}):(n.set(!0),A3(e,{lookupData:Z}))))})})})};e.addCommand("mceAutocompleterReload",(N,U)=>{const Z=Te(U)?U.fetchOptions:{};k(Z)}),e.addCommand("mceAutocompleterClose",a),Ej(e,{cancelIfNecessary:a,load:k})},zj=Wn().browser.isSafari(),SI=e=>pf(ye.fromDom(e)),EI=(e,t)=>{var n;return e.startOffset===0&&e.endOffset===((n=t.textContent)===null||n===void 0?void 0:n.length)},IR=(e,t)=>Y.from(e.getParent(t.container(),"details")),TI=(e,t)=>IR(e,t).isSome(),Oj=(e,t)=>{const n=Y.from(e.getParent(t.startContainer,"details")),r=Y.from(e.getParent(t.endContainer,"details"));if(n.isSome()||r.isSome()){const a=n.bind(c=>Y.from(e.select("summary",c)[0]));return Y.some({startSummary:a,startDetails:n,endDetails:r})}else return Y.none()},Aj=(e,t)=>ed(t).exists(n=>n.isEqual(e)),Nj=(e,t)=>Gm(t).exists(n=>ss(n.getNode())&&Ku(t,n).exists(r=>r.isEqual(e))||n.isEqual(e)),Dj=(e,t)=>t.startSummary.exists(n=>Aj(e,n)),Rj=(e,t)=>t.startSummary.exists(n=>Nj(e,n)),Bj=(e,t)=>t.startDetails.exists(n=>Ku(n,e).forall(r=>t.startSummary.exists(a=>!a.contains(e.container())&&a.contains(r.container())))),Mj=(e,t,n)=>n.startDetails.exists(r=>uu(e,t).forall(a=>!r.contains(a.container()))),zI=(e,t)=>{const n=t.getNode();wo(n)||e.selection.setCursorLocation(n,t.offset())},OI=(e,t,n)=>{const r=e.dom.getParent(t.container(),"details");if(r&&!r.open){const a=e.dom.select("summary",r)[0];a&&(n?ed(a):Gm(a)).each(u=>zI(e,u))}else zI(e,t)},Lj=(e,t)=>{const n=k=>k.contains(e.startContainer),r=k=>k.contains(e.endContainer),a=t.startSummary.exists(n),c=t.startSummary.exists(r),u=t.startDetails.forall(k=>t.endDetails.forall(N=>k!==N));return(a||c)&&!(a&&c)||u},AI=(e,t,n)=>{const{dom:r,selection:a}=e,c=e.getBody();if(n==="character"){const u=ot.fromRangeStart(a.getRng()),h=r.getParent(u.container(),r.isBlock),k=IR(r,u),N=h&&r.isEmpty(h),U=qe(h==null?void 0:h.previousSibling),Z=qe(h==null?void 0:h.nextSibling);return N&&(t?Z:U)&&Hy(!t,c,u).exists(ve=>TI(r,ve)&&!lp(k,IR(r,ve)))?!0:Hy(t,c,u).fold(Pn,K=>{const le=IR(r,K);if(TI(r,K)&&!lp(k,le)){if(t||OI(e,K,!1),h&&N){if(t&&U)return!0;if(!t&&Z)return!0;OI(e,K,t),e.dom.remove(h)}return!0}else return!1})}else return!1},Pj=(e,t,n,r)=>{const c=e.selection.getRng(),u=ot.fromRangeStart(c),h=e.getBody();return r==="selection"?Lj(c,t):n?Rj(u,t)||Mj(h,u,t):Dj(u,t)||Bj(u,t)},Ij=(e,t,n)=>Oj(e.dom,e.selection.getRng()).fold(()=>AI(e,t,n),r=>Pj(e,r,t,n)||AI(e,t,n)),Fj=(e,t,n)=>{const r=e.selection,a=r.getNode(),c=r.getRng(),u=ot.fromRangeStart(c);return ff(a)?(n==="selection"&&EI(c,a)||JS(t,u,a)?SI(a):e.undoManager.transact(()=>{const h=r.getSel();let{anchorNode:k,anchorOffset:N,focusNode:U,focusOffset:Z}=h??{};const K=()=>{Je(k)&&Je(N)&&Je(U)&&Je(Z)&&(h==null||h.setBaseAndExtent(k,N,U,Z))},le=()=>{k=h==null?void 0:h.anchorNode,N=h==null?void 0:h.anchorOffset,U=h==null?void 0:h.focusNode,Z=h==null?void 0:h.focusOffset},ve=(we,Be)=>{ut(we.childNodes,Fe=>{Dd(Fe)&&Be.appendChild(Fe)})},ie=e.dom.create("span",{"data-mce-bogus":"1"});ve(a,ie),a.appendChild(ie),K(),(n==="word"||n==="line")&&(h==null||h.modify("extend",t?"right":"left",n)),!r.isCollapsed()&&EI(r.getRng(),ie)?SI(a):(e.execCommand(t?"ForwardDelete":"Delete"),le(),ve(ie,a),K()),e.dom.remove(ie)}),!0):!1},Wx=(e,t,n)=>Ij(e,t,n)||zj&&Fj(e,t,n)?Y.some(bt):Y.none(),NI=e=>(t,n,r={})=>{const a=t.getBody(),c={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:a,currentTarget:a,eventPhase:Event.AT_TARGET,originalTarget:a,explicitOriginalTarget:a,isTrusted:!1,srcElement:a,cancelable:!1,preventDefault:bt,inputType:n},u=yy(new InputEvent(e));return t.dispatch(e,{...u,...c,...r})},DT=NI("input"),FR=NI("beforeinput"),DI=Wn(),RI=DI.os,BI=RI.isMacOS()||RI.isiOS(),Vj=DI.browser.isFirefox(),Hj=(e,t,n)=>{const r=n.keyCode===vn.BACKSPACE?"deleteContentBackward":"deleteContentForward",a=e.selection.isCollapsed(),c=a?"character":"selection",u=h=>a?h?"word":"line":"selection";d2([{keyCode:vn.BACKSPACE,action:to(me,e)},{keyCode:vn.BACKSPACE,action:to(sT,e,!1)},{keyCode:vn.DELETE,action:to(sT,e,!0)},{keyCode:vn.BACKSPACE,action:to(Bx,e,!1)},{keyCode:vn.DELETE,action:to(Bx,e,!0)},{keyCode:vn.BACKSPACE,action:to(a2,e,t,!1)},{keyCode:vn.DELETE,action:to(a2,e,t,!0)},{keyCode:vn.BACKSPACE,action:to(ex,e,!1)},{keyCode:vn.DELETE,action:to(ex,e,!0)},{keyCode:vn.BACKSPACE,action:to(Wx,e,!1,c)},{keyCode:vn.DELETE,action:to(Wx,e,!0,c)},...BI?[{keyCode:vn.BACKSPACE,altKey:!0,action:to(Wx,e,!1,u(!0))},{keyCode:vn.DELETE,altKey:!0,action:to(Wx,e,!0,u(!0))},{keyCode:vn.BACKSPACE,metaKey:!0,action:to(Wx,e,!1,u(!1))}]:[{keyCode:vn.BACKSPACE,ctrlKey:!0,action:to(Wx,e,!1,u(!0))},{keyCode:vn.DELETE,ctrlKey:!0,action:to(Wx,e,!0,u(!0))}],{keyCode:vn.BACKSPACE,action:to(aT,e,!1)},{keyCode:vn.DELETE,action:to(aT,e,!0)},{keyCode:vn.BACKSPACE,action:to(f,e,!1)},{keyCode:vn.DELETE,action:to(f,e,!0)},{keyCode:vn.BACKSPACE,action:to(eT,e,!1)},{keyCode:vn.DELETE,action:to(eT,e,!0)},{keyCode:vn.BACKSPACE,action:to(q_,e,!1)},{keyCode:vn.DELETE,action:to(q_,e,!0)},{keyCode:vn.BACKSPACE,action:to(i2,e,!1)},{keyCode:vn.DELETE,action:to(i2,e,!0)}],n).filter(h=>e.selection.isEditable()).each(h=>{n.preventDefault(),FR(e,r).isDefaultPrevented()||(h(),DT(e,r))})},Uj=(e,t,n)=>w0([{keyCode:vn.BACKSPACE,action:to(hD,e)},{keyCode:vn.DELETE,action:to(hD,e)},...BI?[{keyCode:vn.BACKSPACE,altKey:!0,action:to(o,e)},{keyCode:vn.DELETE,altKey:!0,action:to(o,e)},...n?[{keyCode:Vj?224:91,action:to(o,e)}]:[]]:[{keyCode:vn.BACKSPACE,ctrlKey:!0,action:to(o,e)},{keyCode:vn.DELETE,ctrlKey:!0,action:to(o,e)}]],t),jj=(e,t)=>{let n=!1;e.on("keydown",r=>{n=r.keyCode===vn.BACKSPACE,r.isDefaultPrevented()||Hj(e,t,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||Uj(e,r,n),n=!1})},Zj=e=>{for(;e;){if(kn(e)||Nt(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},p2=(e,t)=>{const n=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const c=Zj(t.firstChild);c&&/^(UL|OL|DL)$/.test(c.nodeName)&&t.insertBefore(n.doc.createTextNode(Ro),t.firstChild)}const a=n.createRng();if(t.normalize(),t.hasChildNodes()){const c=new pi(t,t);let u=t,h;for(;h=c.current();){if(Nt(h)){a.setStart(h,0),a.setEnd(h,0);break}if(r[h.nodeName.toLowerCase()]){a.setStartBefore(h),a.setEndBefore(h);break}u=h,h=c.next()}h||(a.setStart(u,0),a.setEnd(u,0))}else ss(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)):(a.setStart(t,0),a.setEnd(t,0));e.selection.setRng(a),iv(e,a)},RT=(e,t)=>{const n=e.getRoot();let r,a=t;for(;a!==n&&a&&e.getContentEditable(a)!=="false";){if(e.getContentEditable(a)==="true"){r=a;break}a=a.parentNode}return a!==n?r:n},EP=e=>Y.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),Wj=e=>EP(e).fold(ft(""),t=>t.nodeName.toUpperCase()),$j=e=>EP(e).filter(t=>Fu(ye.fromDom(t))).isSome(),TP=e=>{e.innerHTML='<br data-mce-bogus="1">'},qj=(e,t,n)=>{const r=e.dom;Y.from(n.style).map(r.parseStyle).each(k=>{const U={..._a(ye.fromDom(t)),...k};r.setStyles(t,U)});const a=Y.from(n.class).map(k=>k.split(/\s+/)),c=Y.from(t.className).map(k=>dt(k.split(/\s+/),N=>N!==""));Jr(a,c,(k,N)=>{const U=dt(N,K=>!_o(k,K)),Z=[...k,...U];r.setAttrib(t,"class",Z.join(" "))});const u=["style","class"],h=hl(n,(k,N)=>!_o(u,N));r.setAttribs(t,h)},BT=(e,t)=>{if(oi(e).toLowerCase()===t.tagName.toLowerCase()){const r=hg(e);qj(e,t,r)}},MI=(e,t,n,r,a=!0,c,u)=>{const h=e.dom,k=e.schema,N=oi(e),U=n?n.nodeName.toUpperCase():"";let Z=t;const K=k.getTextInlineElements();let le;c||U==="TABLE"||U==="HR"?le=h.create(c||N,u||{}):le=n.cloneNode(!1);let ve=le;if(!a)h.setAttrib(le,"style",null),h.setAttrib(le,"class",null);else do if(K[Z.nodeName]){if(Yu(Z)||zf(Z))continue;const ie=Z.cloneNode(!1);h.setAttrib(ie,"id",""),le.hasChildNodes()?(ie.appendChild(le.firstChild),le.appendChild(ie)):(ve=ie,le.appendChild(ie))}while((Z=Z.parentNode)&&Z!==r);return BT(e,le),TP(ve),le},Gj=(e,t)=>e.dom.getParent(t,mp),Kj=(e,t,n)=>{let r=t;for(;r&&r!==e&&qe(r.nextSibling);){const a=r.parentElement;if(!a||!n(a))return mp(a);r=a}return!1},Yj=(e,t,n)=>!t&&n.nodeName.toLowerCase()===oi(e)&&e.dom.isEmpty(n)&&Kj(e.getBody(),n,r=>Yn(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),Xj=(e,t,n)=>{var r,a,c;const u=t(oi(e)),h=Gj(e,n);h&&(e.dom.insertAfter(u,h),p2(e,u),((c=(a=(r=n.parentElement)===null||r===void 0?void 0:r.childNodes)===null||a===void 0?void 0:a.length)!==null&&c!==void 0?c:0)>1&&e.dom.remove(n))},Jj=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,Qj=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},LI=(e,t)=>{const n=e==null?void 0:e.parentNode;return Je(n)&&n.nodeName===t},PI=e=>Je(e)&&/^(OL|UL|LI)$/.test(e.nodeName),zP=e=>Je(e)&&/^(LI|DT|DD)$/.test(e.nodeName),eZ=e=>PI(e)&&PI(e.parentNode),VR=e=>{const t=e.parentNode;return zP(t)?t:e},HR=(e,t,n)=>{let r=e[n?"firstChild":"lastChild"];for(;r&&!kn(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},II=e=>lo(Vi(_a(ye.fromDom(e)),(t,n)=>`${n}: ${t};`),(t,n)=>t+n,""),tZ=(e,t,n,r,a)=>{const c=e.dom,u=e.selection.getRng(),h=n.parentNode;if(n===e.getBody()||!h)return;eZ(n)&&(a="LI");const k=zP(r)?II(r):void 0;let N=zP(r)&&k?t(a,{style:II(r)}):t(a);if(HR(n,r,!0)&&HR(n,r,!1))if(LI(n,"LI")){const U=VR(n);c.insertAfter(N,U),Qj(n)?c.remove(U):c.remove(n)}else c.replace(N,n);else if(HR(n,r,!0))LI(n,"LI")?(c.insertAfter(N,VR(n)),N.appendChild(c.doc.createTextNode(" ")),N.appendChild(n)):h.insertBefore(N,n),c.remove(r);else if(HR(n,r,!1))c.insertAfter(N,VR(n)),c.remove(r);else{n=VR(n);const U=u.cloneRange();U.setStartAfter(r),U.setEndAfter(n);const Z=U.extractContents();if(a==="LI"&&Jj(Z,"LI")){const K=dt(no(N.children,ye.fromDom),bo(ma("br")));N=Z.firstChild,c.insertAfter(Z,n),ut(K,le=>ls(ye.fromDom(N),le)),k&&N.setAttribute("style",k)}else c.insertAfter(Z,n),c.insertAfter(N,n);c.remove(r)}p2(e,N)},nZ=e=>{ut(pd(ye.fromDom(e),Hs),t=>{const n=t.dom;n.nodeValue=G(n.data)})},oZ=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return n!==null&&e.dom.getContentEditableParent(n)==="false"},rZ=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),OP=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,AP=(e,t)=>Je(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",sZ=(e,t,n)=>{var r;const a=[];if(!n)return;let c=n;for(;c=c.firstChild;){if(e.isBlock(c))return;kn(c)&&!t[c.nodeName.toLowerCase()]&&a.push(c)}let u=a.length;for(;u--;)c=a[u],(!c.hasChildNodes()||c.firstChild===c.lastChild&&((r=c.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||rZ(e,c))&&e.remove(c)},NP=(e,t,n)=>Nt(t)?e?n===1&&t.data.charAt(n-1)===C?0:n:n===t.data.length-1&&t.data.charAt(n)===C?t.data.length:n:n,aZ=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,NP(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,NP(!1,e.endContainer,e.endOffset)),t},iZ=e=>{let t=e;do Nt(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},lZ=(e,t,n,r,a)=>{var c,u;const h=e.dom,k=(c=RT(h,r))!==null&&c!==void 0?c:h.getRoot();let N=h.getParent(r,h.isBlock);if(!N||!AP(h,N)){if(N=N||k,!N.hasChildNodes()){const le=h.create(t);return BT(e,le),N.appendChild(le),n.setStart(le,0),n.setEnd(le,0),le}let U=r;for(;U&&U.parentNode!==N;)U=U.parentNode;let Z;for(;U&&!h.isBlock(U);)Z=U,U=U.previousSibling;const K=(u=Z==null?void 0:Z.parentElement)===null||u===void 0?void 0:u.nodeName;if(Z&&K&&e.schema.isValidChild(K,t.toLowerCase())){const le=Z.parentNode,ve=h.create(t);for(BT(e,ve),le.insertBefore(ve,Z),U=Z;U&&!h.isBlock(U);){const ie=U.nextSibling;ve.appendChild(U),U=ie}n.setStart(r,a),n.setEnd(r,a)}}return r},cZ=(e,t)=>{t.normalize();const n=t.lastChild;(!n||kn(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")},dZ=(e,t)=>{const n=L2(e);return Zn(t)?!1:At(n)?_o(Ut.explode(n),t.nodeName.toLowerCase()):n},FI={insert:(e,t)=>{let n,r,a,c,u=!1;const h=e.dom,k=e.schema,N=k.getNonEmptyElements(),U=e.selection.getRng(),Z=oi(e),K=ye.fromDom(U.startContainer),le=yc(K,U.startOffset),ve=le.exists(Mt=>Tu(Mt)&&!Za(Mt)),ie=U.collapsed&&ve,we=(Mt,hn)=>MI(e,n,$t,Ct,M2(e),Mt,hn),Be=Mt=>{const hn=NP(Mt,n,r);if(Nt(n)&&(Mt?hn>0:hn<n.data.length))return!1;if(n.parentNode===$t&&u&&!Mt||Mt&&kn(n)&&n===$t.firstChild)return!0;if(OP(n,"TABLE")||OP(n,"HR"))return u&&!Mt||!u&&Mt;const Fn=new pi(n,$t);Nt(n)&&(Mt&&hn===0?Fn.prev():!Mt&&hn===n.data.length&&Fn.next());let Ho;for(;Ho=Fn.current();){if(kn(Ho)){if(!Ho.getAttribute("data-mce-bogus")){const Wo=Ho.nodeName.toLowerCase();if(N[Wo]&&Wo!=="br")return!1}}else if(Nt(Ho)&&!ou(Ho.data))return!1;Mt?Fn.prev():Fn.next()}return!0},Fe=()=>{let Mt;return/^(H[1-6]|PRE|FIGURE)$/.test(a)&&mn!=="HGROUP"?Mt=we(Z):Mt=we(),dZ(e,c)&&AP(h,c)&&h.isEmpty($t,void 0,{includeZwsp:!0})?Mt=h.split(c,$t):h.insertAfter(Mt,$t),p2(e,Mt),Mt};T1(h,U).each(Mt=>{U.setStart(Mt.startContainer,Mt.startOffset),U.setEnd(Mt.endContainer,Mt.endOffset)}),n=U.startContainer,r=U.startOffset;const Ve=!!(t&&t.shiftKey),We=!!(t&&t.ctrlKey);kn(n)&&n.hasChildNodes()&&!ie&&(u=r>n.childNodes.length-1,n=n.childNodes[Math.min(r,n.childNodes.length-1)]||n,u&&Nt(n)?r=n.data.length:r=0);const Ct=RT(h,n);if(!Ct||oZ(e,n))return;Ve||(n=lZ(e,Z,U,n,r));let $t=h.getParent(n,h.isBlock)||h.getRoot();c=Je($t==null?void 0:$t.parentNode)?h.getParent($t.parentNode,h.isBlock):null,a=$t?$t.nodeName.toUpperCase():"";const mn=c?c.nodeName.toUpperCase():"";if(mn==="LI"&&!We){const Mt=c;$t=Mt,c=Mt.parentNode,a=mn}if(kn(c)&&Yj(e,Ve,$t))return Xj(e,we,$t);if(/^(LI|DT|DD)$/.test(a)&&kn(c)&&h.isEmpty($t)){tZ(e,we,c,$t,Z);return}if(!ie&&($t===e.getBody()||!AP(h,$t)))return;const it=$t.parentNode;let tt;if(ie)tt=we(Z),le.fold(()=>{Mr(K,ye.fromDom(tt))},Mt=>{Ms(Mt,ye.fromDom(tt))}),e.selection.setCursorLocation(tt,0);else if(It($t))tt=Em($t),h.isEmpty($t)&&TP($t),BT(e,tt),p2(e,tt);else if(Be(!1))tt=Fe();else if(Be(!0)&&it){tt=it.insertBefore(we(),$t);const Mt=Au(ye.fromDom(U.startContainer))&&U.collapsed;p2(e,OP($t,"HR")||Mt?tt:$t)}else{const Mt=aZ(U).cloneRange();Mt.setEndAfter($t);const hn=Mt.extractContents();nZ(hn),iZ(hn),tt=hn.firstChild,h.insertAfter(hn,$t),sZ(h,N,tt),cZ(h,$t),h.isEmpty($t)&&TP($t),tt.normalize(),h.isEmpty(tt)?(h.remove(tt),Fe()):(BT(e,tt),p2(e,tt))}h.setAttrib(tt,"id",""),e.dispatch("NewBlock",{newBlock:tt})},fakeEventName:"insertParagraph"},uZ=(e,t,n)=>{const r=new pi(t,n);let a;const c=e.getNonEmptyElements();for(;a=r.next();)if(c[a.nodeName.toLowerCase()]||Nt(a)&&a.length>0)return!0;return!1},VI=(e,t,n)=>{const r=e.dom.createRng();n?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),iv(e,r)},fZ=(e,t)=>{const n=e.selection,r=e.dom,a=n.getRng();let c,u=!1;T1(r,a).each(le=>{a.setStart(le.startContainer,le.startOffset),a.setEnd(le.endContainer,le.endOffset)});let h=a.startOffset,k=a.startContainer;if(kn(k)&&k.hasChildNodes()){const le=h>k.childNodes.length-1;k=k.childNodes[Math.min(h,k.childNodes.length-1)]||k,le&&Nt(k)?h=k.data.length:h=0}let N=r.getParent(k,r.isBlock);const U=N&&N.parentNode?r.getParent(N.parentNode,r.isBlock):null,Z=U?U.nodeName.toUpperCase():"",K=!!(t&&t.ctrlKey);Z==="LI"&&!K&&(N=U),Nt(k)&&h>=k.data.length&&(uZ(e.schema,k,N||r.getRoot())||(c=r.create("br"),a.insertNode(c),a.setStartAfter(c),a.setEndAfter(c),u=!0)),c=r.create("br"),mg(r,a,c),VI(e,c,u),e.undoManager.add()},mZ=(e,t)=>{const n=ye.fromTag("br");Ms(ye.fromDom(t),n),e.undoManager.add()},pZ=(e,t)=>{hZ(e.getBody(),t)||es(ye.fromDom(t),ye.fromTag("br"));const n=ye.fromTag("br");es(ye.fromDom(t),n),VI(e,n.dom,!1),e.undoManager.add()},gZ=e=>ss(e.getNode()),hZ=(e,t)=>gZ(ot.after(t))?!0:uu(e,ot.after(t)).map(n=>ss(n.getNode())).getOr(!1),HI=e=>e&&e.nodeName==="A"&&"href"in e,bZ=e=>e.fold(Pn,HI,HI,Pn),yZ=e=>{const t=zt(Qy,e),n=ot.fromRangeStart(e.selection.getRng());return Ag(t,e.getBody(),n).filter(bZ)},vZ=(e,t)=>{t.fold(bt,zt(mZ,e),zt(pZ,e),bt)},UI={insert:(e,t)=>{const n=yZ(e);n.isSome()?n.each(zt(vZ,e)):fZ(e,t)},fakeEventName:"insertLineBreak"},jI=(e,t)=>EP(e).filter(n=>t.length>0&&Si(ye.fromDom(n),t)).isSome(),xZ=e=>jI(e,a1(e)),wZ=e=>jI(e,ow(e)),op=He.generate([{br:[]},{block:[]},{none:[]}]),kZ=(e,t)=>wZ(e),ZI=e=>(t,n)=>$j(t)===e,WI=(e,t)=>(n,r)=>Wj(n)===e.toUpperCase()===t,_Z=e=>{const t=RT(e.dom,e.selection.getStart());return Zn(t)},MT=e=>WI("pre",e),CZ=()=>WI("summary",!0),UR=e=>(t,n)=>uh(t)===e,SZ=(e,t)=>xZ(e),jR=(e,t)=>t,EZ=e=>{const t=oi(e),n=RT(e.dom,e.selection.getStart());return Je(n)&&e.schema.isValidChild(n.nodeName,t)},TZ=e=>{const t=e.selection.getRng(),n=ye.fromDom(t.startContainer),a=yc(n,t.startOffset).map(c=>Tu(c)&&!Za(c));return t.collapsed&&a.getOr(!0)},Fp=(e,t)=>(n,r)=>lo(e,(c,u)=>c&&u(n,r),!0)?Y.some(t):Y.none(),zZ=(e,t)=>kD([Fp([kZ],op.none()),Fp([MT(!0),_Z],op.none()),Fp([CZ()],op.br()),Fp([MT(!0),UR(!1),jR],op.br()),Fp([MT(!0),UR(!1)],op.block()),Fp([MT(!0),UR(!0),jR],op.block()),Fp([MT(!0),UR(!0)],op.br()),Fp([ZI(!0),jR],op.br()),Fp([ZI(!0)],op.block()),Fp([SZ],op.br()),Fp([jR],op.br()),Fp([EZ],op.block()),Fp([TZ],op.block())],[e,!!(t&&t.shiftKey)]).getOr(op.none()),ZR=(e,t,n)=>{t.selection.isCollapsed()||Xu(t),!(Je(n)&&FR(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,n),Je(n)&&DT(t,e.fakeEventName))},$I=(e,t)=>{const n=()=>ZR(UI,e,t),r=()=>ZR(FI,e,t),a=zZ(e,t);switch(nw(e)){case"linebreak":a.fold(n,n,bt);break;case"block":a.fold(r,r,bt);break;case"invert":a.fold(r,n,bt);break;default:a.fold(n,r,bt);break}},qI=Wn(),OZ=qI.os.isiOS()&&qI.browser.isSafari(),GI=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),m6(e.undoManager),e.undoManager.transact(()=>{$I(e,t)}))},AZ=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(Nt(t)){const n=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=t.data.charAt(e.startOffset-1);return n.test(r)}else return!1},NZ=e=>{let t=Y.none();const n=a=>{t=Y.some(a.selection.getBookmark()),a.undoManager.add()},r=(a,c)=>{a.undoManager.undo(),t.fold(bt,u=>a.selection.moveToBookmark(u)),GI(a,c),t=Y.none()};e.on("keydown",a=>{a.keyCode===vn.ENTER&&(OZ&&AZ(e.selection.getRng())?n(e):GI(e,a))}),e.on("keyup",a=>{a.keyCode===vn.ENTER&&t.each(()=>r(e,a))})},DZ=(e,t,n)=>{const r=Qo.os.isMacOS()||Qo.os.isiOS();w0([{keyCode:vn.END,action:to(Dg,e,!0)},{keyCode:vn.HOME,action:to(Dg,e,!1)},...r?[]:[{keyCode:vn.HOME,action:to(Th,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:vn.END,action:to(Th,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:vn.END,action:to(bR,e,!0)},{keyCode:vn.HOME,action:to(bR,e,!1)},{keyCode:vn.END,action:to(Lx,e,!0,t)},{keyCode:vn.HOME,action:to(Lx,e,!1,t)}],n).each(a=>{n.preventDefault()})},RZ=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||DZ(e,t,n)})},BZ=e=>{e.on("input",t=>{t.isComposing||BB(e)})},MZ=Wn(),LZ=(e,t,n)=>{w0([{keyCode:vn.PAGE_UP,action:to(Lx,e,!1,t)},{keyCode:vn.PAGE_DOWN,action:to(Lx,e,!0,t)}],n)},KI=e=>e.stopImmediatePropagation(),YI=e=>e.keyCode===vn.PAGE_UP||e.keyCode===vn.PAGE_DOWN,XI=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",KI,!0):!n&&e.get()&&t.off("NodeChange",KI),e.set(n)},PZ=(e,t)=>{if(MZ.os.isMacOS())return;const n=qa(!1);e.on("keydown",r=>{YI(r)&&XI(n,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||LZ(e,t,r),YI(r)&&n.get()&&(XI(n,e,!1),e.nodeChanged())})},IZ=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||ar(t.getTargetRanges(),n=>!B1(e.dom,n)))&&t.preventDefault()})},JI=(e,t)=>{const n=t.container(),r=t.offset();return Nt(n)?(n.insertData(r,e),Y.some(ot(n,r+e.length))):Sc(t).map(a=>{const c=ye.fromText(e);return t.isAtEnd()?es(a,c):Ms(a,c),ot(c.dom,e.length)})},QI=zt(JI,Ro),e7=zt(JI," "),FZ=(e,t,n)=>HS(e,t,n)?QI(t):e7(t),VZ=e=>t=>t.fold(n=>Ku(e.dom,ot.before(n)),n=>ed(n),n=>Gm(n),n=>uu(e.dom,ot.after(n))),HZ=(e,t,n)=>r=>HS(e,r,n)?QI(t):e7(t),t7=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},UZ=(e,t)=>e.isEditable(e.getParent(t,"summary")),jZ=e=>{const t=ot.fromRangeStart(e.selection.getRng()),n=ye.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=zt(Qy,e),a=ot.fromRangeStart(e.selection.getRng());return Ag(r,e.getBody(),a).bind(VZ(n)).map(c=>()=>HZ(n,t,e.schema)(c).each(t7(e)))}else return Y.none()},ZZ=e=>{const t=()=>{const n=ye.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const r=ot.fromRangeStart(e.selection.getRng());FZ(n,r,e.schema).each(t7(e))};return Wi(Qo.browser.isFirefox()&&e.selection.isEditable()&&UZ(e.dom,e.selection.getRng().startContainer),t)},WZ=(e,t)=>{d2([{keyCode:vn.SPACEBAR,action:to(jZ,e)},{keyCode:vn.SPACEBAR,action:to(ZZ,e)}],t).each(n=>{t.preventDefault(),FR(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),DT(e,"insertText",{data:" "}))})},$Z=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||WZ(e,t)})},qZ=e=>f1(e)?[{keyCode:vn.TAB,action:to(Q8,e,!0)},{keyCode:vn.TAB,shiftKey:!0,action:to(Q8,e,!1)}]:[],GZ=(e,t)=>{w0([...qZ(e)],t).each(n=>{t.preventDefault()})},KZ=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||GZ(e,t)})},YZ=e=>{if(e.addShortcut("Meta+P","","mcePrint"),Tj(e),tp(e))return qa(null);{const t=qD(e);return IZ(e),Ii(e),cU(e,t),jj(e,t),NZ(e),$Z(e),BZ(e),KZ(e),RZ(e,t),PZ(e,t),t}};class XZ{constructor(t){this.lastPath=[],this.editor=t;let n;const r=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",a=>{const c=t.selection.getRng(),u={startContainer:c.startContainer,startOffset:c.startOffset,endContainer:c.endContainer,endOffset:c.endOffset};(a.type==="nodechange"||!ok(u,n))&&t.dispatch("SelectionChange"),n=u}),t.on("contextmenu",()=>{t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const a=t.selection.getStart(!0);a&&nd(t)&&!r.isSameElementPath(a)&&t.dom.isChildOf(a,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",a=>{!a.isDefaultPrevented()&&nd(t)&&(t.selection.getNode().nodeName==="IMG"?od.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const n=this.editor.selection;let r;if(this.editor.initialized&&n&&!Z2(this.editor)&&!this.editor.mode.isReadOnly()){const a=this.editor.getBody();r=n.getStart(!0)||a,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,a))&&(r=a);const c=[];this.editor.dom.getParent(r,u=>u===a?!0:(c.push(u),!1)),this.editor.dispatch("NodeChange",{...t,element:r,parents:c})}}isSameElementPath(t){let n;const r=this.editor,a=va(r.dom.getParents(t,Do,r.getBody()));if(a.length===this.lastPath.length){for(n=a.length;n>=0&&a[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=a,!0}return this.lastPath=a,!1}}const n7=am("image"),JZ=e=>{const t=e;return Y.from(t[n7])},QZ=(e,t)=>{const n=e;n[n7]=t},DP=am("event"),eW=e=>{const t=e;return Y.from(t[DP])},WR=e=>t=>{const n=t;n[DP]=e},tW=(e,t)=>WR(t)(e),o7=WR(0),nW=WR(2),oW=WR(1),rW=(e=>t=>{const n=t;return Y.from(n[DP]).exists(r=>r===e)})(0),sW=()=>Object.freeze({length:0,item:e=>null}),RP=am("mode"),aW=e=>{const t=e;return Y.from(t[RP])},$R=e=>t=>{const n=t;n[RP]=e},r7=(e,t)=>$R(t)(e),s7=$R(0),BP=$R(2),iW=$R(1),a7=e=>t=>{const n=t;return Y.from(n[RP]).exists(r=>r===e)},g2=a7(0),i7=a7(1),lW=(e,t)=>({...t,get length(){return t.length},add:(n,r)=>{if(g2(e))if(At(n)){if(!wo(r))return t.add(n,r)}else return t.add(n);return null},remove:n=>{g2(e)&&t.remove(n)},clear:()=>{g2(e)&&t.clear()}}),cW=["none","copy","link","move"],dW=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],MP=()=>{const e=new window.DataTransfer;let t="move",n="all";const r={get dropEffect(){return t},set dropEffect(a){_o(cW,a)&&(t=a)},get effectAllowed(){return n},set effectAllowed(a){rW(r)&&_o(dW,a)&&(n=a)},get items(){return lW(r,e.items)},get files(){return i7(r)?sW():e.files},get types(){return e.types},setDragImage:(a,c,u)=>{g2(r)&&(QZ(r,{image:a,x:c,y:u}),e.setDragImage(a,c,u))},getData:a=>i7(r)?"":e.getData(a),setData:(a,c)=>{g2(r)&&e.setData(a,c)},clearData:a=>{g2(r)&&e.clearData(a)}};return s7(r),r},uW=e=>{const t=MP(),n=aW(e);return BP(e),o7(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,JZ(e).each(r=>t.setDragImage(r.image,r.x,r.y)),ut(e.types,r=>{r!=="Files"&&t.setData(r,e.getData(r))}),ut(e.files,r=>t.items.add(r)),eW(e).each(r=>{tW(t,r)}),n.each(r=>{r7(e,r),r7(t,r)}),t},fW=e=>{const t=e.getData("text/html");return t===""?Y.none():Y.some(t)},l7=(e,t)=>e.setData("text/html",t),c7="x-tinymce/html",qR=ft(c7),LP="<!-- "+c7+" -->",mW=e=>LP+e,pW=e=>e.replace(LP,""),d7=e=>e.indexOf(LP)!==-1,gW=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),hW=(e,t)=>{let n="<"+e;const r=Vi(t,(a,c)=>c+'="'+la.encodeAllRaw(a)+'"');return r.length&&(n+=" "+r.join(" ")),n+">"},bW=(e,t,n)=>{const r=e.split(/\n\n/),a=hW(t,n),c="</"+t+">",u=no(r,k=>k.split(/\n/).join("<br />")),h=k=>a+k+c;return u.length===1?u[0]:no(u,h).join("")},u7="%MCEPASTEBIN%",yW=(e,t)=>{const{dom:n,selection:r}=e,a=e.getBody();t.set(r.getRng());const c=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},u7);Qo.browser.isFirefox()&&n.setStyle(c,"left",n.getStyle(a,"direction",!0)==="rtl"?65535:-65535),n.bind(c,"beforedeactivate focusin focusout",u=>{u.stopPropagation()}),c.focus(),r.select(c,!0)},vW=(e,t)=>{const n=e.dom;if(PP(e)){let r;const a=t.get();for(;r=PP(e);)n.remove(r),n.unbind(r);a&&e.selection.setRng(a)}t.set(null)},PP=e=>e.dom.get("mcepastebin"),xW=e=>Je(e)&&e.id==="mcepastebin",wW=e=>{const t=e.dom,n=(u,h)=>{u.appendChild(h),t.remove(h,!0)},[r,...a]=dt(e.getBody().childNodes,xW);ut(a,u=>{n(r,u)});const c=t.select("div[id=mcepastebin]",r);for(let u=c.length-1;u>=0;u--){const h=t.create("div");r.insertBefore(h,c[u]),n(h,c[u])}return r?r.innerHTML:""},f7=e=>e===u7,kW=e=>{const t=qa(null);return{create:()=>yW(e,t),remove:()=>vW(e,t),getEl:()=>PP(e),getHtml:()=>wW(e),getLastRng:t.get}},m7=(e,t)=>(Ut.each(t,n=>{ln(n,RegExp)?e=e.replace(n,""):e=e.replace(n[0],n[1])}),e),_W=e=>{const t=Zu(),n=Qb({},t);let r="";const a=t.getVoidElements(),c=Ut.makeMap("script noscript style textarea video audio iframe object"," "),u=t.getBlockElements(),h=k=>{const N=k.name,U=k;if(N==="br"){r+=`
`;return}if(N!=="wbr"){if(a[N]&&(r+=" "),c[N]){r+=" ";return}if(k.type===3&&(r+=k.value),!(k.name in t.getVoidElements())){let Z=k.firstChild;if(Z)do h(Z);while(Z=Z.next)}u[N]&&U.next&&(r+=`
`,N==="p"&&(r+=`
`))}};return e=m7(e,[/<!\[[^\]]+\]>/g]),h(n.parse(e)),r},p7=e=>(e=m7(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(n,r,a)=>!r&&!a?" ":Ro],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),CW=e=>{let t=0;return()=>e+t++},SW=e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Ut.hasOwn(n,t)?"image/"+n[t]:"image/"+t},EW=(e,t)=>{const n=Qb({sanitize:_b(e),sandbox_iframes:m1(e)},e.schema);n.addNodeFilter("meta",a=>{Ut.each(a,c=>{c.remove()})});const r=n.parse(t,{forced_root_block:!1,isRootContent:!0});return Wl({validate:!0},e.schema).serialize(r)},g7=(e,t)=>({content:e,cancelled:t}),TW=(e,t,n)=>{const r=e.dom.create("div",{style:"display:none"},t),a=R3(e,r,n);return g7(a.node.innerHTML,a.isDefaultPrevented())},zW=(e,t,n)=>{const r=ZC(e,t,n),a=EW(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?TW(e,a,n):g7(a,r.isDefaultPrevented())},OW=(e,t,n)=>zW(e,t,n),IP=(e,t)=>(e.insertContent(t,{merge:c1(e),paste:!0}),!0),FP=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),AW=(e,t)=>FP(t)&&ar(u1(e),n=>vl(t.toLowerCase(),`.${n.toLowerCase()}`)),NW=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),DW=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),RW=(e,t,n)=>!e.selection.isCollapsed()&&FP(t)?DW(e,t,n):!1,BW=(e,t,n)=>AW(e,t)?NW(e,t,n):!1,MW=(e,t)=>{Ut.each([RW,BW,IP],n=>!n(e,t,IP))},LW=(e,t,n)=>{n||!Py(e)?IP(e,t):MW(e,t)},PW=CW("mceclip"),IW=e=>{const t=MP();return l7(t,e),BP(t),t},h7=(e,t,n,r,a)=>{const c=OW(e,t,n);if(!c.cancelled){const u=c.content,h=()=>LW(e,u,r);a?FR(e,"insertFromPaste",{dataTransfer:IW(u)}).isDefaultPrevented()||(h(),DT(e,"insertFromPaste")):h()}},GR=(e,t,n,r)=>{const a=n||d7(t);h7(e,pW(t),a,!1,r)},VP=(e,t,n)=>{const r=e.dom.encode(t).replace(/\r\n/g,`
`),a=hf(r,d1(e)),c=bW(a,oi(e),hg(e));h7(e,c,!1,!0,n)},b7=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const r=e.types[n];try{t[r]=e.getData(r)}catch{t[r]=""}}return t},Uv=(e,t)=>t in e&&e[t].length>0,y7=e=>Uv(e,"text/html")||Uv(e,"text/plain"),FW=(e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Je(n)?e.dom.encode(n[1]):void 0},VW=(e,t,n,r)=>{const a=PW(),c=lc(e)&&Je(n.name),u=c?FW(e,n.name):a,h=c?n.name:void 0,k=t.create(a,n,r,u,h);return t.add(k),k},HW=(e,t)=>{FE(t.uri).each(({data:n,type:r,base64Encoded:a})=>{const c=a?n:btoa(n),u=t.file,h=e.editorUpload.blobCache,k=h.getByData(c,r),N=k??VW(e,h,u,c);GR(e,`<img src="${N.blobUri()}">`,!1,!0)})},UW=e=>e.type==="paste",jW=e=>Promise.all(no(e,t=>oA(t).then(n=>({file:t,uri:n})))),ZW=e=>{const t=u1(e);return n=>zr(n.type,"image/")&&ar(t,r=>SW(r)===n.type)},WW=(e,t)=>{const n=t.items?go(_n(t.items),a=>a.kind==="file"?[a.getAsFile()]:[]):[],r=t.files?_n(t.files):[];return dt(n.length>0?n:r,ZW(e))},v7=(e,t,n)=>{const r=UW(t)?t.clipboardData:t.dataTransfer;if(F0(e)&&r){const a=WW(e,r);if(a.length>0)return t.preventDefault(),jW(a).then(c=>{n&&e.selection.setRng(n),ut(c,u=>{HW(e,u)})}),!0}return!1},$W=e=>{var t,n;return Qo.os.isAndroid()&&((n=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||n===void 0?void 0:n.length)===0},qW=e=>vn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,HP=(e,t,n,r,a)=>{let c=p7(n);const u=Uv(t,qR())||d7(n),h=!u&&gW(c),k=FP(c);(f7(c)||!c.length||h&&!k)&&(r=!0),(r||k)&&(Uv(t,"text/plain")&&h?c=t["text/plain"]:c=_W(c)),!f7(c)&&(r?VP(e,c,a):GR(e,c,u,a))},GW=(e,t,n)=>{let r;const a=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",c=>{qW(c)&&!c.isDefaultPrevented()&&(r=c.shiftKey&&c.keyCode===86)}),e.on("paste",c=>{if(c.isDefaultPrevented()||$W(c))return;const u=n.get()==="text"||r;r=!1;const h=b7(c.clipboardData);!y7(h)&&v7(e,c,a())||(Uv(h,"text/html")?(c.preventDefault(),HP(e,h,h["text/html"],u,!0)):Uv(h,"text/plain")&&Uv(h,"text/uri-list")?(c.preventDefault(),HP(e,h,h["text/plain"],u,!0)):(t.create(),od.setEditorTimeout(e,()=>{const k=t.getHtml();t.remove(),HP(e,h,k,u,!1)},0)))})},KW=e=>{const t=a=>zr(a,"webkit-fake-url"),n=a=>zr(a,"data:"),r=a=>{var c;return((c=a.data)===null||c===void 0?void 0:c.paste)===!0};e.parser.addNodeFilter("img",(a,c,u)=>{if(!F0(e)&&r(u))for(const h of a){const k=h.attr("src");At(k)&&!h.attr("data-mce-object")&&k!==Qo.transparentSrc&&(t(k)||!vw(e)&&n(k))&&h.remove()}})},YW=(e,t,n)=>{GW(e,t,n),KW(e)},XW=(e,t)=>{t.get()==="text"?(t.set("html"),WC(e,!1)):(t.set("text"),WC(e,!0)),e.focus()},JW=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{XW(e,t)}),e.addCommand("mceInsertClipboardContent",(n,r)=>{r.html&&GR(e,r.html,r.internal,!1),r.text&&VP(e,r.text,!1)})},QW=(e,t,n)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(qR(),t),!0}catch{return!1}else return!1},x7=(e,t,n,r)=>{QW(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):n(t.html,r)},w7=e=>(t,n)=>{const{dom:r,selection:a}=e,c=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),u=r.create("div",{contenteditable:"true"},t);r.setStyles(c,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),c.appendChild(u),r.add(e.getBody(),c);const h=a.getRng();u.focus();const k=r.createRng();k.selectNodeContents(u),a.setRng(k),od.setEditorTimeout(e,()=>{a.setRng(h),r.remove(c),n()},0)},k7=e=>({html:mW(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),e$=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),_7=e=>!e.selection.isCollapsed()||e$(e),t$=e=>t=>{!t.isDefaultPrevented()&&_7(e)&&e.selection.isEditable()&&x7(t,k7(e),w7(e),()=>{if(Qo.browser.isChromium()||Qo.browser.isFirefox()){const n=e.selection.getRng();od.setEditorTimeout(e,()=>{e.selection.setRng(n),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},n$=e=>t=>{!t.isDefaultPrevented()&&_7(e)&&x7(t,k7(e),w7(e),bt)},o$=e=>{e.on("cut",t$(e)),e.on("copy",n$(e))},C7=(e,t)=>{var n,r;return wg.getCaretRangeFromPoint((n=t.clientX)!==null&&n!==void 0?n:0,(r=t.clientY)!==null&&r!==void 0?r:0,e.getDoc())},r$=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},S7=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},s$=e=>ar(e.files,t=>/^image\//.test(t.type)),a$=(e,t,n,r)=>{const a=e.getParent(n,u=>Hu(t,u));if(!qe(e.getParent(n,"summary")))return!0;if(a&&Yn(r,"text/html")){const u=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!qe(u.querySelector(a.nodeName.toLowerCase()))}else return!1},i$=e=>{e.on("input",t=>{const n=r=>qe(r.querySelector("summary"));if(t.inputType==="deleteByDrag"){const r=dt(e.dom.select("details"),n);ut(r,a=>{ss(a.firstChild)&&a.firstChild.remove();const c=e.dom.create("summary");c.appendChild(Sm().dom),a.prepend(c)})}})},l$=(e,t)=>{kb(e)&&e.on("dragend dragover draggesture dragdrop drop drag",n=>{n.preventDefault(),n.stopPropagation()}),F0(e)||e.on("drop",n=>{const r=n.dataTransfer;r&&s$(r)&&n.preventDefault()}),e.on("drop",n=>{if(n.isDefaultPrevented())return;const r=C7(e,n);if(Zn(r))return;const a=b7(n.dataTransfer),c=Uv(a,qR());if((!y7(a)||r$(a))&&v7(e,n,r))return;const u=a[qR()],h=u||a["text/html"]||a["text/plain"],k=a$(e.dom,e.schema,r.startContainer,a),N=t.get();N&&!k||h&&(n.preventDefault(),od.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(u||N&&k)&&e.execCommand("Delete"),S7(e,r);const U=p7(h);a["text/html"]?GR(e,U,c,!0):VP(e,U,!0)})}))}),e.on("dragstart",n=>{t.set(!0)}),e.on("dragover dragend",n=>{F0(e)&&!t.get()&&(n.preventDefault(),S7(e,C7(e,n))),n.type==="dragend"&&t.set(!1)}),i$(e)},c$=e=>{const t=a=>c=>{a(e,c)},n=hw(e);un(n)&&e.on("PastePreProcess",t(n));const r=K2(e);un(r)&&e.on("PastePostProcess",t(r))},d$=(e,t)=>{e.on("PastePreProcess",n=>{n.content=t(e,n.content,n.internal)})},u$=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,E7=e=>Ut.trim(e).replace(u$,Vl).toLowerCase(),f$=(e,t,n)=>{const r=Y2(e);if(n||r==="all"||!yw(e))return t;const a=r?r.split(/[, ]/):[];if(a&&r!=="none"){const c=e.dom,u=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(h,k,N,U)=>{const Z=c.parseStyle(c.decode(N)),K={};for(let ve=0;ve<a.length;ve++){const ie=Z[a[ve]];let we=ie,Be=c.getStyle(u,a[ve],!0);/color/.test(a[ve])&&(we=E7(we),Be=E7(Be)),Be!==we&&(K[a[ve]]=ie)}const le=c.serializeStyle(K,"span");return le?k+' style="'+le+'"'+U:k+U})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(c,u,h,k)=>u+' style="'+h+'"'+k),t},m$=e=>{(Qo.browser.isChromium()||Qo.browser.isSafari())&&d$(e,f$)},p$=e=>{const t=qa(!1),n=qa(V0(e)?"text":"html"),r=kW(e);m$(e),JW(e,n),c$(e),e.on("PreInit",()=>{o$(e),l$(e,t),YW(e,r,n)})},g$=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},h$=e=>{e.parser.addNodeFilter("details",t=>{const n=Q2(e);ut(t,r=>{n==="expanded"?r.attr("open","open"):n==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const n=eC(e);ut(t,r=>{n==="expanded"?r.attr("open","open"):n==="collapsed"&&r.attr("open",null)})})},b$=e=>{g$(e),h$(e)},y$=ss,T7=Nt,v$=e=>$r(e.dom),x$=e=>tc(e.dom),z7=e=>t=>Pe(ye.fromDom(e),t),w$=(e,t,n)=>at(ye.fromDom(e),r=>x$(r)||n.isBlock(Co(r)),z7(t)).getOr(ye.fromDom(t)).dom,O7=(e,t)=>at(ye.fromDom(e),v$,z7(t)),A7=(e,t,n)=>{const r=new pi(e,t),a=n?r.next.bind(r):r.prev.bind(r);let c=e;for(let u=n?e:a();u&&!y$(u);u=a())kr(u)&&(c=u);return c},k$=(e,t,n)=>{const a=ot.fromRangeStart(e).getNode(),c=w$(a,t,n),u=A7(a,c,!1),h=A7(a,c,!0),k=document.createRange();return O7(u,c).fold(()=>{T7(u)?k.setStart(u,0):k.setStartBefore(u)},N=>k.setStartBefore(N.dom)),O7(h,c).fold(()=>{T7(h)?k.setEnd(h,h.data.length):k.setEndAfter(h)},N=>k.setEndAfter(N.dom)),k},_$=e=>{const t=k$(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(dE(t))},C$=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),_$(e))})};var h2;(function(e){e.Before="before",e.After="after"})(h2||(h2={}));const S$=(e,t)=>Math.abs(e.left-t),E$=(e,t)=>Math.abs(e.right-t),T$=(e,t)=>e>=t.top&&e<=t.bottom,z$=(e,t)=>e.top<t.bottom&&e.bottom>t.top,O$=(e,t)=>{const n=Ol(e,t)/Math.min(e.height,t.height);return z$(e,t)&&n>.5},A$=(e,t)=>{const n=dt(e,r=>T$(t,r));return Ey(n).fold(()=>[[],e],r=>{const{pass:a,fail:c}=Ft(e,u=>O$(u,r));return[a,c]})},N$=(e,t)=>({node:e.node,position:S$(e,t)<E$(e,t)?h2.Before:h2.After}),D$=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),UP=(e,t,n,r)=>{const a=Z=>kr(Z.node)?Y.some(Z):kn(Z.node)?UP(_n(Z.node.childNodes),t,n,!1):Y.none(),c=(Z,K,le)=>a(K).filter(ve=>Math.abs(le(Z,t,n)-le(ve,t,n))<2&&Nt(ve.node)),u=(Z,K)=>{const le=Mo(Z,(ve,ie)=>K(ve,t,n)-K(ie,t,n));return Ws(le,a).map(ve=>r&&!Nt(ve.node)&&le.length>1?c(ve,le[1],K).getOr(ve):ve)},[h,k]=A$(LD(e),n),{pass:N,fail:U}=Ft(k,Z=>Z.top<n);return u(h,D$).orThunk(()=>u(U,Ty)).orThunk(()=>u(N,Ty))},R$=(e,t,n,r)=>{const a=(c,u)=>{const h=N=>kn(N)&&N.classList.contains("mce-drag-container"),k=dt(c.dom.childNodes,bo(h));return u.fold(()=>UP(k,n,r,!0),N=>{const U=dt(k,Z=>Z!==N.dom);return UP(U,n,r,!0)}).orThunk(()=>(Pe(c,e)?Y.none():Rr(c)).bind(U=>a(U,Y.some(c))))};return a(t,Y.none())},B$=(e,t,n)=>{const r=ye.fromDom(e),a=Sn(r),u=ye.fromPoint(a,t,n).filter(h=>Dt(r,h)).getOr(r);return R$(r,u,t,n)},N7=(e,t,n)=>B$(e,t,n).filter(r=>Vy(r.node)).map(r=>N$(r,t)),D7=e=>{var t,n;const r=e.getBoundingClientRect(),a=e.ownerDocument,c=a.documentElement,u=a.defaultView;return{top:r.top+((t=u==null?void 0:u.scrollY)!==null&&t!==void 0?t:0)-c.clientTop,left:r.left+((n=u==null?void 0:u.scrollX)!==null&&n!==void 0?n:0)-c.clientLeft}},M$=e=>e.inline?D7(e.getBody()):{left:0,top:0},L$=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},P$=e=>{const t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},a={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:a},I$=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=D7(e.getContentAreaContainer()),r=P$(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}},F$=(e,t,n)=>({pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}),V$=(e,t)=>F$(M$(e),L$(e),I$(e,t)),R7=e=>({target:e,srcElement:e}),H$=(e,t,n,r)=>({...t,dataTransfer:r,type:e,...R7(n)}),U$=(e,t,n)=>{const r=St("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:bt,stopImmediatePropagation:bt,stopPropagation:bt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:n,...R7(t)}},j$=(e,t)=>{const n=uW(e);return t==="dragstart"?(o7(n),s7(n)):t==="drop"?(nW(n),BP(n)):(oW(n),iW(n)),n},Z$=(e,t,n,r)=>{const a=j$(n,e);return wo(r)?U$(e,t,a):H$(e,r,t,a)},KR=32,W$=100,YR=8,XR=16,B7=$r,$$=Um(B7,tc),q$=(e,t,n)=>B7(n)&&n!==t&&e.isEditable(n.parentElement),G$=(e,t,n)=>Zn(t)||t===n||e.dom.isChildOf(t,n)?!1:e.dom.isEditable(t),K$=(e,t,n,r)=>{const a=e.dom,c=t.cloneNode(!0);a.setStyles(c,{width:n,height:r}),a.setAttrib(c,"data-mce-selected",null);const u=a.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return a.setStyles(u,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),a.setStyles(c,{margin:0,boxSizing:"border-box"}),u.appendChild(c),u},Y$=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},JR=(e,t)=>n=>()=>{const r=e==="left"?n.scrollX:n.scrollY;n.scroll({[e]:r+t,behavior:"smooth"})},M7=JR("left",-KR),L7=JR("left",KR),P7=JR("top",-KR),I7=JR("top",KR),X$=(e,t,n,r,a,c,u,h,k,N,U,Z)=>{let K=0,le=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>a&&(K=t.pageX+n-a),t.pageY+r>c&&(le=t.pageY+r-c),e.style.width=n-K+"px",e.style.height=r-le+"px";const ve=k.clientHeight,ie=k.clientWidth,we=u+k.getBoundingClientRect().top,Be=h+k.getBoundingClientRect().left;U.on(Fe=>{Fe.intervalId.clear(),Fe.dragging&&Z&&(u+YR>=ve?Fe.intervalId.set(I7(N)):u-YR<=0?Fe.intervalId.set(P7(N)):h+YR>=ie?Fe.intervalId.set(L7(N)):h-YR<=0?Fe.intervalId.set(M7(N)):we+XR>=window.innerHeight?Fe.intervalId.set(I7(window)):we-XR<=0?Fe.intervalId.set(P7(window)):Be+XR>=window.innerWidth?Fe.intervalId.set(L7(window)):Be-XR<=0&&Fe.intervalId.set(M7(window)))})},F7=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},J$=(e,t)=>{const n=e.getParent(t.parentNode,e.isBlock);F7(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&pf(ye.fromDom(n))},Q$=e=>e.button===0,eq=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),tq=(e,t)=>n=>{if(Q$(n)){const r=mo(t.dom.getParents(n.target),$$).getOr(null);if(Je(r)&&q$(t.dom,t.getBody(),r)){const a=t.dom.getPos(r),c=t.getBody(),u=t.getDoc().documentElement;e.set({element:r,dataTransfer:MP(),dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?c.scrollWidth:u.offsetWidth)-2,maxY:(t.inline?c.scrollHeight:u.offsetHeight)-2,relX:n.pageX-a.x,relY:n.pageY-a.y,width:r.offsetWidth,height:r.offsetHeight,ghost:K$(t,r,r.offsetWidth,r.offsetHeight),intervalId:tb(W$)})}}},nq=(e,t,n)=>{e._selectionOverrides.hideFakeCaret(),N7(e.getBody(),t,n).fold(()=>e.selection.placeCaretAt(t,n),r=>{const a=e._selectionOverrides.showCaret(1,r.node,r.position===h2.Before,!1);a?e.selection.setRng(a):e.selection.placeCaretAt(t,n)})},LT=(e,t,n,r,a)=>{t==="dragstart"&&l7(r,e.dom.getOuterHTML(n));const c=Z$(t,n,r,a);return e.dispatch(t,c)},oq=(e,t)=>{const n=eh((a,c)=>nq(t,a,c),0);t.on("remove",n.cancel);const r=e;return a=>e.on(c=>{const u=Math.max(Math.abs(a.screenX-c.screenX),Math.abs(a.screenY-c.screenY));if(!c.dragging&&u>10){const h=LT(t,"dragstart",c.element,c.dataTransfer,a);if(Je(h.dataTransfer)&&(c.dataTransfer=h.dataTransfer),h.isDefaultPrevented())return;c.dragging=!0,t.focus()}if(c.dragging){const h=a.currentTarget===t.getDoc().documentElement,k=eq(c,V$(t,a));Y$(c.ghost,t.getBody()),X$(c.ghost,k,c.width,c.height,c.maxX,c.maxY,a.clientY,a.clientX,t.getContentAreaContainer(),t.getWin(),r,h),n.throttle(a.clientX,a.clientY)}})},rq=e=>{const t=e.getSel();if(Je(t)){const r=t.getRangeAt(0).startContainer;return Nt(r)?r.parentNode:r}else return null},sq=(e,t)=>n=>{e.on(r=>{var a;if(r.intervalId.clear(),r.dragging){if(G$(t,rq(t.selection),r.element)){const c=(a=t.getDoc().elementFromPoint(n.clientX,n.clientY))!==null&&a!==void 0?a:t.getBody();LT(t,"drop",c,r.dataTransfer,n).isDefaultPrevented()||t.undoManager.transact(()=>{J$(t.dom,r.element),fW(r.dataTransfer).each(h=>t.insertContent(h)),t._selectionOverrides.hideFakeCaret()})}LT(t,"dragend",t.getBody(),r.dataTransfer,n)}}),H7(e)},V7=(e,t,n)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&n.fold(()=>LT(t,"dragend",r.element,r.dataTransfer),a=>LT(t,"dragend",r.element,r.dataTransfer,a))}),H7(e)},aq=(e,t)=>n=>V7(e,t,Y.some(n)),H7=e=>{e.on(t=>{t.intervalId.clear(),F7(t.ghost)}),e.clear()},iq=e=>{const t=$u(),n=us.DOM,r=document,a=tq(t,e),c=oq(t,e),u=sq(t,e),h=aq(t,e);e.on("mousedown",a),e.on("mousemove",c),e.on("mouseup",u),n.bind(r,"mousemove",c),n.bind(r,"mouseup",h),e.on("remove",()=>{n.unbind(r,"mousemove",c),n.unbind(r,"mouseup",h)}),e.on("keydown",k=>{k.keyCode===vn.ESC&&V7(t,e,Y.none())})},lq=e=>{const t=a=>{if(!a.isDefaultPrevented()){const c=a.dataTransfer;c&&(_o(c.types,"Files")||c.files.length>0)&&(a.preventDefault(),a.type==="drop"&&zx(e,"Dropped file type is not supported"))}},n=a=>{dv(e,a.target)&&t(a)},r=()=>{const a=us.DOM,c=e.dom,u=document,h=e.inline?e.getBody():e.getDoc(),k=["drop","dragover"];ut(k,N=>{a.bind(u,N,n),c.bind(h,N,t)}),e.on("remove",()=>{ut(k,N=>{a.unbind(u,N,n),c.unbind(h,N,t)})})};e.on("init",()=>{od.setEditorTimeout(e,r,0)})},cq=e=>{iq(e),My(e)&&lq(e)},dq=e=>{const t=eh(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const n=e.selection.getRng();if(n.collapsed){const r=nT(e,n,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},uq=e=>{e.on("init",()=>{e.on("focusin",t=>{const n=t.target;if(gn(n)){const r=_h(e.getBody(),n),a=$r(r)?r:n;e.selection.getNode()!==a&&Rx(e,a).each(c=>e.selection.setRng(c))}})})},PT=$r,U7=(e,t)=>_h(e.getBody(),t),fq=e=>{const t=e.selection,n=e.dom,r=e.getBody(),a=W0(e,r,n.isBlock,()=>Lb(e)),c="sel-"+n.uniqueId(),u="data-mce-selected";let h;const k=mn=>Je(mn)&&n.hasClass(mn,"mce-offscreen-selection"),N=mn=>mn!==r&&(PT(mn)||gn(mn))&&n.isChildOf(mn,r)&&n.isEditable(mn.parentNode),U=mn=>{mn&&t.setRng(mn)},Z=(mn,it,tt,Mt=!0)=>e.dispatch("ShowCaret",{target:it,direction:mn,before:tt}).isDefaultPrevented()?null:(Mt&&t.scrollIntoView(it,mn===-1),a.show(tt,it)),K=mn=>{mn.hasAttribute("data-mce-caret")&&(Em(mn),t.scrollIntoView(mn))},le=()=>{e.on("click",it=>{n.isEditable(it.target)||(it.preventDefault(),e.focus())}),e.on("blur NewBlock",We),e.on("ResizeWindow FullscreenStateChanged",a.reposition),e.on("tap",it=>{const tt=it.target,Mt=U7(e,tt);PT(Mt)?(it.preventDefault(),Rx(e,Mt).each(Ve)):N(tt)&&Rx(e,tt).each(Ve)},!0),e.on("mousedown",it=>{const tt=it.target;if(tt!==r&&tt.nodeName!=="HTML"&&!n.isChildOf(tt,r)||!DN(e,it.clientX,it.clientY))return;We(),$t();const Mt=U7(e,tt);PT(Mt)?(it.preventDefault(),Rx(e,Mt).each(Ve)):N7(r,it.clientX,it.clientY).each(hn=>{it.preventDefault();const Fn=Z(1,hn.node,hn.position===h2.Before,!1);U(Fn),Ys(Mt)?Mt.focus():e.getBody().focus()})}),e.on("keypress",it=>{vn.modifierPressed(it)||PT(t.getNode())&&it.preventDefault()}),e.on("GetSelectionRange",it=>{let tt=it.range;if(h){if(!h.parentNode){h=null;return}tt=tt.cloneRange(),tt.selectNode(h),it.range=tt}}),e.on("SetSelectionRange",it=>{it.range=we(it.range);const tt=Ve(it.range,it.forward);tt&&(it.range=tt)});const mn=it=>kn(it)&&it.id==="mcepastebin";e.on("AfterSetSelectionRange",it=>{const tt=it.range,Mt=tt.startContainer.parentElement;!ie(tt)&&!mn(Mt)&&$t(),k(Mt)||We()}),cq(e),dq(e),uq(e)},ve=mn=>Tn(mn)||La(mn)||$a(mn),ie=mn=>ve(mn.startContainer)||ve(mn.endContainer),we=mn=>{const it=e.schema.getVoidElements(),tt=n.createRng(),Mt=mn.startContainer,hn=mn.startOffset,Fn=mn.endContainer,Ho=mn.endOffset;return Yn(it,Mt.nodeName.toLowerCase())?hn===0?tt.setStartBefore(Mt):tt.setStartAfter(Mt):tt.setStart(Mt,hn),Yn(it,Fn.nodeName.toLowerCase())?Ho===0?tt.setEndBefore(Fn):tt.setEndAfter(Fn):tt.setEnd(Fn,Ho),tt},Be=(mn,it)=>{const tt=ye.fromDom(e.getBody()),Mt=e.getDoc(),hn=Ra(tt,"#"+c).getOrThunk(()=>{const Wo=ye.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Mt);return Fr(Wo,"id",c),Mr(tt,Wo),Wo}),Fn=n.createRng();mi(hn),Ba(hn,[ye.fromText(Ro,Mt),ye.fromDom(it),ye.fromText(Ro,Mt)]),Fn.setStart(hn.dom.firstChild,1),Fn.setEnd(hn.dom.lastChild,0),Ml(hn,{top:n.getPos(mn,e.getBody()).y+"px"}),J3(hn);const Ho=t.getSel();return Ho&&(Ho.removeAllRanges(),Ho.addRange(Fn)),Fn},Fe=mn=>{const it=mn.cloneNode(!0),tt=e.dispatch("ObjectSelected",{target:mn,targetClone:it});if(tt.isDefaultPrevented())return null;const Mt=Be(mn,tt.targetClone),hn=ye.fromDom(mn);return ut(zi(ye.fromDom(e.getBody()),`*[${u}]`),Fn=>{Pe(hn,Fn)||hs(Fn,u)}),n.getAttrib(mn,u)||mn.setAttribute(u,"1"),h=mn,$t(),Mt},Ve=(mn,it)=>{if(!mn)return null;if(mn.collapsed){if(!ie(mn)){const Fn=it?1:-1,Ho=Cc(Fn,r,mn),Wo=Ho.getNode(!it);if(Je(Wo)){if(Vy(Wo))return Z(Fn,Wo,it?!Ho.isAtEnd():!1,!1);if(rn(Wo)&&$r(Wo.nextSibling)){const Is=n.createRng();return Is.setStart(Wo,0),Is.setEnd(Wo,0),Is}}const gs=Ho.getNode(it);if(Je(gs)){if(Vy(gs))return Z(Fn,gs,it?!1:!Ho.isAtEnd(),!1);if(rn(gs)&&$r(gs.previousSibling)){const Is=n.createRng();return Is.setStart(gs,1),Is.setEnd(gs,1),Is}}}return null}let tt=mn.startContainer,Mt=mn.startOffset;const hn=mn.endOffset;if(Nt(tt)&&Mt===0&&PT(tt.parentNode)&&(tt=tt.parentNode,Mt=n.nodeIndex(tt),tt=tt.parentNode),!kn(tt))return null;if(hn===Mt+1&&tt===mn.endContainer){const Fn=tt.childNodes[Mt];if(N(Fn))return Fe(Fn)}return null},We=()=>{h&&h.removeAttribute(u),Ra(ye.fromDom(e.getBody()),"#"+c).each(lr),h=null},Ct=()=>{a.destroy(),h=null},$t=()=>{a.hide()};return tp(e)||le(),{showCaret:Z,showBlockCaretContainer:K,hideFakeCaret:$t,destroy:Ct}},mq=(e,t)=>{let n=t;for(let r=e.previousSibling;Nt(r);r=r.previousSibling)n+=r.data.length;return n},j7=(e,t,n,r,a)=>{if(Nt(n)&&(r<0||r>n.data.length))return[];const c=a&&Nt(n)?[mq(n,r)]:[r];let u=n;for(;u!==t&&u.parentNode;)c.push(e.nodeIndex(u,a)),u=u.parentNode;return u===t?c.reverse():[]},jP=(e,t,n,r,a,c,u=!1)=>{const h=j7(e,t,n,r,u),k=j7(e,t,a,c,u);return{start:h,end:k}},Z7=(e,t)=>{const n=t.slice(),r=n.pop();return B(r)?lo(n,(c,u)=>c.bind(h=>Y.from(h.childNodes[u])),Y.some(e)).bind(c=>Nt(c)&&(r<0||r>c.data.length)?Y.none():Y.some({node:c,offset:r})):Y.none()},W7=(e,t)=>Z7(e,t.start).bind(({node:n,offset:r})=>Z7(e,t.end).map(({node:a,offset:c})=>{const u=document.createRange();return u.setStart(n,r),u.setEnd(a,c),u})),pq=(e,t,n,r=!1)=>jP(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,r),b2=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const r=t.parentNode;e.remove(t,Nt(t.firstChild)&&ou(t.firstChild.data)),b2(e,r,n)}},QR=(e,t,n,r=!0)=>{const a=t.startContainer.parentNode,c=t.endContainer.parentNode;t.deleteContents(),r&&!n(t.startContainer)&&(Nt(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),Nt(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),b2(e,a,n),a!==c&&b2(e,c,n))},ZP=(e,t)=>Y.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),$7=(e,t,n)=>{const r=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:Pt(r).concat(e.blockPatterns),inlinePatterns:jt(r).concat(e.inlinePatterns)}},q7=(e,t,n,r)=>{const a=e.createRng();return a.setStart(t,0),a.setEnd(n,r),a.toString()},gq=e=>/^\s[^\s]/.test(e),G7=(e,t,n)=>{uU(t,0,t).each(a=>{const c=a.container;eI(c,n.start.length,t).each(k=>{const N=e.createRng();N.setStart(c,0),N.setEnd(k.container,k.offset),QR(e,N,U=>U===t)});const u=ye.fromDom(c),h=Xd(u);gq(h)&&Pu(u,h.slice(1))})},hq=(e,t)=>{const n=e.dom,r=t.pattern,a=W7(n.getRoot(),t.range).getOrDie("Unable to resolve path range"),c=(u,h)=>{const k=h.get(u);return Ee(k)&&oo(k).exists(N=>Yn(N,"block"))};return ZP(e,a).each(u=>{r.type==="block-format"?c(r.format,e.formatter)&&e.undoManager.transact(()=>{G7(e.dom,u,r),e.formatter.apply(r.format)}):r.type==="block-command"&&e.undoManager.transact(()=>{G7(e.dom,u,r),e.execCommand(r.cmd,!1,r.value)})}),!0},bq=e=>Mo(e,(t,n)=>n.start.length-t.start.length),yq=(e,t)=>{const n=bq(e),r=t.replace(Ro," ");return mo(n,a=>t.indexOf(a.start)===0||r.indexOf(a.start)===0)},vq=(e,t,n,r)=>{var a;const c=e.dom,u=oi(e);if(!c.is(t,u))return[];const h=(a=t.textContent)!==null&&a!==void 0?a:"";return yq(n.blockPatterns,h).map(k=>Ut.trim(h).length===k.start.length?[]:[{pattern:k,range:jP(c,c.getRoot(),t,0,t,0,r)}]).getOr([])},xq=(e,t)=>{if(t.length===0)return;const n=e.selection.getBookmark();ut(t,r=>hq(e,r)),e.selection.moveToBookmark(n)},K7=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),e5=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},Y7=(e,t,n)=>{const r=W7(e.getRoot(),n).getOrDie("Unable to resolve path range"),a=r.startContainer,c=r.endContainer,u=r.endOffset===0?c:c.splitText(r.endOffset),h=r.startOffset===0?a:a.splitText(r.startOffset),k=h.parentNode,N=u.parentNode;return{prefix:t,end:N.insertBefore(K7(e,t+"-end"),u),start:k.insertBefore(K7(e,t+"-start"),h)}},X7=(e,t,n)=>{b2(e,e.get(t.prefix+"-end"),n),b2(e,e.get(t.prefix+"-start"),n)},WP=e=>e.start.length===0,wq=e=>(t,n)=>{const a=t.data.substring(0,n),c=a.lastIndexOf(e.charAt(e.length-1)),u=a.lastIndexOf(e);return u!==-1?u+e.length:c!==-1?c+1:-1},J7=(e,t,n,r)=>{const a=t.start;return pP(e,r.container,r.offset,wq(a),n).bind(u=>{var h,k;const N=(k=(h=n.textContent)===null||h===void 0?void 0:h.indexOf(a))!==null&&k!==void 0?k:-1;if(N!==-1&&u.offset>=N+a.length){const Z=e.createRng();return Z.setStart(u.container,u.offset-a.length),Z.setEnd(u.container,u.offset),Y.some(Z)}else{const Z=u.offset-a.length;return mP(u.container,Z,n).map(K=>{const le=e.createRng();return le.setStart(K.container,K.offset),le.setEnd(u.container,u.offset),le}).filter(K=>K.toString()===a).orThunk(()=>J7(e,t,n,Ah(u.container,0)))}})},kq=(e,t,n,r,a,c=!1)=>{if(t.start.length===0&&!c){const u=e.createRng();return u.setStart(n,r),u.setEnd(n,r),Y.some(u)}return fP(n,r,a).bind(u=>J7(e,t,a,u).bind(k=>{var N;if(c){if(k.endContainer===u.container&&k.endOffset===u.offset)return Y.none();if(u.offset===0&&((N=k.endContainer.textContent)===null||N===void 0?void 0:N.length)===k.endOffset)return Y.none()}return Y.some(k)}))},_q=(e,t,n,r)=>{const a=e.dom,c=a.getRoot(),u=n.pattern,h=n.position.container,k=n.position.offset;return mP(h,k-n.pattern.end.length,t).bind(N=>{const U=jP(a,c,N.container,N.offset,h,k,r);if(WP(u))return Y.some({matches:[{pattern:u,startRng:U,endRng:U}],position:N});{const Z=t5(e,n.remainingPatterns,N.container,N.offset,t,r),K=Z.getOr({matches:[],position:N}),le=K.position;return kq(a,u,le.container,le.offset,t,Z.isNone()).map(ie=>{const we=pq(a,c,ie,r);return{matches:K.matches.concat([{pattern:u,startRng:we,endRng:U}]),position:Ah(ie.startContainer,ie.startOffset)}})}})},t5=(e,t,n,r,a,c)=>{const u=e.dom;return fP(n,r,u.getRoot()).bind(h=>{const k=q7(u,a,n,r);for(let N=0;N<t.length;N++){const U=t[N];if(!vl(k,U.end))continue;const Z=t.slice();Z.splice(N,1);const K=_q(e,a,{pattern:U,remainingPatterns:Z,position:h},c);if(K.isNone()&&r>0)return t5(e,t,n,r-1,a,c);if(K.isSome())return K}return Y.none()})},Q7=(e,t,n)=>{e.selection.setRng(n),t.type==="inline-format"?ut(t.format,r=>{e.formatter.apply(r)}):e.execCommand(t.cmd,!1,t.value)},Cq=(e,t,n,r)=>{const a=e5(e.dom,n);QR(e.dom,a,r),Q7(e,t,a)},Sq=(e,t,n,r,a)=>{const c=e.dom,u=e5(c,r),h=e5(c,n);QR(c,h,a),QR(c,u,a);const k={prefix:n.prefix,start:n.end,end:r.start},N=e5(c,k);Q7(e,t,N)},Eq=(e,t)=>{const n=am("mce_textpattern"),r=wn(t,(a,c)=>{const u=Y7(e,n+`_end${a.length}`,c.endRng);return a.concat([{...c,endMarker:u}])},[]);return wn(r,(a,c)=>{const u=r.length-a.length-1,h=WP(c.pattern)?c.endMarker:Y7(e,n+`_start${u}`,c.startRng);return a.concat([{...c,startMarker:h}])},[])},Tq=e=>Mo(e,(t,n)=>n.end.length-t.end.length),zq=(e,t)=>{const n=Os(e,r=>ar(t,a=>r.pattern.start===a.pattern.start&&r.pattern.end===a.pattern.end));return e.length===t.length?n?e:t:e.length>t.length?e:t},eF=(e,t,n,r,a,c)=>{const u=t5(e,a.inlinePatterns,n,r,t,c).fold(()=>[],k=>k.matches),h=t5(e,Tq(a.inlinePatterns),n,r,t,c).fold(()=>[],k=>k.matches);return zq(u,h)},tF=(e,t)=>{if(t.length===0)return;const n=e.dom,r=e.selection.getBookmark(),a=Eq(n,t);ut(a,c=>{const u=n.getParent(c.startMarker.start,n.isBlock),h=k=>k===u;WP(c.pattern)?Cq(e,c.pattern,c.endMarker,h):Sq(e,c.pattern,c.startMarker,c.endMarker,h),X7(n,c.endMarker,h),X7(n,c.startMarker,h)}),e.selection.moveToBookmark(r)},Oq=(e,t)=>{const n=e.selection.getRng();return ZP(e,n).map(r=>{var a;const c=Math.max(0,n.startOffset),u=$7(t,r,(a=r.textContent)!==null&&a!==void 0?a:""),h=eF(e,r,n.startContainer,c,u,!0),k=vq(e,r,u,!0);return k.length>0||h.length>0?(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{ae(e),tF(e,h),xq(e,k);const N=e.selection.getRng(),U=fP(N.startContainer,N.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),U.each(Z=>{const K=Z.container;K.data.charAt(Z.offset-1)===nc&&(K.deleteData(Z.offset-1,1),b2(e.dom,K.parentNode,le=>le===e.dom.getRoot()))})}),!0):!1}).getOr(!1)},Aq=(e,t)=>{const n=e.selection.getRng();ZP(e,n).map(r=>{const a=Math.max(0,n.startOffset-1),c=q7(e.dom,r,n.startContainer,a),u=$7(t,r,c),h=eF(e,r,n.startContainer,a,u,!1);h.length>0&&e.undoManager.transact(()=>{tF(e,h)})})},nF=(e,t,n)=>{for(let r=0;r<e.length;r++)if(n(e[r],t))return!0;return!1},Nq=(e,t)=>nF(e,t,(n,r)=>n===r.keyCode&&!vn.modifierPressed(r)),Dq=(e,t)=>nF(e,t,(n,r)=>n.charCodeAt(0)===r.charCode),Rq=e=>{const t=[",",".",";",":","!","?"],n=[32],r=()=>sn(xw(e),H0(e)),a=()=>J2(e);e.on("keydown",u=>{if(u.keyCode===13&&!vn.modifierPressed(u)&&e.selection.isCollapsed()){const h=r();(h.inlinePatterns.length>0||h.blockPatterns.length>0||a())&&Oq(e,h)&&u.preventDefault()}},!0);const c=()=>{if(e.selection.isCollapsed()){const u=r();(u.inlinePatterns.length>0||a())&&Aq(e,u)}};e.on("keyup",u=>{Nq(n,u)&&c()}),e.on("keypress",u=>{Dq(t,u)&&od.setEditorTimeout(e,c)})},Bq=e=>{Rq(e)},Mq=e=>{const t=Ut.each,n=vn.BACKSPACE,r=vn.DELETE,a=e.dom,c=e.selection,u=e.parser,h=Qo.browser,k=h.isFirefox(),N=h.isChromium()||h.isSafari(),U=Qo.deviceType.isiPhone()||Qo.deviceType.isiPad(),Z=Qo.os.isMacOS()||Qo.os.isiOS(),K=(On,Dn)=>{try{e.getDoc().execCommand(On,!1,String(Dn))}catch{}},le=On=>On.isDefaultPrevented(),ve=()=>{const On=Gt=>{const ho=a.create("body"),mr=Gt.cloneContents();return ho.appendChild(mr),c.serializer.serialize(ho,{format:"html"})},Dn=Gt=>{const ho=On(Gt),mr=a.createRng();mr.selectNode(e.getBody());const ws=On(mr);return ho===ws};e.on("keydown",Gt=>{const ho=Gt.keyCode;if(!le(Gt)&&(ho===r||ho===n)&&e.selection.isEditable()){const mr=e.selection.isCollapsed(),ws=e.getBody();if(mr&&!qr(ye.fromDom(ws))||!mr&&!Dn(e.selection.getRng()))return;Gt.preventDefault(),e.setContent(""),ws.firstChild&&a.isBlock(ws.firstChild)?e.selection.setCursorLocation(ws.firstChild,0):e.selection.setCursorLocation(ws,0),e.nodeChanged()}})},ie=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},we=()=>{e.inline||a.bind(e.getDoc(),"mousedown mouseup",On=>{let Dn;if(On.target===e.getDoc().documentElement)if(Dn=c.getRng(),e.getBody().focus(),On.type==="mousedown"){if(Tn(Dn.startContainer))return;c.placeCaretAt(On.clientX,On.clientY)}else c.setRng(Dn)})},Be=()=>{e.on("keydown",On=>{if(!le(On)&&On.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(c.isCollapsed()&&c.getRng().startOffset===0){const Dn=c.getNode(),Gt=Dn.previousSibling;if(Dn.nodeName==="HR"){a.remove(Dn),On.preventDefault();return}Gt&&Gt.nodeName&&Gt.nodeName.toLowerCase()==="hr"&&(a.remove(Gt),On.preventDefault())}}})},Fe=()=>{Range.prototype.getClientRects||e.on("mousedown",On=>{if(!le(On)&&On.target.nodeName==="HTML"){const Dn=e.getBody();Dn.blur(),od.setEditorTimeout(e,()=>{Dn.focus()})}})},Ve=()=>{const On=I0(e);e.on("click",Dn=>{const Gt=Dn.target;/^(IMG|HR)$/.test(Gt.nodeName)&&a.isEditable(Gt)&&(Dn.preventDefault(),e.selection.select(Gt),e.nodeChanged()),Gt.nodeName==="A"&&a.hasClass(Gt,On)&&Gt.childNodes.length===0&&a.isEditable(Gt.parentNode)&&(Dn.preventDefault(),c.select(Gt))})},We=()=>{const On=()=>{const Gt=a.getAttribs(c.getStart().cloneNode(!1));return()=>{const ho=c.getStart();ho!==e.getBody()&&(a.setAttrib(ho,"style",null),t(Gt,mr=>{ho.setAttributeNode(mr.cloneNode(!0))}))}},Dn=()=>!c.isCollapsed()&&a.getParent(c.getStart(),a.isBlock)!==a.getParent(c.getEnd(),a.isBlock);e.on("keypress",Gt=>{let ho;return!le(Gt)&&(Gt.keyCode===8||Gt.keyCode===46)&&Dn()?(ho=On(),e.getDoc().execCommand("delete",!1),ho(),Gt.preventDefault(),!1):!0}),a.bind(e.getDoc(),"cut",Gt=>{if(!le(Gt)&&Dn()){const ho=On();od.setEditorTimeout(e,()=>{ho()})}})},Ct=()=>{e.on("keydown",On=>{if(!le(On)&&On.keyCode===n&&c.isCollapsed()&&c.getRng().startOffset===0){const Dn=c.getNode().previousSibling;if(Dn&&Dn.nodeName&&Dn.nodeName.toLowerCase()==="table")return On.preventDefault(),!1}return!0})},$t=()=>{e.on("keydown",On=>{if(le(On)||On.keyCode!==vn.BACKSPACE)return;let Dn=c.getRng();const Gt=Dn.startContainer,ho=Dn.startOffset,mr=a.getRoot();let ws=Gt;if(!(!Dn.collapsed||ho!==0)){for(;ws.parentNode&&ws.parentNode.firstChild===ws&&ws.parentNode!==mr;)ws=ws.parentNode;ws.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,ws),Dn=a.createRng(),Dn.setStart(Gt,0),Dn.setEnd(Gt,0),c.setRng(Dn))}})},mn=()=>{const On=()=>{K("StyleWithCSS",!1),K("enableInlineTableEditing",!1),i1(e)||K("enableObjectResizing",!1)};mw(e)||e.on("BeforeExecCommand mousedown",On)},it=()=>{const On=()=>{t(a.select("a:not([data-mce-block])"),Dn=>{var Gt;let ho=Dn.parentNode;const mr=a.getRoot();if((ho==null?void 0:ho.lastChild)===Dn){for(;ho&&!a.isBlock(ho);){if(((Gt=ho.parentNode)===null||Gt===void 0?void 0:Gt.lastChild)!==ho||ho===mr)return;ho=ho.parentNode}a.add(ho,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Dn=>{(Dn.type==="setcontent"||Dn.command==="mceInsertLink")&&On()})},tt=()=>{e.on("init",()=>{K("DefaultParagraphSeparator",oi(e))})},Mt=On=>{const Dn=On.getBody(),Gt=On.selection.getRng();return Gt.startContainer===Gt.endContainer&&Gt.startContainer===Dn&&Gt.startOffset===0&&Gt.endOffset===Dn.childNodes.length},hn=()=>{e.on("keyup focusin mouseup",On=>{!vn.modifierPressed(On)&&!Mt(e)&&c.normalize()},!0)},Fn=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Ho=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},Wo=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",On=>{let Dn;On.target.nodeName==="HTML"&&(Dn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Dn),e.selection.normalize(),e.nodeChanged())}))},gs=()=>{Z&&e.on("keydown",On=>{vn.metaKeyPressed(On)&&!On.shiftKey&&(On.keyCode===37||On.keyCode===39)&&(On.preventDefault(),e.selection.getSel().modify("move",On.keyCode===37?"backward":"forward","lineboundary"))})},Is=()=>{e.on("click",On=>{let Dn=On.target;do if(Dn.tagName==="A"){On.preventDefault();return}while(Dn=Dn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},vi=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",On=>{On.preventDefault()})})},Hc=()=>{u.addNodeFilter("br",On=>{let Dn=On.length;for(;Dn--;)On[Dn].attr("class")==="Apple-interchange-newline"&&On[Dn].remove()})},$l=bt,an=()=>{if(!k||e.removed)return!1;const On=e.selection.getSel();return!On||!On.rangeCount||On.rangeCount===0},zn=()=>{N&&(we(),Ve(),vi(),ie(),U&&(Ho(),Wo(),Is())),k&&(Fe(),mn(),Fn(),gs())},Tr=()=>{e.on("drop",On=>{var Dn;const Gt=(Dn=On.dataTransfer)===null||Dn===void 0?void 0:Dn.getData("text/html");At(Gt)&&/^<img[^>]*>$/.test(Gt)&&e.dispatch("dragend",new window.DragEvent("dragend",On))})},br=()=>{$t(),ve(),Qo.windowsPhone||hn(),N&&(we(),Ve(),tt(),vi(),Ct(),Hc(),U?(Ho(),Wo(),Is()):ie()),k&&(Be(),Fe(),We(),mn(),it(),Fn(),gs(),Ct(),Tr())};return tp(e)?zn():br(),{refreshContentEditable:$l,isHidden:an}},$P=us.DOM,Lq=(e,t)=>{const n=ye.fromDom(e.getBody()),r=Wr(ll(n)),a=ye.fromTag("style");Fr(a,"type","text/css"),Mr(a,ye.fromText(t)),Mr(r,a),e.on("remove",()=>{lr(a)})},Pq=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,qP=e=>hl(e,t=>wo(t)===!1),oF=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return qP({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:Pq(e),sandbox_iframes:t("sandbox_iframes"),sanitize:t("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},rF=e=>{const t=e.options.get;return qP({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},Iq=e=>{const t=e.options.get;return{...oF(e),...rF(e),...qP({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},Fq=e=>{const t=Qb(oF(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(n,r)=>{const a=e.dom,c="data-mce-"+r;let u=n.length;for(;u--;){const h=n[u];let k=h.attr(r);if(k&&!h.attr(c)){if(k.indexOf("data:")===0||k.indexOf("blob:")===0)continue;r==="style"?(k=a.serializeStyle(a.parseStyle(k),h.name),k.length||(k=null),h.attr(c,k),h.attr(r,k)):r==="tabindex"?(h.attr(c,k),h.attr(r,null)):h.attr(c,e.convertURL(k,r,h.name))}}}),t.addNodeFilter("script",n=>{let r=n.length;for(;r--;){const a=n[r],c=a.attr("type")||"no/type";c.indexOf("mce-")!==0&&a.attr("type","mce-"+c)}}),_w(e)&&t.addNodeFilter("#cdata",n=>{var r;let a=n.length;for(;a--;){const c=n[a];c.type=8,c.name="#comment",c.value="[CDATA["+e.dom.encode((r=c.value)!==null&&r!==void 0?r:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",n=>{let r=n.length;const a=e.schema.getNonEmptyElements();for(;r--;){const c=n[r];c.isEmpty(a)&&c.getAll("br").length===0&&c.append(new Ic("br",1))}}),t},Vq=e=>{const t=q2(e);t&&od.setEditorTimeout(e,()=>{let n;t===!0?n=e:n=e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())},100)},Hq=e=>{const t=e.dom.getRoot();!e.inline&&(!nd(e)||e.selection.getStart(!0)===t)&&ed(t).each(n=>{const r=n.getNode(),a=gd(r)?ed(r).getOr(n):n;e.selection.setRng(a.toRange())})},Uq=e=>{e.bindPendingEventDelegates(),e.initialized=!0,T3(e),e.focus(!0),Hq(e),e.nodeChanged({initial:!0});const t=mh(e);un(t)&&t.call(e,e),Vq(e)},GP=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,jq=(e,t,n)=>{const{pass:r,fail:a}=Ft(t,h=>tinymce.Resource.has(F4(h))),u=[...r.map(h=>{const k=tinymce.Resource.get(F4(h));return At(k)?Promise.resolve(GP(e).loadRawCss(h,k)):Promise.resolve()}),GP(e).loadAll(a)];return e.inline?u:u.concat([e.ui.styleSheetLoader.loadAll(n)])},sF=e=>{const t=GP(e),n=iw(e),r=e.contentCSS,a=()=>{t.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(n)},c=()=>{e.removed?a():e.on("remove",a)};if(e.contentStyles.length>0){let k="";Ut.each(e.contentStyles,N=>{k+=N+`\r
`}),e.dom.addStyle(k)}const u=Promise.all(jq(e,r,n)).then(c).catch(c),h=H2(e);return h&&Lq(e,h),u},Zq=e=>{const t=e.getDoc(),n=e.getBody();S3(e),G2(e)||(t.body.spellcheck=!1,$P.setAttrib(n,"spellcheck","false")),e.quirks=Mq(e),E3(e);const r=U2(e);r!==void 0&&(n.dir=r);const a=Ly(e);a&&e.on("BeforeSetContent",c=>{Ut.each(a,u=>{c.content=c.content.replace(u,h=>"<!--mce:protected "+escape(h)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",c=>{e.composing=c.type==="compositionstart"})},Wq=e=>{tp(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},KP=e=>{e.removed!==!0&&(Wq(e),Uq(e))},$q=e=>{let t=!1;const n=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(n),t=!0,e.setProgressState(!1)}},aF=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&($P.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const r=e.getBody();r.disabled=!0,e.readonly=mw(e),e._editableRoot=sr(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&$P.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=oL(e),e.schema=Zu(rF(e)),e.dom=us(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:F2(e),referrerPolicy:Dy(e),onSetAttrib:u=>{e.dispatch("SetAttrib",u)},force_hex_color:tC(e)}),e.parser=Fq(e),e.serializer=T4(Iq(e),e),e.selection=C4(e.dom,e.getWin(),e.serializer,e),e.annotator=LC(e),e.formatter=m0(e),e.undoManager=Dx(e),e._nodeChangeDispatcher=new XZ(e),e._selectionOverrides=fq(e),yt(e),b$(e),si(e),tp(e)||(C$(e),Bq(e));const a=YZ(e);pe(e,a),Ps(e),iL(e),p$(e);const c=QA(e);Zq(e),c.fold(()=>{const u=$q(e);sF(e).then(()=>{KP(e),u()})},u=>{e.setProgressState(!0),sF(e).then(()=>{u().then(h=>{e.setProgressState(!1),KP(e),v4(e)},h=>{e.notificationManager.open({type:"error",text:String(h)}),KP(e),v4(e)})})})},qq=Do,Gq=(e,t,n)=>df(e,t,qq,n),YP=us.DOM,Kq=(e,t,n,r)=>{const a=ye.fromTag("iframe");return r.each(c=>Fr(a,"tabindex",c)),Cs(a,n),Cs(a,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),ra(a,"tox-edit-area__iframe"),a},Yq=e=>{let t=ni(e)+"<html><head>";fl(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=gg(e),r=dh(e),a=e.translate($2(e));return fs(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+fs(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${a}"><br></body></html>`,t},Xq=(e,t)=>{const n=e.translate("Rich Text Area"),r=qs(ye.fromDom(e.getElement()),"tabindex").bind(Fs),a=Kq(e.id,n,Nn(e),r).dom;a.onload=()=>{a.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=a,e.iframeHTML=Yq(e),YP.add(t.iframeContainer,a)},Jq=e=>{const t=e.iframeElement,n=()=>{e.contentDocument=t.contentDocument,aF(e)};if(X2(e)||Qo.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),n()}else{const r=Gq(ye.fromDom(t),"load",()=>{r.unbind(),n()});t.srcdoc=e.iframeHTML}},Qq=(e,t)=>{Xq(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=YP.isHidden(t.editorContainer)),e.getElement().style.display="none",YP.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,Jq(e)},iF=us.DOM,eG=(e,t,n)=>{const r=d0.get(n),a=d0.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=Ut.trim(n),r&&Ut.inArray(t,n)===-1){if(e.plugins[n])return;try{const c=r(e,a)||{};e.plugins[n]=c,un(c.init)&&(c.init(e,a),t.push(n))}catch(c){I4(e,n,c)}}},tG=e=>e.replace(/^\-/,""),nG=e=>{const t=[];ut($m(e),n=>{eG(e,t,tG(n))})},oG=e=>{const t=Ut.trim(rw(e)),n=e.ui.registry.getAll().icons,r={...Tx.get("default").icons,...Tx.get(t).icons};jo(r,(a,c)=>{Yn(n,c)||e.ui.registry.addIcon(c,a)})},rG=e=>{const t=fh(e);if(At(t)){const n=Ch.get(t);e.theme=n(e,Ch.urls[t])||{},un(e.theme.init)&&e.theme.init(e,Ch.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},sG=e=>{const t=L0(e),n=c0.get(t);e.model=n(e,c0.urls[t])},aG=e=>{const t=e.theme.renderUI;return t?t():cF(e)},iG=e=>{const t=e.getElement(),r=fh(e)(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r},lF=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),lG=e=>{const t=iF.create("div");return iF.insertAfter(t,e),lF(t,t)},cF=e=>{const t=e.getElement();return e.inline?lF(null):lG(t)},cG=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,At(fh(e))?aG(e):un(fh(e))?iG(e):cF(e)},dG=(e,t)=>{const n={show:Y.from(t.show).getOr(bt),hide:Y.from(t.hide).getOr(bt),isEnabled:Y.from(t.isEnabled).getOr(Do),setEnabled:r=>{e.mode.isReadOnly()||Y.from(t.setEnabled).each(a=>a(r))}};e.ui={...e.ui,...n}},uG=async e=>{e.dispatch("ScriptsLoaded"),oG(e),rG(e),sG(e),nG(e);const t=await cG(e);dG(e,Y.from(t.api).getOr({})),e.editorContainer=t.editorContainer,U_(e),e.inline?aF(e):Qq(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},$x=us.DOM,dF=e=>e.charAt(0)==="-",fG=(e,t)=>{const n=aw(t),r=V2(t);if(!_c.hasCode(n)&&n!=="en"){const a=za(r)?r:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(a).catch(()=>{IN(t,a,n)})}},mG=(e,t)=>{const n=fh(e);if(At(n)&&!dF(n)&&!Yn(Ch.urls,n)){const r=cw(e),a=r?e.documentBaseURI.toAbsolute(r):`themes/${n}/theme${t}.js`;Ch.load(n,a).catch(()=>{L4(e,a,n)})}},pG=(e,t)=>{const n=L0(e);if(n!=="plugin"&&!Yn(c0.urls,n)){const r=dw(e),a=At(r)?e.documentBaseURI.toAbsolute(r):`models/${n}/model${t}.js`;c0.load(n,a).catch(()=>{P4(e,a,n)})}},gG=e=>Y.from(P2(e)).filter(za).map(t=>({url:t,name:Y.none()})),uF=(e,t,n)=>Y.from(t).filter(r=>za(r)&&!Tx.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${n}.js`,name:Y.some(r)})),hG=(e,t,n)=>{const r=uF(t,"default",n),a=gG(t).orThunk(()=>uF(t,rw(t),""));ut(jd([r,a]),c=>{e.add(c.url).catch(()=>{PN(t,c.url,c.name.getOrUndefined())})})},bG=(e,t)=>{const n=(r,a)=>{d0.load(r,a).catch(()=>{X6(e,a,r)})};jo(W2(e),(r,a)=>{n(a,r),e.options.set("plugins",$m(e).concat(a))}),ut($m(e),r=>{r=Ut.trim(r),r&&!d0.urls[r]&&!dF(r)&&n(r,`plugins/${r}/plugin${t}.js`)})},yG=e=>{const t=fh(e);return!At(t)||Je(Ch.get(t))},vG=e=>{const t=L0(e);return Je(c0.get(t))},xG=(e,t)=>{const n=Hl.ScriptLoader,r=()=>{!e.removed&&yG(e)&&vG(e)&&uG(e)};mG(e,t),pG(e,t),fG(n,e),hG(n,e,t),bG(e,t),n.loadQueue().then(r,r)},wG=(e,t)=>uy.forElement(e,{contentCssCors:Ef(t),referrerPolicy:Dy(t)}),kG=e=>{const t=e.id;_c.setCode(aw(e));const n=()=>{$x.unbind(window,"ready",n),e.render()};if(!Jf.Event.domLoaded){$x.bind(window,"ready",n);return}if(!e.getElement())return;const r=ye.fromDom(e.getElement()),a=Us(r);e.on("remove",()=>{_t(r.dom.attributes,u=>hs(r,u.name)),Cs(r,a)}),e.ui.styleSheetLoader=wG(r,e),vb(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const c=e.getElement().form||$x.getParent(t,"form");c&&(e.formElement=c,By(e)&&!Bc(e.getElement())&&($x.insertAfter($x.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=u=>{e.dispatch(u.type,u)},$x.bind(c,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),P0(e)&&!c.submit.nodeType&&!c.submit.length&&!c._mceOldSubmit&&(c._mceOldSubmit=c.submit,c.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),c._mceOldSubmit(c)))),e.windowManager=B4(e),e.notificationManager=MN(e),j0(e)&&e.on("GetContent",u=>{u.save&&(u.content=$x.encode(u.content))}),xb(e)&&e.on("submit",()=>{e.initialized&&e.save()}),uw(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),xG(e,e.suffix)},_G=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),B3(e,t))},CG=e=>e._editableRoot,SG=(e,t)=>({sections:ft(e),options:ft(t)}),fF=Wn().deviceType,mF=fF.isPhone(),EG=fF.isTablet(),IT=e=>{if(Zn(e))return[];{const t=Ee(e)?e:e.split(/[ ,]/),n=no(t,Tc);return dt(n,za)}},TG=(e,t)=>{const n=uc(t,(r,a)=>_o(e,a));return SG(n.t,n.f)},zG=(e,t,n={})=>{const r=e.sections(),a=Ir(r,t).getOr({});return Ut.extend({},n,a)},XP=(e,t)=>Yn(e.sections(),t),OG=(e,t)=>XP(e,t)?e.sections()[t]:{},AG=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Ir(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),NG=(e,t)=>{var n;const r=(n=t.external_plugins)!==null&&n!==void 0?n:{};return e&&e.external_plugins?Ut.extend({},e.external_plugins,r):r},DG=(e,t)=>[...IT(e),...IT(t)],RG=(e,t,n,r)=>e&&XP(t,"mobile")?r:n,BG=(e,t,n,r)=>{const a=IT(n.forced_plugins),c=IT(r.plugins),u=OG(t,"mobile"),h=u.plugins?IT(u.plugins):c,k=RG(e,t,c,h),N=DG(a,k);return Ut.extend(r,{forced_plugins:a,plugins:N})},MG=(e,t)=>e&&XP(t,"mobile"),LG=(e,t,n,r,a)=>{var c;const u=e?{mobile:AG((c=a.mobile)!==null&&c!==void 0?c:{},t)}:{},h=TG(["mobile"],BR(u,a)),k=Ut.extend(n,r,h.options(),MG(e,h)?zG(h,"mobile"):{},{external_plugins:NG(r,h.options())});return BG(e,h,r,k)},PG=(e,t)=>LG(mF||EG,mF,t,e,t),IG=(e,t)=>sN(e,t),FG=e=>{const t=(r,a)=>{e.formatter.toggle(r,a),e.nodeChanged()},n=r=>()=>{ut("left,center,right,justify".split(","),a=>{r!==a&&e.formatter.remove("align"+a)}),r!=="none"&&t("align"+r)};e.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})},VG=e=>{const t=n=>()=>{const r=e.selection,a=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return ar(a,c=>Je(e.formatter.matchNode(c,n)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},HG=e=>{FG(e),VG(e)},UG=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let r;try{n.execCommand(t)}catch{r=!0}if(t==="paste"&&!n.queryCommandEnabled(t)&&(r=!0),r||!n.queryCommandSupported(t)){let a=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Qo.os.isMacOS()||Qo.os.isiOS())&&(a=a.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:a,type:"error"})}}})},jG=(e,t,n,r)=>{const a=ye.fromDom(e.getRoot());return Hb(a,ot.fromRangeStart(t),r)?n=n.replace(/^ /,"&nbsp;"):n=n.replace(/^&nbsp;/," "),Yy(a,ot.fromRangeEnd(t),r)?n=n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n=n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},ZG=e=>{if(typeof e!="string"){const t=Ut.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},WG=(e,t)=>{const n=e.selection,r=e.dom;return/^ | $/.test(t)?jG(r,n.getRng(),t,e.schema):t},n5=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:r}=ZG(t);k_(e,{...r,content:WG(e,n),format:"html",set:!1,selection:!0}).each(a=>{const c=rN(e,a.content,r);Nv(e,c,a),e.addVisual()})}},$G=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,r)=>{n5(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,r)=>{n5(e,e.dom.encode(r))},insertHTML:(t,n,r)=>{n5(e,r)},mceInsertContent:(t,n,r)=>{n5(e,r)},mceSetContent:(t,n,r)=>{e.setContent(r)},mceReplaceContent:(t,n,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(bw(e))}})},qG={"font-size":"size","font-family":"face"},GG=ma("font"),KG=(e,t,n)=>{const r=c=>Ue(c,e).orThunk(()=>GG(c)?Ir(qG,e).bind(u=>qs(c,u)):Y.none()),a=c=>Pe(ye.fromDom(t),c);return bE(ye.fromDom(n),c=>r(c),a)},YG=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),XG=(e,t)=>Y.from(us.DOM.getStyle(t,e,!0)),pF=e=>(t,n)=>Y.from(n).map(ye.fromDom).filter($i).bind(r=>KG(e,t,r.dom).or(XG(e,r.dom))).getOr(""),JG=pF("font-size"),QG=pn(YG,pF("font-family")),eK=e=>ed(e.getBody()).bind(t=>{const n=t.container();return Y.from(Nt(n)?n.parentNode:n)}),tK=e=>Y.from(e.selection.getRng()).bind(t=>{const n=e.getBody();return t.startContainer===n&&t.startOffset===0?Y.none():Y.from(e.selection.getStart(!0))}),nK=(e,t)=>tK(e).orThunk(zt(eK,e)).map(ye.fromDom).filter($i).bind(t),JP=(e,t)=>nK(e,io(Y.some,t)),gF=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const r=U0(e),a=Cw(e);return a.length>0?a[n-1]||t:r[n-1]||t}else return t}else return t},oK=e=>{const t=e.split(/\s*,\s*/);return no(t,n=>n.indexOf(" ")!==-1&&!(zr(n,'"')||zr(n,"'"))?`'${n}'`:n).join(",")},rK=(e,t)=>{const n=gF(e,t);e.formatter.toggle("fontname",{value:oK(n)}),e.nodeChanged()},sK=e=>JP(e,t=>QG(e.getBody(),t.dom)).getOr(""),aK=(e,t)=>{e.formatter.toggle("fontsize",{value:gF(e,t)}),e.nodeChanged()},iK=e=>JP(e,t=>JG(e.getBody(),t.dom)).getOr(""),lK=e=>JP(e,t=>{const n=ye.fromDom(e.getBody()),r=bE(t,c=>Ue(c,"line-height"),zt(Pe,n)),a=()=>{const c=parseFloat(Wa(t,"line-height")),u=parseFloat(Wa(t,"font-size"));return String(c/u)};return r.getOrThunk(a)}).getOr(""),cK=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},dK=e=>{const t=(n,r)=>{e.formatter.toggle(n,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>{t(n)},"ForeColor,HiliteColor":(n,r,a)=>{t(n,{value:a})},BackColor:(n,r,a)=>{t("hilitecolor",{value:a})},FontName:(n,r,a)=>{rK(e,a)},FontSize:(n,r,a)=>{aK(e,a)},LineHeight:(n,r,a)=>{cK(e,a)},Lang:(n,r,a)=>{var c;t(n,{value:a.code,customValue:(c=a.customCode)!==null&&c!==void 0?c:null})},RemoveFormat:n=>{e.formatter.remove(n)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(n,r,a)=>{t(At(a)?a:"p")},mceToggleFormat:(n,r,a)=>{t(a)}})},uK=e=>{const t=n=>e.formatter.match(n);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>t(n),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>sK(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>iK(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>lK(e))},fK=e=>{dK(e),uK(e)},mK=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},pK=e=>{e.editorCommands.addCommands({Indent:()=>{re(e)},Outdent:()=>{se(e)}}),e.editorCommands.addCommands({Outdent:()=>O(e)},"state")},gK=e=>{const t=(n,r,a)=>{const c=At(a)?{href:a}:a,u=e.dom.getParent(e.selection.getNode(),"a");Te(c)&&At(c.href)&&(c.href=c.href.replace(/ /g,"%20"),(!u||!c.href)&&e.formatter.remove("link"),c.href&&e.formatter.apply("link",c,u))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const n=e.dom.getParent(e.selection.getStart(),"a");n&&e.dom.remove(n,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},hK=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{e.getDoc().execCommand(t);const n=e.dom.getParent(e.selection.getNode(),"ol,ul");if(n){const r=n.parentNode;if(r&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)){const a=e.selection.getBookmark();e.dom.split(r,n),e.selection.moveToBookmark(a)}}}})},bK=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{const n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&(t==="insertunorderedlist"&&n.tagName==="UL"||t==="insertorderedlist"&&n.tagName==="OL")}},"state")},yK=e=>{hK(e),bK(e)},vK=(e,t,n,r)=>{const a=e.dom,c=h=>a.isBlock(h)&&h.parentElement===n,u=c(t)?t:a.getParent(r,c,n);return Y.from(u).map(ye.fromDom)},hF=(e,t)=>{const n=e.dom,r=e.selection.getRng(),a=t?e.selection.getStart():e.selection.getEnd(),c=t?r.startContainer:r.endContainer,u=RT(n,c);if(!u||!u.isContentEditable)return;const h=t?Ms:es,k=oi(e);vK(e,a,u,c).each(N=>{const U=MI(e,c,N.dom,u,!1,k);h(N,ye.fromDom(U)),e.selection.setCursorLocation(U,0),e.dispatch("NewBlock",{newBlock:U}),DT(e,"insertParagraph")})},xK=e=>hF(e,!0),wK=e=>hF(e,!1),kK=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{xK(e)},InsertNewBlockAfter:()=>{wK(e)}})},_K=e=>{e.editorCommands.addCommands({insertParagraph:()=>{ZR(FI,e)},mceInsertNewLine:(t,n,r)=>{$I(e,r)},InsertLineBreak:(t,n,r)=>{ZR(UI,e)}})},CK=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,r)=>{let a=0;e.dom.getParent(e.selection.getNode(),c=>kn(c)&&a++===r?(e.selection.select(c),!1):!0,e.getBody())},mceSelectNode:(t,n,r)=>{e.selection.select(r)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),tc);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})},SK=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,r)=>{const a=r??e.selection.getNode();if(a!==e.getBody()){const c=e.selection.getBookmark();e.dom.remove(a,!0),e.selection.moveToBookmark(c)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,r)=>{bS(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},EK=e=>{HG(e),UG(e),mK(e),CK(e),$G(e),gK(e),pK(e),kK(e),_K(e),yK(e),fK(e),SK(e)},TK=["toggleview"],bF=e=>_o(TK,e.toLowerCase());class yF{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,n=!1,r,a){const c=this.editor,u=t.toLowerCase(),h=a==null?void 0:a.skip_focus;if(c.removed||(u!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(u)&&!h?c.focus():gB(c)),c.dispatch("BeforeExecCommand",{command:t,ui:n,value:r}).isDefaultPrevented()))return!1;const N=this.commands.exec[u];return un(N)?(N(u,n,r),c.dispatch("ExecCommand",{command:t,ui:n,value:r}),!0):!1}queryCommandState(t){if(!bF(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const n=t.toLowerCase(),r=this.commands.state[n];return un(r)?r(n):!1}queryCommandValue(t){if(!bF(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const n=t.toLowerCase(),r=this.commands.value[n];return un(r)?r(n):""}addCommands(t,n="exec"){const r=this.commands;jo(t,(a,c)=>{ut(c.toLowerCase().split(","),u=>{r[n][u]=a})})}addCommand(t,n,r){const a=t.toLowerCase();this.commands.exec[a]=(c,u,h)=>n.call(r??this.editor,u,h)}queryCommandSupported(t){const n=t.toLowerCase();return!!this.commands.exec[n]}addQueryStateHandler(t,n,r){this.commands.state[t.toLowerCase()]=()=>n.call(r??this.editor)}addQueryValueHandler(t,n,r){this.commands.value[t.toLowerCase()]=()=>n.call(r??this.editor)}}const qx="data-mce-contenteditable",zK=(e,t,n)=>{Ac(e,t)&&!n?Ci(e,t):n&&ra(e,t)},QP=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch{}},o5=(e,t)=>{e.dom.contentEditable=t?"true":"false"},OK=e=>{ut(zi(e,'*[contenteditable="true"]'),t=>{Fr(t,qx,"true"),o5(t,!1)})},AK=e=>{ut(zi(e,`*[${qx}="true"]`),t=>{hs(t,qx),o5(t,!0)})},NK=e=>{Y.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},DK=e=>{e.selection.setRng(e.selection.getRng())},RK=(e,t)=>{const n=ye.fromDom(e.getBody());zK(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),NK(e),e.readonly=!0,o5(n,!1),OK(n)):(e.readonly=!1,e.hasEditableRoot()&&o5(n,!0),AK(n),QP(e,"StyleWithCSS",!1),QP(e,"enableInlineTableEditing",!1),QP(e,"enableObjectResizing",!1),tl(e)&&e.focus(),DK(e),e.nodeChanged())},Gx=e=>e.readonly,vF=e=>{e.parser.addAttributeFilter("contenteditable",t=>{Gx(e)&&ut(t,n=>{n.attr(qx,n.attr("contenteditable")),n.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(qx,t=>{Gx(e)&&ut(t,n=>{n.attr("contenteditable",n.attr(qx))})}),e.serializer.addTempAttr(qx)},BK=e=>{e.serializer?vF(e):e.on("PreInit",()=>{vF(e)})},MK=e=>e.type==="click",LK=["copy"],PK=e=>_o(LK,e.type),IK=(e,t)=>Gi(t,"a",r=>Pe(r,ye.fromDom(e.getBody()))).bind(r=>qs(r,"href")),FK=(e,t)=>{if(MK(t)&&!vn.metaKeyPressed(t)){const n=ye.fromDom(t.target);IK(e,n).each(r=>{if(t.preventDefault(),/^#/.test(r)){const a=e.dom.select(`${r},[name="${Vf(r,"#")}"]`);a.length&&e.selection.scrollIntoView(a[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else PK(t)&&e.dispatch(t.type,t)},VK=e=>{e.on("ShowCaret",t=>{Gx(e)&&t.preventDefault()}),e.on("ObjectSelected",t=>{Gx(e)&&t.preventDefault()})},HK=Ut.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class e8{static isNative(t){return!!HK[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Pn}fire(t,n){return this.dispatch(t,n)}dispatch(t,n){const r=t.toLowerCase(),a=vy(r,n??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(a);const c=this.bindings[r];if(c)for(let u=0,h=c.length;u<h;u++){const k=c[u];if(!k.removed){if(k.once&&this.off(r,k.func),a.isImmediatePropagationStopped())return a;if(k.func.call(this.scope,a)===!1)return a.preventDefault(),a}}return a}on(t,n,r,a){if(n===!1&&(n=Pn),n){const c={func:n,removed:!1};a&&Ut.extend(c,a);const u=t.toLowerCase().split(" ");let h=u.length;for(;h--;){const k=u[h];let N=this.bindings[k];N||(N=[],this.toggleEvent(k,!0)),r?N=[c,...N]:N=[...N,c],this.bindings[k]=N}}return this}off(t,n){if(t){const r=t.toLowerCase().split(" ");let a=r.length;for(;a--;){const c=r[a];let u=this.bindings[c];if(!c)return jo(this.bindings,(h,k)=>{this.toggleEvent(k,!1),delete this.bindings[k]}),this;if(u){if(!n)u.length=0;else{const h=Ft(u,k=>k.func===n);u=h.fail,this.bindings[c]=u,ut(h.pass,k=>{k.removed=!0})}u.length||(this.toggleEvent(t,!1),delete this.bindings[c])}}}else jo(this.bindings,(r,a)=>{this.toggleEvent(a,!1)}),this.bindings={};return this}once(t,n,r){return this.on(t,n,r,{once:!0})}has(t){t=t.toLowerCase();const n=this.bindings[t];return!(!n||n.length===0)}}const FT=e=>(e._eventDispatcher||(e._eventDispatcher=new e8({scope:e,toggleEvent:(t,n)=>{e8.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),t8={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return vy(e.toLowerCase(),t??{},r);const a=FT(r).dispatch(e,t);if(n!==!1&&r.parent){let c=r.parent();for(;c&&!a.isPropagationStopped();)c.dispatch(e,a,!1),c=c.parent?c.parent():void 0}return a},on(e,t,n){return FT(this).on(e,t,n)},off(e,t){return FT(this).off(e,t)},once(e,t){return FT(this).once(e,t)},hasEventListeners(e){return FT(this).has(e)}},r5=us.DOM;let Kx;const s5=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=M0(e);return n?(e.eventRoot||(e.eventRoot=r5.select(n)[0]),e.eventRoot):e.getBody()},UK=e=>!e.hidden&&!Gx(e),xF=(e,t,n)=>{UK(e)?e.dispatch(t,n):Gx(e)&&FK(e,n)},wF=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=s5(e,t);if(M0(e)){if(Kx||(Kx={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||Kx&&(jo(Kx,(a,c)=>{e.dom.unbind(s5(e,c))}),Kx=null)})),Kx[t])return;const r=a=>{const c=a.target,u=e.editorManager.get();let h=u.length;for(;h--;){const k=u[h].getBody();(k===c||r5.isChildOf(c,k))&&xF(u[h],t,a)}};Kx[t]=r,r5.bind(n,t,r)}else{const r=a=>{xF(e,t,a)};r5.bind(n,t,r),e.delegates[t]=r}},kF={...t8,bindPendingEventDelegates(){const e=this;Ut.each(e._pendingNativeEvents,t=>{wF(e,t)})},toggleNativeEvent(e,t){const n=this;e==="focus"||e==="blur"||n.removed||(t?n.initialized?wF(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(s5(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(jo(e.delegates,(r,a)=>{e.dom.unbind(s5(e,a),a,r)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},jK=e=>At(e)?{value:e.split(/[ ,]/),valid:!0}:Tt(e,At)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},ZK=e=>{const t=(()=>{switch(e){case"array":return Ee;case"boolean":return Cn;case"function":return un;case"number":return B;case"object":return Te;case"string":return At;case"string[]":return jK;case"object[]":return n=>Tt(n,Te);case"regexp":return n=>ln(n,RegExp);default:return Do}})();return n=>n8(n,t,`The value must be a ${e}.`)},WK=e=>At(e.processor),_F=(e,t)=>{const n=as(t.message)?"":`. ${t.message}`;return e+n},CF=e=>e.valid,n8=(e,t,n="")=>{const r=t(e);return Cn(r)?r?{value:e,valid:!0}:{valid:!1,message:n}:r},$K=(e,t,n)=>{if(!wo(t)){const r=n8(t,n);if(CF(r))return r.value;console.error(_F(`Invalid default value passed for the "${e}" option`,r))}},qK=(e,t)=>{const n={},r={},a=(Z,K,le)=>{const ve=n8(K,le);return CF(ve)?(r[Z]=ve.value,!0):(console.warn(_F(`Invalid value passed for the ${Z} option`,ve)),!1)},c=(Z,K)=>{const le=WK(K)?ZK(K.processor):K.processor,ve=$K(Z,K.default,le);n[Z]={...K,default:ve,processor:le},Ir(r,Z).orThunk(()=>Ir(t,Z)).each(we=>a(Z,we,le))},u=Z=>Yn(n,Z);return{register:c,isRegistered:u,get:Z=>Ir(r,Z).orThunk(()=>Ir(n,Z).map(K=>K.default)).getOrUndefined(),set:(Z,K)=>{if(u(Z)){const le=n[Z];return le.immutable?(console.error(`"${Z}" is an immutable option and cannot be updated`),!1):a(Z,K,le.processor)}else return console.warn(`"${Z}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:Z=>{const K=u(Z);return K&&delete r[Z],K},isSet:Z=>Yn(r,Z)}},GK=["design","readonly"],SF=(e,t,n,r)=>{const a=n[t.get()],c=n[r];try{c.activate()}catch(u){console.error(`problem while activating editor mode ${r}:`,u);return}a.deactivate(),a.editorReadOnly!==c.editorReadOnly&&RK(e,c.editorReadOnly),t.set(r),IC(e,r)},KK=(e,t,n,r)=>{if(r!==n.get()){if(!Yn(t,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?SF(e,n,t,r):e.on("init",()=>SF(e,n,t,r))}},YK=(e,t,n)=>{if(_o(GK,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${t}:`,r)}}}}},XK=e=>{const t=qa("design"),n=qa({design:{activate:bt,deactivate:bt,editorReadOnly:!1},readonly:{activate:bt,deactivate:bt,editorReadOnly:!0}});return BK(e),VK(e),{isReadOnly:()=>Gx(e),set:r=>KK(e,n.get(),t,r),get:()=>t.get(),register:(r,a)=>{n.set(YK(n.get(),r,a))}}},o8=Ut.each,r8=Ut.explode,JK={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},EF=Ut.makeMap("alt,ctrl,shift,meta,access"),QK=e=>e in EF,eY=e=>{const t={},n=Qo.os.isMacOS()||Qo.os.isiOS();o8(r8(e.toLowerCase(),"+"),c=>{QK(c)?t[c]=!0:/^[0-9]{2,}$/.test(c)?t.keyCode=parseInt(c,10):(t.charCode=c.charCodeAt(0),t.keyCode=JK[c]||c.toUpperCase().charCodeAt(0))});const r=[t.keyCode];let a;for(a in EF)t[a]?r.push(a):t[a]=!1;return t.id=r.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class TF{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const n=this;t.on("keyup keypress keydown",r=>{(n.hasModifier(r)||n.isFunctionKey(r))&&!r.isDefaultPrevented()&&(o8(n.shortcuts,a=>{n.matchShortcut(r,a)&&(n.pendingPatterns=a.subpatterns.slice(0),r.type==="keydown"&&n.executeShortcutAction(a))}),n.matchShortcut(r,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&r.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}add(t,n,r,a){const c=this,u=c.normalizeCommandFunc(r);return o8(r8(Ut.trim(t)),h=>{const k=c.createShortcut(h,n,u,a);c.shortcuts[k.id]=k}),!0}remove(t){const n=this.createShortcut(t);return this.shortcuts[n.id]?(delete this.shortcuts[n.id],!0):!1}normalizeCommandFunc(t){const n=this,r=t;return typeof r=="string"?()=>{n.editor.execCommand(r,!1,null)}:Ut.isArray(r)?()=>{n.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(t,n,r,a){const c=Ut.map(r8(t,">"),eY);return c[c.length-1]=Ut.extend(c[c.length-1],{func:r,scope:a||this.editor}),Ut.extend(c[0],{desc:this.editor.translate(n),subpatterns:c.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,n){return!n||n.ctrl!==t.ctrlKey||n.meta!==t.metaKey||n.alt!==t.altKey||n.shift!==t.shiftKey?!1:t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const tY=()=>{const e={},t={},n={},r={},a={},c={},u={},h={},k=(U,Z)=>(K,le)=>{U[K.toLowerCase()]={...le,type:Z}},N=(U,Z)=>r[U.toLowerCase()]=Z;return{addButton:k(e,"button"),addGroupToolbarButton:k(e,"grouptoolbarbutton"),addToggleButton:k(e,"togglebutton"),addMenuButton:k(e,"menubutton"),addSplitButton:k(e,"splitbutton"),addMenuItem:k(t,"menuitem"),addNestedMenuItem:k(t,"nestedmenuitem"),addToggleMenuItem:k(t,"togglemenuitem"),addAutocompleter:k(n,"autocompleter"),addContextMenu:k(a,"contextmenu"),addContextToolbar:k(c,"contexttoolbar"),addContextForm:k(c,"contextform"),addSidebar:k(u,"sidebar"),addView:k(h,"views"),addIcon:N,getAll:()=>({buttons:e,menuItems:t,icons:r,popups:n,contextMenus:a,contextToolbars:c,sidebars:u,views:h})}},nY=()=>{const e=tY();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},Yx=us.DOM,zF=Ut.extend,oY=Ut.each;class a5{constructor(t,n,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,zF(this,kF);const a=this;this.id=t,this.hidden=!1;const c=PG(r.defaultOptions,n);this.options=qK(a,c),ti(a);const u=this.options.get;u("deprecation_warnings")&&SN(n,c);const h=u("suffix");h&&(r.suffix=h),this.suffix=r.suffix;const k=u("base_url");k&&r._setBaseUrl(k),this.baseUri=r.baseURI;const N=Dy(a);N&&(Hl.ScriptLoader._setReferrerPolicy(N),us.DOM.styleSheetLoader._setReferrerPolicy(N));const U=Ef(a);Je(U)&&us.DOM.styleSheetLoader._setContentCssCors(U),zl.languageLoad=u("language_load"),zl.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new Ld(fl(a),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=vb(a),this.hasVisual=fr(a),this.shortcuts=new TF(this),this.editorCommands=new yF(this),EK(this);const Z=u("cache_suffix");Z&&(Qo.cacheSuffix=Z.replace(/^[\?\&]+/,"")),this.ui={registry:nY(),styleSheetLoader:void 0,show:bt,hide:bt,setEnabled:bt,isEnabled:Do},this.mode=XK(a),r.dispatch("SetupEditor",{editor:this});const K=wb(a);un(K)&&K.call(a,a)}render(){kG(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return Lb(this)}translate(t){return _c.translate(t)}getParam(t,n,r){const a=this.options;return a.isRegistered(t)||(Je(r)?a.register(t,{processor:r,default:n}):a.register(t,{processor:Do,default:n})),!a.isSet(t)&&!wo(n)?n:a.get(t)}hasPlugin(t,n){return _o($m(this),t)?n?d0.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,n,r){this.editorCommands.addCommand(t,n,r)}addQueryStateHandler(t,n,r){this.editorCommands.addQueryStateHandler(t,n,r)}addQueryValueHandler(t,n,r){this.editorCommands.addQueryValueHandler(t,n,r)}addShortcut(t,n,r,a){this.shortcuts.add(t,n,r,a)}execCommand(t,n,r,a){return this.editorCommands.execCommand(t,n,r,a)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(Yx.show(t.getContainer()),Yx.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(Yx.hide(t.getContainer()),Yx.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,n){this.dispatch("ProgressState",{state:t,time:n})}load(t={}){const n=this,r=n.getElement();if(n.removed)return"";if(r){const a={...t,load:!0},c=Bc(r)?r.value:r.innerHTML,u=n.setContent(c,a);return a.no_events||n.dispatch("LoadContent",{...a,element:r}),u}else return""}save(t={}){const n=this;let r=n.getElement();if(!r||!n.initialized||n.removed)return"";const a={...t,save:!0,element:r};let c=n.getContent(a);const u={...a,content:c};if(u.no_events||n.dispatch("SaveContent",u),u.format==="raw"&&n.dispatch("RawSaveContent",u),c=u.content,Bc(r))r.value=c;else{(t.is_removing||!n.inline)&&(r.innerHTML=c);const h=Yx.getParent(n.id,"form");h&&oY(h.elements,k=>k.name===n.id?(k.value=c,!1):!0)}return u.element=a.element=r=null,u.set_dirty!==!1&&n.setDirty(!1),c}setContent(t,n){return z4(this,t,n)}getContent(t){return V6(this,t)}insertContent(t,n){n&&(t=zF({content:t},n)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?z4(this,this.startContent,{format:"raw"}):z4(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||Yx.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Yx.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const n=t.iframeElement;n&&(t.contentWindow=n.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const n=t.getWin();n&&(t.contentDocument=n.document)}return t.contentDocument}getBody(){var t,n;const r=this.getDoc();return(n=(t=this.bodyElement)!==null&&t!==void 0?t:r==null?void 0:r.body)!==null&&n!==void 0?n:null}convertURL(t,n,r){const a=this,c=a.options.get,u=gw(a);if(un(u))return u.call(a,t,r,!0,n);if(!c("convert_urls")||r==="link"||Te(r)&&r.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const h=new Ld(t);return h.protocol!=="http"&&h.protocol!=="https"&&h.protocol!==""?t:c("relative_urls")?a.documentBaseURI.toRelative(t):(t=a.documentBaseURI.toAbsolute(t,c("remove_script_host")),t)}addVisual(t){IG(this,t)}setEditableRoot(t){_G(this,t)}hasEditableRoot(){return CG(this)}remove(){q6(this)}destroy(t){TN(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const y2=us.DOM,i5=Ut.each;let OF=!1,l5,Pf=[];const c5=e=>{const t=e.type;i5(jv.get(),n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e);break}})},AF=e=>{if(e!==OF){const t=us.DOM;e?(t.bind(window,"resize",c5),t.bind(window,"scroll",c5)):(t.unbind(window,"resize",c5),t.unbind(window,"scroll",c5)),OF=e}},NF=e=>{const t=Pf;return Pf=dt(Pf,n=>e!==n),jv.activeEditor===e&&(jv.activeEditor=Pf.length>0?Pf[0]:null),jv.focusedEditor===e&&(jv.focusedEditor=null),t.length!==Pf.length},rY=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(NF(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},sY=document.compatMode!=="CSS1Compat",jv={...t8,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"8.5",releaseDate:"TBD",i18n:_c,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",r=Ld.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const a=window.tinymce||window.tinyMCEPreInit;if(a)t=a.base||a.baseURL,n=a.suffix;else{const c=document.getElementsByTagName("script");for(let u=0;u<c.length;u++){const h=c[u].src||"";if(h==="")continue;const k=h.substring(h.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(h)){k.indexOf(".min")!==-1&&(n=".min"),t=h.substring(0,h.lastIndexOf("/"));break}}if(!t&&document.currentScript){const u=document.currentScript.src;u.indexOf(".min")!==-1&&(n=".min"),t=u.substring(0,u.lastIndexOf("/"))}}e.baseURL=new Ld(r).toAbsolute(t),e.documentBaseURL=r,e.baseURI=new Ld(e.baseURL),e.suffix=n,R1(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&jo(r,(a,c)=>{zl.PluginManager.urls[c]=a})},init(e){const t=this;let n;const r=Ut.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),a=(U,Z)=>U.inline&&Z.tagName.toLowerCase()in r,c=U=>{let Z=U.id;return Z||(Z=Ir(U,"name").filter(K=>!y2.get(K)).getOrThunk(y2.uniqueId),U.setAttribute("id",Z)),Z},u=U=>{const Z=e[U];if(Z)return Z.apply(t,[])},h=U=>Qo.browser.isIE()||Qo.browser.isEdge()?(H_("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):sY?(H_("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):At(U.selector)?y2.select(U.selector):Je(U.target)?[U.target]:[];let k=U=>{n=U};const N=()=>{let U=0;const Z=[];let K;const le=(ve,ie,we)=>{const Be=new a5(ve,ie,t);Z.push(Be),Be.on("init",()=>{++U===K.length&&k(Z)}),Be.targetElm=Be.targetElm||we,Be.render()};y2.unbind(window,"ready",N),u("onpageload"),K=xi(h(e)),Ut.each(K,ve=>{rY(t.get(ve.id))}),K=Ut.grep(K,ve=>!t.get(ve.id)),K.length===0?k([]):i5(K,ve=>{a(e,ve)?H_("Could not initialize inline editor on invalid inline target element",ve):le(c(ve),e,ve)})};return y2.bind(window,"ready",N),new Promise(U=>{n?U(n):k=Z=>{U(Z)}})},get(e){return arguments.length===0?Pf.slice(0):At(e)?mo(Pf,t=>t.id===e).getOr(null):B(e)&&Pf[e]?Pf[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(n===null&&Pf.push(e),AF(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),l5||(l5=r=>{const a=t.dispatch("BeforeUnload");if(a.returnValue)return r.preventDefault(),r.returnValue=a.returnValue,a.returnValue},window.addEventListener("beforeunload",l5))),e},createEditor(e,t){return this.add(new a5(e,t,this))},remove(e){const t=this;let n;if(!e){for(let r=Pf.length-1;r>=0;r--)t.remove(Pf[r]);return}if(At(e)){i5(y2.select(e),r=>{n=t.get(r.id),n&&t.remove(n)});return}return n=e,qe(t.get(n.id))?null:(NF(n)&&t.dispatch("RemoveEditor",{editor:n}),Pf.length===0&&window.removeEventListener("beforeunload",l5),n.remove(),AF(Pf.length>0),n)},execCommand(e,t,n){var r;const a=this,c=Te(n)?(r=n.id)!==null&&r!==void 0?r:n.index:n;switch(e){case"mceAddEditor":{if(!a.get(c)){const u=n.options;new a5(c,u,a).render()}return!0}case"mceRemoveEditor":{const u=a.get(c);return u&&u.remove(),!0}case"mceToggleEditor":{const u=a.get(c);return u?(u.isHidden()?u.show():u.hide(),!0):(a.execCommand("mceAddEditor",!1,n),!0)}}return a.activeEditor?a.activeEditor.execCommand(e,t,n):!1},triggerSave:()=>{i5(Pf,e=>{e.save()})},addI18n:(e,t)=>{_c.add(e,t)},translate:e=>_c.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Ld(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Ld(this.baseURL)}};jv.setup();const aY=(()=>{const e=$u(),t=c=>({items:c,types:Bt(c),getType:u=>Ir(c,u).getOrUndefined()}),n=c=>{e.set(c)},r=()=>e.get().getOrUndefined(),a=e.clear;return{FakeClipboardItem:t,write:n,read:r,clear:a}})(),DF=Math.min,v2=Math.max,d5=Math.round,RF=(e,t,n)=>{let r=t.x,a=t.y;const c=e.w,u=e.h,h=t.w,k=t.h,N=(n||"").split("");return N[0]==="b"&&(a+=k),N[1]==="r"&&(r+=h),N[0]==="c"&&(a+=d5(k/2)),N[1]==="c"&&(r+=d5(h/2)),N[3]==="b"&&(a-=u),N[4]==="r"&&(r-=c),N[3]==="c"&&(a-=d5(u/2)),N[4]==="c"&&(r-=d5(c/2)),x2(r,a,c,u)},iY=(e,t,n,r)=>{for(let a=0;a<r.length;a++){const c=RF(e,t,r[a]);if(c.x>=n.x&&c.x+c.w<=n.w+n.x&&c.y>=n.y&&c.y+c.h<=n.h+n.y)return r[a]}return null},lY=(e,t,n)=>x2(e.x-t,e.y-n,e.w+t*2,e.h+n*2),cY=(e,t)=>{const n=v2(e.x,t.x),r=v2(e.y,t.y),a=DF(e.x+e.w,t.x+t.w),c=DF(e.y+e.h,t.y+t.h);return a-n<0||c-r<0?null:x2(n,r,a-n,c-r)},dY=(e,t,n)=>{let r=e.x,a=e.y,c=e.x+e.w,u=e.y+e.h;const h=t.x+t.w,k=t.y+t.h,N=v2(0,t.x-r),U=v2(0,t.y-a),Z=v2(0,c-h),K=v2(0,u-k);return r+=N,a+=U,n&&(c+=N,u+=U,r-=Z,a-=K),c-=Z,u-=K,x2(r,a,c-r,u-a)},x2=(e,t,n,r)=>({x:e,y:t,w:n,h:r}),uY={inflate:lY,relativePosition:RF,findBestRelativePosition:iY,intersect:cY,clamp:dY,create:x2,fromClientRect:e=>x2(e.left,e.top,e.width,e.height)},fY=(e,t,n=1e3)=>{let r=!1,a=null;const c=N=>(...U)=>{r||(r=!0,a!==null&&(clearTimeout(a),a=null),N.apply(null,U))},u=c(e),h=c(t);return{start:(...N)=>{!r&&a===null&&(a=setTimeout(()=>h.apply(null,N),n))},resolve:u,reject:h}},mY=(()=>{const e={},t={},n={};return{load:(k,N)=>{const U=`Script at URL "${N}" failed to load`,Z=`Script at URL "${N}" did not call \`tinymce.Resource.add('${k}', data)\` within 1 second`;if(e[k]!==void 0)return e[k];{const K=new Promise((le,ve)=>{const ie=fY(le,ve);t[k]=ie.resolve,Hl.ScriptLoader.loadScript(N).then(()=>ie.start(Z),()=>ie.reject(U))});return e[k]=K,K}},add:(k,N)=>{t[k]!==void 0&&(t[k](N),delete t[k]),e[k]=Promise.resolve(N),n[k]=N},has:k=>k in n,get:k=>n[k],unload:k=>{delete e[k]}}})(),pY=()=>(()=>{let e={},t=[];const n={getItem:r=>{const a=e[r];return a||null},setItem:(r,a)=>{t.push(r),e[r]=String(a)},key:r=>t[r],removeItem:r=>{t=t.filter(a=>a===r),delete e[r]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})();let VT;try{const e="__storage_test__";VT=window.localStorage,VT.setItem(e,e),VT.removeItem(e)}catch{VT=pY()}var gY=VT;const hY={geom:{Rect:uY},util:{Delay:od,Tools:Ut,VK:vn,URI:Ld,EventDispatcher:e8,Observable:t8,I18n:_c,LocalStorage:gY,ImageUploader:qN},dom:{EventUtils:Jf,TreeWalker:pi,TextSeeker:Im,DOMUtils:us,ScriptLoader:Hl,RangeUtils:wg,Serializer:T4,StyleSheetLoader:cs,ControlSelection:$C,BookmarkManager:J0,Selection:C4,Event:Jf.Event},html:{Styles:Wu,Entities:la,Node:Ic,Schema:Zu,DomParser:Qb,Writer:OS,Serializer:Wl},Env:Qo,AddOnManager:zl,Annotator:LC,Formatter:m0,UndoManager:Dx,EditorCommands:yF,WindowManager:B4,NotificationManager:MN,EditorObservable:kF,Shortcuts:TF,Editor:a5,FocusManager:ez,EditorManager:jv,DOM:us.DOM,ScriptLoader:Hl.ScriptLoader,PluginManager:d0,ThemeManager:Ch,ModelManager:c0,IconManager:Tx,Resource:mY,FakeClipboard:aY,trim:Ut.trim,isArray:Ut.isArray,is:Ut.is,toArray:Ut.toArray,makeMap:Ut.makeMap,each:Ut.each,map:Ut.map,grep:Ut.grep,inArray:Ut.inArray,extend:Ut.extend,walk:Ut.walk,resolve:Ut.resolve,explode:Ut.explode,_addCacheSuffix:Ut._addCacheSuffix},BF=Ut.extend(jv,hY),bY=e=>{try{v.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(BF),bY(BF)})()})(pH),tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}}),function(){const v=Object.getPrototypeOf,P=(o,s,i)=>{var l;return!!i(o,s.prototype)||((l=o.constructor)===null||l===void 0?void 0:l.name)===s.name},R=o=>s=>(i=>{const l=typeof i;return i===null?"null":l==="object"&&Array.isArray(i)?"array":l==="object"&&P(i,String,(f,m)=>m.isPrototypeOf(f))?"string":l})(s)===o,W=o=>s=>typeof s===o,ue=o=>s=>o===s,de=R("string"),be=R("object"),ge=o=>((s,i)=>be(s)&&P(s,i,(l,f)=>v(l)===f))(o,Object),Me=R("array"),$e=ue(null),Xe=W("boolean"),vt=ue(void 0),Wt=o=>o==null,lt=o=>!Wt(o),Rt=W("function"),tn=W("number"),Kt=(o,s)=>{if(Me(o)){for(let i=0,l=o.length;i<l;++i)if(!s(o[i]))return!1;return!0}return!1},ht=()=>{},ln=o=>()=>o(),At=(o,s)=>(...i)=>o(s.apply(null,i)),Te=o=>()=>o,kt=o=>o,Ee=(o,s)=>o===s;function qe(o,...s){return(...i)=>{const l=s.concat(i);return o.apply(null,l)}}const Cn=o=>s=>!o(s),wo=o=>()=>{throw new Error(o)},Zn=o=>o(),Je=Te(!1),un=Te(!0);class B{constructor(s,i){this.tag=s,this.value=i}static some(s){return new B(!0,s)}static none(){return B.singletonNone}fold(s,i){return this.tag?i(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?B.some(s(this.value)):B.none()}bind(s){return this.tag?s(this.value):B.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:B.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return lt(s)?B.some(s):B.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}B.singletonNone=new B(!1);const Tt=Array.prototype.slice,bt=Array.prototype.indexOf,pn=Array.prototype.push,io=(o,s)=>bt.call(o,s),ft=(o,s)=>{const i=io(o,s);return i===-1?B.none():B.some(i)},Mn=(o,s)=>io(o,s)>-1,Hr=(o,s)=>{for(let i=0,l=o.length;i<l;i++)if(s(o[i],i))return!0;return!1},zt=(o,s)=>{const i=[];for(let l=0;l<o;l++)i.push(s(l));return i},bo=(o,s)=>{const i=[];for(let l=0;l<o.length;l+=s){const f=Tt.call(o,l,l+s);i.push(f)}return i},St=(o,s)=>{const i=o.length,l=new Array(i);for(let f=0;f<i;f++){const m=o[f];l[f]=s(m,f)}return l},nn=(o,s)=>{for(let i=0,l=o.length;i<l;i++)s(o[i],i)},Js=(o,s)=>{const i=[],l=[];for(let f=0,m=o.length;f<m;f++){const b=o[f];(s(b,f)?i:l).push(b)}return{pass:i,fail:l}},Pn=(o,s)=>{const i=[];for(let l=0,f=o.length;l<f;l++){const m=o[l];s(m,l)&&i.push(m)}return i},Do=(o,s,i)=>(((l,f)=>{for(let m=l.length-1;m>=0;m--)f(l[m],m)})(o,(l,f)=>{i=s(i,l,f)}),i),Y=(o,s,i)=>(nn(o,(l,f)=>{i=s(i,l,f)}),i),$o=(o,s)=>((i,l,f)=>{for(let m=0,b=i.length;m<b;m++){const x=i[m];if(l(x,m))return B.some(x);if(f(x,m))break}return B.none()})(o,s,Je),Fi=(o,s)=>{for(let i=0,l=o.length;i<l;i++)if(s(o[i],i))return B.some(i);return B.none()},Xo=o=>{const s=[];for(let i=0,l=o.length;i<l;++i){if(!Me(o[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+o);pn.apply(s,o[i])}return s},Kr=(o,s)=>Xo(St(o,s)),Gl=(o,s)=>{for(let i=0,l=o.length;i<l;++i)if(s(o[i],i)!==!0)return!1;return!0},_o=o=>{const s=Tt.call(o,0);return s.reverse(),s},ar=(o,s)=>Pn(o,i=>!Mn(s,i)),no=(o,s)=>{const i={};for(let l=0,f=o.length;l<f;l++){const m=o[l];i[String(m)]=s(m,l)}return i},ut=o=>[o],_t=(o,s)=>{const i=Tt.call(o,0);return i.sort(s),i},Ft=(o,s)=>s>=0&&s<o.length?B.some(o[s]):B.none(),dt=o=>Ft(o,0),wn=o=>Ft(o,o.length-1),lo=Rt(Array.from)?Array.from:o=>Tt.call(o),qo=(o,s)=>{for(let i=0;i<o.length;i++){const l=s(o[i],i);if(l.isSome())return l}return B.none()},mo=Object.keys,Ta=Object.hasOwnProperty,Nr=(o,s)=>{const i=mo(o);for(let l=0,f=i.length;l<f;l++){const m=i[l];s(o[m],m)}},go=(o,s)=>Os(o,(i,l)=>({k:l,v:s(i,l)})),Os=(o,s)=>{const i={};return Nr(o,(l,f)=>{const m=s(l,f);i[m.k]=m.v}),i},va=o=>(s,i)=>{o[i]=s},Ur=(o,s,i,l)=>{Nr(o,(f,m)=>{(s(f,m)?i:l)(f,m)})},Pr=(o,s)=>{const i={};return Ur(o,s,va(i),ht),i},Mo=(o,s)=>{const i=[];return Nr(o,(l,f)=>{i.push(s(l,f))}),i},ua=(o,s)=>{const i=mo(o);for(let l=0,f=i.length;l<f;l++){const m=i[l],b=o[m];if(s(b,m,o))return B.some(b)}return B.none()},oo=o=>Mo(o,kt),dn=(o,s)=>_n(o,s)?B.from(o[s]):B.none(),_n=(o,s)=>Ta.call(o,s),Ws=(o,s)=>_n(o,s)&&o[s]!==void 0&&o[s]!==null,xi=(o,s,i=Ee)=>o.exists(l=>i(l,s)),Bt=o=>{const s=[],i=l=>{s.push(l)};for(let l=0;l<o.length;l++)o[l].each(i);return s},ii=(o,s,i)=>o.isSome()&&s.isSome()?B.some(i(o.getOrDie(),s.getOrDie())):B.none(),jo=(o,s)=>o!=null?B.some(s(o)):B.none(),li=(o,s)=>o?B.some(s):B.none(),vr=(o,s,i)=>s===""||o.length>=s.length&&o.substr(i,i+s.length)===s,Ud=(o,s)=>uc(o,s)?((i,l)=>i.substring(l))(o,s.length):o,fa=(o,s,i=0,l)=>{const f=o.indexOf(s,i);return f!==-1&&(!!vt(l)||f+s.length<=l)},uc=(o,s)=>vr(o,s,0),hl=(o,s)=>vr(o,s,o.length-s.length),Vi=(lf=/^\s+|\s+$/g,o=>o.replace(lf,"")),Kl=o=>o.length>0,Ir=o=>!Kl(o),Yn=o=>o.style!==void 0&&Rt(o.style.getPropertyValue),Hi=o=>{if(o==null)throw new Error("Node cannot be null or undefined");return{dom:o}},wi=(o,s)=>{const i=(s||document).createElement("div");if(i.innerHTML=o,!i.hasChildNodes()||i.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,o),new Error(l)}return Hi(i.childNodes[0])},bl=(o,s)=>{const i=(s||document).createElement(o);return Hi(i)},jc=(o,s)=>{const i=(s||document).createTextNode(o);return Hi(i)},Jt=Hi,yu=typeof window<"u"?window:Function("return this;")(),Yr=(o,s)=>((i,l)=>{let f=l??yu;for(let m=0;m<i.length&&f!=null;++m)f=f[i[m]];return f})(o.split("."),s),of=Object.getPrototypeOf,vu=o=>{const s=Yr("ownerDocument.defaultView",o);return be(o)&&((i=>((l,f)=>{const m=((b,x)=>Yr(b,x))(l,f);if(m==null)throw new Error(l+" not available on this browser");return m})("HTMLElement",i))(s).prototype.isPrototypeOf(o)||/^HTML\w*Element$/.test(of(o).constructor.name))},ki=o=>o.dom.nodeName.toLowerCase(),fc=o=>s=>(i=>i.dom.nodeType)(s)===o,ci=o=>Qs(o)&&vu(o.dom),Qs=fc(1),Ui=fc(3),rf=fc(9),Yl=fc(11),Ff=o=>s=>Qs(s)&&ki(s)===o,yl=(o,s)=>{const i=o.dom;if(i.nodeType!==1)return!1;{const l=i;if(l.matches!==void 0)return l.matches(s);if(l.msMatchesSelector!==void 0)return l.msMatchesSelector(s);if(l.webkitMatchesSelector!==void 0)return l.webkitMatchesSelector(s);if(l.mozMatchesSelector!==void 0)return l.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},xu=o=>o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11||o.childElementCount===0,Jo=(o,s)=>o.dom===s.dom,As=(o,s)=>{const i=o.dom,l=s.dom;return i!==l&&i.contains(l)},Xa=o=>Jt(o.dom.ownerDocument),Zc=o=>rf(o)?o:Xa(o),wu=o=>Jt(Zc(o).dom.documentElement),ku=o=>Jt(Zc(o).dom.defaultView),ol=o=>B.from(o.dom.parentNode).map(Jt),ea=o=>B.from(o.dom.parentElement).map(Jt),Vf=o=>B.from(o.dom.offsetParent).map(Jt),xr=o=>St(o.dom.childNodes,Jt),zr=(o,s)=>{const i=o.dom.childNodes;return B.from(i[s]).map(Jt)},vl=o=>zr(o,0),rl=(o,s)=>({element:o,offset:s}),Tc=(o,s)=>{const i=xr(o);return i.length>0&&s<i.length?rl(i[s],0):rl(o,s)},mc=o=>Yl(o)&&lt(o.dom.host),ad=Rt(Element.prototype.attachShadow)&&Rt(Node.prototype.getRootNode),za=Te(ad),as=ad?o=>Jt(o.dom.getRootNode()):Zc,Oa=o=>mc(o)?o:Jt(Zc(o).dom.body),Fs=o=>{const s=as(o);return mc(s)?B.some(s):B.none()},sl=o=>Jt(o.dom.host),Or=o=>{const s=Ui(o)?o.dom.parentNode:o.dom;if(s==null||s.ownerDocument===null)return!1;const i=s.ownerDocument;return Fs(Jt(s)).fold(()=>i.body.contains(s),(l=Or,f=sl,m=>l(f(m))));var l,f},Ha=()=>_i(Jt(document)),_i=o=>{const s=o.dom.body;if(s==null)throw new Error("Body is not available yet");return Jt(s)},Ua=(o,s,i)=>{if(!(de(i)||Xe(i)||tn(i)))throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",i,":: Element ",o),new Error("Attribute value was not simple");o.setAttribute(s,i+"")},eo=(o,s,i)=>{Ua(o.dom,s,i)},di=(o,s)=>{const i=o.dom;Nr(s,(l,f)=>{Ua(i,f,l)})},Vs=(o,s)=>{const i=o.dom.getAttribute(s);return i===null?void 0:i},xa=(o,s)=>B.from(Vs(o,s)),ji=(o,s)=>{const i=o.dom;return!(!i||!i.hasAttribute)&&i.hasAttribute(s)},Xr=(o,s)=>{o.dom.removeAttribute(s)},Ns=(o,s,i)=>{if(!de(i))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",i,":: Element ",o),new Error("CSS value must be a string: "+i);Yn(o)&&o.style.setProperty(s,i)},Xl=(o,s)=>{Yn(o)&&o.style.removeProperty(s)},qn=(o,s,i)=>{const l=o.dom;Ns(l,s,i)},Jl=(o,s)=>{const i=o.dom;Nr(s,(l,f)=>{Ns(i,f,l)})},Zi=(o,s)=>{const i=o.dom;Nr(s,(l,f)=>{l.fold(()=>{Xl(i,f)},m=>{Ns(i,f,m)})})},_s=(o,s)=>{const i=o.dom,l=window.getComputedStyle(i).getPropertyValue(s);return l!==""||Or(o)?l:al(i,s)},al=(o,s)=>Yn(o)?o.style.getPropertyValue(s):"",$s=(o,s)=>{const i=o.dom,l=al(i,s);return B.from(l).filter(f=>f.length>0)},id=o=>{const s={},i=o.dom;if(Yn(i))for(let l=0;l<i.style.length;l++){const f=i.style.item(l);s[f]=i.style[f]}return s},sf=(o,s,i)=>{const l=bl(o);return qn(l,s,i),$s(l,s).isSome()},or=(o,s)=>{const i=o.dom;Xl(i,s),xi(xa(o,"style").map(Vi),"")&&Xr(o,"style")},ne=o=>o.dom.offsetWidth,Oe=(o,s)=>{const i=f=>{const m=s(f);if(m<=0||m===null){const b=_s(f,o);return parseFloat(b)||0}return m},l=(f,m)=>Y(m,(b,x)=>{const w=_s(f,x),E=w===void 0?0:parseInt(w,10);return isNaN(E)?b:b+E},0);return{set:(f,m)=>{if(!tn(m)&&!m.match(/^[0-9]+$/))throw new Error(o+".set accepts only positive integer values. Value was "+m);const b=f.dom;Yn(b)&&(b.style[o]=m+"px")},get:i,getOuter:i,aggregate:l,max:(f,m,b)=>{const x=l(f,b);return m>x?m-x:0}}},Ie=Oe("height",o=>{const s=o.dom;return Or(o)?s.getBoundingClientRect().height:s.offsetHeight}),et=o=>Ie.get(o),Vt=o=>Ie.getOuter(o),An=(o,s)=>({left:o,top:s,translate:(i,l)=>An(o+i,s+l)}),ro=An,Wn=(o,s)=>o!==void 0?o:s!==void 0?s:0,Vn=o=>{const s=o.dom.ownerDocument,i=s.body,l=s.defaultView,f=s.documentElement;if(i===o.dom)return ro(i.offsetLeft,i.offsetTop);const m=Wn(l==null?void 0:l.pageYOffset,f.scrollTop),b=Wn(l==null?void 0:l.pageXOffset,f.scrollLeft),x=Wn(f.clientTop,i.clientTop),w=Wn(f.clientLeft,i.clientLeft);return is(o).translate(b-w,m-x)},is=o=>{const s=o.dom,i=s.ownerDocument.body;return i===s?ro(i.offsetLeft,i.offsetTop):Or(o)?(l=>{const f=l.getBoundingClientRect();return ro(f.left,f.top)})(s):ro(0,0)},wr=Oe("width",o=>o.dom.offsetWidth),jr=o=>wr.get(o),Aa=o=>wr.getOuter(o),il=o=>{let s,i=!1;return(...l)=>(i||(i=!0,s=o.apply(null,l)),s)},Qo=()=>af(0,0),af=(o,s)=>({major:o,minor:s}),Wc={nu:af,detect:(o,s)=>{const i=String(s).toLowerCase();return o.length===0?Qo():((l,f)=>{const m=((x,w)=>{for(let E=0;E<x.length;E++){const O=x[E];if(O.test(w))return O}})(l,f);if(!m)return{major:0,minor:0};const b=x=>Number(f.replace(m,"$"+x));return af(b(1),b(2))})(o,i)},unknown:Qo},ja=(o,s)=>{const i=String(s).toLowerCase();return $o(o,l=>l.search(i))},_u=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ta=o=>s=>fa(s,o),Hp=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:o=>fa(o,"edge/")&&fa(o,"chrome")&&fa(o,"safari")&&fa(o,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,_u],search:o=>fa(o,"chrome")&&!fa(o,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:o=>fa(o,"msie")||fa(o,"trident")},{name:"Opera",versionRegexes:[_u,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ta("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ta("firefox")},{name:"Safari",versionRegexes:[_u,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:o=>(fa(o,"safari")||fa(o,"mobile/"))&&fa(o,"applewebkit")}],Ja=[{name:"Windows",search:ta("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:o=>fa(o,"iphone")||fa(o,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ta("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ta("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ta("linux"),versionRegexes:[]},{name:"Solaris",search:ta("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ta("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ta("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Rl={browsers:Te(Hp),oses:Te(Ja)},ip="Edge",Pg="Chromium",Ut="Opera",Cu="Firefox",lp="Safari",jd=o=>{const s=o.current,i=o.version,l=f=>()=>s===f;return{current:s,version:i,isEdge:l(ip),isChromium:l(Pg),isIE:l("IE"),isOpera:l(Ut),isFirefox:l(Cu),isSafari:l(lp)}},Jr=()=>jd({current:void 0,version:Wc.unknown()}),Up=jd,Wi="Windows",Su="Android",cp="Linux",zc="macOS",ld="Solaris",Ig="FreeBSD",wa="ChromeOS",cd=o=>{const s=o.current,i=o.version,l=f=>()=>s===f;return{current:s,version:i,isWindows:l(Wi),isiOS:l("iOS"),isAndroid:l(Su),isMacOS:l(zc),isLinux:l(cp),isSolaris:l(ld),isFreeBSD:l(Ig),isChromeOS:l(wa)}},jp=()=>cd({current:void 0,version:Wc.unknown()}),$c=cd,Hf=o=>window.matchMedia(o).matches;var lf;let pc=il(()=>((o,s,i)=>{const l=Rl.browsers(),f=Rl.oses(),m=s.bind(w=>((E,O)=>qo(O.brands,A=>{const L=A.brand.toLowerCase();return $o(E,H=>{var q;return L===((q=H.brand)===null||q===void 0?void 0:q.toLowerCase())}).map(H=>({current:H.name,version:Wc.nu(parseInt(A.version,10),0)}))}))(l,w)).orThunk(()=>((w,E)=>ja(w,E).map(O=>{const A=Wc.detect(O.versionRegexes,E);return{current:O.name,version:A}}))(l,o)).fold(Jr,Up),b=((w,E)=>ja(w,E).map(O=>{const A=Wc.detect(O.versionRegexes,E);return{current:O.name,version:A}}))(f,o).fold(jp,$c),x=((w,E,O,A)=>{const L=w.isiOS()&&/ipad/i.test(O)===!0,H=w.isiOS()&&!L,q=w.isiOS()||w.isAndroid(),re=q||A("(pointer:coarse)"),se=L||!H&&q&&A("(min-device-width:768px)"),me=H||q&&!se,te=E.isSafari()&&w.isiOS()&&/safari/i.test(O)===!1,Q=!me&&!se&&!te;return{isiPad:Te(L),isiPhone:Te(H),isTablet:Te(se),isPhone:Te(me),isTouch:Te(re),isAndroid:w.isAndroid,isiOS:w.isiOS,isWebView:Te(te),isDesktop:Te(Q)}})(b,m,o,i);return{browser:m,os:b,deviceType:x}})(navigator.userAgent,B.from(navigator.userAgentData),Hf));const Oc=()=>pc(),Co=o=>{const s=Jt((m=>{if(za()&&lt(m.target)){const b=Jt(m.target);if(Qs(b)&&(x=>lt(x.dom.shadowRoot))(b)&&m.composed&&m.composedPath){const x=m.composedPath();if(x)return dt(x)}}return B.from(m.target)})(o).getOr(o.target)),i=()=>o.stopPropagation(),l=()=>o.preventDefault(),f=At(l,i);return((m,b,x,w,E,O,A)=>({target:m,x:b,y:x,stop:w,prevent:E,kill:O,raw:A}))(s,o.clientX,o.clientY,i,l,f,o)},Eu=(o,s,i,l,f)=>{const m=((b,x)=>w=>{b(w)&&x(Co(w))})(i,l);return o.dom.addEventListener(s,m,f),{unbind:qe(na,o,s,m,f)}},na=(o,s,i,l)=>{o.dom.removeEventListener(s,i,l)},Zd=(o,s)=>{ol(o).each(i=>{i.dom.insertBefore(s.dom,o.dom)})},Tu=(o,s)=>{(l=>B.from(l.dom.nextSibling).map(Jt))(o).fold(()=>{ol(o).each(l=>{Hs(l,s)})},l=>{Zd(l,s)})},$i=(o,s)=>{vl(o).fold(()=>{Hs(o,s)},i=>{o.dom.insertBefore(s.dom,i.dom)})},Hs=(o,s)=>{o.dom.appendChild(s.dom)},Wd=(o,s)=>{nn(s,i=>{Hs(o,i)})},Uf=o=>{o.dom.textContent="",nn(xr(o),s=>{ma(s)})},ma=o=>{const s=o.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},Ds=o=>{const s=o!==void 0?o.dom:document,i=s.body.scrollLeft||s.documentElement.scrollLeft,l=s.body.scrollTop||s.documentElement.scrollTop;return ro(i,l)},Fr=(o,s,i)=>{const l=(i!==void 0?i.dom:document).defaultView;l&&l.scrollTo(o,s)},Cs=(o,s,i,l)=>({x:o,y:s,width:i,height:l,right:o+i,bottom:s+l}),qi=o=>{const s=o===void 0?window:o,i=s.document,l=Ds(Jt(i));return(f=>{const m=f===void 0?window:f;return Oc().browser.isFirefox()?B.none():B.from(m.visualViewport)})(s).fold(()=>{const f=s.document.documentElement,m=f.clientWidth,b=f.clientHeight;return Cs(l.left,l.top,m,b)},f=>Cs(Math.max(f.pageLeft,l.left),Math.max(f.pageTop,l.top),f.width,f.height))},qs=()=>Jt(document),Na=(o,s)=>o.view(s).fold(Te([]),i=>{const l=o.owner(i),f=Na(o,l);return[i].concat(f)});var hs=Object.freeze({__proto__:null,view:o=>{var s;return(o.dom===document?B.none():B.from((s=o.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(Jt)},owner:o=>Xa(o)});const zu=o=>{const s=qs(),i=Ds(s);return((f,m)=>{const b=m.owner(f),x=Na(m,b);return B.some(x)})(o,hs).fold(qe(Vn,o),f=>{const m=is(o),b=Do(f,(x,w)=>{const E=is(w);return{left:x.left+E.left,top:x.top+E.top}},{left:0,top:0});return ro(b.left+m.left+i.left,b.top+m.top+i.top)})},Us=(o,s,i,l)=>({x:o,y:s,width:i,height:l,right:o+i,bottom:s+l}),pa=o=>{const s=Vn(o),i=Aa(o),l=Vt(o);return Us(s.left,s.top,i,l)},oa=o=>{const s=zu(o),i=Aa(o),l=Vt(o);return Us(s.left,s.top,i,l)},$d=(o,s)=>{const i=Math.max(o.x,s.x),l=Math.max(o.y,s.y),f=Math.min(o.right,s.right),m=Math.min(o.bottom,s.bottom);return Us(i,l,f-i,m-l)},Qr=()=>qi(window);var jf=tinymce.util.Tools.resolve("tinymce.ThemeManager");const dd=o=>{const s=m=>m(o),i=Te(o),l=()=>f,f={tag:!0,inner:o,fold:(m,b)=>b(o),isValue:un,isError:Je,map:m=>So.value(m(o)),mapError:l,bind:s,exists:s,forall:s,getOr:i,or:l,getOrThunk:i,orThunk:l,getOrDie:i,each:m=>{m(o)},toOptional:()=>B.some(o)};return f},gc=o=>{const s=()=>i,i={tag:!1,inner:o,fold:(l,f)=>l(o),isValue:Je,isError:un,map:s,mapError:l=>So.error(l(o)),bind:s,exists:Je,forall:un,getOr:kt,or:kt,getOrThunk:Zn,orThunk:Zn,getOrDie:wo(String(o)),each:ht,toOptional:B.none};return i},So={value:dd,error:gc,fromOption:(o,s)=>o.fold(()=>gc(s),dd)};var ra;(function(o){o[o.Error=0]="Error",o[o.Value=1]="Value"})(ra||(ra={}));const qd=(o,s,i)=>o.stype===ra.Error?s(o.serror):i(o.svalue),Ci=o=>({stype:ra.Value,svalue:o}),Ou=o=>({stype:ra.Error,serror:o}),Ac=Ci,ud=Ou,Zp=qd,fd=(o,s,i,l)=>({tag:"field",key:o,newKey:s,presence:i,prop:l}),Qa=(o,s,i)=>{switch(o.tag){case"field":return s(o.key,o.newKey,o.presence,o.prop);case"custom":return i(o.newKey,o.instantiator)}},dp=o=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const i={};for(let l=0;l<s.length;l++){const f=s[l];for(const m in f)_n(f,m)&&(i[m]=o(i[m],f[m]))}return i},ye=dp((o,s)=>ge(o)&&ge(s)?ye(o,s):s),hc=dp((o,s)=>s),Si=o=>({tag:"defaultedThunk",process:o}),qc=o=>Si(Te(o)),cf=o=>({tag:"mergeWithThunk",process:o}),Gd=o=>{const s=(l=>{const f=[],m=[];return nn(l,b=>{qd(b,x=>m.push(x),x=>f.push(x))}),{values:f,errors:m}})(o);return s.errors.length>0?(i=s.errors,At(ud,Xo)(i)):Ac(s.values);var i},Pe=o=>be(o)&&mo(o).length>100?" removed due to size":JSON.stringify(o,null,2),Dt=(o,s)=>ud([{path:o,getErrorInfo:s}]),xt=o=>({extract:(s,i)=>((l,f)=>l.stype===ra.Error?f(l.serror):l)(o(i),l=>((f,m)=>Dt(f,Te(m)))(s,l)),toString:Te("val")}),Sn=xt(Ac),Po=(o,s,i,l)=>l(dn(o,s).getOrThunk(()=>i(o))),ir=(o,s,i,l,f)=>{const m=x=>f.extract(s.concat([l]),x),b=x=>x.fold(()=>Ac(B.none()),w=>((E,O)=>E.stype===ra.Value?{stype:ra.Value,svalue:O(E.svalue)}:E)(f.extract(s.concat([l]),w),B.some));switch(o.tag){case"required":return((x,w,E,O)=>dn(w,E).fold(()=>((A,L,H)=>Dt(A,()=>'Could not find valid *required* value for "'+L+'" in '+Pe(H)))(x,E,w),O))(s,i,l,m);case"defaultedThunk":return Po(i,l,o.process,m);case"option":return((x,w,E)=>E(dn(x,w)))(i,l,b);case"defaultedOptionThunk":return((x,w,E,O)=>O(dn(x,w).map(A=>A===!0?E(x):A)))(i,l,o.process,b);case"mergeWithThunk":return Po(i,l,Te({}),x=>{const w=ye(o.process(i),x);return m(w)})}},Dr=o=>({extract:(s,i)=>o().extract(s,i),toString:()=>o().toString()}),Rr=o=>mo(Pr(o,lt)),ui=o=>{const s=Rn(o),i=Do(o,(l,f)=>Qa(f,m=>ye(l,{[m]:!0}),Te(l)),{});return{extract:(l,f)=>{const m=Xe(f)?[]:Rr(f),b=Pn(m,x=>!Ws(i,x));return b.length===0?s.extract(l,f):((x,w)=>Dt(x,()=>"There are unsupported fields: ["+w.join(", ")+"] specified"))(l,b)},toString:s.toString}},Rn=o=>({extract:(s,i)=>((l,f,m)=>{const b={},x=[];for(const w of m)Qa(w,(E,O,A,L)=>{const H=ir(A,l,f,E,L);Zp(H,q=>{x.push(...q)},q=>{b[O]=q})},(E,O)=>{b[E]=O(f)});return x.length>0?ud(x):Ac(b)})(s,i,o),toString:()=>`obj{
`+St(o,i=>Qa(i,(l,f,m,b)=>l+" -> "+b.toString(),(l,f)=>"state("+l+")")).join(`
`)+"}"}),Rs=o=>({extract:(s,i)=>{const l=St(i,(f,m)=>o.extract(s.concat(["["+m+"]"]),f));return Gd(l)},toString:()=>"array("+o.toString()+")"}),Ei=(o,s)=>{const i=s!==void 0?s:kt;return{extract:(l,f)=>{const m=[];for(const b of o){const x=b.extract(l,f);if(x.stype===ra.Value)return{stype:ra.Value,svalue:i(x.svalue)};m.push(x)}return Gd(m)},toString:()=>"oneOf("+St(o,l=>l.toString()).join(", ")+")"}},Wp=(o,s)=>({extract:(i,l)=>{const f=mo(l),m=((b,x)=>Rs(xt(o)).extract(b,x))(i,f);return((b,x)=>b.stype===ra.Value?x(b.svalue):b)(m,b=>{const x=St(b,w=>fd(w,w,{tag:"required",process:{}},s));return Rn(x).extract(i,l)})},toString:()=>"setOf("+s.toString()+")"}),bc=At(Rs,Rn),Br=Te(Sn),yc=(o,s)=>xt(i=>{const l=typeof i;return o(i)?Ac(i):ud(`Expected type: ${s} but got: ${l}`)}),Zr=yc(tn,"number"),ga=yc(de,"string"),Nc=yc(Xe,"boolean"),Au=yc(Rt,"function"),Zf=o=>{if(Object(o)!==o)return!0;switch({}.toString.call(o).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(o).every(s=>Zf(o[s]));default:return!1}},up=xt(o=>Zf(o)?Ac(o):ud("Expected value to be acceptable for sending via postMessage")),md=(o,s)=>({extract:(i,l)=>dn(l,o).fold(()=>((f,m)=>Dt(f,()=>'Choice schema did not contain choice key: "'+m+'"'))(i,o),f=>((m,b,x,w)=>dn(x,w).fold(()=>((E,O,A)=>Dt(E,()=>'The chosen schema: "'+A+'" did not exist in branches: '+Pe(O)))(m,x,w),E=>E.extract(m.concat(["branch: "+w]),b)))(i,l,s,f)),toString:()=>"chooseOn("+o+"). Possible values: "+mo(s)}),xl=o=>xt(s=>o(s).fold(ud,Ac)),ll=(o,s)=>Wp(i=>o(i).fold(Ou,Ci),s),Wr=(o,s,i)=>{return l=((f,m,b)=>((x,w)=>x.stype===ra.Error?{stype:ra.Error,serror:w(x.serror)}:x)(m.extract([f],b),x=>({input:b,errors:x})))(o,s,i),qd(l,So.error,So.value);var l},Ql=o=>o.fold(s=>{throw new Error(Gc(s))},kt),ka=(o,s,i)=>Ql(Wr(o,s,i)),Gc=o=>`Errors: 
`+(s=>{const i=s.length>10?s.slice(0,10).concat([{path:[],getErrorInfo:Te("... (only showing first ten failures)")}]):s;return St(i,l=>"Failed path: ("+l.path.join(" > ")+`)
`+l.getErrorInfo())})(o.errors).join(`
`)+`

Input object: `+Pe(o.input),fi=(o,s)=>md(o,go(s,Rn)),Kd=(o,s)=>((i,l)=>{const f=il(l);return{extract:(m,b)=>f().extract(m,b),toString:()=>f().toString()}})(0,s),Gs=fd,sa=(o,s)=>({tag:"custom",newKey:o,instantiator:s}),ei=o=>xl(s=>Mn(o,s)?So.value(s):So.error(`Unsupported value: "${s}", choose one of "${o.join(", ")}".`)),at=o=>Gs(o,o,{tag:"required",process:{}},Br()),wl=(o,s)=>Gs(o,o,{tag:"required",process:{}},s),vm=o=>wl(o,Zr),Bs=o=>wl(o,ga),Da=(o,s)=>Gs(o,o,{tag:"required",process:{}},ei(s)),Ra=o=>wl(o,Au),Gi=(o,s)=>Gs(o,o,{tag:"required",process:{}},Rn(s)),Nu=(o,s)=>Gs(o,o,{tag:"required",process:{}},bc(s)),Za=(o,s)=>Gs(o,o,{tag:"required",process:{}},Rs(s)),ur=o=>Gs(o,o,{tag:"option",process:{}},Br()),Bl=(o,s)=>Gs(o,o,{tag:"option",process:{}},s),Ks=o=>Bl(o,Zr),Ar=o=>Bl(o,ga),xm=(o,s)=>Bl(o,ei(s)),Ml=o=>Bl(o,Au),Wa=(o,s)=>Bl(o,Rs(s)),kl=(o,s)=>Bl(o,Rn(s)),Ue=(o,s)=>Gs(o,o,qc(s),Br()),_a=(o,s,i)=>Gs(o,o,qc(s),i),Kc=(o,s)=>_a(o,s,Zr),_l=(o,s)=>_a(o,s,ga),Ms=(o,s,i)=>_a(o,s,ei(i)),es=(o,s)=>_a(o,s,Nc),ls=(o,s)=>_a(o,s,Au),Mr=(o,s,i)=>_a(o,s,Rs(i)),Wf=(o,s,i)=>_a(o,s,Rn(i)),Ln=o=>{let s=o;return{get:()=>s,set:i=>{s=i}}},Ba=o=>{if(!Me(o))throw new Error("cases must be an array");if(o.length===0)throw new Error("there must be at least one case");const s=[],i={};return nn(o,(l,f)=>{const m=mo(l);if(m.length!==1)throw new Error("one and only one name per case");const b=m[0],x=l[b];if(i[b]!==void 0)throw new Error("duplicate key detected:"+b);if(b==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Me(x))throw new Error("case arguments must be an array");s.push(b),i[b]=(...w)=>{const E=w.length;if(E!==x.length)throw new Error("Wrong number of arguments to case "+b+". Expected "+x.length+" ("+x+"), got "+E);return{fold:(...O)=>{if(O.length!==o.length)throw new Error("Wrong number of arguments to fold. Expected "+o.length+", got "+O.length);return O[f].apply(null,w)},match:O=>{const A=mo(O);if(s.length!==A.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+A.join(","));if(!Gl(s,L=>Mn(A,L)))throw new Error("Not all branches were specified when using match. Specified: "+A.join(", ")+`
Required: `+s.join(", "));return O[b].apply(null,w)},log:O=>{console.log(O,{constructors:s,constructor:b,params:w})}}}}),i};Ba([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const mi=(o,s)=>((i,l)=>({[i]:l}))(o,s),lr=o=>(s=>{const i={};return nn(s,l=>{i[l.key]=l.value}),i})(o),ha=o=>Rt(o)?o:Je,vc=(o,s,i)=>{let l=o.dom;const f=ha(i);for(;l.parentNode;){l=l.parentNode;const m=Jt(l),b=s(m);if(b.isSome())return b;if(f(m))break}return B.none()},ec=(o,s,i)=>{const l=s(o),f=ha(i);return l.orThunk(()=>f(o)?B.none():vc(o,s,f))},fe=(o,s)=>Jo(o.element,s.event.target),Dc={can:un,abort:Je,run:ht},xc=o=>{if(!Ws(o,"can")&&!Ws(o,"abort")&&!Ws(o,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(o,null,2)+" does not have can, abort, or run!");return{...Dc,...o}},rs=Te,Go=rs("touchstart"),Yd=rs("touchmove"),wc=rs("touchend"),df=rs("touchcancel"),aa=rs("mousedown"),z=rs("mousemove"),V=rs("mouseout"),J=rs("mouseup"),Ce=rs("mouseover"),Ae=rs("focusin"),Ot=rs("focusout"),yn=rs("keydown"),so=rs("keyup"),Hn=rs("input"),En=rs("change"),gr=rs("click"),bs=rs("transitioncancel"),Ti=rs("transitionend"),pd=rs("transitionstart"),zi=rs("selectstart"),ba=o=>Te("alloy."+o),pi={tap:ba("tap")},Oi=ba("focus"),wm=ba("blur.post"),kn=ba("paste.post"),Ys=ba("receive"),cl=ba("execute"),Rc=ba("focus.item"),Ll=pi.tap,Du=ba("longpress"),fp=ba("sandbox.close"),$p=ba("typeahead.cancel"),Yc=ba("system.init"),Fg=ba("system.touchmove"),gd=ba("system.touchend"),Ru=ba("system.scroll"),Bc=ba("system.resize"),Nt=ba("system.attached"),km=ba("system.detached"),Bu=ba("system.dismissRequested"),Mu=ba("system.repositionRequested"),Cl=ba("focusmanager.shifted"),$f=ba("slotcontainer.visibility"),ss=ba("system.external.element.scroll"),Sl=ba("change.tab"),tc=ba("dismiss.tab"),$r=ba("highlight"),uf=ba("dehighlight"),Lo=(o,s)=>{ff(o,o.element,s,{})},gn=(o,s,i)=>{ff(o,o.element,s,i)},Lu=o=>{Lo(o,cl())},mp=(o,s,i)=>{ff(o,s,i,{})},ff=(o,s,i,l)=>{const f={target:s,...l};o.getSystem().triggerEvent(i,s,f)},nc=(o,s,i,l)=>{o.getSystem().triggerEvent(i,s,l.event)},Ro=o=>lr(o),Ma=(o,s)=>({key:o,value:xc({abort:s})}),_m=o=>({key:o,value:xc({run:(s,i)=>{i.event.prevent()}})}),mt=(o,s)=>({key:o,value:xc({run:s})}),oc=(o,s,i)=>({key:o,value:xc({run:(l,f)=>{s.apply(void 0,[l,f].concat(i))}})}),Xd=o=>s=>({key:o,value:xc({run:(i,l)=>{fe(i,l)&&s(i,l)}})}),Jd=(o,s,i)=>((l,f)=>mt(l,(m,b)=>{m.getSystem().getByUid(f).each(x=>{nc(x,x.element,l,b)})}))(o,s.partUids[i]),Pu=(o,s)=>mt(o,(i,l)=>{const f=l.event,m=i.getSystem().getByDom(f.target).getOrThunk(()=>ec(f.target,b=>i.getSystem().getByDom(b).toOptional(),Je).getOr(i));s(i,m,l)}),hd=o=>mt(o,(s,i)=>{i.cut()}),Pl=o=>mt(o,(s,i)=>{i.stop()}),Iu=(o,s)=>Xd(o)(s),ts=Xd(Nt()),Qd=Xd(km()),Mh=Xd(Yc()),dl=(yd=cl(),o=>mt(yd,o)),Cm=o=>o.dom.innerHTML,Ki=(o,s)=>{const i=Xa(o).dom,l=Jt(i.createDocumentFragment()),f=((m,b)=>{const x=(b||document).createElement("div");return x.innerHTML=m,xr(Jt(x))})(s,i);Wd(l,f),Uf(o),Hs(o,l)},qf=(o,s)=>Jt(o.dom.cloneNode(s)),bd=o=>(s=>{if(mc(s))return"#shadow-root";{const i=(l=>qf(l,!1))(s);return(l=>{const f=bl("div"),m=Jt(l.dom.cloneNode(!0));return Hs(f,m),Cm(f)})(i)}})(o),Fu=Ro([((o,s)=>({key:o,value:xc({can:(i,l)=>{const f=l.event,m=f.originator,b=f.target;return!((x,w,E)=>Jo(w,x.element)&&!Jo(w,E))(i,m,b)||(console.warn(Oi()+` did not get interpreted by the desired target. 
Originator: `+bd(m)+`
Target: `+bd(b)+`
Check the `+Oi()+" event handlers"),!1)}})}))(Oi())]);var yd,mf=Object.freeze({__proto__:null,events:Fu});let Gf=0;const bn=o=>{const s=new Date().getTime(),i=Math.floor(1e9*Math.random());return Gf++,o+"_"+i+Gf+String(s)},pp=Te("alloy-id-"),Sm=Te("data-alloy-id"),pf=pp(),Lh=Sm(),C=(o,s)=>{Object.defineProperty(o.dom,Lh,{value:s,writable:!0})},D=o=>{const s=Qs(o)?o.dom[Lh]:null;return B.from(s)},G=o=>bn(o),ae=kt,De=o=>{const s=f=>`The component must be in a context to execute: ${f}`+(o?`
`+bd(o().element)+" is not in context.":""),i=f=>()=>{throw new Error(s(f))},l=f=>()=>{console.warn(s(f))};return{debugInfo:Te("fake"),triggerEvent:l("triggerEvent"),triggerFocus:l("triggerFocus"),triggerEscape:l("triggerEscape"),broadcast:l("broadcast"),broadcastOn:l("broadcastOn"),broadcastEvent:l("broadcastEvent"),build:i("build"),buildOrPatch:i("buildOrPatch"),addToWorld:i("addToWorld"),removeFromWorld:i("removeFromWorld"),addToGui:i("addToGui"),removeFromGui:i("removeFromGui"),getByUid:i("getByUid"),getByDom:i("getByDom"),isConnected:Je}},st=De(),It=o=>St(o,s=>hl(s,"/*")?s.substring(0,s.length-2):s),rn=(o,s)=>{const i=o.toString(),l=i.indexOf(")")+1,f=i.indexOf("("),m=i.substring(f+1,l-1).split(/,\s*/);return o.toFunctionAnnotation=()=>({name:s,parameters:It(m)}),o},Tn=bn("alloy-premade"),co=o=>(Object.defineProperty(o.element.dom,Tn,{value:o.uid,writable:!0}),mi(Tn,o)),ys=o=>dn(o,Tn),ko=o=>((s,i)=>{const l=i.toString(),f=l.indexOf(")")+1,m=l.indexOf("("),b=l.substring(m+1,f-1).split(/,\s*/);return s.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:It(b.slice(1))}),s})((s,...i)=>o(s.getApis(),s,...i),o),cr={init:()=>ns({readState:Te("No State required")})},ns=o=>o,La=(o,s)=>{const i={};return Nr(o,(l,f)=>{Nr(l,(m,b)=>{const x=dn(i,b).getOr([]);i[b]=x.concat([s(f,m)])})}),i},$a=o=>({classes:vt(o.classes)?[]:o.classes,attributes:vt(o.attributes)?{}:o.attributes,styles:vt(o.styles)?{}:o.styles}),Xc=o=>o.cHandler,Em=(o,s)=>({name:o,handler:s}),gf=(o,s)=>{const i={};return nn(o,l=>{i[l.name()]=l.handlers(s)}),i},er=(o,s,i)=>{const l=s[i];return l?((f,m,b,x)=>{try{const w=_t(b,(E,O)=>{const A=E[m],L=O[m],H=x.indexOf(A),q=x.indexOf(L);if(H===-1)throw new Error("The ordering for "+f+" does not have an entry for "+A+`.
Order specified: `+JSON.stringify(x,null,2));if(q===-1)throw new Error("The ordering for "+f+" does not have an entry for "+L+`.
Order specified: `+JSON.stringify(x,null,2));return H<q?-1:q<H?1:0});return So.value(w)}catch(w){return So.error([w])}})("Event: "+i,"name",o,l).map(f=>(m=>{const b=((w,E)=>(...O)=>Y(w,(A,L)=>A&&(H=>H.can)(L).apply(void 0,O),!0))(m),x=((w,E)=>(...O)=>Y(w,(A,L)=>A||(H=>H.abort)(L).apply(void 0,O),!1))(m);return{can:b,abort:x,run:(...w)=>{nn(m,E=>{E.run.apply(void 0,w)})}}})(St(f,m=>m.handler))):((f,m)=>So.error(["The event ("+f+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(St(m,b=>b.name),null,2)]))(i,o)},Tm=(o,s)=>((i,l)=>{const f=(b=>{const x=[],w=[];return nn(b,E=>{E.fold(O=>{x.push(O)},O=>{w.push(O)})}),{errors:x,values:w}})(i);return f.errors.length>0?(m=f.errors,So.error(Xo(m))):((b,x)=>b.length===0?So.value(x):So.value(ye(x,hc.apply(void 0,b))))(f.values,l);var m})(Mo(o,(i,l)=>(i.length===1?So.value(i[0].handler):er(i,s,l)).map(f=>{const m=(x=>{const w=(E=>Rt(E)?{can:un,abort:Je,run:E}:E)(x);return(E,O,...A)=>{const L=[E,O].concat(A);w.abort.apply(void 0,L)?O.stop():w.can.apply(void 0,L)&&w.run.apply(void 0,L)}})(f),b=i.length>1?Pn(s[l],x=>Hr(i,w=>w.name===x)).join(" > "):i[0].name;return mi(l,((x,w)=>({handler:x,purpose:w}))(m,b))})),{}),eu="alloy.base.behaviour",tu=Rn([Gs("dom","dom",{tag:"required",process:{}},Rn([at("tag"),Ue("styles",{}),Ue("classes",[]),Ue("attributes",{}),ur("value"),ur("innerHtml")])),at("components"),at("uid"),Ue("events",{}),Ue("apis",{}),Gs("eventOrder","eventOrder",(Tl={[cl()]:["disabling",eu,"toggling","typeaheadevents"],[Oi()]:[eu,"focusing","keying"],[Yc()]:[eu,"disabling","toggling","representing"],[Hn()]:[eu,"representing","streaming","invalidating"],[km()]:[eu,"representing","item-events","tooltipping"],[aa()]:["focusing",eu,"item-type-events"],[Go()]:["focusing",eu,"item-type-events"],[Ce()]:["item-type-events","tooltipping"],[Ys()]:["receiving","reflecting","tooltipping"]},cf(Te(Tl))),Br()),ur("domModification")]),gp=o=>o.events,qp=(o,s)=>{const i=Vs(o,s);return i===void 0||i===""?[]:i.split(" ")},nu=o=>o.dom.classList!==void 0,To=o=>qp(o,"class"),kr=(o,s)=>((i,l,f)=>{const m=qp(i,l).concat([f]);return eo(i,l,m.join(" ")),!0})(o,"class",s),gi=(o,s)=>((i,l,f)=>{const m=Pn(qp(i,l),b=>b!==f);return m.length>0?eo(i,l,m.join(" ")):Xr(i,l),!1})(o,"class",s),hr=(o,s)=>{nu(o)?o.dom.classList.add(s):kr(o,s)},Gp=o=>{(nu(o)?o.dom.classList:To(o)).length===0&&Xr(o,"class")},Ls=(o,s)=>{nu(o)?o.dom.classList.remove(s):gi(o,s),Gp(o)},vs=(o,s)=>nu(o)&&o.dom.classList.contains(s),Yi=(o,s)=>{nn(s,i=>{hr(o,i)})},Mc=(o,s)=>{nn(s,i=>{Ls(o,i)})},ou=o=>nu(o)?(s=>{const i=s.dom.classList,l=new Array(i.length);for(let f=0;f<i.length;f++){const m=i.item(f);m!==null&&(l[f]=m)}return l})(o):To(o),vd=o=>o.dom.value,Kf=(o,s)=>{if(s===void 0)throw new Error("Value.set was undefined");o.dom.value=s},Kp=(o,s,i)=>{i.fold(()=>Hs(o,s),l=>{Jo(l,s)||(Zd(l,s),ma(l))})},Yf=(o,s,i)=>{const l=St(s,i),f=xr(o);return nn(f.slice(l.length),ma),l},hf=(o,s,i,l)=>{const f=zr(o,s),m=l(i,f),b=((x,w,E)=>zr(x,w).map(O=>{if(E.exists(A=>!Jo(A,O))){const A=E.map(ki).getOr("span"),L=bl(A);return Zd(O,L),L}return O}))(o,s,f);return Kp(o,m.element,b),m},Vg=(o,s)=>{const i=mo(o),l=mo(s),f=ar(l,i),m=((b,x)=>{const w={},E={};return Ur(b,(O,A)=>!_n(s,A)||O!==s[A],va(w),va(E)),{t:w,f:E}})(o).t;return{toRemove:f,toSet:m}},zm=(o,s)=>{const i=s.filter(l=>ki(l)===o.tag&&!(f=>f.innerHtml.isSome()&&f.domChildren.length>0)(o)&&!(f=>_n(f.dom,Tn))(l)).bind(l=>((f,m)=>{try{const b=((x,w)=>{const{class:E,style:O,...A}=(ce=>Y(ce.dom.attributes,(pe,_e)=>(pe[_e.name]=_e.value,pe),{}))(w),{toSet:L,toRemove:H}=Vg(x.attributes,A),q=id(w),{toSet:re,toRemove:se}=Vg(x.styles,q),me=ou(w),te=ar(me,x.classes),Q=ar(x.classes,me);return nn(H,ce=>Xr(w,ce)),di(w,L),Yi(w,Q),Mc(w,te),nn(se,ce=>or(w,ce)),Jl(w,re),x.innerHtml.fold(()=>{const ce=x.domChildren;((pe,_e)=>{Yf(pe,_e,(Re,Ge)=>{const pt=zr(pe,Ge);return Kp(pe,Re,pt),Re})})(w,ce)},ce=>{Ki(w,ce)}),(()=>{const ce=w,pe=x.value.getOrUndefined();pe!==vd(ce)&&Kf(ce,pe??"")})(),w})(f,m);return B.some(b)}catch{return B.none()}})(o,l)).getOrThunk(()=>(l=>{const f=bl(l.tag);di(f,l.attributes),Yi(f,l.classes),Jl(f,l.styles),l.innerHtml.each(b=>Ki(f,b));const m=l.domChildren;return Wd(f,m),l.value.each(b=>{Kf(f,b)}),f})(o));return C(i,o.uid),i},ly=o=>{const s=(i=>{const l=dn(i,"behaviours").getOr({});return Kr(mo(l),f=>{const m=l[f];return lt(m)?[m.me]:[]})})(o);return((i,l)=>((f,m)=>{const b=St(m,w=>kl(w.name(),[at("config"),Ue("state",cr)])),x=Wr("component.behaviours",Rn(b),f.behaviours).fold(w=>{throw new Error(Gc(w)+`
Complete spec:
`+JSON.stringify(f,null,2))},kt);return{list:m,data:go(x,w=>{const E=w.map(O=>({config:O.config,state:O.state.init(O.config)}));return Te(E)})}})(i,l))(o,s)},ru=(o,s)=>{const i=()=>L,l=Ln(st),f=Ql((H=>Wr("custom.definition",tu,H))(o)),m=ly(o),b=(H=>H.list)(m),x=(H=>H.data)(m),w=((H,q,re)=>{const se={...(me=H).dom,uid:me.uid,domChildren:St(me.components,Re=>Re.element)};var me;const te=(Re=>Re.domModification.fold(()=>$a({}),$a))(H),Q={"alloy.base.modification":te},ce=q.length>0?((Re,Ge,pt,yt)=>{const Et={...Ge};nn(pt,Io=>{Et[Io.name()]=Io.exhibit(Re,yt)});const en=La(Et,(Io,Ps)=>({name:Io,modification:Ps})),xn=Io=>Do(Io,(Ps,da)=>({...da.modification,...Ps}),{}),Bn=Do(en.classes,(Io,Ps)=>Ps.modification.concat(Io),[]),Qn=xn(en.attributes),uo=xn(en.styles);return $a({classes:Bn,attributes:Qn,styles:uo})})(re,Q,q,se):te;return pe=se,_e=ce,{...pe,attributes:{...pe.attributes,..._e.attributes},styles:{...pe.styles,..._e.styles},classes:pe.classes.concat(_e.classes)};var pe,_e})(f,b,x),E=zm(w,s),O=((H,q,re)=>{const se={"alloy.base.behaviour":gp(H)};return((me,te,Q,ce)=>{const pe=((_e,Re,Ge)=>{const pt={...Ge,...gf(Re,_e)};return La(pt,Em)})(me,Q,ce);return Tm(pe,te)})(re,H.eventOrder,q,se).getOrDie()})(f,b,x),A=Ln(f.components),L={uid:o.uid,getSystem:l.get,config:H=>{const q=x;return(Rt(q[H.name()])?q[H.name()]:()=>{throw new Error("Could not find "+H.name()+" in "+JSON.stringify(o,null,2))})()},hasConfigured:H=>Rt(x[H.name()]),spec:o,readState:H=>x[H]().map(q=>q.state.readState()).getOr("not enabled"),getApis:()=>f.apis,connect:H=>{l.set(H)},disconnect:()=>{l.set(De(i))},element:E,syncComponents:()=>{const H=xr(E),q=Kr(H,re=>l.get().getByDom(re).fold(()=>[],ut));A.set(q)},components:A.get,events:O};return L},Ss=o=>{const s=jc(o);return Ph({element:s})},Ph=o=>{const s=ka("external.component",ui([at("element"),ur("uid")]),o),i=Ln(De()),l=s.uid.getOrThunk(()=>G("external"));C(s.element,l);const f={uid:l,getSystem:i.get,config:B.none,hasConfigured:Je,connect:m=>{i.set(m)},disconnect:()=>{i.set(De(()=>f))},getApis:()=>({}),element:s.element,spec:o,readState:Te("No state"),syncComponents:ht,components:Te([]),events:{}};return co(f)},Ih=G,Fh=(o,s)=>ys(o).getOrThunk(()=>((i,l)=>{const{events:f,...m}=ae(i),b=((w,E)=>{const O=dn(w,"components").getOr([]);return E.fold(()=>St(O,El),A=>St(O,(L,H)=>Fh(L,zr(A,H))))})(m,l),x={...m,events:{...mf,...f},components:b};return So.value(ru(x,l))})((i=>_n(i,"uid"))(o)?o:{uid:Ih(""),...o},s).getOrDie()),El=o=>Fh(o,B.none()),qr=co;var Tl,Yp=(o,s,i,l,f)=>o(i,l)?B.some(i):Rt(f)&&f(i)?B.none():s(i,l,f);const Vh=(o,s,i)=>{let l=o.dom;const f=Rt(i)?i:Je;for(;l.parentNode;){l=l.parentNode;const m=Jt(l);if(s(m))return B.some(m);if(f(m))break}return B.none()},cy=(o,s,i)=>Yp((l,f)=>f(l),Vh,o,s,i),Hg=(o,s,i)=>cy(o,s,i).isSome(),Pa=(o,s,i)=>Vh(o,l=>yl(l,s),i),su=(o,s)=>((i,l)=>$o(i.dom.childNodes,f=>{return m=Jt(f),yl(m,s);var m}).map(Jt))(o),ia=(o,s)=>((i,l)=>{const f=l===void 0?document:l.dom;return xu(f)?B.none():B.from(f.querySelector(i)).map(Jt)})(s,o),xd=(o,s,i)=>Yp((l,f)=>yl(l,f),Pa,o,s,i),bf="aria-controls",Vu=()=>{const o=bn(bf);return{id:o,link:s=>{eo(s,bf,o)},unlink:s=>{Xr(s,bf)}}},hi=(o,s)=>Hg(s,i=>Jo(i,o.element),Je)||((i,l)=>(f=>cy(f,m=>{if(!Qs(m))return!1;const b=Vs(m,"id");return b!==void 0&&b.indexOf(bf)>-1}).bind(m=>{const b=Vs(m,"id"),x=as(m);return ia(x,`[${bf}="${b}"]`)}))(l).exists(f=>hi(i,f)))(o,s);var yf;(function(o){o[o.STOP=0]="STOP",o[o.NORMAL=1]="NORMAL",o[o.LOGGING=2]="LOGGING"})(yf||(yf={}));const Ug=Ln({}),Hh=["alloy/data/Fields","alloy/debugging/Debugging"],Om=(o,s,i)=>((l,f,m)=>{switch(dn(Ug.get(),l).orThunk(()=>{const b=mo(Ug.get());return qo(b,x=>l.indexOf(x)>-1?B.some(Ug.get()[x]):B.none())}).getOr(yf.NORMAL)){case yf.NORMAL:return m(jg());case yf.LOGGING:{const b=((w,E)=>{const O=[],A=new Date().getTime();return{logEventCut:(L,H,q)=>{O.push({outcome:"cut",target:H,purpose:q})},logEventStopped:(L,H,q)=>{O.push({outcome:"stopped",target:H,purpose:q})},logNoParent:(L,H,q)=>{O.push({outcome:"no-parent",target:H,purpose:q})},logEventNoHandlers:(L,H)=>{O.push({outcome:"no-handlers-left",target:H})},logEventResponse:(L,H,q)=>{O.push({outcome:"response",purpose:q,target:H})},write:()=>{const L=new Date().getTime();Mn(["mousemove","mouseover","mouseout",Yc()],w)||console.log(w,{event:w,time:L-A,target:E.dom,sequence:St(O,H=>Mn(["cut","stopped","response"],H.outcome)?"{"+H.purpose+"} "+H.outcome+" at ("+bd(H.target)+")":H.outcome)})}}})(l,f),x=m(b);return b.write(),x}case yf.STOP:return!0}})(o,s,i),jg=Te({logEventCut:ht,logEventStopped:ht,logNoParent:ht,logEventNoHandlers:ht,logEventResponse:ht,write:ht}),hp=Te([at("menu"),at("selectedMenu")]),Am=Te([at("item"),at("selectedItem")]);Te(Rn(Am().concat(hp())));const Xp=Te(Rn(Am())),Hu=Gi("initSize",[at("numColumns"),at("numRows")]),Jp=()=>Gi("markers",[at("backgroundMenu")].concat(hp()).concat(Am())),wd=o=>Gi("markers",St(o,at)),bp=(o,s,i)=>((()=>{const l=new Error;if(l.stack!==void 0){const f=l.stack.split(`
`);$o(f,m=>m.indexOf("alloy")>0&&!Hr(Hh,b=>m.indexOf(b)>-1)).getOr("unknown")}})(),Gs(s,s,i,xl(l=>So.value((...f)=>l.apply(void 0,f))))),Vo=o=>bp(0,o,qc(ht)),rc=o=>bp(0,o,qc(B.none)),au=o=>bp(0,o,{tag:"required",process:{}}),Qp=o=>bp(0,o,{tag:"required",process:{}}),cs=(o,s)=>sa(o,Te(s)),dy=o=>sa(o,kt),uy=Te(Hu),Xi=(o,s,i,l,f,m,b,x=!1)=>({x:o,y:s,bubble:i,direction:l,placement:f,restriction:m,label:`${b}-${f}`,alwaysFit:x}),sc=Ba([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Zg=sc.southeast,Wg=sc.southwest,fy=sc.northeast,Uh=sc.northwest,E0=sc.south,jh=sc.north,vf=sc.east,yp=sc.west,Uu=(o,s,i,l)=>{const f=o+s;return f>l?i:f<i?l:f},kc=(o,s,i)=>Math.min(Math.max(o,s),i),bi=(o,s)=>no(["left","right","top","bottom"],i=>dn(s,i).map(l=>((f,m)=>{switch(m){case 1:return f.x;case 0:return f.x+f.width;case 2:return f.y;case 3:return f.y+f.height}})(o,l))),kd="layout",zo=o=>o.x,$g=(o,s)=>o.x+o.width/2-s.width/2,Zh=(o,s)=>o.x+o.width-s.width,xf=(o,s)=>o.y-s.height,qg=o=>o.y+o.height,eg=(o,s)=>o.y+o.height/2-s.height/2,Ai=(o,s,i)=>Xi(zo(o),qg(o),i.southeast(),Zg(),"southeast",bi(o,{left:1,top:3}),kd),Cr=(o,s,i)=>Xi(Zh(o,s),qg(o),i.southwest(),Wg(),"southwest",bi(o,{right:0,top:3}),kd),Ji=(o,s,i)=>Xi(zo(o),xf(o,s),i.northeast(),fy(),"northeast",bi(o,{left:1,bottom:2}),kd),ds=(o,s,i)=>Xi(Zh(o,s),xf(o,s),i.northwest(),Uh(),"northwest",bi(o,{right:0,bottom:2}),kd),Il=(o,s,i)=>Xi($g(o,s),xf(o,s),i.north(),jh(),"north",bi(o,{bottom:2}),kd),la=(o,s,i)=>Xi($g(o,s),qg(o),i.south(),E0(),"south",bi(o,{top:3}),kd),Ni=(o,s,i)=>Xi((l=>l.x+l.width)(o),eg(o,s),i.east(),vf(),"east",bi(o,{left:0}),kd),Gg=(o,s,i)=>Xi(((l,f)=>l.x-f.width)(o,s),eg(o,s),i.west(),yp(),"west",bi(o,{right:1}),kd),my=()=>[Ai,Cr,Ji,ds,la,Il,Ni,Gg],tg=()=>[Cr,Ai,ds,Ji,la,Il,Ni,Gg],ju=()=>[Ji,ds,Ai,Cr,Il,la],Di=()=>[ds,Ji,Cr,Ai,Il,la],ng=()=>[Ai,Cr,Ji,ds,la,Il],Kg=()=>[Cr,Ai,ds,Ji,la,Il];var py=Object.freeze({__proto__:null,events:o=>Ro([mt(Ys(),(s,i)=>{const l=o.channels,f=mo(l),m=i,b=((x,w)=>w.universal?x:Pn(x,E=>Mn(w.channels,E)))(f,m);nn(b,x=>{const w=l[x],E=w.schema,O=ka("channel["+x+`] data
Receiver: `+bd(s.element),E,m.data);w.onReceive(s,O)})})])}),e1=[wl("channels",ll(So.value,ui([au("onReceive"),Ue("schema",Br())])))];const og=(o,s,i)=>Mh((l,f)=>{i(l,o,s)}),wf=o=>({key:o,value:void 0}),Jc=(o,s,i,l,f,m,b)=>{const x=O=>Ws(O,i)?O[i]():B.none(),w=go(f,(O,A)=>((L,H,q)=>((re,se,me)=>{const te=me.toString(),Q=te.indexOf(")")+1,ce=te.indexOf("("),pe=te.substring(ce+1,Q-1).split(/,\s*/);return re.toFunctionAnnotation=()=>({name:se,parameters:It(pe.slice(0,1).concat(pe.slice(3)))}),re})((re,...se)=>{const me=[re].concat(se);return re.config({name:Te(L)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+L+". Using API: "+q)},te=>{const Q=Array.prototype.slice.call(me,1);return H.apply(void 0,[re,te.config,te.state].concat(Q))})},q,H))(i,O,A)),E={...go(m,(O,A)=>rn(O,A)),...w,revoke:qe(wf,i),config:O=>{const A=ka(i+"-config",o,O);return{key:i,value:{config:A,me:E,configAsRaw:il(()=>ka(i+"-config",o,O)),initialConfig:O,state:b}}},schema:Te(s),exhibit:(O,A)=>ii(x(O),dn(l,"exhibit"),(L,H)=>H(A,L.config,L.state)).getOrThunk(()=>$a({})),name:Te(i),handlers:O=>x(O).map(A=>dn(l,"events").getOr(()=>({}))(A.config,A.state)).getOr({})};return E},Ht=o=>lr(o),gy=ui([at("fields"),at("name"),Ue("active",{}),Ue("apis",{}),Ue("state",cr),Ue("extra",{})]),yi=o=>{const s=ka("Creating behaviour: "+o.name,gy,o);return((i,l,f,m,b,x)=>{const w=ui(i),E=kl(l,[(O=i,Bl("config",ui(O)))]);var O;return Jc(w,E,l,f,m,b,x)})(s.fields,s.name,s.active,s.apis,s.extra,s.state)},Yg=ui([at("branchKey"),at("branches"),at("name"),Ue("active",{}),Ue("apis",{}),Ue("state",cr),Ue("extra",{})]),Nm=o=>{const s=ka("Creating behaviour: "+o.name,Yg,o);return((i,l,f,m,b,x)=>{const w=i,E=kl(l,[Bl("config",i)]);return Jc(w,E,l,f,m,b,x)})(fi(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},Zu=Te(void 0),ac=yi({fields:e1,name:"receiving",active:py});var t1=Object.freeze({__proto__:null,exhibit:(o,s)=>$a({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const ic=(o,s=!1)=>o.dom.focus({preventScroll:s}),Wh=o=>o.dom.blur(),Xf=o=>{const s=as(o).dom;return o.dom===s.activeElement},Lc=(o=qs())=>B.from(o.dom.activeElement).map(Jt),Qc=o=>Lc(as(o)).filter(s=>o.dom.contains(s.dom)),vp=(o,s)=>{const i=as(s),l=Lc(i).bind(m=>{const b=x=>Jo(m,x);return b(s)?B.some(s):((x,w)=>{const E=O=>{for(let A=0;A<O.childNodes.length;A++){const L=Jt(O.childNodes[A]);if(w(L))return B.some(L);const H=E(O.childNodes[A]);if(H.isSome())return H}return B.none()};return E(x.dom)})(s,b)}),f=o(s);return l.each(m=>{Lc(i).filter(b=>Jo(b,m)).fold(()=>{ic(m)},ht)}),f},Fl=(o,s,i,l,f)=>{const m=b=>b+"px";return{position:o,left:s.map(m),top:i.map(m),right:l.map(m),bottom:f.map(m)}},$h=(o,s)=>{Zi(o,(i=>({...i,position:B.some(i.position)}))(s))},Vl=Ba([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Wu=(o,s,i,l,f,m)=>{const b=s.rect,x=b.x-i,w=b.y-l,E=f-(x+b.width),O=m-(w+b.height),A=B.some(x),L=B.some(w),H=B.some(E),q=B.some(O),re=B.none();return s.direction.fold(()=>Fl(o,A,L,re,re),()=>Fl(o,re,L,H,re),()=>Fl(o,A,re,re,q),()=>Fl(o,re,re,H,q),()=>Fl(o,A,L,re,re),()=>Fl(o,A,re,re,q),()=>Fl(o,A,L,re,re),()=>Fl(o,re,L,H,re))},hy=(o,s)=>o.fold(()=>{const i=s.rect;return Fl("absolute",B.some(i.x),B.some(i.y),B.none(),B.none())},(i,l,f,m)=>Wu("absolute",s,i,l,f,m),(i,l,f,m)=>Wu("fixed",s,i,l,f,m)),Xg=(o,s)=>{const i=qe(zu,s),l=o.fold(i,i,()=>{const b=Ds();return zu(s).translate(-b.left,-b.top)}),f=Aa(s),m=Vt(s);return Us(l.left,l.top,f,m)},n1=(o,s)=>s.fold(()=>o.fold(Qr,Qr,Us),i=>o.fold(Te(i),Te(i),()=>{const l=by(o,i.x,i.y);return Us(l.left,l.top,i.width,i.height)})),by=(o,s,i)=>{const l=ro(s,i);return o.fold(Te(l),Te(l),()=>{const f=Ds();return l.translate(-f.left,-f.top)})};Vl.none;const yy=Vl.relative,vy=Vl.fixed,Jg="data-alloy-placement",T0=o=>xa(o,Jg),Dm=Ba([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),ul=(o,s,i,l)=>{const f=o.bubble,m=f.offset,b=((ce,pe,_e)=>{const Re=(en,xn)=>pe[en].map(Bn=>{const Qn=en==="top"||en==="bottom",uo=Qn?_e.top:_e.left,Io=(en==="left"||en==="top"?Math.max:Math.min)(Bn,xn)+uo;return Qn?kc(Io,ce.y,ce.bottom):kc(Io,ce.x,ce.right)}).getOr(xn),Ge=Re("left",ce.x),pt=Re("top",ce.y),yt=Re("right",ce.right),Et=Re("bottom",ce.bottom);return Us(Ge,pt,yt-Ge,Et-pt)})(l,o.restriction,m),x=o.x+m.left,w=o.y+m.top,E=Us(x,w,s,i),{originInBounds:O,sizeInBounds:A,visibleW:L,visibleH:H}=((ce,pe)=>{const{x:_e,y:Re,right:Ge,bottom:pt}=pe,{x:yt,y:Et,right:en,bottom:xn,width:Bn,height:Qn}=ce;return{originInBounds:yt>=_e&&yt<=Ge&&Et>=Re&&Et<=pt,sizeInBounds:en<=Ge&&en>=_e&&xn<=pt&&xn>=Re,visibleW:Math.min(Bn,yt>=_e?Ge-yt:en-_e),visibleH:Math.min(Qn,Et>=Re?pt-Et:xn-Re)}})(E,b),q=O&&A,re=q?E:((ce,pe)=>{const{x:_e,y:Re,right:Ge,bottom:pt}=pe,{x:yt,y:Et,width:en,height:xn}=ce,Bn=Math.max(_e,Ge-en),Qn=Math.max(Re,pt-xn),uo=kc(yt,_e,Bn),Io=kc(Et,Re,Qn),Ps=Math.min(uo+en,Ge)-uo,da=Math.min(Io+xn,pt)-Io;return Us(uo,Io,Ps,da)})(E,b),se=re.width>0&&re.height>0,{maxWidth:me,maxHeight:te}=((ce,pe,_e)=>{const Re=Te(pe.bottom-_e.y),Ge=Te(_e.bottom-pe.y),pt=((xn,Bn,Qn,uo)=>xn.fold(Bn,Bn,uo,uo,Bn,uo,Qn,Qn))(ce,Ge,Ge,Re),yt=Te(pe.right-_e.x),Et=Te(_e.right-pe.x);return{maxWidth:((xn,Bn,Qn,uo)=>xn.fold(Bn,uo,Bn,uo,Qn,Qn,Bn,uo))(ce,Et,Et,yt),maxHeight:pt}})(o.direction,re,l),Q={rect:re,maxHeight:te,maxWidth:me,direction:o.direction,placement:o.placement,classes:{on:f.classesOn,off:f.classesOff},layout:o.label,testY:w};return q||o.alwaysFit?Dm.fit(Q):Dm.nofit(Q,L,H,se)},Rm=o=>{const s=Ln(B.none()),i=()=>s.get().each(o);return{clear:()=>{i(),s.set(B.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:l=>{i(),s.set(B.some(l))}}},kf=()=>Rm(o=>o.unbind()),Es=()=>{const o=Rm(ht);return{...o,on:s=>o.get().each(s)}},Jf=un,Qi=(o,s,i)=>((l,f,m,b)=>Eu(l,f,m,b,!1))(o,s,Jf,i),rg=(o,s,i)=>((l,f,m,b)=>Eu(l,f,m,b,!0))(o,s,Jf,i),qh=Co,sg=["top","bottom","right","left"],Qf="data-alloy-transition-timer",Gh=(o,s,i,l,f,m)=>{const b=((x,w,E)=>E.exists(O=>{const A=x.mode;return A==="all"||O[A]!==w[A]}))(l,f,m);if(b||((x,w)=>((E,O)=>Gl(O,A=>vs(E,A)))(x,w.classes))(o,l)){qn(o,"position",i.position);const x=Xg(s,o),w=hy(s,{...f,rect:x}),E=no(sg,O=>w[O]);((O,A)=>{const L=H=>parseFloat(H).toFixed(3);return ua(A,(H,q)=>!((re,se,me=Ee)=>ii(re,se,me).getOr(re.isNone()&&se.isNone()))(O[q].map(L),H.map(L))).isSome()})(i,E)&&(Zi(o,E),b&&((O,A)=>{Yi(O,A.classes),xa(O,Qf).each(L=>{clearTimeout(parseInt(L,10)),Xr(O,Qf)}),((L,H)=>{const q=kf(),re=kf();let se;const me=pe=>{var _e;const Re=(_e=pe.raw.pseudoElement)!==null&&_e!==void 0?_e:"";return Jo(pe.target,L)&&Ir(Re)&&Mn(sg,pe.raw.propertyName)},te=pe=>{if(Wt(pe)||me(pe)){q.clear(),re.clear();const _e=pe==null?void 0:pe.raw.type;(Wt(_e)||_e===Ti())&&(clearTimeout(se),Xr(L,Qf),Mc(L,H.classes))}},Q=Qi(L,pd(),pe=>{me(pe)&&(Q.unbind(),q.set(Qi(L,Ti(),te)),re.set(Qi(L,bs(),te)))}),ce=(pe=>{const _e=yt=>{const Et=_s(pe,yt).split(/\s*,\s*/);return Pn(Et,Kl)},Re=yt=>{if(de(yt)&&/^[\d.]+/.test(yt)){const Et=parseFloat(yt);return hl(yt,"ms")?Et:1e3*Et}return 0},Ge=_e("transition-delay"),pt=_e("transition-duration");return Y(pt,(yt,Et,en)=>{const xn=Re(Ge[en])+Re(Et);return Math.max(yt,xn)},0)})(L);requestAnimationFrame(()=>{se=setTimeout(te,ce+17),eo(L,Qf,se)})})(O,A)})(o,l),ne(o))}else Mc(o,l.classes)},em=(o,s)=>{((i,l)=>{const f=Ie.max(i,l,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);qn(i,"max-height",f+"px")})(o,Math.floor(s))},xp=Te((o,s)=>{em(o,s),Jl(o,{"overflow-x":"hidden","overflow-y":"auto"})}),wp=Te((o,s)=>{em(o,s)}),Kh=(o,s,i)=>o[s]===void 0?i:o[s],Yh=(o,s,i,l)=>{const f=((m,b,x,w)=>{or(b,"max-height"),or(b,"max-width");const E={width:Aa(O=b),height:Vt(O)};var O;return((A,L,H,q,re,se)=>{const me=q.width,te=q.height,Q=(ce,pe,_e,Re,Ge)=>{const pt=ce(H,q,re,A,se),yt=ul(pt,me,te,se);return yt.fold(Te(yt),(Et,en,xn,Bn)=>(Ge===Bn?xn>Re||en>_e:!Ge&&Bn)?yt:Dm.nofit(pe,_e,Re,Ge))};return Y(L,(ce,pe)=>{const _e=qe(Q,pe);return ce.fold(Te(ce),_e)},Dm.nofit({rect:H,maxHeight:q.height,maxWidth:q.width,direction:Zg(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:H.y},-1,-1,!1)).fold(kt,kt)})(b,w.preference,m,E,x,w.bounds)})(o,s,i,l);return((m,b,x)=>{const w=hy(x.origin,b);x.transition.each(E=>{Gh(m,x.origin,w,E,b,x.lastPlacement)}),$h(m,w)})(s,f,l),((m,b)=>{((x,w)=>{eo(x,Jg,w)})(m,b.placement)})(s,f),((m,b)=>{const x=b.classes;Mc(m,x.off),Yi(m,x.on)})(s,f),((m,b,x)=>{(0,x.maxHeightFunction)(m,b.maxHeight)})(s,f,l),((m,b,x)=>{(0,x.maxWidthFunction)(m,b.maxWidth)})(s,f,l),{layout:f.layout,placement:f.placement}},us=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Ri=(o,s,i,l=1)=>{const f=o*l,m=s*l,b=w=>dn(i,w).getOr([]),x=(w,E,O)=>{const A=ar(us,O);return{offset:ro(w,E),classesOn:Kr(O,b),classesOff:Kr(A,b)}};return{southeast:()=>x(-o,s,["top","alignLeft"]),southwest:()=>x(o,s,["top","alignRight"]),south:()=>x(-o/2,s,["top","alignCentre"]),northeast:()=>x(-o,-s,["bottom","alignLeft"]),northwest:()=>x(o,-s,["bottom","alignRight"]),north:()=>x(-o/2,-s,["bottom","alignCentre"]),east:()=>x(o,-s/2,["valignCentre","left"]),west:()=>x(-o,-s/2,["valignCentre","right"]),insetNortheast:()=>x(f,m,["top","alignLeft","inset"]),insetNorthwest:()=>x(-f,m,["top","alignRight","inset"]),insetNorth:()=>x(-f/2,m,["top","alignCentre","inset"]),insetSoutheast:()=>x(f,-m,["bottom","alignLeft","inset"]),insetSouthwest:()=>x(-f,-m,["bottom","alignRight","inset"]),insetSouth:()=>x(-f/2,-m,["bottom","alignCentre","inset"]),insetEast:()=>x(-f,-m/2,["valignCentre","right","inset"]),insetWest:()=>x(f,-m/2,["valignCentre","left","inset"])}},Qg=()=>Ri(0,0,{}),tm=kt,_f=(o,s)=>i=>xy(i)==="rtl"?s:o,xy=o=>_s(o,"direction")==="rtl"?"rtl":"ltr";var Hl;(function(o){o.TopToBottom="toptobottom",o.BottomToTop="bottomtotop"})(Hl||(Hl={}));const qa="data-alloy-vertical-dir",z0=o=>Hg(o,s=>Qs(s)&&Vs(s,"data-alloy-vertical-dir")===Hl.BottomToTop),nm=()=>kl("layouts",[at("onLtr"),at("onRtl"),ur("onBottomLtr"),ur("onBottomRtl")]),kp=(o,s,i,l,f,m,b)=>{const x=b.map(z0).getOr(!1),w=s.layouts.map(L=>L.onLtr(o)),E=s.layouts.map(L=>L.onRtl(o)),O=x?s.layouts.bind(L=>L.onBottomLtr.map(H=>H(o))).or(w).getOr(f):w.getOr(i),A=x?s.layouts.bind(L=>L.onBottomRtl.map(H=>H(o))).or(E).getOr(m):E.getOr(l);return _f(O,A)(o)};var Bm=[at("hotspot"),ur("bubble"),Ue("overrides",{}),nm(),cs("placement",(o,s,i)=>{const l=s.hotspot,f=Xg(i,l.element),m=kp(o.element,s,ng(),Kg(),ju(),Di(),B.some(s.hotspot.element));return B.some(tm({anchorBox:f,bubble:s.bubble.getOr(Qg()),overrides:s.overrides,layouts:m}))})],Xh=[at("x"),at("y"),Ue("height",0),Ue("width",0),Ue("bubble",Qg()),Ue("overrides",{}),nm(),cs("placement",(o,s,i)=>{const l=by(i,s.x,s.y),f=Us(l.left,l.top,s.width,s.height),m=kp(o.element,s,my(),tg(),my(),tg(),B.none());return B.some(tm({anchorBox:f,bubble:s.bubble,overrides:s.overrides,layouts:m}))})];const Jh=Ba([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),wy=o=>o.fold(kt,(s,i,l)=>s.translate(-i,-l)),ew=o=>o.fold(kt,kt),ag=o=>Y(o,(s,i)=>s.translate(i.left,i.top),ro(0,0)),ky=o=>{const s=St(o,ew);return ag(s)},O0=Jh.screen,tw=Jh.absolute,Qh=(o,s,i)=>{const l=Xa(o.element),f=Ds(l),m=((b,x,w)=>{const E=ku(w.root).dom;return B.from(E.frameElement).map(Jt).filter(O=>{const A=Xa(O),L=Xa(b.element);return Jo(A,L)}).map(Vn)})(o,0,i).getOr(f);return tw(m,f.left,f.top)},_c=(o,s,i,l)=>{const f=O0(ro(o,s));return B.some(((m,b,x)=>({point:m,width:b,height:x}))(f,i,l))},zl=(o,s,i,l,f)=>o.map(m=>{const b=[s,m.point],x=(w=()=>ky(b),E=()=>ky(b),O=()=>(Q=>{const ce=St(Q,wy);return ag(ce)})(b),l.fold(w,E,O));var w,E,O;const A=(re=x.left,se=x.top,me=m.width,te=m.height,{x:re,y:se,width:me,height:te}),L=i.showAbove?ju():ng(),H=i.showAbove?Di():Kg(),q=kp(f,i,L,H,L,H,B.none());var re,se,me,te;return tm({anchorBox:A,bubble:i.bubble.getOr(Qg()),overrides:i.overrides,layouts:q})});var eb=[at("node"),at("root"),ur("bubble"),nm(),Ue("overrides",{}),Ue("showAbove",!1),cs("placement",(o,s,i)=>{const l=Qh(o,0,s);return s.node.filter(Or).bind(f=>{const m=f.dom.getBoundingClientRect(),b=_c(m.left,m.top,m.width,m.height),x=s.node.getOr(o.element);return zl(b,l,s,i,x)})})];const tb=(o,s,i,l)=>({start:o,soffset:s,finish:i,foffset:l}),$u=Ba([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),eh=($u.before,$u.on,$u.after,o=>o.fold(kt,kt,kt)),_d=Ba([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Cf={domRange:_d.domRange,relative:_d.relative,exact:_d.exact,exactFromRange:o=>_d.exact(o.start,o.soffset,o.finish,o.foffset),getWin:o=>{const s=(i=>i.match({domRange:l=>Jt(l.startContainer),relative:(l,f)=>eh(l),exact:(l,f,m,b)=>l}))(o);return ku(s)},range:tb},Mm=(o,s,i)=>{const l=o.document.createRange();var f;return f=l,s.fold(m=>{f.setStartBefore(m.dom)},(m,b)=>{f.setStart(m.dom,b)},m=>{f.setStartAfter(m.dom)}),((m,b)=>{b.fold(x=>{m.setEndBefore(x.dom)},(x,w)=>{m.setEnd(x.dom,w)},x=>{m.setEndAfter(x.dom)})})(l,i),l},om=(o,s,i,l,f)=>{const m=o.document.createRange();return m.setStart(s.dom,i),m.setEnd(l.dom,f),m},rm=o=>({left:o.left,top:o.top,right:o.right,bottom:o.bottom,width:o.width,height:o.height}),iu=Ba([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),ig=(o,s,i)=>s(Jt(i.startContainer),i.startOffset,Jt(i.endContainer),i.endOffset),th=(o,s)=>((i,l)=>{const f=((m,b)=>b.match({domRange:x=>({ltr:Te(x),rtl:B.none}),relative:(x,w)=>({ltr:il(()=>Mm(m,x,w)),rtl:il(()=>B.some(Mm(m,w,x)))}),exact:(x,w,E,O)=>({ltr:il(()=>om(m,x,w,E,O)),rtl:il(()=>B.some(om(m,E,O,x,w)))})}))(i,l);return((m,b)=>{const x=b.ltr();return x.collapsed?b.rtl().filter(w=>w.collapsed===!1).map(w=>iu.rtl(Jt(w.endContainer),w.endOffset,Jt(w.startContainer),w.startOffset)).getOrThunk(()=>ig(0,iu.ltr,x)):ig(0,iu.ltr,x)})(0,f)})(o,s).match({ltr:(i,l,f,m)=>{const b=o.document.createRange();return b.setStart(i.dom,l),b.setEnd(f.dom,m),b},rtl:(i,l,f,m)=>{const b=o.document.createRange();return b.setStart(f.dom,m),b.setEnd(i.dom,l),b}});iu.ltr,iu.rtl;const nb=(o,s,i)=>Pn(((l,f)=>{const m=Rt(f)?f:Je;let b=l.dom;const x=[];for(;b.parentNode!==null&&b.parentNode!==void 0;){const w=b.parentNode,E=Jt(w);if(x.push(E),m(E)===!0)break;b=w}return x})(o,i),s),Ul=(o,s)=>((i,l)=>{const f=l===void 0?document:l.dom;return xu(f)?[]:St(f.querySelectorAll(i),Jt)})(s,o),_y=o=>{if(o.rangeCount>0){const s=o.getRangeAt(0),i=o.getRangeAt(o.rangeCount-1);return B.some(tb(Jt(s.startContainer),s.startOffset,Jt(i.endContainer),i.endOffset))}return B.none()},Cy=o=>{if(o.anchorNode===null||o.focusNode===null)return _y(o);{const s=Jt(o.anchorNode),i=Jt(o.focusNode);return((l,f,m,b)=>{const x=((E,O,A,L)=>{const H=Xa(E).dom.createRange();return H.setStart(E.dom,O),H.setEnd(A.dom,L),H})(l,f,m,b),w=Jo(l,m)&&f===b;return x.collapsed&&!w})(s,o.anchorOffset,i,o.focusOffset)?B.some(tb(s,o.anchorOffset,i,o.focusOffset)):_y(o)}},ob=(o,s)=>(i=>{const l=i.getClientRects(),f=l.length>0?l[0]:i.getBoundingClientRect();return f.width>0||f.height>0?B.some(f).map(rm):B.none()})(th(o,s)),o1=((o,s)=>{const i=l=>o(l)?B.from(l.dom.nodeValue):B.none();return{get:l=>{if(!o(l))throw new Error("Can only get text value of a text node");return i(l).getOr("")},getOption:i,set:(l,f)=>{if(!o(l))throw new Error("Can only set raw text value of a text node");l.dom.nodeValue=f}}})(Ui),nh=(o,s)=>({element:o,offset:s}),Sy=(o,s)=>Ui(o)?nh(o,s):((i,l)=>{const f=xr(i);if(f.length===0)return nh(i,l);if(l<f.length)return nh(f[l],0);{const m=f[f.length-1],b=Ui(m)?(x=>o1.get(x))(m).length:xr(m).length;return nh(m,b)}})(o,s),sm=o=>o.foffset!==void 0,am=(o,s)=>s.getSelection.getOrThunk(()=>()=>(i=>(l=>B.from(l.getSelection()))(i).filter(l=>l.rangeCount>0).bind(Cy))(o))().map(i=>{if(sm(i)){const l=Sy(i.start,i.soffset),f=Sy(i.finish,i.foffset);return Cf.range(l.element,l.offset,f.element,f.offset)}return i});var A0=[ur("getSelection"),at("root"),ur("bubble"),nm(),Ue("overrides",{}),Ue("showAbove",!1),cs("placement",(o,s,i)=>{const l=ku(s.root).dom,f=Qh(o,0,s),m=am(l,s).bind(x=>{if(sm(x))return((E,O)=>(A=>{const L=A.getBoundingClientRect();return L.width>0||L.height>0?B.some(L).map(rm):B.none()})(th(E,O)))(l,Cf.exactFromRange(x)).orThunk(()=>{const E=jc("\uFEFF");Zd(x.start,E);const O=ob(l,Cf.exact(E,0,E,1));return ma(E),O}).bind(E=>_c(E.left,E.top,E.width,E.height));{const w=go(x,O=>O.dom.getBoundingClientRect()),E={left:Math.min(w.firstCell.left,w.lastCell.left),right:Math.max(w.firstCell.right,w.lastCell.right),top:Math.min(w.firstCell.top,w.lastCell.top),bottom:Math.max(w.firstCell.bottom,w.lastCell.bottom)};return _c(E.left,E.top,E.right-E.left,E.bottom-E.top)}}),b=am(l,s).bind(x=>sm(x)?Qs(x.start)?B.some(x.start):ea(x.start):B.some(x.firstCell)).getOr(o.element);return zl(m,f,s,i,b)})];const rb="link-layout",sb=o=>o.x+o.width,im=(o,s)=>o.x-s.width,Lm=(o,s)=>o.y-s.height+o.height,ab=o=>o.y,oh=(o,s,i)=>Xi(sb(o),ab(o),i.southeast(),Zg(),"southeast",bi(o,{left:0,top:2}),rb),Pm=(o,s,i)=>Xi(im(o,s),ab(o),i.southwest(),Wg(),"southwest",bi(o,{right:1,top:2}),rb),Im=(o,s,i)=>Xi(sb(o),Lm(o,s),i.northeast(),fy(),"northeast",bi(o,{left:0,bottom:3}),rb),_p=(o,s,i)=>Xi(im(o,s),Lm(o,s),i.northwest(),Uh(),"northwest",bi(o,{right:1,bottom:3}),rb),qu=()=>[oh,Pm,Im,_p],Fm=()=>[Pm,oh,_p,Im];var r1=[at("item"),nm(),Ue("overrides",{}),cs("placement",(o,s,i)=>{const l=Xg(i,s.item.element),f=kp(o.element,s,qu(),Fm(),qu(),Fm(),B.none());return B.some(tm({anchorBox:l,bubble:Qg(),overrides:s.overrides,layouts:f}))})],rh=fi("type",{selection:A0,node:eb,hotspot:Bm,submenu:r1,makeshift:Xh});const Vm=[Za("classes",ga),Ms("mode","all",["all","layout","placement"])],Cp=[Ue("useFixed",Je),ur("getBounds")],ib=[wl("anchor",rh),kl("transition",Vm)],Ey=(o,s,i,l,f,m)=>{const b=ka("placement.info",Rn(ib),f),x=b.anchor,w=l.element,E=i.get(l.uid);vp(()=>{qn(w,"position","fixed");const O=$s(w,"visibility");qn(w,"visibility","hidden");const A=s.useFixed()?(()=>{const L=document.documentElement;return vy(0,0,L.clientWidth,L.clientHeight)})():(L=>{const H=Vn(L.element),q=L.element.dom.getBoundingClientRect();return yy(H.left,H.top,q.width,q.height)})(o);x.placement(o,x,A).each(L=>{const H=m.orThunk(()=>s.getBounds.map(Zn)),q=((re,se,me,te,Q,ce)=>((pe,_e,Re,Ge,pt,yt,Et,en)=>{const xn=Kh(Et,"maxHeightFunction",xp()),Bn=Kh(Et,"maxWidthFunction",ht),Qn=pe.anchorBox,uo=pe.origin,Io={bounds:n1(uo,yt),origin:uo,preference:Ge,maxHeightFunction:xn,maxWidthFunction:Bn,lastPlacement:pt,transition:en};return Yh(Qn,_e,Re,Io)})(((pe,_e)=>((Re,Ge)=>({anchorBox:Re,origin:Ge}))(pe,_e))(se.anchorBox,re),te.element,se.bubble,se.layouts,Q,me,se.overrides,ce))(A,L,H,l,E,b.transition);i.set(l.uid,q)}),O.fold(()=>{or(w,"visibility")},L=>{qn(w,"visibility",L)}),$s(w,"left").isNone()&&$s(w,"top").isNone()&&$s(w,"right").isNone()&&$s(w,"bottom").isNone()&&xi($s(w,"position"),"fixed")&&or(w,"position")},w)};var Ty=Object.freeze({__proto__:null,position:(o,s,i,l,f)=>{const m=B.none();Ey(o,s,i,l,f,m)},positionWithinBounds:Ey,getMode:(o,s,i)=>s.useFixed()?"fixed":"absolute",reset:(o,s,i,l)=>{const f=l.element;nn(["position","left","right","top","bottom"],m=>or(f,m)),(m=>{Xr(m,Jg)})(f),i.clear(l.uid)}});const Ol=yi({fields:Cp,name:"positioning",active:t1,apis:Ty,state:Object.freeze({__proto__:null,init:()=>{let o={};return ns({readState:()=>o,clear:s=>{lt(s)?delete o[s]:o={}},set:(s,i)=>{o[s]=i},get:s=>dn(o,s)})}})}),lb=o=>o.getSystem().isConnected(),Gu=o=>{Lo(o,km());const s=o.components();nn(s,Gu)},Cd=o=>{const s=o.components();nn(s,Cd),Lo(o,Nt())},zy=(o,s)=>{o.getSystem().addToWorld(s),Or(o.element)&&Cd(s)},sh=o=>{Gu(o),o.getSystem().removeFromWorld(o)},Hm=(o,s)=>{Hs(o.element,s.element)},Um=(o,s)=>{cb(o,s,Hs)},cb=(o,s,i)=>{o.getSystem().addToWorld(s),i(o.element,s.element),Or(o.element)&&Cd(s),o.syncComponents()},db=o=>{Gu(o),ma(o.element),o.getSystem().removeFromWorld(o)},lm=o=>{const s=ol(o.element).bind(i=>o.getSystem().getByDom(i).toOptional());db(o),s.each(i=>{i.syncComponents()})},jm=o=>{const s=o.components();nn(s,db),Uf(o.element),o.syncComponents()},ah=(o,s)=>{ih(o,s,Hs)},Zm=(o,s)=>{ih(o,s,Tu)},ih=(o,s,i)=>{i(o,s.element);const l=xr(s.element);nn(l,f=>{s.getByDom(f).each(Cd)})},lh=o=>{const s=xr(o.element);nn(s,i=>{o.getByDom(i).each(Gu)}),ma(o.element)},lg=(o,s,i,l)=>{i.get().each(b=>{jm(o)});const f=s.getAttachPoint(o);Um(f,o);const m=o.getSystem().build(l);return Um(o,m),i.set(m),m},ub=(o,s,i,l)=>{const f=lg(o,s,i,l);return s.onOpen(o,f),f},Sp=(o,s,i)=>{i.get().each(l=>{jm(o),lm(o),s.onClose(o,l),i.clear()})},Sf=(o,s,i)=>i.isOpen(),cm=(o,s,i)=>{const l=s.getAttachPoint(o);qn(o.element,"position",Ol.getMode(l)),((f,m,b,x)=>{$s(f.element,m).fold(()=>{Xr(f.element,b)},w=>{eo(f.element,b,w)}),qn(f.element,m,"hidden")})(o,"visibility",s.cloakVisibilityAttr)},cg=(o,s,i)=>{(l=>Hr(["top","left","right","bottom"],f=>$s(l,f).isSome()))(o.element)||or(o.element,"position"),((l,f,m)=>{xa(l.element,m).fold(()=>or(l.element,f),b=>qn(l.element,f,b))})(o,"visibility",s.cloakVisibilityAttr)};var fb=Object.freeze({__proto__:null,cloak:cm,decloak:cg,open:ub,openWhileCloaked:(o,s,i,l,f)=>{cm(o,s),ub(o,s,i,l),f(),cg(o,s)},close:Sp,isOpen:Sf,isPartOf:(o,s,i,l)=>Sf(0,0,i)&&i.get().exists(f=>s.isPartOf(o,f,l)),getState:(o,s,i)=>i.get(),setContent:(o,s,i,l)=>i.get().map(()=>lg(o,s,i,l))}),lu=Object.freeze({__proto__:null,events:(o,s)=>Ro([mt(fp(),(i,l)=>{Sp(i,o,s)})])}),Ep=[Vo("onOpen"),Vo("onClose"),at("isPartOf"),at("getAttachPoint"),Ue("cloakVisibilityAttr","data-precloak-visibility")],dg=Object.freeze({__proto__:null,init:()=>{const o=Es(),s=Te("not-implemented");return ns({readState:s,isOpen:o.isSet,clear:o.clear,set:o.set,get:o.get})}});const Eo=yi({fields:Ep,name:"sandboxing",active:lu,apis:fb,state:dg}),Al=Te("dismiss.popups"),ug=Te("reposition.popups"),ot=Te("mouse.released"),fg=ui([Ue("isExtraPart",Je),kl("fireEventInstead",[Ue("event",Bu())])]),mb=o=>{const s=ka("Dismissal",fg,o);return{[Al()]:{schema:ui([at("target")]),onReceive:(i,l)=>{Eo.isOpen(i)&&(Eo.isPartOf(i,l.target)||s.isExtraPart(i,l.target)||s.fireEventInstead.fold(()=>Eo.close(i),f=>Lo(i,f.event)))}}}},N0=ui([kl("fireEventInstead",[Ue("event",Mu())]),Ra("doReposition")]),mg=o=>{const s=ka("Reposition",N0,o);return{[ug()]:{onReceive:i=>{Eo.isOpen(i)&&s.fireEventInstead.fold(()=>s.doReposition(i),l=>Lo(i,l.event))}}}},Sd=(o,s,i)=>{s.store.manager.onLoad(o,s,i)},pg=(o,s,i)=>{s.store.manager.onUnload(o,s,i)};var pb=Object.freeze({__proto__:null,onLoad:Sd,onUnload:pg,setValue:(o,s,i,l)=>{s.store.manager.setValue(o,s,i,l)},getValue:(o,s,i)=>s.store.manager.getValue(o,s,i),getState:(o,s,i)=>i}),Oy=Object.freeze({__proto__:null,events:(o,s)=>{const i=o.resetOnDom?[ts((l,f)=>{Sd(l,o,s)}),Qd((l,f)=>{pg(l,o,s)})]:[og(o,s,Sd)];return Ro(i)}});const ch=()=>{const o=Ln(null);return ns({set:o.set,get:o.get,isNotSet:()=>o.get()===null,clear:()=>{o.set(null)},readState:()=>({mode:"memory",value:o.get()})})},gb=()=>{const o=Ln({}),s=Ln({});return ns({readState:()=>({mode:"dataset",dataByValue:o.get(),dataByText:s.get()}),lookup:i=>dn(o.get(),i).orThunk(()=>dn(s.get(),i)),update:i=>{const l=o.get(),f=s.get(),m={},b={};nn(i,x=>{m[x.value]=x,dn(x,"meta").each(w=>{dn(w,"text").each(E=>{b[E]=x})})}),o.set({...l,...m}),s.set({...f,...b})},clear:()=>{o.set({}),s.set({})}})};var Ay=Object.freeze({__proto__:null,memory:ch,dataset:gb,manual:()=>ns({readState:ht}),init:o=>o.store.manager.state(o)});const D0=(o,s,i,l)=>{const f=s.store;i.update([l]),f.setValue(o,l),s.onSetValue(o,l)};var hb=[ur("initialValue"),at("getFallbackEntry"),at("getDataKey"),at("setValue"),cs("manager",{setValue:D0,getValue:(o,s,i)=>{const l=s.store,f=l.getDataKey(o);return i.lookup(f).getOrThunk(()=>l.getFallbackEntry(f))},onLoad:(o,s,i)=>{s.store.initialValue.each(l=>{D0(o,s,i,l)})},onUnload:(o,s,i)=>{i.clear()},state:gb})],R0=[at("getValue"),Ue("setValue",ht),ur("initialValue"),cs("manager",{setValue:(o,s,i,l)=>{s.store.setValue(o,l),s.onSetValue(o,l)},getValue:(o,s,i)=>s.store.getValue(o),onLoad:(o,s,i)=>{s.store.initialValue.each(l=>{s.store.setValue(o,l)})},onUnload:ht,state:cr.init})],cu=[ur("initialValue"),cs("manager",{setValue:(o,s,i,l)=>{i.set(l),s.onSetValue(o,l)},getValue:(o,s,i)=>i.get(),onLoad:(o,s,i)=>{s.store.initialValue.each(l=>{i.isNotSet()&&i.set(l)})},onUnload:(o,s,i)=>{i.clear()},state:ch})],s1=[_a("store",{mode:"memory"},fi("mode",{memory:cu,manual:R0,dataset:hb})),Vo("onSetValue"),Ue("resetOnDom",!1)];const cn=yi({fields:s1,name:"representing",active:Oy,apis:pb,extra:{setValueFrom:(o,s)=>{const i=cn.getValue(s);cn.setValue(o,i)}},state:Ay}),ca=(o,s)=>Wf(o,{},St(s,i=>{return l=i.name(),f="Cannot configure "+i.name()+" for "+o,Gs(l,l,{tag:"option",process:{}},xt(m=>ud("The field: "+l+" is forbidden. "+f)));var l,f}).concat([sa("dump",kt)])),rr=o=>o.dump,Bi=(o,s)=>({...Ht(s),...o.dump}),Mi=ca,Ia=Bi,bb="placeholder",du=Ba([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),p=o=>_n(o,"uiType"),y=(o,s,i,l)=>((f,m,b,x)=>p(b)&&b.uiType===bb?((w,E,O,A)=>w.exists(L=>L!==O.owner)?du.single(!0,Te(O)):dn(A,O.name).fold(()=>{throw new Error("Unknown placeholder component: "+O.name+`
Known: [`+mo(A)+`]
Namespace: `+w.getOr("none")+`
Spec: `+JSON.stringify(O,null,2))},L=>L.replace()))(f,0,b,x):du.single(!1,Te(b)))(o,0,i,l).fold((f,m)=>{const b=p(i)?m(s,i.config,i.validated):m(s),x=dn(b,"components").getOr([]),w=Kr(x,E=>y(o,s,E,l));return[{...b,components:w}]},(f,m)=>{if(p(i)){const b=m(s,i.config,i.validated);return i.validated.preprocess.getOr(kt)(b)}return m(s)}),_=du.single,T=du.multiple,I=Te(bb),F=Ba([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),$=Ue("factory",{sketch:kt}),X=Ue("schema",[]),oe=at("name"),xe=Gs("pname","pname",Si(o=>"<alloy."+bn(o.name)+">"),Br()),Se=sa("schema",()=>[ur("preprocess")]),he=Ue("defaults",Te({})),ze=Ue("overrides",Te({})),Ne=Rn([$,X,oe,xe,he,ze]),Ke=Rn([$,X,oe,he,ze]),He=Rn([$,X,oe,xe,he,ze]),ct=Rn([$,Se,oe,at("unit"),xe,he,ze]),gt=o=>o.fold(B.some,B.none,B.some,B.some),Lt=o=>{const s=i=>i.name;return o.fold(s,s,s,s)},wt=(o,s)=>i=>{const l=ka("Converting part type",s,i);return o(l)},Pt=wt(F.required,Ne),jt=wt(F.external,Ke),sn=wt(F.optional,He),Un=wt(F.group,ct),jn=Te("entirety");var Oo=Object.freeze({__proto__:null,required:Pt,external:jt,optional:sn,group:Un,asNamedPart:gt,name:Lt,asCommon:o=>o.fold(kt,kt,kt,kt),original:jn});const Gn=(o,s,i,l)=>ye(s.defaults(o,i,l),i,{uid:o.partUids[s.name]},s.overrides(o,i,l)),Ao=(o,s)=>{const i={};return nn(s,l=>{gt(l).each(f=>{const m=vo(o,f.pname);i[f.name]=b=>{const x=ka("Part: "+f.name+" in "+o,Rn(f.schema),b);return{...m,config:b,validated:x}}})}),i},vo=(o,s)=>({uiType:I(),owner:o,name:s}),Sr=(o,s,i)=>({uiType:I(),owner:o,name:s,config:i,validated:{}}),qt=o=>Kr(o,s=>s.fold(B.none,B.some,B.none,B.none).map(i=>Gi(i.name,i.schema.concat([dy(jn())]))).toArray()),Li=o=>St(o,Lt),Fa=(o,s,i)=>((l,f,m)=>{const b={},x={};return nn(m,w=>{w.fold(E=>{b[E.pname]=_(!0,(O,A,L)=>E.factory.sketch(Gn(O,E,A,L)))},E=>{const O=f.parts[E.name];x[E.name]=Te(E.factory.sketch(Gn(f,E,O[jn()]),O))},E=>{b[E.pname]=_(!1,(O,A,L)=>E.factory.sketch(Gn(O,E,A,L)))},E=>{b[E.pname]=T(!0,(O,A,L)=>{const H=O[E.name];return St(H,q=>E.factory.sketch(ye(E.defaults(O,q,L),q,E.overrides(O,q))))})})}),{internals:Te(b),externals:Te(x)}})(0,s,i),ti=(o,s,i)=>((l,f,m,b)=>{const x=go(b,(E,O)=>((A,L)=>{let H=!1;return{name:Te(A),required:()=>L.fold((q,re)=>q,(q,re)=>q),used:()=>H,replace:()=>{if(H)throw new Error("Trying to use the same placeholder more than once: "+A);return H=!0,L}}})(O,E)),w=((E,O,A,L)=>Kr(A,H=>y(E,O,H,L)))(l,f,m,x);return Nr(x,E=>{if(E.used()===!1&&E.required())throw new Error("Placeholder: "+E.name()+` was not found in components list
Namespace: `+l.getOr("none")+`
Components: `+JSON.stringify(f.components,null,2))}),w})(B.some(o),s,s.components,i),Nn=(o,s,i)=>{const l=s.partUids[i];return o.getSystem().getByUid(l).toOptional()},ni=(o,s,i)=>Nn(o,s,i).getOrDie("Could not find part: "+i),fl=(o,s,i)=>{const l={},f=s.partUids,m=o.getSystem();return nn(i,b=>{l[b]=Te(m.getByUid(f[b]))}),l},gg=(o,s)=>{const i=o.getSystem();return go(s.partUids,(l,f)=>Te(i.getByUid(l)))},dh=o=>mo(o.partUids),fs=(o,s,i)=>{const l={},f=s.partUids,m=o.getSystem();return nn(i,b=>{l[b]=Te(m.getByUid(f[b]).getOrDie())}),l},uh=(o,s)=>{const i=Li(s);return lr(St(i,l=>({key:l,value:o+"-"+l})))},oi=o=>Gs("partUids","partUids",cf(s=>uh(s.uid,o)),Br());var hg=Object.freeze({__proto__:null,generate:Ao,generateOne:Sr,schemas:qt,names:Li,substitutes:Fa,components:ti,defaultUids:uh,defaultUidsSchema:oi,getAllParts:gg,getAllPartNames:dh,getPart:Nn,getPartOrDie:ni,getParts:fl,getPartsOrDie:fs});const nw=(o,s,i,l,f)=>{const m=((b,x)=>(b.length>0?[Gi("parts",b)]:[]).concat([at("uid"),Ue("dom",{}),Ue("components",[]),dy("originalSpec"),Ue("debug.sketcher",{})]).concat(x))(l,f);return ka(o+" [SpecSchema]",ui(m.concat(s)),i)},a1=(o,s,i,l,f)=>{const m=ow(f),b=qt(i),x=oi(i),w=nw(o,s,m,b,[x]),E=Fa(0,w,i);return l(w,ti(o,w,E.internals()),m,E.externals())},ow=o=>(s=>_n(s,"uid"))(o)?o:{...o,uid:G("uid")},M2=ui([at("name"),at("factory"),at("configFields"),Ue("apis",{}),Ue("extraApis",{})]),L2=ui([at("name"),at("factory"),at("configFields"),at("partFields"),Ue("apis",{}),Ue("extraApis",{})]),Ed=o=>{const s=ka("Sketcher for "+o.name,M2,o),i=go(s.apis,ko),l=go(s.extraApis,(f,m)=>rn(f,m));return{name:s.name,configFields:s.configFields,sketch:f=>((m,b,x,w)=>{const E=ow(w);return x(nw(m,b,E,[],[]),E)})(s.name,s.configFields,s.factory,f),...i,...l}},lc=o=>{const s=ka("Sketcher for "+o.name,L2,o),i=Ao(s.name,s.partFields),l=go(s.apis,ko),f=go(s.extraApis,(m,b)=>rn(m,b));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:m=>a1(s.name,s.configFields,s.partFields,s.factory,m),parts:i,...l,...f}},yb=o=>Ff("input")(o)&&Vs(o,"type")!=="radio"||Ff("textarea")(o);var rw=Object.freeze({__proto__:null,getCurrent:(o,s,i)=>s.find(o)});const P2=[at("find")],tr=yi({fields:P2,name:"composing",apis:rw}),I2=["input","button","textarea","select"],sw=(o,s,i)=>{(s.disabled()?B0:jl)(o,s)},Ny=(o,s)=>s.useNative===!0&&Mn(I2,ki(o.element)),F2=o=>{eo(o.element,"disabled","disabled")},Dy=o=>{Xr(o.element,"disabled")},aw=o=>{eo(o.element,"aria-disabled","true")},V2=o=>{eo(o.element,"aria-disabled","false")},B0=(o,s,i)=>{s.disableClass.each(l=>{hr(o.element,l)}),(Ny(o,s)?F2:aw)(o),s.onDisabled(o)},jl=(o,s,i)=>{s.disableClass.each(l=>{Ls(o.element,l)}),(Ny(o,s)?Dy:V2)(o),s.onEnabled(o)},Td=(o,s)=>Ny(o,s)?(i=>ji(i.element,"disabled"))(o):(i=>Vs(i.element,"aria-disabled")==="true")(o);var H2=Object.freeze({__proto__:null,enable:jl,disable:B0,isDisabled:Td,onLoad:sw,set:(o,s,i,l)=>{(l?B0:jl)(o,s)}}),iw=Object.freeze({__proto__:null,exhibit:(o,s)=>$a({classes:s.disabled()?s.disableClass.toArray():[]}),events:(o,s)=>Ro([Ma(cl(),(i,l)=>Td(i,o)),og(o,s,sw)])}),U2=[ls("disabled",Je),Ue("useNative",!0),ur("disableClass"),Vo("onDisabled"),Vo("onEnabled")];const Xn=yi({fields:U2,name:"disabling",active:iw,apis:H2}),i1=(o,s,i,l)=>{const f=Ul(o.element,"."+s.highlightClass);nn(f,m=>{Hr(l,b=>Jo(b.element,m))||(Ls(m,s.highlightClass),o.getSystem().getByDom(m).each(b=>{s.onDehighlight(o,b),Lo(b,uf())}))})},Ry=(o,s,i,l)=>{i1(o,s,0,[l]),l1(o,s,i,l)||(hr(l.element,s.highlightClass),s.onHighlight(o,l),Lo(l,$r()))},l1=(o,s,i,l)=>vs(l.element,s.highlightClass),M0=(o,s,i)=>ia(o.element,"."+s.itemClass).bind(l=>o.getSystem().getByDom(l).toOptional()),lw=(o,s,i)=>{const l=Ul(o.element,"."+s.itemClass);return(l.length>0?B.some(l[l.length-1]):B.none()).bind(f=>o.getSystem().getByDom(f).toOptional())},fh=(o,s,i,l)=>{const f=Ul(o.element,"."+s.itemClass);return Fi(f,m=>vs(m,s.highlightClass)).bind(m=>{const b=Uu(m,l,0,f.length-1);return o.getSystem().getByDom(f[b]).toOptional()})},cw=(o,s,i)=>{const l=Ul(o.element,"."+s.itemClass);return Bt(St(l,f=>o.getSystem().getByDom(f).toOptional()))};var L0=Object.freeze({__proto__:null,dehighlightAll:(o,s,i)=>i1(o,s,0,[]),dehighlight:(o,s,i,l)=>{l1(o,s,i,l)&&(Ls(l.element,s.highlightClass),s.onDehighlight(o,l),Lo(l,uf()))},highlight:Ry,highlightFirst:(o,s,i)=>{M0(o,s).each(l=>{Ry(o,s,i,l)})},highlightLast:(o,s,i)=>{lw(o,s).each(l=>{Ry(o,s,i,l)})},highlightAt:(o,s,i,l)=>{((f,m,b,x)=>{const w=Ul(f.element,"."+m.itemClass);return B.from(w[x]).fold(()=>So.error(new Error("No element found with index "+x)),f.getSystem().getByDom)})(o,s,0,l).fold(f=>{throw f},f=>{Ry(o,s,i,f)})},highlightBy:(o,s,i,l)=>{const f=cw(o,s);$o(f,l).each(m=>{Ry(o,s,i,m)})},isHighlighted:l1,getHighlighted:(o,s,i)=>ia(o.element,"."+s.highlightClass).bind(l=>o.getSystem().getByDom(l).toOptional()),getFirst:M0,getLast:lw,getPrevious:(o,s,i)=>fh(o,s,0,-1),getNext:(o,s,i)=>fh(o,s,0,1),getCandidates:cw}),dw=[at("highlightClass"),at("itemClass"),Vo("onHighlight"),Vo("onDehighlight")];const dr=yi({fields:dw,name:"highlighting",apis:L0}),j2=[8],Tp=[9],Wm=[13],zp=[27],zd=[32],vb=[37],By=[38],P0=[39],xb=[40],uw=(o,s,i)=>{const l=_o(o.slice(0,s)),f=_o(o.slice(s+1));return $o(l.concat(f),i)},fw=(o,s,i)=>{const l=_o(o.slice(0,s));return $o(l,i)},Z2=(o,s,i)=>{const l=o.slice(0,s),f=o.slice(s+1);return $o(f.concat(l),i)},mw=(o,s,i)=>{const l=o.slice(s+1);return $o(l,i)},sr=o=>s=>{const i=s.raw;return Mn(o,i.which)},Ef=o=>s=>Gl(o,i=>i(s)),$m=o=>o.raw.shiftKey===!0,W2=o=>o.raw.ctrlKey===!0,My=Cn($m),fr=(o,s)=>({matches:o,classification:s}),pw=(o,s,i)=>{s.exists(l=>i.exists(f=>Jo(f,l)))||gn(o,Cl(),{prevFocus:s,newFocus:i})},I0=()=>{const o=s=>Qc(s.element);return{get:o,set:(s,i)=>{const l=o(s);s.getSystem().triggerFocus(i,s.element);const f=o(s);pw(s,l,f)}}},$2=()=>{const o=s=>dr.getHighlighted(s).map(i=>i.element);return{get:o,set:(s,i)=>{const l=o(s);s.getSystem().getByDom(i).fold(ht,m=>{dr.highlight(s,m)});const f=o(s);pw(s,l,f)}}};var wb;(function(o){o.OnFocusMode="onFocus",o.OnEnterOrSpaceMode="onEnterOrSpace",o.OnApiMode="onApi"})(wb||(wb={}));const mh=(o,s,i,l,f)=>{const m=(x,w,E,O,A)=>{return(L=E(x,w,O,A),H=w.event,$o(L,q=>q.matches(H)).map(q=>q.classification)).bind(q=>q(x,w,O,A));var L,H},b={schema:()=>o.concat([Ue("focusManager",I0()),_a("focusInside","onFocus",xl(x=>Mn(["onFocus","onEnterOrSpace","onApi"],x)?So.value(x):So.error("Invalid value for focusInside"))),cs("handler",b),cs("state",s),cs("sendFocusIn",f)]),processKey:m,toEvents:(x,w)=>{const E=x.focusInside!==wb.OnFocusMode?B.none():f(x).map(A=>mt(Oi(),(L,H)=>{A(L,x,w),H.stop()})),O=[mt(yn(),(A,L)=>{m(A,L,i,x,w).fold(()=>{((H,q)=>{const re=sr(zd.concat(Wm))(q.event);x.focusInside===wb.OnEnterOrSpaceMode&&re&&fe(H,q)&&f(x).each(se=>{se(H,x,w),q.stop()})})(A,L)},H=>{L.stop()})}),mt(so(),(A,L)=>{m(A,L,l,x,w).each(H=>{L.stop()})})];return Ro(E.toArray().concat(O))}};return b},gw=o=>{const s=[ur("onEscape"),ur("onEnter"),Ue("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Ue("firstTabstop",0),Ue("useTabstopAt",un),ur("visibilitySelector")].concat([o]),i=(O,A)=>{const L=O.visibilitySelector.bind(H=>xd(A,H)).getOr(A);return et(L)>0},l=(O,A)=>A.focusManager.get(O).bind(L=>xd(L,A.selector)),f=(O,A,L)=>{((H,q)=>{const re=Ul(H.element,q.selector),se=Pn(re,me=>i(q,me));return B.from(se[q.firstTabstop])})(O,A).each(H=>{A.focusManager.set(O,H)})},m=(O,A,L,H)=>{const q=Ul(O.element,L.selector);return l(O,L).bind(re=>Fi(q,qe(Jo,re)).bind(se=>((me,te,Q,ce,pe)=>pe(te,Q,_e=>((Re,Ge)=>i(Re,Ge)&&Re.useTabstopAt(Ge))(ce,_e)).fold(()=>ce.cyclic?B.some(!0):B.none(),_e=>(ce.focusManager.set(me,_e),B.some(!0))))(O,q,se,L,H)))},b=(O,A,L)=>{const H=L.cyclic?uw:fw;return m(O,0,L,H)},x=(O,A,L)=>{const H=L.cyclic?Z2:mw;return m(O,0,L,H)},w=Te([fr(Ef([$m,sr(Tp)]),b),fr(sr(Tp),x),fr(Ef([My,sr(Wm)]),(O,A,L)=>L.onEnter.bind(H=>H(O,A)))]),E=Te([fr(sr(zp),(O,A,L)=>L.onEscape.bind(H=>H(O,A))),fr(sr(Tp),(O,A,L)=>l(O,L).filter(H=>!L.useTabstopAt(H)).bind(H=>((q=>(re=>ol(re))(q).bind(vl).exists(re=>Jo(re,q)))(H)?b:x)(O,A,L)))]);return mh(s,cr.init,w,E,()=>B.some(f))};var q2=gw(sa("cyclic",Je)),G2=gw(sa("cyclic",un));const Ly=(o,s,i)=>yb(i)&&sr(zd)(s.event)?B.none():((l,f,m)=>(mp(l,m,cl()),B.some(!0)))(o,0,i),kb=(o,s)=>B.some(!0),F0=[Ue("execute",Ly),Ue("useSpace",!1),Ue("useEnter",!0),Ue("useControlEnter",!1),Ue("useDown",!1)],hw=(o,s,i)=>i.execute(o,s,o.element);var K2=mh(F0,cr.init,(o,s,i,l)=>{const f=i.useSpace&&!yb(o.element)?zd:[],m=i.useEnter?Wm:[],b=i.useDown?xb:[],x=f.concat(m).concat(b);return[fr(sr(x),hw)].concat(i.useControlEnter?[fr(Ef([W2,sr(Wm)]),hw)]:[])},(o,s,i,l)=>i.useSpace&&!yb(o.element)?[fr(sr(zd),kb)]:[],()=>B.none());const bw=()=>{const o=Es();return ns({readState:()=>o.get().map(s=>({numRows:String(s.numRows),numColumns:String(s.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(s,i)=>{o.set({numRows:s,numColumns:i})},getNumRows:()=>o.get().map(s=>s.numRows),getNumColumns:()=>o.get().map(s=>s.numColumns)})};var Y2=Object.freeze({__proto__:null,flatgrid:bw,init:o=>o.state(o)});const yw=o=>(s,i,l,f)=>{const m=o(s.element);return d1(m,s,i,l,f)},c1=(o,s)=>{const i=_f(o,s);return yw(i)},Py=(o,s)=>{const i=_f(s,o);return yw(i)},V0=o=>(s,i,l,f)=>d1(o,s,i,l,f),d1=(o,s,i,l,f)=>l.focusManager.get(s).bind(m=>o(s.element,m,l,f)).map(m=>(l.focusManager.set(s,m),!0)),vw=V0,xw=V0,H0=V0,Iy=o=>!(s=>s.offsetWidth<=0&&s.offsetHeight<=0)(o.dom),ww=(o,s,i)=>{const l=Ul(o,i);return((f,m)=>Fi(f,b=>Jo(b,s)).map(b=>({index:b,candidates:f})))(Pn(l,Iy))},kw=(o,s)=>Fi(o,i=>Jo(s,i)),_w=(o,s,i,l)=>l(Math.floor(s/i),s%i).bind(f=>{const m=f.row*i+f.column;return m>=0&&m<o.length?B.some(o[m]):B.none()}),Od=(o,s,i,l,f)=>_w(o,s,l,(m,b)=>{const x=m===i-1?o.length-m*l:l,w=Uu(b,f,0,x-1);return B.some({row:m,column:w})}),_b=(o,s,i,l,f)=>_w(o,s,l,(m,b)=>{const x=Uu(m,f,0,i-1),w=x===i-1?o.length-x*l:l,E=kc(b,0,w-1);return B.some({row:x,column:E})}),X2=[at("selector"),Ue("execute",Ly),rc("onEscape"),Ue("captureTab",!1),uy()],J2=(o,s,i)=>{ia(o.element,s.selector).each(l=>{s.focusManager.set(o,l)})},U0=o=>(s,i,l,f)=>ww(s,i,l.selector).bind(m=>o(m.candidates,m.index,f.getNumRows().getOr(l.initSize.numRows),f.getNumColumns().getOr(l.initSize.numColumns))),Cw=(o,s,i)=>i.captureTab?B.some(!0):B.none(),j0=U0((o,s,i,l)=>Od(o,s,i,l,-1)),u1=U0((o,s,i,l)=>Od(o,s,i,l,1)),f1=U0((o,s,i,l)=>_b(o,s,i,l,-1)),Q2=U0((o,s,i,l)=>_b(o,s,i,l,1)),eC=Te([fr(sr(vb),c1(j0,u1)),fr(sr(P0),Py(j0,u1)),fr(sr(By),vw(f1)),fr(sr(xb),xw(Q2)),fr(Ef([$m,sr(Tp)]),Cw),fr(Ef([My,sr(Tp)]),Cw),fr(sr(zd.concat(Wm)),(o,s,i,l)=>((f,m)=>m.focusManager.get(f).bind(b=>xd(b,m.selector)))(o,i).bind(f=>i.execute(o,s,f)))]),tC=Te([fr(sr(zp),(o,s,i)=>i.onEscape(o,s)),fr(sr(zd),kb)]);var m1=mh(X2,bw,eC,tC,()=>B.some(J2));const p1=(o,s,i,l,f)=>{const m=(b,x,w)=>f(b,x,l,0,w.length-1,w[x],E=>{return O=w[E],ki(O)==="button"&&Vs(O,"disabled")==="disabled"?m(b,E,w):B.from(w[E]);var O});return ww(o,i,s).bind(b=>{const x=b.index,w=b.candidates;return m(x,x,w)})},g1=(o,s,i,l)=>p1(o,s,i,l,(f,m,b,x,w,E,O)=>{const A=kc(m+b,x,w);return A===f?B.from(E):O(A)}),Fy=(o,s,i,l)=>p1(o,s,i,l,(f,m,b,x,w,E,O)=>{const A=Uu(m,b,x,w);return A===f?B.none():O(A)}),Sw=[at("selector"),Ue("getInitial",B.none),Ue("execute",Ly),rc("onEscape"),Ue("executeOnMove",!1),Ue("allowVertical",!0),Ue("allowHorizontal",!0),Ue("cycles",!0)],Cb=(o,s,i)=>((l,f)=>f.focusManager.get(l).bind(m=>xd(m,f.selector)))(o,i).bind(l=>i.execute(o,s,l)),Z0=(o,s,i)=>{s.getInitial(o).orThunk(()=>ia(o.element,s.selector)).each(l=>{s.focusManager.set(o,l)})},Ew=(o,s,i)=>(i.cycles?Fy:g1)(o,i.selector,s,-1),Tw=(o,s,i)=>(i.cycles?Fy:g1)(o,i.selector,s,1),zw=o=>(s,i,l,f)=>o(s,i,l,f).bind(()=>l.executeOnMove?Cb(s,i,l):B.some(!0)),nC=Te([fr(sr(zd),kb),fr(sr(zp),(o,s,i)=>i.onEscape(o,s))]);var oC=mh(Sw,cr.init,(o,s,i,l)=>{const f=[...i.allowHorizontal?vb:[]].concat(i.allowVertical?By:[]),m=[...i.allowHorizontal?P0:[]].concat(i.allowVertical?xb:[]);return[fr(sr(f),zw(c1(Ew,Tw))),fr(sr(m),zw(Py(Ew,Tw))),fr(sr(Wm),Cb),fr(sr(zd),Cb)]},nC,()=>B.some(Z0));const qm=(o,s,i)=>B.from(o[s]).bind(l=>B.from(l[i]).map(f=>({rowIndex:s,columnIndex:i,cell:f}))),Ow=(o,s,i,l)=>{const f=o[s].length,m=Uu(i,l,0,f-1);return qm(o,s,m)},Aw=(o,s,i,l)=>{const f=Uu(i,l,0,o.length-1),m=o[f].length,b=kc(s,0,m-1);return qm(o,f,b)},Nw=(o,s,i,l)=>{const f=o[s].length,m=kc(i+l,0,f-1);return qm(o,s,m)},Dw=(o,s,i,l)=>{const f=kc(i+l,0,o.length-1),m=o[f].length,b=kc(s,0,m-1);return qm(o,f,b)},Rw=[Gi("selectors",[at("row"),at("cell")]),Ue("cycles",!0),Ue("previousSelector",B.none),Ue("execute",Ly)],rC=(o,s,i)=>{s.previousSelector(o).orThunk(()=>{const l=s.selectors;return ia(o.element,l.cell)}).each(l=>{s.focusManager.set(o,l)})},W0=(o,s)=>(i,l,f)=>{const m=f.cycles?o:s;return xd(l,f.selectors.row).bind(b=>{const x=Ul(b,f.selectors.cell);return kw(x,l).bind(w=>{const E=Ul(i,f.selectors.row);return kw(E,b).bind(O=>{const A=((L,H)=>St(L,q=>Ul(q,H.selectors.cell)))(E,f);return m(A,O,w).map(L=>L.cell)})})})},h1=W0((o,s,i)=>Ow(o,s,i,-1),(o,s,i)=>Nw(o,s,i,-1)),Sb=W0((o,s,i)=>Ow(o,s,i,1),(o,s,i)=>Nw(o,s,i,1)),Vy=W0((o,s,i)=>Aw(o,i,s,-1),(o,s,i)=>Dw(o,i,s,-1)),sC=W0((o,s,i)=>Aw(o,i,s,1),(o,s,i)=>Dw(o,i,s,1)),b1=Te([fr(sr(vb),c1(h1,Sb)),fr(sr(P0),Py(h1,Sb)),fr(sr(By),vw(Vy)),fr(sr(xb),xw(sC)),fr(sr(zd.concat(Wm)),(o,s,i)=>Qc(o.element).bind(l=>i.execute(o,s,l)))]),aC=Te([fr(sr(zd),kb)]);var Bw=mh(Rw,cr.init,b1,aC,()=>B.some(rC));const Mw=[at("selector"),Ue("execute",Ly),Ue("moveOnTab",!1)],d=(o,s,i)=>i.focusManager.get(o).bind(l=>i.execute(o,s,l)),g=(o,s,i)=>{ia(o.element,s.selector).each(l=>{s.focusManager.set(o,l)})},S=(o,s,i)=>Fy(o,i.selector,s,-1),j=(o,s,i)=>Fy(o,i.selector,s,1),ee=Te([fr(sr(By),H0(S)),fr(sr(xb),H0(j)),fr(Ef([$m,sr(Tp)]),(o,s,i,l)=>i.moveOnTab?H0(S)(o,s,i,l):B.none()),fr(Ef([My,sr(Tp)]),(o,s,i,l)=>i.moveOnTab?H0(j)(o,s,i,l):B.none()),fr(sr(Wm),d),fr(sr(zd),d)]),ke=Te([fr(sr(zd),kb)]);var Le=mh(Mw,cr.init,ee,ke,()=>B.some(g));const je=[rc("onSpace"),rc("onEnter"),rc("onShiftEnter"),rc("onLeft"),rc("onRight"),rc("onTab"),rc("onShiftTab"),rc("onUp"),rc("onDown"),rc("onEscape"),Ue("stopSpaceKeyup",!1),ur("focusIn")];var rt=mh(je,cr.init,(o,s,i)=>[fr(sr(zd),i.onSpace),fr(Ef([My,sr(Wm)]),i.onEnter),fr(Ef([$m,sr(Wm)]),i.onShiftEnter),fr(Ef([$m,sr(Tp)]),i.onShiftTab),fr(Ef([My,sr(Tp)]),i.onTab),fr(sr(By),i.onUp),fr(sr(xb),i.onDown),fr(sr(vb),i.onLeft),fr(sr(P0),i.onRight),fr(sr(zd),i.onSpace)],(o,s,i)=>[...i.stopSpaceKeyup?[fr(sr(zd),kb)]:[],fr(sr(zp),i.onEscape)],o=>o.focusIn);const Xt=q2.schema(),Yt=G2.schema(),fn=oC.schema(),Kn=m1.schema(),No=Bw.schema(),nr=K2.schema(),Er=Le.schema(),Zo=rt.schema(),Qt=Nm({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:Xt,cyclic:Yt,flow:fn,flatgrid:Kn,matrix:No,execution:nr,menu:Er,special:Zo}),name:"keying",active:{events:(o,s)=>o.handler.toEvents(o,s)},apis:{focusIn:(o,s,i)=>{s.sendFocusIn(s).fold(()=>{o.getSystem().triggerFocus(o.element,o.element)},l=>{l(o,s,i)})},setGridSize:(o,s,i,l,f)=>{(m=>Ws(m,"setGridSize"))(i)?i.setGridSize(l,f):console.error("Layout does not support setGridSize")}},state:Y2}),ms=(o,s)=>{vp(()=>{((i,l,f)=>{const m=i.components();(w=>{nn(w.components(),E=>ma(E.element)),Uf(w.element),w.syncComponents()})(i);const b=f(l),x=ar(m,b);nn(x,w=>{Gu(w),i.getSystem().removeFromWorld(w)}),nn(b,w=>{lb(w)?Hm(i,w):(i.getSystem().addToWorld(w),Hm(i,w),Or(i.element)&&Cd(w))}),i.syncComponents()})(o,s,()=>St(s,o.getSystem().build))},o.element)},Cc=(o,s)=>{vp(()=>{((i,l,f)=>{const m=i.components(),b=Kr(l,E=>ys(E).toArray());nn(m,E=>{Mn(b,E)||sh(E)});const x=((E,O,A)=>Yf(E,O,(L,H)=>hf(E,H,L,A)))(o.element,s,o.getSystem().buildOrPatch),w=ar(m,x);nn(w,E=>{lb(E)&&sh(E)}),nn(x,E=>{lb(E)||zy(i,E)}),i.syncComponents()})(o,s)},o.element)},Sc=(o,s,i,l)=>{sh(s);const f=hf(o.element,i,l,o.getSystem().buildOrPatch);zy(o,f),o.syncComponents()},Ad=(o,s,i)=>{const l=o.getSystem().build(i);cb(o,l,s)},el=(o,s,i,l)=>{lm(s),Ad(o,(f,m)=>((b,x,w)=>{zr(b,w).fold(()=>{Hs(b,x)},E=>{Zd(E,x)})})(f,m,i),l)},Pc=(o,s)=>o.components(),ya=(o,s,i,l,f)=>{const m=Pc(o);return B.from(m[l]).map(b=>(f.fold(()=>lm(b),x=>{(s.reuseDom?Sc:el)(o,b,l,x)}),b))};var Lw=Object.freeze({__proto__:null,append:(o,s,i,l)=>{Ad(o,Hs,l)},prepend:(o,s,i,l)=>{Ad(o,$i,l)},remove:(o,s,i,l)=>{const f=Pc(o);$o(f,b=>Jo(l.element,b.element)).each(lm)},replaceAt:ya,replaceBy:(o,s,i,l,f)=>{const m=Pc(o);return Fi(m,l).bind(b=>ya(o,s,0,b,f))},set:(o,s,i,l)=>(s.reuseDom?Cc:ms)(o,l),contents:Pc});const Jn=yi({fields:[es("reuseDom",!0)],name:"replacing",apis:Lw}),xo=(o,s)=>{const i=((l,f)=>{const m=Ro(f);return yi({fields:[at("enabled")],name:l,active:{events:Te(m)}})})(o,s);return{key:o,value:{config:{},me:i,configAsRaw:Te({}),initialConfig:{},state:cr}}},Pw=(o,s)=>{s.ignore||(ic(o.element),s.onFocus(o))};var $0=Object.freeze({__proto__:null,focus:Pw,blur:(o,s)=>{s.ignore||Wh(o.element)},isFocused:o=>Xf(o.element)}),o3=Object.freeze({__proto__:null,exhibit:(o,s)=>{const i=s.ignore?{}:{attributes:{tabindex:"-1"}};return $a(i)},events:o=>Ro([mt(Oi(),(s,i)=>{Pw(s,o),i.stop()})].concat(o.stopMousedown?[mt(aa(),(s,i)=>{i.event.prevent()})]:[]))}),Iw=[Vo("onFocus"),Ue("stopMousedown",!1),Ue("ignore",!1)];const ao=yi({fields:Iw,name:"focusing",active:o3,apis:$0}),q0=(o,s,i,l)=>{const f=i.get();i.set(l),((m,b,x)=>{b.toggleClass.each(w=>{x.get()?hr(m.element,w):Ls(m.element,w)})})(o,s,i),((m,b,x)=>{const w=b.aria;w.update(m,w,x.get())})(o,s,i),f!==l&&s.onToggled(o,l)},iC=(o,s,i)=>{q0(o,s,i,!i.get())},r3=(o,s,i)=>{q0(o,s,i,s.selected)};var lC=Object.freeze({__proto__:null,onLoad:r3,toggle:iC,isOn:(o,s,i)=>i.get(),on:(o,s,i)=>{q0(o,s,i,!0)},off:(o,s,i)=>{q0(o,s,i,!1)},set:q0}),bg=Object.freeze({__proto__:null,exhibit:()=>$a({}),events:(o,s)=>{const i=(l=o,f=s,m=iC,dl(x=>{m(x,l,f)}));var l,f,m;const b=og(o,s,r3);return Ro(Xo([o.toggleOnExecute?[i]:[],[b]]))}});const s3=(o,s,i)=>{eo(o.element,"aria-expanded",i)};var M5=[Ue("selected",!1),ur("toggleClass"),Ue("toggleOnExecute",!0),Vo("onToggled"),_a("aria",{mode:"none"},fi("mode",{pressed:[Ue("syncWithExpanded",!1),cs("update",(o,s,i)=>{eo(o.element,"aria-pressed",i),s.syncWithExpanded&&s3(o,0,i)})],checked:[cs("update",(o,s,i)=>{eo(o.element,"aria-checked",i)})],expanded:[cs("update",s3)],selected:[cs("update",(o,s,i)=>{eo(o.element,"aria-selected",i)})],none:[cs("update",ht)]}))];const Bo=yi({fields:M5,name:"toggling",active:bg,apis:lC,state:{init:()=>{const o=Ln(!1);return{get:()=>o.get(),set:s=>o.set(s),clear:()=>o.set(!1),readState:()=>o.get()}}}}),cC=()=>{const o=(s,i)=>{i.stop(),Lu(s)};return[mt(gr(),o),mt(Ll(),o),hd(Go()),hd(aa())]},y1=o=>Ro(Xo([o.map(s=>dl((i,l)=>{s(i),l.stop()})).toArray(),cC()])),a3="alloy.item-hover",i3="alloy.item-focus",Tf="alloy.item-toggled",Hy=o=>{(Qc(o.element).isNone()||ao.isFocused(o))&&(ao.isFocused(o)||ao.focus(o),gn(o,a3,{item:o}))},dC=o=>{gn(o,i3,{item:o})},Uy=Te(a3),uu=Te(i3),Ku=Te(Tf),ed=o=>o.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),Gm=[at("data"),at("components"),at("dom"),Ue("hasSubmenu",!1),ur("toggling"),Mi("itemBehaviours",[Bo,ao,Qt,cn]),Ue("ignoreFocus",!1),Ue("domModification",{}),cs("builder",o=>({dom:o.dom,domModification:{...o.domModification,attributes:{role:ed(o),...o.domModification.attributes,"aria-haspopup":o.hasSubmenu,...o.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Ia(o.itemBehaviours,[o.toggling.fold(Bo.revoke,s=>Bo.config((i=>({aria:{mode:"checked"},...Pr(i,(l,f)=>f!=="exclusive"),onToggled:(l,f)=>{Rt(i.onToggled)&&i.onToggled(l,f),((m,b)=>{gn(m,Tf,{item:m,state:b})})(l,f)}}))(s))),ao.config({ignore:o.ignoreFocus,stopMousedown:o.ignoreFocus,onFocus:s=>{dC(s)}}),Qt.config({mode:"execution"}),cn.config({store:{mode:"memory",initialValue:o.data}}),xo("item-type-events",[...cC(),mt(Ce(),Hy),mt(Rc(),ao.focus)])]),components:o.components,eventOrder:o.eventOrder})),Ue("eventOrder",{})],uC=[at("dom"),at("components"),cs("builder",o=>({dom:o.dom,components:o.components,events:Ro([Pl(Rc())])}))],Yu=Te("item-widget"),ph=Te([Pt({name:"widget",overrides:o=>({behaviours:Ht([cn.config({store:{mode:"manual",getValue:s=>o.data,setValue:ht}})])})})]),L5=[at("uid"),at("data"),at("components"),at("dom"),Ue("autofocus",!1),Ue("ignoreFocus",!1),Mi("widgetBehaviours",[cn,ao,Qt]),Ue("domModification",{}),oi(ph()),cs("builder",o=>{const s=Fa(Yu(),o,ph()),i=ti(Yu(),o,s.internals()),l=m=>Nn(m,o,"widget").map(b=>(Qt.focusIn(b),b)),f=(m,b)=>(yb(b.event.target)||o.autofocus&&b.setSource(m.element),B.none());return{dom:o.dom,components:i,domModification:o.domModification,events:Ro([dl((m,b)=>{l(m).each(x=>{b.stop()})}),mt(Ce(),Hy),mt(Rc(),(m,b)=>{o.autofocus?l(m):ao.focus(m)})]),behaviours:Ia(o.widgetBehaviours,[cn.config({store:{mode:"memory",initialValue:o.data}}),ao.config({ignore:o.ignoreFocus,onFocus:m=>{dC(m)}}),Qt.config({mode:"special",focusIn:o.autofocus?m=>{l(m)}:Zu(),onLeft:f,onRight:f,onEscape:(m,b)=>ao.isFocused(m)||o.autofocus?(o.autofocus&&b.setSource(m.element),B.none()):(ao.focus(m),B.some(!0))})])}})],P5=fi("type",{widget:L5,item:Gm,separator:uC}),I5=Te([Un({factory:{sketch:o=>{const s=ka("menu.spec item",P5,o);return s.builder(s)}},name:"items",unit:"item",defaults:(o,s)=>_n(s,"uid")?s:{...s,uid:G("item")},overrides:(o,s)=>({type:s.type,ignoreFocus:o.fakeFocus,domModification:{classes:[o.markers.item]}})})]),l3=Te([at("value"),at("items"),at("dom"),at("components"),Ue("eventOrder",{}),ca("menuBehaviours",[dr,cn,tr,Qt]),_a("movement",{mode:"menu",moveOnTab:!0},fi("mode",{grid:[uy(),cs("config",(o,s)=>({mode:"flatgrid",selector:"."+o.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:o.focusManager}))],matrix:[cs("config",(o,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+o.markers.item},previousSelector:s.previousSelector,focusManager:o.focusManager})),at("rowSelector"),Ue("previousSelector",B.none)],menu:[Ue("moveOnTab",!0),cs("config",(o,s)=>({mode:"menu",selector:"."+o.markers.item,moveOnTab:s.moveOnTab,focusManager:o.focusManager}))]})),wl("markers",Xp()),Ue("fakeFocus",!1),Ue("focusManager",I0()),Vo("onHighlight"),Vo("onDehighlight")]),fC=Te("alloy.menu-focus"),yg=lc({name:"Menu",configFields:l3(),partFields:I5(),factory:(o,s,i,l)=>({uid:o.uid,dom:o.dom,markers:o.markers,behaviours:Bi(o.menuBehaviours,[dr.config({highlightClass:o.markers.selectedItem,itemClass:o.markers.item,onHighlight:o.onHighlight,onDehighlight:o.onDehighlight}),cn.config({store:{mode:"memory",initialValue:o.value}}),tr.config({find:B.some}),Qt.config(o.movement.config(o,o.movement))]),events:Ro([mt(uu(),(f,m)=>{const b=m.event;f.getSystem().getByDom(b.target).each(x=>{dr.highlight(f,x),m.stop(),gn(f,fC(),{menu:f,item:x})})}),mt(Uy(),(f,m)=>{const b=m.event.item;dr.highlight(f,b)}),mt(Ku(),(f,m)=>{const{item:b,state:x}=m.event;x&&Vs(b.element,"role")==="menuitemradio"&&((w,E)=>{const O=Ul(w.element,'[role="menuitemradio"][aria-checked="true"]');nn(O,A=>{Jo(A,E.element)||w.getSystem().getByDom(A).each(L=>{Bo.off(L)})})})(f,b)})]),components:s,eventOrder:o.eventOrder,domModification:{attributes:{role:"menu"}}})}),mC=(o,s,i,l)=>dn(i,l).bind(f=>dn(o,f).bind(m=>{const b=mC(o,s,i,m);return B.some([m].concat(b))})).getOr([]),c3=o=>o.type==="prepared"?B.some(o.menu):B.none(),F5=()=>{const o=Ln({}),s=Ln({}),i=Ln({}),l=Es(),f=Ln({}),m=w=>b(w).bind(c3),b=w=>dn(s.get(),w),x=w=>dn(o.get(),w);return{setMenuBuilt:(w,E)=>{s.set({...s.get(),[w]:{type:"prepared",menu:E}})},setContents:(w,E,O,A)=>{l.set(w),o.set(O),s.set(E),f.set(A);const L=((H,q)=>{const re={};Nr(H,(Q,ce)=>{nn(Q,pe=>{re[pe]=ce})});const se=q,me=Os(q,(Q,ce)=>({k:Q,v:ce})),te=go(me,(Q,ce)=>[ce].concat(mC(re,se,me,ce)));return go(re,Q=>dn(te,Q).getOr([Q]))})(A,O);i.set(L)},expand:w=>dn(o.get(),w).map(E=>{const O=dn(i.get(),w).getOr([]);return[E].concat(O)}),refresh:w=>dn(i.get(),w),collapse:w=>dn(i.get(),w).bind(E=>E.length>1?B.some(E.slice(1)):B.none()),lookupMenu:b,lookupItem:x,otherMenus:w=>{const E=f.get();return ar(mo(E),w)},getPrimary:()=>l.get().bind(m),getMenus:()=>s.get(),clear:()=>{o.set({}),s.set({}),i.set({}),l.clear()},isClear:()=>l.get().isNone(),getTriggeringPath:(w,E)=>{const O=Pn(x(w).toArray(),A=>m(A).isSome());return dn(i.get(),w).bind(A=>{const L=_o(O.concat(A));return(H=>{const q=[];for(let re=0;re<H.length;re++){const se=H[re];if(!se.isSome())return B.none();q.push(se.getOrDie())}return B.some(q)})(Kr(L,(H,q)=>((re,se,me)=>m(re).bind(te=>(Q=>ua(o.get(),(ce,pe)=>ce===Q))(re).bind(Q=>se(Q).map(ce=>({triggeredMenu:te,triggeringItem:ce,triggeringPath:me})))))(H,E,L.slice(0,q+1)).fold(()=>xi(l.get(),H)?[]:[B.none()],re=>[B.some(re)])))})}}},V5=c3,d3=bn("tiered-menu-item-highlight"),pC=bn("tiered-menu-item-dehighlight");var td;(function(o){o[o.HighlightMenuAndItem=0]="HighlightMenuAndItem",o[o.HighlightJustMenu=1]="HighlightJustMenu",o[o.HighlightNone=2]="HighlightNone"})(td||(td={}));const gC=Te("collapse-item"),Eb=Ed({name:"TieredMenu",configFields:[Qp("onExecute"),Qp("onEscape"),au("onOpenMenu"),au("onOpenSubmenu"),Vo("onRepositionMenu"),Vo("onCollapseMenu"),Ue("highlightOnOpen",td.HighlightMenuAndItem),Gi("data",[at("primary"),at("menus"),at("expansions")]),Ue("fakeFocus",!1),Vo("onHighlightItem"),Vo("onDehighlightItem"),Vo("onHover"),Jp(),at("dom"),Ue("navigateOnHover",!0),Ue("stayInDom",!1),ca("tmenuBehaviours",[Qt,dr,tr,Jn]),Ue("eventOrder",{})],apis:{collapseMenu:(o,s)=>{o.collapseMenu(s)},highlightPrimary:(o,s)=>{o.highlightPrimary(s)},repositionMenus:(o,s)=>{o.repositionMenus(s)}},factory:(o,s)=>{const i=Es(),l=F5(),f=Q=>cn.getValue(Q).value,m=Q=>go(o.data.menus,(ce,pe)=>Kr(ce.items,_e=>_e.type==="separator"?[]:[_e.data.value])),b=dr.highlight,x=(Q,ce)=>{b(Q,ce),dr.getHighlighted(ce).orThunk(()=>dr.getFirst(ce)).each(pe=>{o.fakeFocus?dr.highlight(ce,pe):mp(Q,pe.element,Rc())})},w=(Q,ce)=>Bt(St(ce,pe=>Q.lookupMenu(pe).bind(_e=>_e.type==="prepared"?B.some(_e.menu):B.none()))),E=(Q,ce,pe)=>{const _e=w(ce,ce.otherMenus(pe));nn(_e,Re=>{Mc(Re.element,[o.markers.backgroundMenu]),o.stayInDom||Jn.remove(Q,Re)})},O=(Q,ce)=>{const pe=(_e=>i.get().getOrThunk(()=>{const Re={},Ge=Ul(_e.element,`.${o.markers.item}`),pt=Pn(Ge,yt=>Vs(yt,"aria-haspopup")==="true");return nn(pt,yt=>{_e.getSystem().getByDom(yt).each(Et=>{const en=f(Et);Re[en]=Et})}),i.set(Re),Re}))(Q);Nr(pe,(_e,Re)=>{const Ge=Mn(ce,Re);eo(_e.element,"aria-expanded",Ge)})},A=(Q,ce,pe)=>B.from(pe[0]).bind(_e=>ce.lookupMenu(_e).bind(Re=>{if(Re.type==="notbuilt")return B.none();{const Ge=Re.menu,pt=w(ce,pe.slice(1));return nn(pt,yt=>{hr(yt.element,o.markers.backgroundMenu)}),Or(Ge.element)||Jn.append(Q,qr(Ge)),Mc(Ge.element,[o.markers.backgroundMenu]),x(Q,Ge),E(Q,ce,pe),B.some(Ge)}}));let L;(function(Q){Q[Q.HighlightSubmenu=0]="HighlightSubmenu",Q[Q.HighlightParent=1]="HighlightParent"})(L||(L={}));const H=(Q,ce,pe=L.HighlightSubmenu)=>{if(ce.hasConfigured(Xn)&&Xn.isDisabled(ce))return B.some(ce);{const _e=f(ce);return l.expand(_e).bind(Re=>(O(Q,Re),B.from(Re[0]).bind(Ge=>l.lookupMenu(Ge).bind(pt=>{const yt=((Et,en,xn)=>{if(xn.type==="notbuilt"){const Bn=Et.getSystem().build(xn.nbMenu());return l.setMenuBuilt(en,Bn),Bn}return xn.menu})(Q,Ge,pt);return Or(yt.element)||Jn.append(Q,qr(yt)),o.onOpenSubmenu(Q,ce,yt,_o(Re)),pe===L.HighlightSubmenu?(dr.highlightFirst(yt),A(Q,l,Re)):(dr.dehighlightAll(yt),B.some(ce))}))))}},q=(Q,ce)=>{const pe=f(ce);return l.collapse(pe).bind(_e=>(O(Q,_e),A(Q,l,_e).map(Re=>(o.onCollapseMenu(Q,ce,Re),Re))))},re=Q=>(ce,pe)=>xd(pe.getSource(),`.${o.markers.item}`).bind(_e=>ce.getSystem().getByDom(_e).toOptional().bind(Re=>Q(ce,Re).map(un))),se=Ro([mt(fC(),(Q,ce)=>{const pe=ce.event.item;l.lookupItem(f(pe)).each(()=>{const _e=ce.event.menu;dr.highlight(Q,_e);const Re=f(ce.event.item);l.refresh(Re).each(Ge=>E(Q,l,Ge))})}),dl((Q,ce)=>{const pe=ce.event.target;Q.getSystem().getByDom(pe).each(_e=>{f(_e).indexOf("collapse-item")===0&&q(Q,_e),H(Q,_e,L.HighlightSubmenu).fold(()=>{o.onExecute(Q,_e)},ht)})}),ts((Q,ce)=>{(pe=>{const _e=((Ge,pt,yt)=>go(yt,(Et,en)=>{const xn=()=>yg.sketch({...Et,value:en,markers:o.markers,fakeFocus:o.fakeFocus,onHighlight:(Bn,Qn)=>{gn(Bn,d3,{menuComp:Bn,itemComp:Qn})},onDehighlight:(Bn,Qn)=>{gn(Bn,pC,{menuComp:Bn,itemComp:Qn})},focusManager:o.fakeFocus?$2():I0()});return en===pt?{type:"prepared",menu:Ge.getSystem().build(xn())}:{type:"notbuilt",nbMenu:xn}}))(pe,o.data.primary,o.data.menus),Re=m();return l.setContents(o.data.primary,_e,o.data.expansions,Re),l.getPrimary()})(Q).each(pe=>{Jn.append(Q,qr(pe)),o.onOpenMenu(Q,pe),o.highlightOnOpen===td.HighlightMenuAndItem?x(Q,pe):o.highlightOnOpen===td.HighlightJustMenu&&b(Q,pe)})}),mt(d3,(Q,ce)=>{o.onHighlightItem(Q,ce.event.menuComp,ce.event.itemComp)}),mt(pC,(Q,ce)=>{o.onDehighlightItem(Q,ce.event.menuComp,ce.event.itemComp)}),...o.navigateOnHover?[mt(Uy(),(Q,ce)=>{const pe=ce.event.item;((_e,Re)=>{const Ge=f(Re);l.refresh(Ge).bind(pt=>(O(_e,pt),A(_e,l,pt)))})(Q,pe),H(Q,pe,L.HighlightParent),o.onHover(Q,pe)})]:[]]),me=Q=>dr.getHighlighted(Q).bind(dr.getHighlighted),te={collapseMenu:Q=>{me(Q).each(ce=>{q(Q,ce)})},highlightPrimary:Q=>{l.getPrimary().each(ce=>{x(Q,ce)})},repositionMenus:Q=>{l.getPrimary().bind(pe=>me(Q).bind(_e=>{const Re=f(_e),Ge=oo(l.getMenus()),pt=Bt(St(Ge,V5));return l.getTriggeringPath(Re,yt=>((Et,en,xn)=>qo(en,Bn=>{if(!Bn.getSystem().isConnected())return B.none();const Qn=dr.getCandidates(Bn);return $o(Qn,uo=>f(uo)===xn)}))(0,pt,yt))}).map(_e=>({primary:pe,triggeringPath:_e}))).fold(()=>{(pe=>B.from(pe.components()[0]).filter(_e=>Vs(_e.element,"role")==="menu"))(Q).each(pe=>{o.onRepositionMenu(Q,pe,[])})},({primary:pe,triggeringPath:_e})=>{o.onRepositionMenu(Q,pe,_e)})}};return{uid:o.uid,dom:o.dom,markers:o.markers,behaviours:Bi(o.tmenuBehaviours,[Qt.config({mode:"special",onRight:re((Q,ce)=>yb(ce.element)?B.none():H(Q,ce,L.HighlightSubmenu)),onLeft:re((Q,ce)=>yb(ce.element)?B.none():q(Q,ce)),onEscape:re((Q,ce)=>q(Q,ce).orThunk(()=>o.onEscape(Q,ce).map(()=>Q))),focusIn:(Q,ce)=>{l.getPrimary().each(pe=>{mp(Q,pe.element,Rc())})}}),dr.config({highlightClass:o.markers.selectedMenu,itemClass:o.markers.menu}),tr.config({find:Q=>dr.getHighlighted(Q)}),Jn.config({})]),eventOrder:o.eventOrder,apis:te,events:se}},extraApis:{tieredData:(o,s,i)=>({primary:o,menus:s,expansions:i}),singleData:(o,s)=>({primary:o,menus:mi(o,s),expansions:{}}),collapseItem:o=>({value:bn(gC()),meta:{text:o}})}}),Ca=Ed({name:"InlineView",configFields:[at("lazySink"),Vo("onShow"),Vo("onHide"),Ml("onEscape"),ca("inlineBehaviours",[Eo,cn,ac]),kl("fireDismissalEventInstead",[Ue("event",Bu())]),kl("fireRepositionEventInstead",[Ue("event",Mu())]),Ue("getRelated",B.none),Ue("isExtraPart",Je),Ue("eventOrder",B.none)],factory:(o,s)=>{const i=(b,x,w,E)=>{const O=o.lazySink(b).getOrDie();Eo.openWhileCloaked(b,x,()=>Ol.positionWithinBounds(O,b,w,E())),cn.setValue(b,B.some({mode:"position",config:w,getBounds:E}))},l=(b,x,w,E)=>{const O=((A,L,H,q,re)=>{const se=()=>A.lazySink(L),me=q.type==="horizontal"?{layouts:{onLtr:()=>ng(),onRtl:()=>Kg()}}:{},te=Q=>(ce=>ce.length===2)(Q)?me:{};return Eb.sketch({dom:{tag:"div"},data:q.data,markers:q.menu.markers,highlightOnOpen:q.menu.highlightOnOpen,fakeFocus:q.menu.fakeFocus,onEscape:()=>(Eo.close(L),A.onEscape.map(Q=>Q(L)),B.some(!0)),onExecute:()=>B.some(!0),onOpenMenu:(Q,ce)=>{Ol.positionWithinBounds(se().getOrDie(),ce,H,re())},onOpenSubmenu:(Q,ce,pe,_e)=>{const Re=se().getOrDie();Ol.position(Re,pe,{anchor:{type:"submenu",item:ce,...te(_e)}})},onRepositionMenu:(Q,ce,pe)=>{const _e=se().getOrDie();Ol.positionWithinBounds(_e,ce,H,re()),nn(pe,Re=>{const Ge=te(Re.triggeringPath);Ol.position(_e,Re.triggeredMenu,{anchor:{type:"submenu",item:Re.triggeringItem,...Ge}})})}})})(o,b,x,w,E);Eo.open(b,O),cn.setValue(b,B.some({mode:"menu",menu:O}))},f=b=>{Eo.isOpen(b)&&cn.getValue(b).each(x=>{switch(x.mode){case"menu":Eo.getState(b).each(Eb.repositionMenus);break;case"position":const w=o.lazySink(b).getOrDie();Ol.positionWithinBounds(w,b,x.config,x.getBounds())}})},m={setContent:(b,x)=>{Eo.setContent(b,x)},showAt:(b,x,w)=>{const E=B.none;i(b,x,w,E)},showWithinBounds:i,showMenuAt:(b,x,w)=>{l(b,x,w,B.none)},showMenuWithinBounds:l,hide:b=>{Eo.isOpen(b)&&(cn.setValue(b,B.none()),Eo.close(b))},getContent:b=>Eo.getState(b),reposition:f,isOpen:Eo.isOpen};return{uid:o.uid,dom:o.dom,behaviours:Bi(o.inlineBehaviours,[Eo.config({isPartOf:(b,x,w)=>hi(x,w)||((E,O)=>o.getRelated(E).exists(A=>hi(A,O)))(b,w),getAttachPoint:b=>o.lazySink(b).getOrDie(),onOpen:b=>{o.onShow(b)},onClose:b=>{o.onHide(b)}}),cn.config({store:{mode:"memory",initialValue:B.none()}}),ac.config({channels:{...mb({isExtraPart:s.isExtraPart,...o.fireDismissalEventInstead.map(b=>({fireEventInstead:{event:b.event}})).getOr({})}),...mg({...o.fireRepositionEventInstead.map(b=>({fireEventInstead:{event:b.event}})).getOr({}),doReposition:f})}})]),eventOrder:o.eventOrder,apis:m}},apis:{showAt:(o,s,i,l)=>{o.showAt(s,i,l)},showWithinBounds:(o,s,i,l,f)=>{o.showWithinBounds(s,i,l,f)},showMenuAt:(o,s,i,l)=>{o.showMenuAt(s,i,l)},showMenuWithinBounds:(o,s,i,l,f)=>{o.showMenuWithinBounds(s,i,l,f)},hide:(o,s)=>{o.hide(s)},isOpen:(o,s)=>o.isOpen(s),getContent:(o,s)=>o.getContent(s),setContent:(o,s,i)=>{o.setContent(s,i)},reposition:(o,s)=>{o.reposition(s)}}});var Fw=tinymce.util.Tools.resolve("tinymce.util.Delay");const cc=Ed({name:"Button",factory:o=>{const s=y1(o.action),i=o.dom.tag,l=f=>dn(o.dom,"attributes").bind(m=>dn(m,f));return{uid:o.uid,dom:o.dom,components:o.components,events:s,behaviours:Ia(o.buttonBehaviours,[ao.config({}),Qt.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:i==="button"?{type:l("type").getOr("button"),...l("role").map(f=>({role:f})).getOr({})}:{role:o.role.getOr(l("role").getOr("button"))}},eventOrder:o.eventOrder}},configFields:[Ue("uid",void 0),at("dom"),Ue("components",[]),Mi("buttonBehaviours",[ao,Qt]),ur("action"),ur("role"),Ue("eventOrder",{})]}),gh=o=>{const s=wi(o),i=xr(s),l=(b=>{const x=b.dom.attributes!==void 0?b.dom.attributes:[];return Y(x,(w,E)=>E.name==="class"?w:{...w,[E.name]:E.value},{})})(s),f=(b=>Array.prototype.slice.call(b.dom.classList,0))(s),m=i.length===0?{}:{innerHtml:Cm(s)};return{tag:ki(s),classes:f,attributes:l,...m}},Vr=o=>{const s=(i=>i.uid!==void 0)(o)&&Ws(o,"uid")?o.uid:G("memento");return{get:i=>i.getSystem().getByUid(s).getOrDie(),getOpt:i=>i.getSystem().getByUid(s).toOptional(),asSpec:()=>({...o,uid:s})}},{entries:u3,setPrototypeOf:zf,isFrozen:W8,getPrototypeOf:Vw,getOwnPropertyDescriptor:G0}=Object;let{freeze:Nd,seal:Of,create:f3}=Object,{apply:hC,construct:bC}=typeof Reflect<"u"&&Reflect;Nd||(Nd=function(o){return o}),Of||(Of=function(o){return o}),hC||(hC=function(o,s,i){return o.apply(s,i)}),bC||(bC=function(o,s){return new o(...s)});const Hw=Dd(Array.prototype.forEach),yC=Dd(Array.prototype.pop),vg=Dd(Array.prototype.push),Tb=Dd(String.prototype.toLowerCase),vC=Dd(String.prototype.toString),m3=Dd(String.prototype.match),K0=Dd(String.prototype.replace),xC=Dd(String.prototype.indexOf),wC=Dd(String.prototype.trim),dm=Dd(Object.prototype.hasOwnProperty),nd=Dd(RegExp.prototype.test),jy=(kC=TypeError,function(){for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return bC(kC,s)});var kC;function Dd(o){return function(s){for(var i=arguments.length,l=new Array(i>1?i-1:0),f=1;f<i;f++)l[f-1]=arguments[f];return hC(o,s,l)}}function ps(o,s){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Tb;zf&&zf(o,null);let l=s.length;for(;l--;){let f=s[l];if(typeof f=="string"){const m=i(f);m!==f&&(W8(s)||(s[l]=m),f=m)}o[f]=!0}return o}function H5(o){for(let s=0;s<o.length;s++)dm(o,s)||(o[s]=null);return o}function zb(o){const s=f3(null);for(const[i,l]of u3(o))dm(o,i)&&(Array.isArray(l)?s[i]=H5(l):l&&typeof l=="object"&&l.constructor===Object?s[i]=zb(l):s[i]=l);return s}function v1(o,s){for(;o!==null;){const i=G0(o,s);if(i){if(i.get)return Dd(i.get);if(typeof i.value=="function")return Dd(i.value)}o=Vw(o)}return function(){return null}}const _C=Nd(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),x1=Nd(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ob=Nd(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),CC=Nd(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),SC=Nd(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),U5=Nd(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),EC=Nd(["#text"]),hh=Nd(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),w1=Nd(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Uw=Nd(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Zy=Nd(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),p3=Of(/\{\{[\w\W]*|[\w\W]*\}\}/gm),jw=Of(/<%[\w\W]*|[\w\W]*%>/gm),TC=Of(/\${[\w\W]*}/gm),j5=Of(/^data-[\-\w.\u00B7-\uFFFF]/),Z5=Of(/^aria-[\-\w]+$/),Op=Of(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),W5=Of(/^(?:\w+script|data):/i),$5=Of(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Af=Of(/^html$/i),Zl=Of(/^[a-z][.\w]*(-[.\w]+)+$/i);var g3=Object.freeze({__proto__:null,MUSTACHE_EXPR:p3,ERB_EXPR:jw,TMPLIT_EXPR:TC,DATA_ATTR:j5,ARIA_ATTR:Z5,IS_ALLOWED_URI:Op,IS_SCRIPT_OR_DATA:W5,ATTR_WHITESPACE:$5,DOCTYPE_NAME:Af,CUSTOM_ELEMENT:Zl});const zC=function(){return typeof window>"u"?null:window};var q5=function o(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zC();const i=Ze=>o(Ze);if(i.version="3.1.7",i.removed=[],!s||!s.document||s.document.nodeType!==9)return i.isSupported=!1,i;let{document:l}=s;const f=l,m=f.currentScript,{DocumentFragment:b,HTMLTemplateElement:x,Node:w,Element:E,NodeFilter:O,NamedNodeMap:A=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:L,DOMParser:H,trustedTypes:q}=s,re=E.prototype,se=v1(re,"cloneNode"),me=v1(re,"remove"),te=v1(re,"nextSibling"),Q=v1(re,"childNodes"),ce=v1(re,"parentNode");if(typeof x=="function"){const Ze=l.createElement("template");Ze.content&&Ze.content.ownerDocument&&(l=Ze.content.ownerDocument)}let pe,_e="";const{implementation:Re,createNodeIterator:Ge,createDocumentFragment:pt,getElementsByTagName:yt}=l,{importNode:Et}=f;let en={};i.isSupported=typeof u3=="function"&&typeof ce=="function"&&Re&&Re.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:xn,ERB_EXPR:Bn,TMPLIT_EXPR:Qn,DATA_ATTR:uo,ARIA_ATTR:Io,IS_SCRIPT_OR_DATA:Ps,ATTR_WHITESPACE:da,CUSTOM_ELEMENT:Ko}=g3;let{IS_ALLOWED_URI:Dl}=g3,po=null;const si=ps({},[..._C,...x1,...Ob,...SC,...EC]);let js=null;const Id=ps({},[...hh,...w1,...Uw,...Zy]);let _r=Object.seal(f3(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ii=null,Fd=null,Iv=!0,y0=!0,l2=!1,Ix=!0,ry=!1,sy=!0,Ng=!1,v0=!1,x0=!1,Dg=!1,Th=!1,Fv=!1,Fx=!0,Vx=!1,Vv=!0,os=!1,np={},tf=null;const pR=ps({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ET=null;const TT=ps({},["audio","video","img","source","image","track"]);let zT=null;const gR=ps({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Hx="http://www.w3.org/1998/Math/MathML",c2="http://www.w3.org/2000/svg",zh="http://www.w3.org/1999/xhtml";let to=zh,w0=!1,d2=null;const hR=ps({},[Hx,c2,zh],vC);let Hv=null;const bR=["application/xhtml+xml","text/html"];let Vc=null,Ux=null;const jx=l.createElement("form"),yR=function(Ze){return Ze instanceof RegExp||Ze instanceof Function},u2=function(){let Ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!Ux||Ux!==Ze){if(Ze&&typeof Ze=="object"||(Ze={}),Ze=zb(Ze),Hv=bR.indexOf(Ze.PARSER_MEDIA_TYPE)===-1?"text/html":Ze.PARSER_MEDIA_TYPE,Vc=Hv==="application/xhtml+xml"?vC:Tb,po=dm(Ze,"ALLOWED_TAGS")?ps({},Ze.ALLOWED_TAGS,Vc):si,js=dm(Ze,"ALLOWED_ATTR")?ps({},Ze.ALLOWED_ATTR,Vc):Id,d2=dm(Ze,"ALLOWED_NAMESPACES")?ps({},Ze.ALLOWED_NAMESPACES,vC):hR,zT=dm(Ze,"ADD_URI_SAFE_ATTR")?ps(zb(gR),Ze.ADD_URI_SAFE_ATTR,Vc):gR,ET=dm(Ze,"ADD_DATA_URI_TAGS")?ps(zb(TT),Ze.ADD_DATA_URI_TAGS,Vc):TT,tf=dm(Ze,"FORBID_CONTENTS")?ps({},Ze.FORBID_CONTENTS,Vc):pR,Ii=dm(Ze,"FORBID_TAGS")?ps({},Ze.FORBID_TAGS,Vc):{},Fd=dm(Ze,"FORBID_ATTR")?ps({},Ze.FORBID_ATTR,Vc):{},np=!!dm(Ze,"USE_PROFILES")&&Ze.USE_PROFILES,Iv=Ze.ALLOW_ARIA_ATTR!==!1,y0=Ze.ALLOW_DATA_ATTR!==!1,l2=Ze.ALLOW_UNKNOWN_PROTOCOLS||!1,Ix=Ze.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ry=Ze.SAFE_FOR_TEMPLATES||!1,sy=Ze.SAFE_FOR_XML!==!1,Ng=Ze.WHOLE_DOCUMENT||!1,Dg=Ze.RETURN_DOM||!1,Th=Ze.RETURN_DOM_FRAGMENT||!1,Fv=Ze.RETURN_TRUSTED_TYPE||!1,x0=Ze.FORCE_BODY||!1,Fx=Ze.SANITIZE_DOM!==!1,Vx=Ze.SANITIZE_NAMED_PROPS||!1,Vv=Ze.KEEP_CONTENT!==!1,os=Ze.IN_PLACE||!1,Dl=Ze.ALLOWED_URI_REGEXP||Op,to=Ze.NAMESPACE||zh,_r=Ze.CUSTOM_ELEMENT_HANDLING||{},Ze.CUSTOM_ELEMENT_HANDLING&&yR(Ze.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(_r.tagNameCheck=Ze.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ze.CUSTOM_ELEMENT_HANDLING&&yR(Ze.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(_r.attributeNameCheck=Ze.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ze.CUSTOM_ELEMENT_HANDLING&&typeof Ze.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(_r.allowCustomizedBuiltInElements=Ze.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ry&&(y0=!1),Th&&(Dg=!0),np&&(po=ps({},EC),js=[],np.html===!0&&(ps(po,_C),ps(js,hh)),np.svg===!0&&(ps(po,x1),ps(js,w1),ps(js,Zy)),np.svgFilters===!0&&(ps(po,Ob),ps(js,w1),ps(js,Zy)),np.mathMl===!0&&(ps(po,SC),ps(js,Uw),ps(js,Zy))),Ze.ADD_TAGS&&(po===si&&(po=zb(po)),ps(po,Ze.ADD_TAGS,Vc)),Ze.ADD_ATTR&&(js===Id&&(js=zb(js)),ps(js,Ze.ADD_ATTR,Vc)),Ze.ADD_URI_SAFE_ATTR&&ps(zT,Ze.ADD_URI_SAFE_ATTR,Vc),Ze.FORBID_CONTENTS&&(tf===pR&&(tf=zb(tf)),ps(tf,Ze.FORBID_CONTENTS,Vc)),Vv&&(po["#text"]=!0),Ng&&ps(po,["html","head","body"]),po.table&&(ps(po,["tbody"]),delete Ii.tbody),Ze.TRUSTED_TYPES_POLICY){if(typeof Ze.TRUSTED_TYPES_POLICY.createHTML!="function")throw jy('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ze.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw jy('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');pe=Ze.TRUSTED_TYPES_POLICY,_e=pe.createHTML("")}else pe===void 0&&(pe=function(Fo,fo){if(typeof Fo!="object"||typeof Fo.createPolicy!="function")return null;let Zs=null;const Ea="data-tt-policy-suffix";fo&&fo.hasAttribute(Ea)&&(Zs=fo.getAttribute(Ea));const xs="dompurify"+(Zs?"#"+Zs:"");try{return Fo.createPolicy(xs,{createHTML:Ec=>Ec,createScriptURL:Ec=>Ec})}catch{return console.warn("TrustedTypes policy "+xs+" could not be created."),null}}(q,m)),pe!==null&&typeof _e=="string"&&(_e=pe.createHTML(""));Nd&&Nd(Ze),Ux=Ze}},vR=ps({},["mi","mo","mn","ms","mtext"]),xR=ps({},["annotation-xml"]),lP=ps({},["title","style","font","a","script"]),OT=ps({},[...x1,...Ob,...CC]),f2=ps({},[...SC,...U5]),Ip=function(Ze){vg(i.removed,{element:Ze});try{ce(Ze).removeChild(Ze)}catch{me(Ze)}},Zx=function(Ze,Fo){try{vg(i.removed,{attribute:Fo.getAttributeNode(Ze),from:Fo})}catch{vg(i.removed,{attribute:null,from:Fo})}if(Fo.removeAttribute(Ze),Ze==="is"&&!js[Ze])if(Dg||Th)try{Ip(Fo)}catch{}else try{Fo.setAttribute(Ze,"")}catch{}},wR=function(Ze){let Fo=null,fo=null;if(x0)Ze="<remove></remove>"+Ze;else{const xs=m3(Ze,/^[\r\n\t ]+/);fo=xs&&xs[0]}Hv==="application/xhtml+xml"&&to===zh&&(Ze='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ze+"</body></html>");const Zs=pe?pe.createHTML(Ze):Ze;if(to===zh)try{Fo=new H().parseFromString(Zs,Hv)}catch{}if(!Fo||!Fo.documentElement){Fo=Re.createDocument(to,"template",null);try{Fo.documentElement.innerHTML=w0?_e:Zs}catch{}}const Ea=Fo.body||Fo.documentElement;return Ze&&fo&&Ea.insertBefore(l.createTextNode(fo),Ea.childNodes[0]||null),to===zh?yt.call(Fo,Ng?"html":"body")[0]:Ng?Fo.documentElement:Ea},kR=function(Ze){return Ge.call(Ze.ownerDocument||Ze,Ze,O.SHOW_ELEMENT|O.SHOW_COMMENT|O.SHOW_TEXT|O.SHOW_PROCESSING_INSTRUCTION|O.SHOW_CDATA_SECTION,null)},_R=function(Ze){return Ze instanceof L&&(typeof Ze.nodeName!="string"||typeof Ze.textContent!="string"||typeof Ze.removeChild!="function"||!(Ze.attributes instanceof A)||typeof Ze.removeAttribute!="function"||typeof Ze.setAttribute!="function"||typeof Ze.namespaceURI!="string"||typeof Ze.insertBefore!="function"||typeof Ze.hasChildNodes!="function")},CR=function(Ze){return typeof w=="function"&&Ze instanceof w},Rg=function(Ze,Fo,fo){en[Ze]&&Hw(en[Ze],Zs=>{Zs.call(i,Fo,fo,Ux)})},SR=function(Ze){let Fo=null;if(Rg("beforeSanitizeElements",Ze,null),_R(Ze))return Ip(Ze),!0;const fo=Vc(Ze.nodeName);if(Rg("uponSanitizeElement",Ze,{tagName:fo,allowedTags:po}),Ze.hasChildNodes()&&!CR(Ze.firstElementChild)&&nd(/<[/\w]/g,Ze.innerHTML)&&nd(/<[/\w]/g,Ze.textContent)||Ze.nodeType===7||sy&&Ze.nodeType===8&&nd(/<[/\w]/g,Ze.data))return Ip(Ze),!0;if(!po[fo]||Ii[fo]){if(!Ii[fo]&&TR(fo)&&(_r.tagNameCheck instanceof RegExp&&nd(_r.tagNameCheck,fo)||_r.tagNameCheck instanceof Function&&_r.tagNameCheck(fo)))return!1;if(Vv&&!tf[fo]){const Zs=ce(Ze)||Ze.parentNode,Ea=Q(Ze)||Ze.childNodes;if(Ea&&Zs)for(let xs=Ea.length-1;xs>=0;--xs){const Ec=se(Ea[xs],!0);Ec.__removalCount=(Ze.__removalCount||0)+1,Zs.insertBefore(Ec,te(Ze))}}return Ip(Ze),!0}return Ze instanceof E&&!function(Zs){let Ea=ce(Zs);Ea&&Ea.tagName||(Ea={namespaceURI:to,tagName:"template"});const xs=Tb(Zs.tagName),Ec=Tb(Ea.tagName);return!!d2[Zs.namespaceURI]&&(Zs.namespaceURI===c2?Ea.namespaceURI===zh?xs==="svg":Ea.namespaceURI===Hx?xs==="svg"&&(Ec==="annotation-xml"||vR[Ec]):!!OT[xs]:Zs.namespaceURI===Hx?Ea.namespaceURI===zh?xs==="math":Ea.namespaceURI===c2?xs==="math"&&xR[Ec]:!!f2[xs]:Zs.namespaceURI===zh?!(Ea.namespaceURI===c2&&!xR[Ec])&&!(Ea.namespaceURI===Hx&&!vR[Ec])&&!f2[xs]&&(lP[xs]||!OT[xs]):!(Hv!=="application/xhtml+xml"||!d2[Zs.namespaceURI]))}(Ze)?(Ip(Ze),!0):fo!=="noscript"&&fo!=="noembed"&&fo!=="noframes"||!nd(/<\/no(script|embed|frames)/i,Ze.innerHTML)?(ry&&Ze.nodeType===3&&(Fo=Ze.textContent,Hw([xn,Bn,Qn],Zs=>{Fo=K0(Fo,Zs," ")}),Ze.textContent!==Fo&&(vg(i.removed,{element:Ze.cloneNode()}),Ze.textContent=Fo)),Rg("afterSanitizeElements",Ze,null),!1):(Ip(Ze),!0)},ER=function(Ze,Fo,fo){if(Fx&&(Fo==="id"||Fo==="name")&&(fo in l||fo in jx))return!1;if(!(y0&&!Fd[Fo]&&nd(uo,Fo))){if(!(Iv&&nd(Io,Fo))){if(!js[Fo]||Fd[Fo]){if(!(TR(Ze)&&(_r.tagNameCheck instanceof RegExp&&nd(_r.tagNameCheck,Ze)||_r.tagNameCheck instanceof Function&&_r.tagNameCheck(Ze))&&(_r.attributeNameCheck instanceof RegExp&&nd(_r.attributeNameCheck,Fo)||_r.attributeNameCheck instanceof Function&&_r.attributeNameCheck(Fo))||Fo==="is"&&_r.allowCustomizedBuiltInElements&&(_r.tagNameCheck instanceof RegExp&&nd(_r.tagNameCheck,fo)||_r.tagNameCheck instanceof Function&&_r.tagNameCheck(fo))))return!1}else if(!zT[Fo]){if(!nd(Dl,K0(fo,da,""))){if((Fo!=="src"&&Fo!=="xlink:href"&&Fo!=="href"||Ze==="script"||xC(fo,"data:")!==0||!ET[Ze])&&!(l2&&!nd(Ps,K0(fo,da,"")))){if(fo)return!1}}}}}return!0},TR=function(Ze){return Ze!=="annotation-xml"&&m3(Ze,Ko)},zR=function(Ze){Rg("beforeSanitizeAttributes",Ze,null);const{attributes:Fo}=Ze;if(!Fo)return;const fo={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:js};let Zs=Fo.length;for(;Zs--;){const Ea=Fo[Zs],{name:xs,namespaceURI:Ec,value:Oh}=Ea,Bg=Vc(xs);let Vd=xs==="value"?Oh:wC(Oh);const dP=Vd;if(fo.attrName=Bg,fo.attrValue=Vd,fo.keepAttr=!0,fo.forceKeepAttr=void 0,Rg("uponSanitizeAttribute",Ze,fo),Vd=fo.attrValue,fo.forceKeepAttr)continue;if(!fo.keepAttr){Zx(xs,Ze);continue}if(!Ix&&nd(/\/>/i,Vd)){Zx(xs,Ze);continue}ry&&Hw([xn,Bn,Qn],AR=>{Vd=K0(Vd,AR," ")});const OR=Vc(Ze.nodeName);if(ER(OR,Bg,Vd))if(!Vx||Bg!=="id"&&Bg!=="name"||(Zx(xs,Ze),Vd="user-content-"+Vd),sy&&nd(/((--!?|])>)|<\/(style|title)/i,Vd))Zx(xs,Ze);else{if(pe&&typeof q=="object"&&typeof q.getAttributeType=="function"&&!Ec)switch(q.getAttributeType(OR,Bg)){case"TrustedHTML":Vd=pe.createHTML(Vd);break;case"TrustedScriptURL":Vd=pe.createScriptURL(Vd)}if(Vd!==dP)try{Ec?Ze.setAttributeNS(Ec,xs,Vd):Ze.setAttribute(xs,Vd),_R(Ze)?Ip(Ze):yC(i.removed)}catch{}}else Zx(xs,Ze)}Rg("afterSanitizeAttributes",Ze,null)},cP=function Ze(Fo){let fo=null;const Zs=kR(Fo);for(Rg("beforeSanitizeShadowDOM",Fo,null);fo=Zs.nextNode();)Rg("uponSanitizeShadowNode",fo,null),SR(fo)||(fo.content instanceof b&&Ze(fo.content),zR(fo));Rg("afterSanitizeShadowDOM",Fo,null)};return i.sanitize=function(Ze){let Fo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},fo=null,Zs=null,Ea=null,xs=null;if(w0=!Ze,w0&&(Ze="<!-->"),typeof Ze!="string"&&!CR(Ze)){if(typeof Ze.toString!="function")throw jy("toString is not a function");if(typeof(Ze=Ze.toString())!="string")throw jy("dirty is not a string, aborting")}if(!i.isSupported)return Ze;if(v0||u2(Fo),i.removed=[],typeof Ze=="string"&&(os=!1),os){if(Ze.nodeName){const Bg=Vc(Ze.nodeName);if(!po[Bg]||Ii[Bg])throw jy("root node is forbidden and cannot be sanitized in-place")}}else if(Ze instanceof w)fo=wR("<!---->"),Zs=fo.ownerDocument.importNode(Ze,!0),Zs.nodeType===1&&Zs.nodeName==="BODY"||Zs.nodeName==="HTML"?fo=Zs:fo.appendChild(Zs);else{if(!Dg&&!ry&&!Ng&&Ze.indexOf("<")===-1)return pe&&Fv?pe.createHTML(Ze):Ze;if(fo=wR(Ze),!fo)return Dg?null:Fv?_e:""}fo&&x0&&Ip(fo.firstChild);const Ec=kR(os?Ze:fo);for(;Ea=Ec.nextNode();)SR(Ea)||(Ea.content instanceof b&&cP(Ea.content),zR(Ea));if(os)return Ze;if(Dg){if(Th)for(xs=pt.call(fo.ownerDocument);fo.firstChild;)xs.appendChild(fo.firstChild);else xs=fo;return(js.shadowroot||js.shadowrootmode)&&(xs=Et.call(f,xs,!0)),xs}let Oh=Ng?fo.outerHTML:fo.innerHTML;return Ng&&po["!doctype"]&&fo.ownerDocument&&fo.ownerDocument.doctype&&fo.ownerDocument.doctype.name&&nd(Af,fo.ownerDocument.doctype.name)&&(Oh="<!DOCTYPE "+fo.ownerDocument.doctype.name+`>
`+Oh),ry&&Hw([xn,Bn,Qn],Bg=>{Oh=K0(Oh,Bg," ")}),pe&&Fv?pe.createHTML(Oh):Oh},i.setConfig=function(){u2(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),v0=!0},i.clearConfig=function(){Ux=null,v0=!1},i.isValidAttribute=function(Ze,Fo,fo){Ux||u2({});const Zs=Vc(Ze),Ea=Vc(Fo);return ER(Zs,Ea,fo)},i.addHook=function(Ze,Fo){typeof Fo=="function"&&(en[Ze]=en[Ze]||[],vg(en[Ze],Fo))},i.removeHook=function(Ze){if(en[Ze])return yC(en[Ze])},i.removeHooks=function(Ze){en[Ze]&&(en[Ze]=[])},i.removeAllHooks=function(){en={}},i}();const OC=o=>q5().sanitize(o);var fu=tinymce.util.Tools.resolve("tinymce.util.I18n");const Y0={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},AC="temporary-placeholder",Zw=o=>()=>dn(o,AC).getOr("!not found!"),NC=(o,s)=>{const i=o.toLowerCase();if(fu.isRtl()){const l=((f,m)=>hl(f,m)?f:((b,x)=>b+x)(f,m))(i,"-rtl");return _n(s,l)?l:i}return i},h3=(o,s)=>dn(s,NC(o,s)),DC=(o,s)=>{const i=s();return h3(o,i).getOrThunk(Zw(i))},Ww=()=>xo("add-focusable",[ts(o=>{su(o.element,"svg").each(s=>eo(s,"focusable","false"))})]),b3=(o,s,i,l)=>{var f,m;const b=(w=>!!fu.isRtl()&&_n(Y0,w))(s)?["tox-icon--flip"]:[],x=dn(i,NC(s,i)).or(l).getOrThunk(Zw(i));return{dom:{tag:o.tag,attributes:(f=o.attributes)!==null&&f!==void 0?f:{},classes:o.classes.concat(b),innerHtml:x},behaviours:Ht([...(m=o.behaviours)!==null&&m!==void 0?m:[],Ww()])}},Km=(o,s,i,l=B.none())=>b3(s,o,i(),l),y3={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},$w=Ed({name:"Notification",factory:o=>{const s=Vr({dom:gh(`<p>${OC(o.translationProvider(o.text))}</p>`),behaviours:Ht([Jn.config({})])}),i=O=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${O}%`}}}),l=O=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${O}%`}}),f=Vr({dom:{tag:"div",classes:o.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(0)]},l(0)],behaviours:Ht([Jn.config({})])}),m={updateProgress:(O,A)=>{O.getSystem().isConnected()&&f.getOpt(O).each(L=>{Jn.set(L,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(A)]},l(A)])})},updateText:(O,A)=>{if(O.getSystem().isConnected()){const L=s.get(O);Jn.set(L,[Ss(A)])}}},b=Xo([o.icon.toArray(),o.level.toArray(),o.level.bind(O=>B.from(y3[O])).toArray()]),x=Vr(cc.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Km("close",{tag:"span",classes:["tox-icon"],attributes:{"aria-label":o.translationProvider("Close")}},o.iconProvider)],action:O=>{o.onAction(O)}})),w=((O,A,L)=>{const H=L(),q=$o(O,re=>_n(H,NC(re,H)));return b3({tag:"div",classes:["tox-notification__icon"]},q.getOr(AC),H,B.none())})(b,0,o.iconProvider),E=[w,{dom:{tag:"div",classes:["tox-notification__body"]},components:[s.asSpec()],behaviours:Ht([Jn.config({})])}];return{uid:o.uid,dom:{tag:"div",attributes:{role:"alert"},classes:o.level.map(O=>["tox-notification","tox-notification--in",`tox-notification--${O}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:Ht([ao.config({}),xo("notification-events",[mt(Ae(),O=>{x.getOpt(O).each(ao.focus)})])]),components:E.concat(o.progress?[f.asSpec()]:[]).concat(o.closeButton?[x.asSpec()]:[]),apis:m}},configFields:[ur("level"),at("progress"),ur("icon"),at("onAction"),at("text"),at("iconProvider"),at("translationProvider"),es("closeButton",!0)],apis:{updateProgress:(o,s,i)=>{o.updateProgress(s,i)},updateText:(o,s,i)=>{o.updateText(s,i)}}});var Nf,X0,bh=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),v3=tinymce.util.Tools.resolve("tinymce.EditorManager"),Ym=tinymce.util.Tools.resolve("tinymce.Env");(function(o){o.default="wrap",o.floating="floating",o.sliding="sliding",o.scrolling="scrolling"})(Nf||(Nf={})),function(o){o.auto="auto",o.top="top",o.bottom="bottom"}(X0||(X0={}));const Gr=o=>s=>s.options.get(o),k1=o=>s=>B.from(o(s)),x3=o=>{const s=Ym.deviceType.isPhone(),i=Ym.deviceType.isTablet()||s,l=o.options.register,f=b=>de(b)||b===!1,m=b=>de(b)||tn(b);l("skin",{processor:b=>de(b)||b===!1,default:"oxide"}),l("skin_url",{processor:"string"}),l("height",{processor:m,default:Math.max(o.getElement().offsetHeight,400)}),l("width",{processor:m,default:bh.DOM.getStyle(o.getElement(),"width")}),l("min_height",{processor:"number",default:100}),l("min_width",{processor:"number"}),l("max_height",{processor:"number"}),l("max_width",{processor:"number"}),l("style_formats",{processor:"object[]"}),l("style_formats_merge",{processor:"boolean",default:!1}),l("style_formats_autohide",{processor:"boolean",default:!1}),l("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),l("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),l("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),l("font_size_input_default_unit",{processor:"string",default:"pt"}),l("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),l("content_langs",{processor:"object[]"}),l("removed_menuitems",{processor:"string",default:""}),l("menubar",{processor:b=>de(b)||Xe(b),default:!s}),l("menu",{processor:"object",default:{}}),l("toolbar",{processor:b=>Xe(b)||de(b)||Me(b)?{value:b,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),zt(9,b=>{l("toolbar"+(b+1),{processor:"string"})}),l("toolbar_mode",{processor:"string",default:i?"scrolling":"floating"}),l("toolbar_groups",{processor:"object",default:{}}),l("toolbar_location",{processor:"string",default:X0.auto}),l("toolbar_persist",{processor:"boolean",default:!1}),l("toolbar_sticky",{processor:"boolean",default:o.inline}),l("toolbar_sticky_offset",{processor:"number",default:0}),l("fixed_toolbar_container",{processor:"string",default:""}),l("fixed_toolbar_container_target",{processor:"object"}),l("ui_mode",{processor:"string",default:"combined"}),l("file_picker_callback",{processor:"function"}),l("file_picker_validator_handler",{processor:"function"}),l("file_picker_types",{processor:"string"}),l("typeahead_urls",{processor:"boolean",default:!0}),l("anchor_top",{processor:f,default:"#top"}),l("anchor_bottom",{processor:f,default:"#bottom"}),l("draggable_modal",{processor:"boolean",default:!1}),l("statusbar",{processor:"boolean",default:!0}),l("elementpath",{processor:"boolean",default:!0}),l("branding",{processor:"boolean",default:!0}),l("promotion",{processor:"boolean",default:!0}),l("resize",{processor:b=>b==="both"||Xe(b),default:!Ym.deviceType.isTouch()}),l("sidebar_show",{processor:"string"}),l("help_accessibility",{processor:"boolean",default:o.hasPlugin("help")}),l("default_font_stack",{processor:"string[]",default:[]})},w3=Gr("readonly"),RC=Gr("height"),qw=Gr("width"),BC=k1(Gr("min_width")),Gw=k1(Gr("min_height")),Kw=k1(Gr("max_width")),MC=k1(Gr("max_height")),LC=k1(Gr("style_formats")),J0=Gr("style_formats_merge"),PC=Gr("style_formats_autohide"),k3=Gr("content_langs"),_3=Gr("removed_menuitems"),Q0=Gr("toolbar_mode"),C3=Gr("toolbar_groups"),IC=Gr("toolbar_location"),G5=Gr("fixed_toolbar_container"),K5=Gr("fixed_toolbar_container_target"),S3=Gr("toolbar_persist"),E3=Gr("toolbar_sticky_offset"),T3=Gr("menubar"),Yw=Gr("toolbar"),FC=Gr("file_picker_callback"),VC=Gr("file_picker_validator_handler"),HC=Gr("font_size_input_default_unit"),z3=Gr("file_picker_types"),UC=Gr("typeahead_urls"),O3=Gr("anchor_top"),jC=Gr("anchor_bottom"),A3=Gr("draggable_modal"),N3=Gr("statusbar"),D3=Gr("elementpath"),ZC=Gr("branding"),R3=Gr("resize"),WC=Gr("paste_as_text"),B3=Gr("sidebar_show"),vn=Gr("promotion"),Ab=Gr("help_accessibility"),M3=Gr("default_font_stack"),Xw=o=>o.options.get("skin")===!1,Wy=o=>o.options.get("menubar")!==!1,ev=o=>{const s=o.options.get("skin_url");if(Xw(o))return s;if(s)return o.documentBaseURI.toAbsolute(s);{const i=o.options.get("skin");return v3.baseURL+"/skins/ui/"+i}},Jw=o=>B.from(o.options.get("skin_url")),$C=o=>o.options.get("line_height_formats").split(" "),Qw=o=>{const s=Yw(o),i=de(s),l=Me(s)&&s.length>0;return!tv(o)&&(l||i||s===!0)},qC=o=>{const s=zt(9,l=>o.options.get("toolbar"+(l+1))),i=Pn(s,de);return li(i.length>0,i)},tv=o=>qC(o).fold(()=>{const s=Yw(o);return Kt(s,de)&&s.length>0},un),_1=o=>IC(o)===X0.bottom,nv=o=>{var s;if(!o.inline)return B.none();const i=(s=G5(o))!==null&&s!==void 0?s:"";if(i.length>0)return ia(Ha(),i);const l=K5(o);return lt(l)?B.some(Jt(l)):B.none()},$y=o=>o.inline&&nv(o).isSome(),GC=o=>nv(o).getOrThunk(()=>Oa(as(Jt(o.getElement())))),KC=o=>o.inline&&!Wy(o)&&!Qw(o)&&!tv(o),C1=o=>(o.options.get("toolbar_sticky")||o.inline)&&!$y(o)&&!KC(o),qy=o=>!$y(o)&&o.options.get("ui_mode")==="split",YC=o=>{const s=o.options.get("menu");return go(s,i=>({...i,items:i.items}))};var Y5=Object.freeze({__proto__:null,get ToolbarMode(){return Nf},get ToolbarLocation(){return X0},register:x3,getSkinUrl:ev,getSkinUrlOption:Jw,isReadOnly:w3,isSkinDisabled:Xw,getHeightOption:RC,getWidthOption:qw,getMinWidthOption:BC,getMinHeightOption:Gw,getMaxWidthOption:Kw,getMaxHeightOption:MC,getUserStyleFormats:LC,shouldMergeStyleFormats:J0,shouldAutoHideStyleFormats:PC,getLineHeightFormats:$C,getContentLanguages:k3,getRemovedMenuItems:_3,isMenubarEnabled:Wy,isMultipleToolbars:tv,isToolbarEnabled:Qw,isToolbarPersist:S3,getMultipleToolbarsOption:qC,getUiContainer:GC,useFixedContainer:$y,isSplitUiMode:qy,getToolbarMode:Q0,isDraggableModal:A3,isDistractionFree:KC,isStickyToolbar:C1,getStickyToolbarOffset:E3,getToolbarLocation:IC,isToolbarLocationBottom:_1,getToolbarGroups:C3,getMenus:YC,getMenubar:T3,getToolbar:Yw,getFilePickerCallback:FC,getFilePickerTypes:z3,useTypeaheadUrls:UC,getAnchorTop:O3,getAnchorBottom:jC,getFilePickerValidatorHandler:VC,getFontSizeInputDefaultUnit:HC,useStatusBar:N3,useElementPath:D3,promotionEnabled:vn,useBranding:ZC,getResize:R3,getPasteAsText:WC,getSidebarShow:B3,useHelpAccessibility:Ab,getDefaultFontStack:M3});const L3="[data-mce-autocompleter]",P3=o=>xd(o,L3);var XC;(function(o){o[o.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",o[o.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(XC||(XC={}));var um=XC;const JC="tox-menu-nav__js",ek="tox-collection__item",I3="tox-swatch",X5={normal:JC,color:I3},F3="tox-collection__item--enabled",xg="tox-collection__item-icon",ov="tox-collection__item-label",V3="tox-collection__item-caret",S1="tox-collection__item--active",H3="tox-collection__item-container",U3="tox-collection__item-container--row",j3=o=>dn(X5,o).getOr(JC),J5=o=>o==="color"?"tox-swatches":"tox-menu",QC=o=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:J5(o),tieredMenu:"tox-tiered-menu"}),Xm=o=>{const s=QC(o);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:j3(o)}},tk=(o,s,i)=>{const l=QC(i);return{tag:"div",classes:Xo([[l.menu,`tox-menu-${s}-column`],o?[l.hasIcons]:[]])}},Q5=[yg.parts.items({})],E1=(o,s,i)=>{const l=QC(i);return{dom:{tag:"div",classes:Xo([[l.tieredMenu]])},markers:Xm(i)}},Z3=Te([ur("data"),Ue("inputAttributes",{}),Ue("inputStyles",{}),Ue("tag","input"),Ue("inputClasses",[]),Vo("onSetValue"),Ue("styles",{}),Ue("eventOrder",{}),ca("inputBehaviours",[cn,ao]),Ue("selectOnFocus",!0)]),nk=o=>Ht([ao.config({onFocus:o.selectOnFocus?s=>{const i=s.element,l=vd(i);i.dom.setSelectionRange(0,l.length)}:ht})]),eB=o=>({...nk(o),...Bi(o.inputBehaviours,[cn.config({store:{mode:"manual",...o.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>vd(s.element),setValue:(s,i)=>{vd(s.element)!==i&&Kf(s.element,i)}},onSetValue:o.onSetValue})])}),W3=o=>({tag:o.tag,attributes:{type:"text",...o.inputAttributes},styles:o.inputStyles,classes:o.inputClasses}),Nb=Ed({name:"Input",configFields:Z3(),factory:(o,s)=>({uid:o.uid,dom:W3(o),components:[],behaviours:eB(o),eventOrder:o.eventOrder})}),ok=bn("refetch-trigger-event"),$3=bn("redirect-menu-item-interaction"),eS="tox-menu__searcher",rk=o=>ia(o.element,`.${eS}`).bind(s=>o.getSystem().getByDom(s).toOptional()),q3=rk,tS=o=>({fetchPattern:cn.getValue(o),selectionStart:o.element.dom.selectionStart,selectionEnd:o.element.dom.selectionEnd}),tB=o=>{const s=(f,m)=>(m.cut(),B.none()),i=(f,m)=>{const b={interactionEvent:m.event,eventType:m.event.raw.type};return gn(f,$3,b),B.some(!0)},l="searcher-events";return{dom:{tag:"div",classes:[ek]},components:[Nb.sketch({inputClasses:[eS,"tox-textfield"],inputAttributes:{...o.placeholder.map(f=>({placeholder:o.i18n(f)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Ht([xo(l,[mt(Hn(),f=>{Lo(f,ok)}),mt(yn(),(f,m)=>{m.event.raw.key==="Escape"&&m.stop()})]),Qt.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:i,onEscape:i,onUp:i,onDown:i})]),eventOrder:{keydown:[l,Qt.name()]}})]}},sk="tox-collection--results__js",ak=o=>{var s;return o.dom?{...o,dom:{...o.dom,attributes:{...(s=o.dom.attributes)!==null&&s!==void 0?s:{},id:bn("aria-item-search-result-id"),"aria-selected":"false"}}}:o},ik=(o,s)=>i=>{const l=bo(i,s);return St(l,f=>({dom:o,components:f}))},T1=(o,s)=>{const i=[];let l=[];return nn(o,(f,m)=>{s(f,m)?(l.length>0&&i.push(l),l=[],(_n(f.dom,"innerHtml")||f.components&&f.components.length>0)&&l.push(f)):l.push(f)}),l.length>0&&i.push(l),St(i,f=>({dom:{tag:"div",classes:["tox-collection__group"]},components:f}))},rv=(o,s,i)=>yg.parts.items({preprocess:l=>{const f=St(l,i);return o!=="auto"&&o>1?ik({tag:"div",classes:["tox-collection__group"]},o)(f):T1(f,(m,b)=>s[b].type==="separator")}}),z1=(o,s,i=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(o===1?["tox-collection--list"]:["tox-collection--grid"])},components:[rv(o,s,kt)]}),wg=o=>Hr(o,s=>"icon"in s&&s.icon!==void 0),Db=o=>(console.error(Gc(o)),console.log(o),B.none()),nB=(o,s,i,l,f)=>{const m=(b=i,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[yg.parts.items({preprocess:x=>T1(x,(w,E)=>b[E].type==="separator")})]});var b;return{value:o,dom:m.dom,components:m.components,items:i}},nS=(o,s,i,l,f)=>{if(f.menuType==="color"){const m=(b=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[yg.parts.items({preprocess:b!=="auto"?ik({tag:"div",classes:["tox-swatches__row"]},b):kt})]}]}))(l);return{value:o,dom:m.dom,components:m.components,items:i}}if(f.menuType==="normal"&&l==="auto"){const m=z1(l,i);return{value:o,dom:m.dom,components:m.components,items:i}}if(f.menuType==="normal"||f.menuType==="searchable"){const m=f.menuType!=="searchable"?z1(l,i):f.searchMode.searchMode==="search-with-field"?((b,x,w)=>{const E=bn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(b===1?["tox-collection--list"]:["tox-collection--grid"])},components:[tB({i18n:fu.translate,placeholder:w.placeholder}),{dom:{tag:"div",classes:[...b===1?["tox-collection--list"]:["tox-collection--grid"],sk],attributes:{id:E}},components:[rv(b,x,ak)]}]}})(l,i,f.searchMode):((b,x,w=!0)=>{const E=bn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",sk].concat(b===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:E}},components:[rv(b,x,ak)]}})(l,i);return{value:o,dom:m.dom,components:m.components,items:i}}if(f.menuType==="listpreview"&&l!=="auto"){const m=(b=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[yg.parts.items({preprocess:ik({tag:"div",classes:["tox-collection__group"]},b)})]}))(l);return{value:o,dom:m.dom,components:m.components,items:i}}return{value:o,dom:tk(s,l,f.menuType),components:Q5,items:i}},ri=Bs("type"),lk=Bs("name"),oS=Bs("label"),Rb=Bs("text"),oB=Bs("title"),G3=Bs("icon"),O1=Bs("value"),rS=Ra("fetch"),rB=Ra("getSubmenuItems"),sv=Ra("onAction"),sB=Ra("onItemAction"),Bb=ls("onSetup",()=>ht),aB=Ar("name"),Mb=Ar("text"),Df=Ar("icon"),A1=Ar("tooltip"),sS=Ar("label"),K3=Ar("shortcut"),iB=Ml("select"),av=es("active",!1),Y3=es("borderless",!1),fm=es("enabled",!0),N1=es("primary",!1),X3=o=>Ue("columns",o),aS=Ue("meta",{}),iS=ls("onAction",ht),Gy=o=>_l("type",o),lS=o=>Gs("name","name",Si(()=>bn(`${o}-name`)),ga),iv=Rn([ri,Mb]),J3=Rn([Gy("autocompleteitem"),av,fm,aS,O1,Mb,Df]),lv=[fm,A1,Df,Mb,Bb],cS=Rn([ri,sv].concat(lv)),Q3=o=>Wr("toolbarbutton",cS,o),ck=[av].concat(lv),lB=Rn(ck.concat([ri,sv])),dS=o=>Wr("ToggleButton",lB,o),uS=[ls("predicate",Je),Ms("scope","node",["node","editor"]),Ms("position","selection",["node","selection","line"])],cB=lv.concat([Gy("contextformbutton"),N1,sv,sa("original",kt)]),dB=ck.concat([Gy("contextformbutton"),N1,sv,sa("original",kt)]),uB=lv.concat([Gy("contextformbutton")]),fB=ck.concat([Gy("contextformtogglebutton")]),mB=fi("type",{contextformbutton:cB,contextformtogglebutton:dB}),pB=Rn([Gy("contextform"),ls("initValue",Te("")),sS,Za("commands",mB),Bl("launch",fi("type",{contextformbutton:uB,contextformtogglebutton:fB}))].concat(uS)),fS=Rn([Gy("contexttoolbar"),Bs("items")].concat(uS)),mS=[ri,Bs("src"),Ar("alt"),Mr("classes",[],ga)],gB=Rn(mS),$8=[ri,Rb,aB,Mr("classes",["tox-collection__item-label"],ga)],ez=Rn($8),tz=Dr(()=>md("type",{cardimage:gB,cardtext:ez,cardcontainer:hB})),hB=Rn([ri,_l("direction","horizontal"),_l("align","left"),_l("valign","middle"),Za("items",tz)]),od=[fm,Mb,K3,Gs("value","value",Si(()=>bn("menuitem-value")),Br()),aS],bB=Rn([ri,sS,Za("items",tz),Bb,iS].concat(od)),yB=Rn([ri,av,Df].concat(od)),nz=[ri,Bs("fancytype"),iS],vB=[Ue("initData",{})].concat(nz),xB=[Ml("select"),Wf("initData",{},[es("allowCustomColors",!0),_l("storageKey","default"),Wa("colors",Br())])].concat(nz),cv=fi("fancytype",{inserttable:vB,colorswatch:xB}),pS=Rn([ri,Bb,iS,Df].concat(od)),wB=Rn([ri,rB,Bb,Df].concat(od)),gS=Rn([ri,Df,av,Bb,sv].concat(od)),dv=(o,s,i)=>{const l=Ul(o.element,"."+i);if(l.length>0){const f=Fi(l,m=>{const b=m.dom.getBoundingClientRect().top,x=l[0].dom.getBoundingClientRect().top;return Math.abs(b-x)>s}).getOr(l.length);return B.some({numColumns:f,numRows:Math.ceil(l.length/f)})}return B.none()},Ky=o=>((s,i)=>Ht([xo(s,i)]))(bn("unnamed-events"),o),oz=bn("tooltip.exclusive"),D1=bn("tooltip.show"),R1=bn("tooltip.hide"),rz=(o,s,i)=>{o.getSystem().broadcastOn([oz],{})};var kB=Object.freeze({__proto__:null,hideAllExclusive:rz,setComponents:(o,s,i,l)=>{i.getTooltip().each(f=>{f.getSystem().isConnected()&&Jn.set(f,l)})}}),_B=Object.freeze({__proto__:null,events:(o,s)=>{const i=l=>{s.getTooltip().each(f=>{lm(f),o.onHide(l,f),s.clearTooltip()}),s.clearTimer()};return Ro(Xo([[mt(D1,l=>{s.resetTimer(()=>{(f=>{if(!s.isShowing()){rz(f);const m=o.lazySink(f).getOrDie(),b=f.getSystem().build({dom:o.tooltipDom,components:o.tooltipComponents,events:Ro(o.mode==="normal"?[mt(Ce(),x=>{Lo(f,D1)}),mt(V(),x=>{Lo(f,R1)})]:[]),behaviours:Ht([Jn.config({})])});s.setTooltip(b),Um(m,b),o.onShow(f,b),Ol.position(m,b,{anchor:o.anchor(f)})}})(l)},o.delay)}),mt(R1,l=>{s.resetTimer(()=>{i(l)},o.delay)}),mt(Ys(),(l,f)=>{const m=f;m.universal||Mn(m.channels,oz)&&i(l)}),Qd(l=>{i(l)})],o.mode==="normal"?[mt(Ae(),l=>{Lo(l,D1)}),mt(wm(),l=>{Lo(l,R1)}),mt(Ce(),l=>{Lo(l,D1)}),mt(V(),l=>{Lo(l,R1)})]:[mt($r(),(l,f)=>{Lo(l,D1)}),mt(uf(),l=>{Lo(l,R1)})]]))}}),sz=[at("lazySink"),at("tooltipDom"),Ue("exclusive",!0),Ue("tooltipComponents",[]),Ue("delay",300),Ms("mode","normal",["normal","follow-highlight"]),Ue("anchor",o=>({type:"hotspot",hotspot:o,layouts:{onLtr:Te([la,Il,Ai,Ji,Cr,ds]),onRtl:Te([la,Il,Ai,Ji,Cr,ds])}})),Vo("onHide"),Vo("onShow")],hS=Object.freeze({__proto__:null,init:()=>{const o=Es(),s=Es(),i=()=>{o.on(clearTimeout)},l=Te("not-implemented");return ns({getTooltip:s.get,isShowing:s.isSet,setTooltip:s.set,clearTooltip:s.clear,clearTimer:i,resetTimer:(f,m)=>{i(),o.set(setTimeout(f,m))},readState:l})}});const az=yi({fields:sz,name:"tooltipping",active:_B,state:hS,apis:kB}),iz="silver.readonly",CB=Rn([wl("readonly",Nc)]),dk=(o,s)=>{const i=o.mainUi.outerContainer.element,l=[o.mainUi.mothership,...o.uiMotherships];s&&nn(l,f=>{f.broadcastOn([Al()],{target:i})}),nn(l,f=>{f.broadcastOn([iz],{readonly:s})})},Lb=(o,s)=>{o.on("init",()=>{o.mode.isReadOnly()&&dk(s,!0)}),o.on("SwitchMode",()=>dk(s,o.mode.isReadOnly())),w3(o)&&o.mode.set("readonly")},tl=()=>ac.config({channels:{[iz]:{schema:CB,onReceive:(o,s)=>{Xn.set(o,s.readonly)}}}}),uv=o=>Xn.config({disabled:o}),uk=o=>Xn.config({disabled:o,disableClass:"tox-tbtn--disabled"}),bS=o=>Xn.config({disabled:o,disableClass:"tox-tbtn--disabled",useNative:!1}),B1=(o,s)=>{const i=o.getApi(s);return l=>{l(i)}},yh=(o,s)=>ts(i=>{B1(o,i)(l=>{const f=o.onSetup(l);Rt(f)&&s.set(f)})}),vh=(o,s)=>Qd(i=>B1(o,i)(s.get())),lz=(o,s)=>dl((i,l)=>{B1(o,i)(o.onAction),o.triggersSubmenu||s!==um.CLOSE_ON_EXECUTE||(i.getSystem().isConnected()&&Lo(i,fp()),l.stop())}),cz={[cl()]:["disabling","alloy.base.behaviour","toggling","item-events"]},fv=Bt,mv=(o,s,i,l)=>{const f=Ln(ht);return{type:"item",dom:s.dom,components:fv(s.optComponents),data:o.data,eventOrder:cz,hasSubmenu:o.triggersSubmenu,itemBehaviours:Ht([xo("item-events",[lz(o,i),yh(o,f),vh(o,f)]),(m=()=>!o.enabled||l.isDisabled(),Xn.config({disabled:m,disableClass:"tox-collection__item--state-disabled"})),tl(),Jn.config({})].concat(o.itemBehaviours))};var m},pv=o=>({value:o.value,meta:{text:o.text.getOr(""),...o.meta}}),fk=o=>{const s=Ym.os.isMacOS()||Ym.os.isiOS(),i=s?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},l=o.split("+"),f=St(l,m=>{const b=m.toLowerCase().trim();return _n(i,b)?i[b]:m});return s?f.join(""):f.join("+")},yS=(o,s,i=[xg])=>Km(o,{tag:"div",classes:i},s),dz=o=>({dom:{tag:"div",classes:[ov]},components:[Ss(fu.translate(o))]}),uz=(o,s)=>({dom:{tag:"div",classes:s,innerHtml:o}}),SB=(o,s)=>({dom:{tag:"div",classes:[ov]},components:[{dom:{tag:o.tag,styles:o.styles},components:[Ss(fu.translate(s))]}]}),fz=o=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[Ss(fk(o))]}),mz=o=>yS("checkmark",o,["tox-collection__item-checkmark"]),pz=o=>{const s=o.map(i=>({attributes:{title:fu.translate(i),id:bn("menu-item")}})).getOr({});return{tag:"div",classes:[JC,ek],...s}},M1=(o,s,i,l=B.none())=>o.presets==="color"?((f,m,b)=>{const x=f.ariaLabel,w=f.value,E=f.iconContent.map(O=>((A,L,H)=>{const q=L();return h3(A,q).or(H).getOrThunk(Zw(q))})(O,m.icons,b));return{dom:(()=>{const O=I3,A=E.getOr(""),L=x.map(q=>({title:m.translate(q)})).getOr({}),H={tag:"div",attributes:L,classes:[O]};return w==="custom"?{...H,tag:"button",classes:[...H.classes,"tox-swatches__picker-btn"],innerHtml:A}:w==="remove"?{...H,classes:[...H.classes,"tox-swatch--remove"],innerHtml:A}:lt(w)?{...H,attributes:{...H.attributes,"data-mce-color":w},styles:{"background-color":w},innerHtml:A}:H})(),optComponents:[]}})(o,s,l):((f,m,b,x)=>{const w={tag:"div",classes:[xg]},E=b?f.iconContent.map(H=>Km(H,w,m.icons,x)).orThunk(()=>B.some({dom:w})):B.none(),O=f.checkMark,A=B.from(f.meta).fold(()=>dz,H=>_n(H,"style")?qe(SB,H.style):dz),L=f.htmlContent.fold(()=>f.textContent.map(A),H=>B.some(uz(H,[ov])));return{dom:pz(f.ariaLabel),optComponents:[E,L,f.shortcutContent.map(fz),O,f.caret]}})(o,s,i,l),vS=(o,s)=>dn(o,"tooltipWorker").map(i=>[az.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:l=>({type:"submenu",item:l,overrides:{maxHeightFunction:wp}}),mode:"follow-highlight",onShow:(l,f)=>{i(m=>{az.setComponents(l,[Ph({element:Jt(m)})])})}})]).getOr([]),gz=(o,s)=>{const i=(l=>bh.DOM.encode(l))(fu.translate(o));if(s.length>0){const l=new RegExp((f=>f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(s),"gi");return i.replace(l,f=>`<span class="tox-autocompleter-highlight">${f}</span>`)}return i},hz=(o,s)=>St(o,i=>{switch(i.type){case"cardcontainer":return((m,b)=>{const x=m.direction==="vertical"?"tox-collection__item-container--column":U3,w=m.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[H3,x,w,(()=>{switch(m.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:b}})(i,hz(i.items,s));case"cardimage":return((m,b,x)=>({dom:{tag:"img",classes:b,attributes:{src:m,alt:x.getOr("")}}}))(i.src,i.classes,i.alt);case"cardtext":const l=i.name.exists(m=>Mn(s.cardText.highlightOn,m)),f=l?B.from(s.cardText.matchText).getOr(""):"";return uz(gz(i.text,f),i.classes)}}),xS=Ao(Yu(),ph()),bz=o=>({value:wS(o)}),yz=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,L1=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,vz=o=>yz.test(o)||L1.test(o),wS=o=>Ud(o,"#").toUpperCase(),Ic=o=>{const s=o.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},P1=o=>{const s=Ic(o.red)+Ic(o.green)+Ic(o.blue);return bz(s)},kS=Math.min,_S=Math.max,mk=Math.round,xz=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,wz=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Pb=(o,s,i,l)=>({red:o,green:s,blue:i,alpha:l}),CS=o=>{const s=parseInt(o,10);return s.toString()===o&&s>=0&&s<=255},kz=o=>{let s,i,l;const f=(o.hue||0)%360;let m=o.saturation/100,b=o.value/100;if(m=_S(0,kS(m,1)),b=_S(0,kS(b,1)),m===0)return s=i=l=mk(255*b),Pb(s,i,l,1);const x=f/60,w=b*m,E=w*(1-Math.abs(x%2-1)),O=b-w;switch(Math.floor(x)){case 0:s=w,i=E,l=0;break;case 1:s=E,i=w,l=0;break;case 2:s=0,i=w,l=E;break;case 3:s=0,i=E,l=w;break;case 4:s=E,i=0,l=w;break;case 5:s=w,i=0,l=E;break;default:s=i=l=0}return s=mk(255*(s+O)),i=mk(255*(i+O)),l=mk(255*(l+O)),Pb(s,i,l,1)},I1=o=>{const s=(m=>{const b=(w=>({value:w.value.replace(yz,(O,A,L,H)=>A+A+L+L+H+H)}))(m),x=L1.exec(b.value);return x===null?["FFFFFF","FF","FF","FF"]:x})(o),i=parseInt(s[1],16),l=parseInt(s[2],16),f=parseInt(s[3],16);return Pb(i,l,f,1)},SS=(o,s,i,l)=>{const f=parseInt(o,10),m=parseInt(s,10),b=parseInt(i,10),x=parseFloat(l);return Pb(f,m,b,x)},ES=o=>{if(o==="transparent")return B.some(Pb(0,0,0,0));const s=xz.exec(o);if(s!==null)return B.some(SS(s[1],s[2],s[3],"1"));const i=wz.exec(o);return i!==null?B.some(SS(i[1],i[2],i[3],i[4])):B.none()},_z=o=>`rgba(${o.red},${o.green},${o.blue},${o.alpha})`,TS=Pb(255,0,0,1),pk=(o,s)=>{o.dispatch("ResizeContent",s)},zS=(o,s)=>{o.dispatch("TextColorChange",s)},EB=(o,s)=>o.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),gk=(o,s)=>()=>{o(),s()},rd=o=>Ib(o,"NodeChange",s=>{s.setEnabled(o.selection.isEditable())}),hk=(o,s)=>i=>{const l=rd(o)(i),f=((m,b)=>x=>{const w=kf(),E=()=>{x.setActive(m.formatter.match(b));const O=m.formatter.formatChanged(b,x.setActive);w.set(O)};return m.initialized?E():m.once("init",E),()=>{m.off("init",E),w.clear()}})(o,s)(i);return()=>{l(),f()}},Ib=(o,s,i)=>l=>{const f=()=>i(l),m=()=>{i(l),o.on(s,f)};return o.initialized?m():o.once("init",m),()=>{o.off("init",m),o.off(s,f)}},OS=o=>s=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("mceToggleFormat",!1,s.format)})},Wl=(o,s)=>()=>o.execCommand(s);var Fb=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const AS={},bk=o=>dn(AS,o).getOrThunk(()=>{const s=`tinymce-custom-colors-${o}`,i=Fb.getItem(s);if(Wt(i)){const f=Fb.getItem("tinymce-custom-colors");Fb.setItem(s,lt(f)?f:"[]")}const l=((f,m=10)=>{const b=Fb.getItem(f),x=de(b)?JSON.parse(b):[],w=m-(E=x).length<0?E.slice(0,m):E;var E;const O=A=>{w.splice(A,1)};return{add:A=>{ft(w,A).each(O),w.unshift(A),w.length>m&&w.pop(),Fb.setItem(f,JSON.stringify(w))},state:()=>w.slice(0)}})(s,10);return AS[o]=l,l}),Cz=(o,s)=>{bk(o).add(s)},F1=(o,s,i)=>({hue:o,saturation:s,value:i}),NS=o=>{let s=0,i=0,l=0;const f=o.red/255,m=o.green/255,b=o.blue/255,x=Math.min(f,Math.min(m,b)),w=Math.max(f,Math.max(m,b));return x===w?(l=x,F1(0,0,100*l)):(s=f===x?3:b===x?1:5,s=60*(s-(f===x?m-b:b===x?f-m:b-f)/(w-x)),i=(w-x)/w,l=w,F1(Math.round(s),Math.round(100*i),Math.round(100*l)))},Sz=o=>P1(kz(o)),Ez=o=>{return(s=o,vz(s)?B.some({value:wS(s)}):B.none()).orThunk(()=>ES(o).map(P1)).getOrThunk(()=>{const i=document.createElement("canvas");i.height=1,i.width=1;const l=i.getContext("2d");l.clearRect(0,0,i.width,i.height),l.fillStyle="#FFFFFF",l.fillStyle=o,l.fillRect(0,0,1,1);const f=l.getImageData(0,0,1,1).data,m=f[0],b=f[1],x=f[2],w=f[3];return P1(Pb(m,b,x,w))});var s},V1="forecolor",H1="hilitecolor",TB=o=>{const s=[];for(let i=0;i<o.length;i+=2)s.push({text:o[i+1],value:"#"+Ez(o[i]).value,icon:"checkmark",type:"choiceitem"});return s},Rd=o=>s=>s.options.get(o),yk="#000000",U1=(o,s)=>s===V1&&o.options.isSet("color_map_foreground")?Rd("color_map_foreground")(o):s===H1&&o.options.isSet("color_map_background")?Rd("color_map_background")(o):Rd("color_map")(o),DS=(o,s="default")=>Math.max(5,Math.ceil(Math.sqrt(U1(o,s).length))),Tz=(o,s)=>{const i=Rd("color_cols")(o),l=DS(o,s);return i===DS(o)?l:i},gv=(o,s="default")=>Math.round(s===V1?Rd("color_cols_foreground")(o):s===H1?Rd("color_cols_background")(o):Rd("color_cols")(o)),hv=Rd("custom_colors"),zz=Rd("color_default_foreground"),Oz=Rd("color_default_background"),xh=(o,s)=>{const i=Jt(o.selection.getStart()),l=s==="hilitecolor"?ec(i,f=>{if(Qs(f)){const m=_s(f,"background-color");return li(ES(m).exists(b=>b.alpha!==0),m)}return B.none()}).getOr("rgba(0, 0, 0, 0)"):_s(i,"color");return ES(l).map(f=>"#"+P1(f).value)},wh=o=>{const s="choiceitem",i={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return o?[i,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[i]},RS=(o,s,i,l)=>{i==="custom"?wk(o)(f=>{f.each(m=>{Cz(s,m),o.execCommand("mceApplyTextcolor",s,m),l(m)})},xh(o,s).getOr(yk)):i==="remove"?(l(""),o.execCommand("mceRemoveTextcolor",s)):(l(i),o.execCommand("mceApplyTextcolor",s,i))},BS=(o,s,i)=>o.concat((l=>St(bk(l).state(),f=>({type:"choiceitem",text:f,icon:"checkmark",value:f})))(s).concat(wh(i))),MS=(o,s,i)=>l=>{l(BS(o,s,i))},Ap=(o,s,i)=>{const l=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";o.setIconFill(l,i)},vk=(o,s)=>{o.setTooltip(s)},Az=(o,s)=>i=>{const l=xh(o,s);return xi(l,i.toUpperCase())},xk=(o,s,i)=>{if(Ir(i))return s==="forecolor"?"Text color":"Background color";const l=s==="forecolor"?"Text color {0}":"Background color {0}",f=BS(U1(o,s),s,!1),m=$o(f,b=>b.value===i).getOr({text:""}).text;return o.translate([l,o.translate(m)])},LS=(o,s,i,l)=>{o.ui.registry.addSplitButton(s,{tooltip:xk(o,i,l.get()),presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:Az(o,i),columns:gv(o,i),fetch:MS(U1(o,i),i,hv(o)),onAction:f=>{RS(o,i,l.get(),ht)},onItemAction:(f,m)=>{RS(o,i,m,b=>{l.set(b),zS(o,{name:s,color:b})})},onSetup:f=>{Ap(f,s,l.get());const m=b=>{b.name===s&&(Ap(f,b.name,b.color),vk(f,xk(o,i,b.color)))};return o.on("TextColorChange",m),gk(rd(o)(f),()=>{o.off("TextColorChange",m)})}})},PS=(o,s,i,l,f)=>{o.ui.registry.addNestedMenuItem(s,{text:l,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:m=>(vk(m,xk(o,i,f.get())),Ap(m,s,f.get()),rd(o)(m)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:Az(o,i),initData:{storageKey:i},onAction:m=>{RS(o,i,m.value,b=>{f.set(b),zS(o,{name:s,color:b})})}}]})},wk=o=>(s,i)=>{let l=!1;const f={colorpicker:i};o.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:f,onAction:(m,b)=>{b.name==="hex-valid"&&(l=b.value)},onSubmit:m=>{const b=m.getData().colorpicker;l?(s(B.from(b)),m.close()):o.windowManager.alert(o.translate(["Invalid hex color code: {0}",b]))},onClose:ht,onCancel:()=>{s(B.none())}})},kk=(o,s,i,l,f,m,b,x)=>{const w=wg(s),E=zB(s,i,l,f!=="color"?"normal":"color",m,b,x);return nS(o,w,E,l,{menuType:f})},zB=(o,s,i,l,f,m,b)=>Bt(St(o,x=>{return x.type==="choiceitem"?(w=x,Wr("choicemenuitem",yB,w)).fold(Db,E=>B.some(((O,A,L,H,q,re,se,me=!0)=>{const te=M1({presets:L,textContent:A?O.text:B.none(),htmlContent:B.none(),ariaLabel:O.text,iconContent:O.icon,shortcutContent:A?O.shortcut:B.none(),checkMark:A?B.some(mz(se.icons)):B.none(),caret:B.none(),value:O.value},se,me);return ye(mv({data:pv(O),enabled:O.enabled,getApi:Q=>({setActive:ce=>{Bo.set(Q,ce)},isActive:()=>Bo.isOn(Q),isEnabled:()=>!Xn.isDisabled(Q),setEnabled:ce=>Xn.set(Q,!ce)}),onAction:Q=>H(O.value),onSetup:Q=>(Q.setActive(q),ht),triggersSubmenu:!1,itemBehaviours:[]},te,re,se),{toggling:{toggleClass:F3,toggleOnExecute:!1,selected:O.active,exclusive:!0}})})(E,i===1,l,s,m(E.value),f,b,wg(o)))):B.none();var w})),_k=(o,s)=>{const i=Xm(s);return o===1?{mode:"menu",moveOnTab:!0}:o==="auto"?{mode:"grid",selector:"."+i.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(s==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:l=>s==="color"?ia(l.element,"[aria-checked=true]"):B.none()}},Nz=bn("cell-over"),j1=bn("cell-execute"),IS=(o,s,i)=>{const l=m=>gn(m,j1,{row:o,col:s}),f=(m,b)=>{b.stop(),l(m)};return El({dom:{tag:"div",attributes:{role:"button","aria-label":i}},behaviours:Ht([xo("insert-table-picker-cell",[mt(Ce(),ao.focus),mt(cl(),l),mt(gr(),f),mt(Ll(),f)]),Bo.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),ao.config({onFocus:m=>gn(m,Nz,{row:o,col:s})})])})},FS=o=>Kr(o,s=>St(s,qr)),Dz=(o,s)=>Ss(`${s}x${o}`),OB={inserttable:(o,s)=>{const i=(b=>(x,w)=>b.shared.providers.translate(["{0} columns, {1} rows",w,x]))(s),l=((b,x,w)=>{const E=[];for(let O=0;O<10;O++){const A=[];for(let L=0;L<10;L++){const H=b(O+1,L+1);A.push(IS(O,L,H))}E.push(A)}return E})(i),f=Dz(0,0),m=Vr({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[f],behaviours:Ht([Jn.config({})])});return{type:"widget",data:{value:bn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[xS.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:FS(l).concat(m.asSpec()),behaviours:Ht([xo("insert-table-picker",[ts(b=>{Jn.set(m.get(b),[f])}),Pu(Nz,(b,x,w)=>{const{row:E,col:O}=w.event;((A,L,H,q,re)=>{for(let se=0;se<10;se++)for(let me=0;me<10;me++)Bo.set(A[se][me],se<=L&&me<=H)})(l,E,O),Jn.set(m.get(b),[Dz(E+1,O+1)])}),Pu(j1,(b,x,w)=>{const{row:E,col:O}=w.event;o.onAction({numRows:E+1,numColumns:O+1}),Lo(b,fp())})]),Qt.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(o,s)=>{const i=((b,x)=>{const w=b.initData.allowCustomColors&&x.colorinput.hasCustomColors();return b.initData.colors.fold(()=>BS(x.colorinput.getColors(b.initData.storageKey),b.initData.storageKey,w),E=>E.concat(wh(w)))})(o,s),l=s.colorinput.getColorCols(o.initData.storageKey),f="color",m={...kk(bn("menu-value"),i,b=>{o.onAction({value:b})},l,f,um.CLOSE_ON_EXECUTE,o.select.getOr(Je),s.shared.providers),markers:Xm(f),movement:_k(l,f)};return{type:"widget",data:{value:bn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[xS.widget(yg.sketch(m))]}}},VS=o=>({type:"separator",dom:{tag:"div",classes:[ek,"tox-collection__group-heading"]},components:o.text.map(Ss).toArray()});var Rz=Object.freeze({__proto__:null,getCoupled:(o,s,i,l)=>i.getOrCreate(o,s,l),getExistingCoupled:(o,s,i,l)=>i.getExisting(o,s,l)}),Bz=[wl("others",ll(So.value,Br()))],Mz=Object.freeze({__proto__:null,init:()=>{const o={},s=(l,f)=>{if(mo(l.others).length===0)throw new Error("Cannot find any known coupled components");return dn(o,f)},i=Te({});return ns({readState:i,getExisting:(l,f,m)=>s(f,m).orThunk(()=>(dn(f.others,m).getOrDie("No information found for coupled component: "+m),B.none())),getOrCreate:(l,f,m)=>s(f,m).getOrThunk(()=>{const b=dn(f.others,m).getOrDie("No information found for coupled component: "+m)(l),x=l.getSystem().build(b);return o[m]=x,x})})}});const Ga=yi({fields:Bz,name:"coupling",apis:Rz,state:Mz}),Z1=o=>{let s=B.none(),i=[];const l=b=>{f()?m(b):i.push(b)},f=()=>s.isSome(),m=b=>{s.each(x=>{setTimeout(()=>{b(x)},0)})};return o(b=>{f()||(s=B.some(b),nn(i,m),i=[])}),{get:l,map:b=>Z1(x=>{l(w=>{x(b(w))})}),isReady:f}},AB={nu:Z1,pure:o=>Z1(s=>{s(o)})},NB=o=>{setTimeout(()=>{throw o},0)},bv=o=>{const s=i=>{o().then(i,NB)};return{map:i=>bv(()=>o().then(i)),bind:i=>bv(()=>o().then(l=>i(l).toPromise())),anonBind:i=>bv(()=>o().then(()=>i.toPromise())),toLazy:()=>AB.nu(s),toCached:()=>{let i=null;return bv(()=>(i===null&&(i=o()),i))},toPromise:o,get:s}},Vb=o=>bv(()=>new Promise(o)),kg=o=>bv(()=>Promise.resolve(o)),Lz=Te("sink"),Pz=Te(sn({name:Lz(),overrides:Te({dom:{tag:"div"},behaviours:Ht([Ol.config({useFixed:un})]),events:Ro([hd(yn()),hd(aa()),hd(gr())])})})),HS=(o,s)=>{const i=o.getHotspot(s).getOr(s),l="hotspot",f=o.getAnchorOverrides();return o.layouts.fold(()=>({type:l,hotspot:i,overrides:f}),m=>({type:l,hotspot:i,overrides:f,layouts:m}))},Hb=(o,s,i,l,f,m,b)=>((w,E,O,A,L,H,q)=>{const re=((me,te,Q)=>(0,me.fetch)(Q).map(te))(w,E,A),se=Ck(A,w);return re.map(me=>me.bind(te=>B.from(Eb.sketch({...H.menu(),uid:G(""),data:te,highlightOnOpen:q,onOpenMenu:(Q,ce)=>{const pe=se().getOrDie();Ol.position(pe,ce,{anchor:O}),Eo.decloak(L)},onOpenSubmenu:(Q,ce,pe)=>{const _e=se().getOrDie();Ol.position(_e,pe,{anchor:{type:"submenu",item:ce}}),Eo.decloak(L)},onRepositionMenu:(Q,ce,pe)=>{const _e=se().getOrDie();Ol.position(_e,ce,{anchor:O}),nn(pe,Re=>{Ol.position(_e,Re.triggeredMenu,{anchor:{type:"submenu",item:Re.triggeringItem}})})},onEscape:()=>(ao.focus(A),Eo.close(L),B.some(!0))}))))})(o,s,HS(o,i),i,l,f,b).map(w=>(w.fold(()=>{Eo.isOpen(l)&&Eo.close(l)},E=>{Eo.cloak(l),Eo.open(l,E),m(l)}),l)),DB=(o,s,i,l,f,m,b)=>(Eo.close(l),kg(l)),Yy=(o,s,i,l,f,m)=>{const b=Ga.getCoupled(i,"sandbox");return(Eo.isOpen(b)?DB:Hb)(o,s,i,b,l,f,m)},Ck=(o,s)=>o.getSystem().getByUid(s.uid+"-"+Lz()).map(i=>()=>So.value(i)).getOrThunk(()=>s.lazySink.fold(()=>()=>So.error(new Error("No internal sink is specified, nor could an external sink be found")),i=>()=>i(o))),US=o=>{Eo.getState(o).each(s=>{Eb.repositionMenus(s)})},Sk=(o,s,i)=>{const l=Vu(),f=Ck(s,o);return{dom:{tag:"div",classes:o.sandboxClasses,attributes:{id:l.id,role:"listbox"}},behaviours:Ia(o.sandboxBehaviours,[cn.config({store:{mode:"memory",initialValue:s}}),Eo.config({onOpen:(m,b)=>{const x=HS(o,s);l.link(s.element),o.matchWidth&&((w,E,O)=>{const A=tr.getCurrent(E).getOr(E),L=jr(w.element);O?qn(A.element,"min-width",L+"px"):((H,q)=>{wr.set(H,q)})(A.element,L)})(x.hotspot,b,o.useMinWidth),o.onOpen(x,m,b),i!==void 0&&i.onOpen!==void 0&&i.onOpen(m,b)},onClose:(m,b)=>{l.unlink(s.element),i!==void 0&&i.onClose!==void 0&&i.onClose(m,b)},isPartOf:(m,b,x)=>hi(b,x)||hi(s,x),getAttachPoint:()=>f().getOrDie()}),tr.config({find:m=>Eo.getState(m).bind(b=>tr.getCurrent(b))}),ac.config({channels:{...mb({isExtraPart:Je}),...mg({doReposition:US})}})])}},Iz=o=>{const s=Ga.getCoupled(o,"sandbox");US(s)},jS=()=>[Ue("sandboxClasses",[]),Mi("sandboxBehaviours",[tr,ac,Eo,cn])],Fz=Te([at("dom"),at("fetch"),Vo("onOpen"),rc("onExecute"),Ue("getHotspot",B.some),Ue("getAnchorOverrides",Te({})),nm(),ca("dropdownBehaviours",[Bo,Ga,Qt,ao]),at("toggleClass"),Ue("eventOrder",{}),ur("lazySink"),Ue("matchWidth",!1),Ue("useMinWidth",!1),ur("role")].concat(jS())),RB=Te([jt({schema:[Jp(),Ue("fakeFocus",!1)],name:"menu",defaults:o=>({onExecute:o.onExecute})}),Pz()]),Rf=lc({name:"Dropdown",configFields:Fz(),partFields:RB(),factory:(o,s,i,l)=>{const f=w=>{Eo.getState(w).each(E=>{Eb.highlightPrimary(E)})},m=(w,E,O)=>Yy(o,kt,w,l,E,O),b={expand:w=>{Bo.isOn(w)||m(w,ht,td.HighlightNone).get(ht)},open:w=>{Bo.isOn(w)||m(w,ht,td.HighlightMenuAndItem).get(ht)},refetch:w=>Ga.getExistingCoupled(w,"sandbox").fold(()=>m(w,ht,td.HighlightMenuAndItem).map(ht),E=>Hb(o,kt,w,E,l,ht,td.HighlightMenuAndItem).map(ht)),isOpen:Bo.isOn,close:w=>{Bo.isOn(w)&&m(w,ht,td.HighlightMenuAndItem).get(ht)},repositionMenus:w=>{Bo.isOn(w)&&Iz(w)}},x=(w,E)=>(Lu(w),B.some(!0));return{uid:o.uid,dom:o.dom,components:s,behaviours:Bi(o.dropdownBehaviours,[Bo.config({toggleClass:o.toggleClass,aria:{mode:"expanded"}}),Ga.config({others:{sandbox:w=>Sk(o,w,{onOpen:()=>Bo.on(w),onClose:()=>Bo.off(w)})}}),Qt.config({mode:"special",onSpace:x,onEnter:x,onDown:(w,E)=>{if(Rf.isOpen(w)){const O=Ga.getCoupled(w,"sandbox");f(O)}else Rf.open(w);return B.some(!0)},onEscape:(w,E)=>Rf.isOpen(w)?(Rf.close(w),B.some(!0)):B.none()}),ao.config({})]),events:y1(B.some(w=>{m(w,f,td.HighlightMenuAndItem).get(ht)})),eventOrder:{...o.eventOrder,[cl()]:["disabling","toggling","alloy.base.behaviour"]},apis:b,domModification:{attributes:{"aria-haspopup":"true",...o.role.fold(()=>({}),w=>({role:w})),...o.dom.tag==="button"?{type:dn(o.dom,"attributes").bind(w=>dn(w,"type")).getOr("button")}:{}}}}},apis:{open:(o,s)=>o.open(s),refetch:(o,s)=>o.refetch(s),expand:(o,s)=>o.expand(s),close:(o,s)=>o.close(s),isOpen:(o,s)=>o.isOpen(s),repositionMenus:(o,s)=>o.repositionMenus(s)}}),Vz=(o,s,i)=>{q3(o).each(l=>{var f;((m,b)=>{xa(b.element,"id").each(x=>eo(m.element,"aria-activedescendant",x))})(l,i),(vs((f=s).element,sk)?B.some(f.element):ia(f.element,"."+sk)).each(m=>{xa(m,"id").each(b=>eo(l.element,"aria-controls",b))})}),eo(i.element,"aria-selected","true")},BB=(o,s,i)=>{eo(i.element,"aria-selected","false")},Hz=o=>Ga.getExistingCoupled(o,"sandbox").bind(rk).map(tS).map(s=>s.fetchPattern).getOr("");var Xy;(function(o){o[o.ContentFocus=0]="ContentFocus",o[o.UiFocus=1]="UiFocus"})(Xy||(Xy={}));const ZS=(o,s,i,l,f)=>{const m=i.shared.providers,b=w=>f?{...w,shortcut:B.none(),icon:w.text.isSome()?B.none():w.icon}:w;switch(o.type){case"menuitem":return(x=o,Wr("menuitem",pS,x)).fold(Db,w=>B.some(((E,O,A,L=!0)=>{const H=M1({presets:"normal",iconContent:E.icon,textContent:E.text,htmlContent:B.none(),ariaLabel:E.text,caret:B.none(),checkMark:B.none(),shortcutContent:E.shortcut},A,L);return mv({data:pv(E),getApi:q=>({isEnabled:()=>!Xn.isDisabled(q),setEnabled:re=>Xn.set(q,!re)}),enabled:E.enabled,onAction:E.onAction,onSetup:E.onSetup,triggersSubmenu:!1,itemBehaviours:[]},H,O,A)})(b(w),s,m,l)));case"nestedmenuitem":return(w=>Wr("nestedmenuitem",wB,w))(o).fold(Db,w=>B.some(((E,O,A,L=!0,H=!1)=>{const q=H?(re=A.icons,yS("chevron-down",re,[V3])):(me=>yS("chevron-right",me,[V3]))(A.icons);var re;const se=M1({presets:"normal",iconContent:E.icon,textContent:E.text,htmlContent:B.none(),ariaLabel:E.text,caret:B.some(q),checkMark:B.none(),shortcutContent:E.shortcut},A,L);return mv({data:pv(E),getApi:me=>({isEnabled:()=>!Xn.isDisabled(me),setEnabled:te=>Xn.set(me,!te),setIconFill:(te,Q)=>{ia(me.element,`svg path[class="${te}"], rect[class="${te}"]`).each(ce=>{eo(ce,"fill",Q)})},setTooltip:te=>{const Q=A.translate(te);di(me.element,{"aria-label":Q,title:Q})}}),enabled:E.enabled,onAction:ht,onSetup:E.onSetup,triggersSubmenu:!0,itemBehaviours:[]},se,O,A)})(b(w),s,m,l,f)));case"togglemenuitem":return(w=>Wr("togglemenuitem",gS,w))(o).fold(Db,w=>B.some(((E,O,A,L=!0)=>{const H=M1({iconContent:E.icon,textContent:E.text,htmlContent:B.none(),ariaLabel:E.text,checkMark:B.some(mz(A.icons)),caret:B.none(),shortcutContent:E.shortcut,presets:"normal",meta:E.meta},A,L);return ye(mv({data:pv(E),enabled:E.enabled,getApi:q=>({setActive:re=>{Bo.set(q,re)},isActive:()=>Bo.isOn(q),isEnabled:()=>!Xn.isDisabled(q),setEnabled:re=>Xn.set(q,!re)}),onAction:E.onAction,onSetup:E.onSetup,triggersSubmenu:!1,itemBehaviours:[]},H,O,A),{toggling:{toggleClass:F3,toggleOnExecute:!1,selected:E.active}})})(b(w),s,m,l)));case"separator":return(w=>Wr("separatormenuitem",iv,w))(o).fold(Db,w=>B.some(VS(w)));case"fancymenuitem":return(w=>Wr("fancymenuitem",cv,w))(o).fold(Db,w=>((E,O)=>dn(OB,E.fancytype).map(A=>A(E,O)))(w,i));default:return console.error("Unknown item in general menu",o),B.none()}var x},WS=(o,s,i,l,f,m,b)=>{const x=l===1,w=!x||wg(o);return Bt(St(o,E=>{switch(E.type){case"separator":return(O=E,Wr("Autocompleter.Separator",iv,O)).fold(Db,A=>B.some(VS(A)));case"cardmenuitem":return(A=>Wr("cardmenuitem",bB,A))(E).fold(Db,A=>B.some(((L,H,q,re)=>{const se={dom:pz(L.label),optComponents:[B.some({dom:{tag:"div",classes:[H3,U3]},components:hz(L.items,re)})]};return mv({data:pv({text:B.none(),...L}),enabled:L.enabled,getApi:me=>({isEnabled:()=>!Xn.isDisabled(me),setEnabled:te=>{Xn.set(me,!te),nn(Ul(me.element,"*"),Q=>{me.getSystem().getByDom(Q).each(ce=>{ce.hasConfigured(Xn)&&Xn.set(ce,!te)})})}}),onAction:L.onAction,onSetup:L.onSetup,triggersSubmenu:!1,itemBehaviours:B.from(re.itemBehaviours).getOr([])},se,H,q.providers)})({...A,onAction:L=>{A.onAction(L),i(A.value,A.meta)}},f,m,{itemBehaviours:vS(A.meta,m),cardText:{matchText:s,highlightOn:b}})));default:return(A=>Wr("Autocompleter.Item",J3,A))(E).fold(Db,A=>B.some(((L,H,q,re,se,me,te,Q=!0)=>{const ce=M1({presets:re,textContent:B.none(),htmlContent:q?L.text.map(pe=>gz(pe,H)):B.none(),ariaLabel:L.text,iconContent:L.icon,shortcutContent:B.none(),checkMark:B.none(),caret:B.none(),value:L.value},te.providers,Q,L.icon);return mv({data:pv(L),enabled:L.enabled,getApi:Te({}),onAction:pe=>se(L.value,L.meta),onSetup:Te(ht),triggersSubmenu:!1,itemBehaviours:vS(L.meta,te)},ce,me,te.providers)})(A,s,x,"normal",i,f,m,w)))}var O}))},Uz=(o,s,i,l,f,m)=>{const b=wg(s),x=Bt(St(s,E=>{const O=A=>ZS(A,i,l,(L=>f?!_n(L,"text"):b)(A),f);return E.type==="nestedmenuitem"&&E.getSubmenuItems().length<=0?O({...E,enabled:!1}):O(E)})),w=(E=>E.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:E})(m);return(f?nB:nS)(o,b,x,1,w)},$S=o=>Eb.singleData(o.value,o),MB=(o,s)=>{const i=bn("autocompleter"),l=Ln(!1),f=Ln(!1),m=El(Ca.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:i}},components:[],fireDismissalEventInstead:{},inlineBehaviours:Ht([xo("dismissAutocompleter",[mt(Bu(),()=>O()),mt($r(),(H,q)=>{xa(q.event.target,"id").each(re=>eo(Jt(o.getBody()),"aria-activedescendant",re))})])]),lazySink:s.getSink})),b=()=>Ca.isOpen(m),x=f.get,w=()=>{if(b()){Ca.hide(m),o.dom.remove(i,!1);const H=Jt(o.getBody());xa(H,"aria-owns").filter(q=>q===i).each(()=>{Xr(H,"aria-owns"),Xr(H,"aria-activedescendant")})}},E=()=>Ca.getContent(m).bind(H=>Ft(H.components(),0)),O=()=>o.execCommand("mceAutocompleterClose"),A=H=>{const q=(re=>{const se=qo(re,me=>B.from(me.columns)).getOr(1);return Kr(re,me=>{const te=me.items;return WS(te,me.matchText,(Q,ce)=>{const pe=o.selection.getRng();((_e,Re)=>P3(Jt(Re.startContainer)).map(Ge=>{const pt=_e.createRng();return pt.selectNode(Ge.dom),pt}))(o.dom,pe).each(_e=>{const Re={hide:()=>O(),reload:Ge=>{w(),o.execCommand("mceAutocompleterReload",!1,{fetchOptions:Ge})}};l.set(!0),me.onAction(Re,_e,Q,ce),l.set(!1)})},se,um.BUBBLE_TO_SANDBOX,s,me.highlightOn)})})(H);q.length>0?(((re,se)=>{var me;(me=Jt(o.getBody()),ia(me,L3)).each(te=>{const Q=qo(re,ce=>B.from(ce.columns)).getOr(1);Ca.showMenuAt(m,{anchor:{type:"node",root:Jt(o.getBody()),node:B.from(te)}},((ce,pe,_e,Re)=>{const Ge=_k(pe,Re),pt=Xm(Re);return{data:$S({...ce,movement:Ge,menuBehaviours:Ky(pe!=="auto"?[]:[ts((yt,Et)=>{dv(yt,4,pt.item).each(({numColumns:en,numRows:xn})=>{Qt.setGridSize(yt,xn,en)})})])}),menu:{markers:Xm(Re),fakeFocus:_e===Xy.ContentFocus}}})(nS("autocompleter-value",!0,se,Q,{menuType:"normal"}),Q,Xy.ContentFocus,"normal"))}),E().each(dr.highlightFirst)})(H,q),eo(Jt(o.getBody()),"aria-owns",i),o.inline||L()):w()},L=()=>{o.dom.get(i)&&o.dom.remove(i,!1);const H=o.getDoc().documentElement,q=o.selection.getNode(),re=(se=>qf(se,!0))(m.element);Jl(re,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${q.offsetTop}px`,left:`${q.offsetLeft}px`}),o.dom.add(H,re.dom),ia(re,'[role="menu"]').each(se=>{or(se,"position"),or(se,"max-height")})};o.on("AutocompleterStart",({lookupData:H})=>{f.set(!0),l.set(!1),A(H)}),o.on("AutocompleterUpdate",({lookupData:H})=>A(H)),o.on("AutocompleterEnd",()=>{w(),f.set(!1),l.set(!1)}),((H,q)=>{const re=(me,te)=>{gn(me,yn(),{raw:te})},se=()=>H.getMenu().bind(dr.getHighlighted);q.on("keydown",me=>{const te=me.which;H.isActive()&&(H.isMenuOpen()?te===13?(se().each(Lu),me.preventDefault()):te===40?(se().fold(()=>{H.getMenu().each(dr.highlightFirst)},Q=>{re(Q,me)}),me.preventDefault(),me.stopImmediatePropagation()):te!==37&&te!==38&&te!==39||se().each(Q=>{re(Q,me),me.preventDefault(),me.stopImmediatePropagation()}):te!==13&&te!==38&&te!==40||H.cancelIfNecessary())}),q.on("NodeChange",me=>{H.isActive()&&!H.isProcessingAction()&&P3(Jt(me.element)).isNone()&&H.cancelIfNecessary()})})({cancelIfNecessary:O,isMenuOpen:b,isActive:x,isProcessingAction:l.get,getMenu:E},o)},LB=["visible","hidden","clip"],qS=o=>Vi(o).length>0&&!Mn(LB,o),GS=o=>{if(ci(o)){const s=_s(o,"overflow-x"),i=_s(o,"overflow-y");return qS(s)||qS(i)}return!1},Jy=(o,s)=>qy(o)?(i=>{const l=nb(i,GS),f=l.length===0?Fs(i).map(sl).map(m=>nb(m,GS)).getOr([]):l;return dt(f).map(m=>({element:m,others:f.slice(1)}))})(s):B.none(),yv=o=>{const s=[...St(o.others,pa),Qr()];return((i,l)=>Y(l,(f,m)=>$d(f,m),i))(pa(o.element),s)},W1=(o,s,i)=>xd(o,s,i).isSome(),jz=(o,s)=>{let i=null;return{cancel:()=>{i!==null&&(clearTimeout(i),i=null)},schedule:(...l)=>{i=setTimeout(()=>{o.apply(null,l),i=null},s)}}},Zz=o=>{const s=o.raw;return s.touches===void 0||s.touches.length!==1?B.none():B.some(s.touches[0])},PB=(o,s)=>{const i={stopBackspace:!0,...s},l=(A=>{const L=Es(),H=Ln(!1),q=jz(se=>{A.triggerEvent(Du(),se),H.set(!0)},400),re=lr([{key:Go(),value:se=>(Zz(se).each(me=>{q.cancel();const te={x:me.clientX,y:me.clientY,target:se.target};q.schedule(se),H.set(!1),L.set(te)}),B.none())},{key:Yd(),value:se=>(q.cancel(),Zz(se).each(me=>{L.on(te=>{((Q,ce)=>{const pe=Math.abs(Q.clientX-ce.x),_e=Math.abs(Q.clientY-ce.y);return pe>5||_e>5})(me,te)&&L.clear()})}),B.none())},{key:wc(),value:se=>(q.cancel(),L.get().filter(me=>Jo(me.target,se.target)).map(me=>H.get()?(se.prevent(),!1):A.triggerEvent(Ll(),se)))}]);return{fireIfReady:(se,me)=>dn(re,me).bind(te=>te(se))}})(i),f=St(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),A=>Qi(o,A,L=>{l.fireIfReady(L,A).each(H=>{H&&L.kill()}),i.triggerEvent(A,L)&&L.kill()})),m=Es(),b=Qi(o,"paste",A=>{l.fireIfReady(A,"paste").each(L=>{L&&A.kill()}),i.triggerEvent("paste",A)&&A.kill(),m.set(setTimeout(()=>{i.triggerEvent(kn(),A)},0))}),x=Qi(o,"keydown",A=>{i.triggerEvent("keydown",A)?A.kill():i.stopBackspace&&(L=>L.raw.which===j2[0]&&!Mn(["input","textarea"],ki(L.target))&&!W1(L.target,'[contenteditable="true"]'))(A)&&A.prevent()}),w=Qi(o,"focusin",A=>{i.triggerEvent("focusin",A)&&A.kill()}),E=Es(),O=Qi(o,"focusout",A=>{i.triggerEvent("focusout",A)&&A.kill(),E.set(setTimeout(()=>{i.triggerEvent(wm(),A)},0))});return{unbind:()=>{nn(f,A=>{A.unbind()}),x.unbind(),w.unbind(),O.unbind(),b.unbind(),m.on(clearTimeout),E.on(clearTimeout)}}},KS=(o,s)=>{const i=dn(o,"target").getOr(s);return Ln(i)},$1=Ba([{stopped:[]},{resume:["element"]},{complete:[]}]),Wz=(o,s,i,l,f,m)=>{const b=o(s,l),x=((w,E)=>{const O=Ln(!1),A=Ln(!1);return{stop:()=>{O.set(!0)},cut:()=>{A.set(!0)},isStopped:O.get,isCut:A.get,event:w,setSource:E.set,getSource:E.get}})(i,f);return b.fold(()=>(m.logEventNoHandlers(s,l),$1.complete()),w=>{const E=w.descHandler;return Xc(E)(x),x.isStopped()?(m.logEventStopped(s,w.element,E.purpose),$1.stopped()):x.isCut()?(m.logEventCut(s,w.element,E.purpose),$1.complete()):ol(w.element).fold(()=>(m.logNoParent(s,w.element,E.purpose),$1.complete()),O=>(m.logEventResponse(s,w.element,E.purpose),$1.resume(O)))})},$z=(o,s,i,l,f,m)=>Wz(o,s,i,l,f,m).fold(un,b=>$z(o,s,i,b,f,m),Je),qz=(o,s,i,l,f)=>{const m=KS(i,l);return $z(o,s,i,l,m,f)},IB=()=>{const o=(()=>{const l={};return{registerId:(f,m,b)=>{Nr(b,(x,w)=>{const E=l[w]!==void 0?l[w]:{};E[m]=((O,A)=>({cHandler:qe.apply(void 0,[O.handler].concat(A)),purpose:O.purpose}))(x,f),l[w]=E})},unregisterId:f=>{Nr(l,(m,b)=>{_n(m,f)&&delete m[f]})},filterByType:f=>dn(l,f).map(m=>Mo(m,(b,x)=>((w,E)=>({id:w,descHandler:E}))(x,b))).getOr([]),find:(f,m,b)=>dn(l,m).bind(x=>ec(b,w=>((E,O)=>D(O).bind(A=>dn(E,A)).map(A=>((L,H)=>({element:L,descHandler:H}))(O,A)))(x,w),f))}})(),s={},i=l=>{D(l.element).each(f=>{delete s[f],o.unregisterId(f)})};return{find:(l,f,m)=>o.find(l,f,m),filter:l=>o.filterByType(l),register:l=>{const f=(b=>{const x=b.element;return D(x).getOrThunk(()=>((w,E)=>{const O=bn(pf+"uid-");return C(E,O),O})(0,b.element))})(l);Ws(s,f)&&((b,x)=>{const w=s[x];if(w!==b)throw new Error('The tagId "'+x+'" is already used by: '+bd(w.element)+`
Cannot use it for: `+bd(b.element)+`
The conflicting element is`+(Or(w.element)?" ":" not ")+"already in the DOM");i(b)})(l,f);const m=[l];o.registerId(m,f,l.events),s[f]=l},unregister:i,getById:l=>dn(s,l)}},Bd=Ed({name:"Container",factory:o=>{const{attributes:s,...i}=o.dom;return{uid:o.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...i},components:o.components,behaviours:rr(o.containerBehaviours),events:o.events,domModification:o.domModification,eventOrder:o.eventOrder}},configFields:[Ue("components",[]),ca("containerBehaviours",[]),Ue("events",{}),Ue("domModification",{}),Ue("eventOrder",{})]}),YS=o=>{const s=se=>ol(o.element).fold(un,me=>Jo(se,me)),i=IB(),l=(se,me)=>i.find(s,se,me),f=PB(o.element,{triggerEvent:(se,me)=>Om(se,me.target,te=>((Q,ce,pe,_e)=>qz(Q,ce,pe,pe.target,_e))(l,se,me,te))}),m={debugInfo:Te("real"),triggerEvent:(se,me,te)=>{Om(se,me,Q=>qz(l,se,te,me,Q))},triggerFocus:(se,me)=>{D(se).fold(()=>{ic(se)},te=>{Om(Oi(),se,Q=>(((ce,pe,_e,Re,Ge)=>{const pt=KS(_e,Re);Wz(ce,pe,_e,Re,pt,Ge)})(l,Oi(),{originator:me,kill:ht,prevent:ht,target:se},se,Q),!1))})},triggerEscape:(se,me)=>{m.triggerEvent("keydown",se.element,me.event)},getByUid:se=>q(se),getByDom:se=>re(se),build:El,buildOrPatch:Fh,addToGui:se=>{w(se)},removeFromGui:se=>{E(se)},addToWorld:se=>{b(se)},removeFromWorld:se=>{x(se)},broadcast:se=>{A(se)},broadcastOn:(se,me)=>{L(se,me)},broadcastEvent:(se,me)=>{H(se,me)},isConnected:un},b=se=>{se.connect(m),Ui(se.element)||(i.register(se),nn(se.components(),b),m.triggerEvent(Yc(),se.element,{target:se.element}))},x=se=>{Ui(se.element)||(nn(se.components(),x),i.unregister(se)),se.disconnect()},w=se=>{Um(o,se)},E=se=>{lm(se)},O=se=>{const me=i.filter(Ys());nn(me,te=>{const Q=te.descHandler;Xc(Q)(se)})},A=se=>{O({universal:!0,data:se})},L=(se,me)=>{O({universal:!1,channels:se,data:me})},H=(se,me)=>((te,Q,ce)=>{const pe=(_e=>{const Re=Ln(!1);return{stop:()=>{Re.set(!0)},cut:ht,isStopped:Re.get,isCut:Je,event:_e,setSource:wo("Cannot set source of a broadcasted event"),getSource:wo("Cannot get source of a broadcasted event")}})(Q);return nn(te,_e=>{const Re=_e.descHandler;Xc(Re)(pe)}),pe.isStopped()})(i.filter(se),me),q=se=>i.getById(se).fold(()=>So.error(new Error('Could not find component with uid: "'+se+'" in system.')),So.value),re=se=>{const me=D(se).getOr("not found");return q(me)};return b(o),{root:o,element:o.element,destroy:()=>{f.unbind(),ma(o.element)},add:w,remove:E,getByUid:q,getByDom:re,addToWorld:b,removeFromWorld:x,broadcast:A,broadcastOn:L,broadcastEvent:H}},FB=Te([Ue("prefix","form-field"),ca("fieldBehaviours",[tr,cn])]),Qy=Te([sn({schema:[at("dom")],name:"label"}),sn({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[at("text")],name:"aria-descriptor"}),Pt({factory:{sketch:o=>{const s=((i,l)=>{const f={};return Nr(i,(m,b)=>{Mn(l,b)||(f[b]=m)}),f})(o,["factory"]);return o.factory.sketch(s)}},schema:[at("factory")],name:"field"})]),Lr=lc({name:"FormField",configFields:FB(),partFields:Qy(),factory:(o,s,i,l)=>{const f=Bi(o.fieldBehaviours,[tr.config({find:x=>Nn(x,o,"field")}),cn.config({store:{mode:"manual",getValue:x=>tr.getCurrent(x).bind(cn.getValue),setValue:(x,w)=>{tr.getCurrent(x).each(E=>{cn.setValue(E,w)})}}})]),m=Ro([ts((x,w)=>{const E=fl(x,o,["label","field","aria-descriptor"]);E.field().each(O=>{const A=bn(o.prefix);E.label().each(L=>{eo(L.element,"for",A),eo(O.element,"id",A)}),E["aria-descriptor"]().each(L=>{const H=bn(o.prefix);eo(L.element,"id",H),eo(O.element,"aria-describedby",H)})})})]),b={getField:x=>Nn(x,o,"field"),getLabel:x=>Nn(x,o,"label")};return{uid:o.uid,dom:o.dom,components:s,behaviours:f,events:m,apis:b}},apis:{getField:(o,s)=>o.getField(s),getLabel:(o,s)=>o.getLabel(s)}});var VB=Object.freeze({__proto__:null,exhibit:(o,s)=>$a({attributes:lr([{key:s.tabAttr,value:"true"}])})}),Ub=[Ue("tabAttr","data-alloy-tabstop")];const Sa=yi({fields:Ub,name:"tabstopping",active:VB});var HB=tinymce.util.Tools.resolve("tinymce.html.Entities");const Md=(o,s,i,l)=>{const f=Gz(o,s,i,l);return Lr.sketch(f)},Gz=(o,s,i,l)=>({dom:XS(i),components:o.toArray().concat([s]),fieldBehaviours:Ht(l)}),XS=o=>({tag:"div",classes:["tox-form__group"].concat(o)}),kh=(o,s)=>Lr.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ss(s.translate(o))]}),Xu=bn("form-component-change"),e0=bn("form-close"),jb=bn("form-cancel"),_g=bn("form-action"),q1=bn("form-submit"),vv=bn("form-block"),G1=bn("form-unblock"),JS=bn("form-tabchange"),QS=bn("form-resize"),Kz=(o,s,i)=>{const l=o.label.map(A=>kh(A,s)),f=s.icons(),m=A=>(L,H)=>{xd(H.event.target,"[data-collection-item-value]").each(q=>{A(L,H,q,Vs(q,"data-collection-item-value"))})},b=m((A,L,H,q)=>{L.stop(),s.isDisabled()||gn(A,_g,{name:o.name,value:q})}),x=[mt(Ce(),m((A,L,H)=>{ic(H)})),mt(gr(),b),mt(Ll(),b),mt(Ae(),m((A,L,H)=>{ia(A.element,"."+S1).each(q=>{Ls(q,S1)}),hr(H,S1)})),mt(Ot(),m(A=>{ia(A.element,"."+S1).each(L=>{Ls(L,S1)})})),dl(m((A,L,H,q)=>{gn(A,_g,{name:o.name,value:q})}))],w=(A,L)=>St(Ul(A.element,".tox-collection__item"),L),E=Lr.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(o.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:kt},behaviours:Ht([Xn.config({disabled:s.isDisabled,onDisabled:A=>{w(A,L=>{hr(L,"tox-collection__item--state-disabled"),eo(L,"aria-disabled",!0)})},onEnabled:A=>{w(A,L=>{Ls(L,"tox-collection__item--state-disabled"),Xr(L,"aria-disabled")})}}),tl(),Jn.config({}),cn.config({store:{mode:"memory",initialValue:i.getOr([])},onSetValue:(A,L)=>{((H,q)=>{const re=St(q,te=>{const Q=fu.translate(te.text),ce=o.columns===1?`<div class="tox-collection__item-label">${Q}</div>`:"",pe=`<div class="tox-collection__item-icon">${(Ge=>{var pt;return(pt=f[Ge])!==null&&pt!==void 0?pt:Ge})(te.icon)}</div>`,_e={_:" "," - ":" ","-":" "},Re=Q.replace(/\_| \- |\-/g,Ge=>_e[Ge]);return`<div class="tox-collection__item${s.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${HB.encodeAllRaw(te.value)}" title="${Re}" aria-label="${Re}">${pe}${ce}</div>`}),se=o.columns!=="auto"&&o.columns>1?bo(re,o.columns):[re],me=St(se,te=>`<div class="tox-collection__group">${te.join("")}</div>`);Ki(H.element,me.join(""))})(A,L),o.columns==="auto"&&dv(A,5,"tox-collection__item").each(({numRows:H,numColumns:q})=>{Qt.setGridSize(A,H,q)}),Lo(A,QS)}}),Sa.config({}),Qt.config((O=o.columns,O===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:O==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${ek}`}})),xo("collection-events",x)]),eventOrder:{[cl()]:["disabling","alloy.base.behaviour","collection-events"]}});var O;return Md(l,E,["tox-form__group--collection"],[])},UB=["input","textarea"],Yz=o=>{const s=ki(o);return Mn(UB,s)},eE=(o,s)=>{const i=s.getRoot(o).getOr(o.element);Ls(i,s.invalidClass),s.notify.each(l=>{Yz(o.element)&&eo(o.element,"aria-invalid",!1),l.getContainer(o).each(f=>{Ki(f,l.validHtml)}),l.onValid(o)})},Xz=(o,s,i,l)=>{const f=s.getRoot(o).getOr(o.element);hr(f,s.invalidClass),s.notify.each(m=>{Yz(o.element)&&eo(o.element,"aria-invalid",!0),m.getContainer(o).each(b=>{Ki(b,l)}),m.onInvalid(o,l)})},Ek=(o,s,i)=>s.validator.fold(()=>kg(So.value(!0)),l=>l.validate(o)),Tk=(o,s,i)=>(s.notify.each(l=>{l.onValidate(o)}),Ek(o,s).map(l=>o.getSystem().isConnected()?l.fold(f=>(Xz(o,s,0,f),So.error(f)),f=>(eE(o,s),So.value(f))):So.error("No longer in system")));var jB=Object.freeze({__proto__:null,markValid:eE,markInvalid:Xz,query:Ek,run:Tk,isInvalid:(o,s)=>{const i=s.getRoot(o).getOr(o.element);return vs(i,s.invalidClass)}}),ZB=Object.freeze({__proto__:null,events:(o,s)=>o.validator.map(i=>Ro([mt(i.onEvent,l=>{Tk(l,o).get(kt)})].concat(i.validateOnLoad?[ts(l=>{Tk(l,o).get(ht)})]:[]))).getOr({})}),WB=[at("invalidClass"),Ue("getRoot",B.none),kl("notify",[Ue("aria","alert"),Ue("getContainer",B.none),Ue("validHtml",""),Vo("onValid"),Vo("onInvalid"),Vo("onValidate")]),kl("validator",[at("validate"),Ue("onEvent","input"),Ue("validateOnLoad",!0)])];const Jm=yi({fields:WB,name:"invalidating",active:ZB,apis:jB,extra:{validation:o=>s=>{const i=cn.getValue(s);return kg(o(i))}}}),K1=yi({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>Ro([Ma(zi(),un)]),exhibit:()=>$a({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),xv=bn("color-input-change"),Y1=bn("color-swatch-change"),tE=bn("color-picker-cancel"),Jz=sn({schema:[at("dom")],name:"label"}),Zb=o=>sn({name:o+"-edge",overrides:s=>s.model.manager.edgeActions[o].fold(()=>({}),i=>({events:Ro([oc(Go(),(l,f,m)=>i(l,m),[s]),oc(aa(),(l,f,m)=>i(l,m),[s]),oc(z(),(l,f,m)=>{m.mouseIsDown.get()&&i(l,m)},[s])])}))}),$B=Zb("top-left"),qB=Zb("top"),GB=Zb("top-right"),nE=Zb("right"),Qz=Zb("bottom-right"),eO=Zb("bottom"),oE=Zb("bottom-left"),KB=Zb("left"),tO=Pt({name:"thumb",defaults:Te({dom:{styles:{position:"absolute"}}}),overrides:o=>({events:Ro([Jd(Go(),o,"spectrum"),Jd(Yd(),o,"spectrum"),Jd(wc(),o,"spectrum"),Jd(aa(),o,"spectrum"),Jd(z(),o,"spectrum"),Jd(J(),o,"spectrum")])})}),zk=o=>$m(o.event);var YB=[Jz,KB,nE,qB,eO,$B,GB,oE,Qz,tO,Pt({schema:[sa("mouseIsDown",()=>Ln(!1))],name:"spectrum",overrides:o=>{const s=o.model.manager,i=(l,f)=>s.getValueFromEvent(f).map(m=>s.setValueFrom(l,o,m));return{behaviours:Ht([Qt.config({mode:"special",onLeft:(l,f)=>s.onLeft(l,o,zk(f)),onRight:(l,f)=>s.onRight(l,o,zk(f)),onUp:(l,f)=>s.onUp(l,o,zk(f)),onDown:(l,f)=>s.onDown(l,o,zk(f))}),Sa.config({}),ao.config({})]),events:Ro([mt(Go(),i),mt(Yd(),i),mt(aa(),i),mt(z(),(l,f)=>{o.mouseIsDown.get()&&i(l,f)})])}}})];const X1=Te("slider.change.value"),Ok=o=>{const s=o.event.raw;if((i=>i.type.indexOf("touch")!==-1)(s)){const i=s;return i.touches!==void 0&&i.touches.length===1?B.some(i.touches[0]).map(l=>ro(l.clientX,l.clientY)):B.none()}{const i=s;return i.clientX!==void 0?B.some(i).map(l=>ro(l.clientX,l.clientY)):B.none()}},t0=o=>o.model.minX,n0=o=>o.model.minY,wv=o=>o.model.minX-1,J1=o=>o.model.minY-1,Wb=o=>o.model.maxX,o0=o=>o.model.maxY,kv=o=>o.model.maxX+1,Ak=o=>o.model.maxY+1,nO=(o,s,i)=>s(o)-i(o),rE=o=>nO(o,Wb,t0),sE=o=>nO(o,o0,n0),oO=o=>rE(o)/2,aE=o=>sE(o)/2,$b=(o,s)=>s?o.stepSize*o.speedMultiplier:o.stepSize,rO=o=>o.snapToGrid,Q1=o=>o.snapStart,sO=o=>o.rounded,Nk=(o,s)=>o[s+"-edge"]!==void 0,aO=o=>Nk(o,"left"),iO=o=>Nk(o,"right"),lO=o=>Nk(o,"top"),cO=o=>Nk(o,"bottom"),Cg=o=>o.model.value.get(),qb=(o,s)=>({x:o,y:s}),Qm=(o,s)=>{gn(o,X1(),{value:s})},ex=(o,s,i,l)=>o<s?o:o>i?i:o===s?s-1:Math.max(s,o-l),_h=(o,s,i,l)=>o>i?o:o<s?s:o===i?i+1:Math.min(i,o+l),dO=(o,s,i)=>Math.max(s,Math.min(i,o)),uO=o=>{const{min:s,max:i,range:l,value:f,step:m,snap:b,snapStart:x,rounded:w,hasMinEdge:E,hasMaxEdge:O,minBound:A,maxBound:L,screenRange:H}=o,q=E?s-1:s,re=O?i+1:i;if(f<A)return q;if(f>L)return re;{const se=((te,Q,ce)=>Math.min(ce,Math.max(te,Q))-Q)(f,A,L),me=dO(se/H*l+s,q,re);return b&&me>=s&&me<=i?((te,Q,ce,pe,_e)=>_e.fold(()=>{const Re=te-Q,Ge=Math.round(Re/pe)*pe;return dO(Q+Ge,Q-1,ce+1)},Re=>{const Ge=(te-Re)%pe,pt=Math.round(Ge/pe),yt=Math.floor((te-Re)/pe),Et=Math.floor((ce-Re)/pe),en=Re+Math.min(Et,yt+pt)*pe;return Math.max(Re,en)}))(me,s,i,m,x):w?Math.round(me):me}},Dk=o=>{const{min:s,max:i,range:l,value:f,hasMinEdge:m,hasMaxEdge:b,maxBound:x,maxOffset:w,centerMinEdge:E,centerMaxEdge:O}=o;return f<s?m?0:E:f>i?b?x:O:(f-s)/l*w},Rk="top",fO="right",mO="bottom",Bk="left",Sg=o=>o.element.dom.getBoundingClientRect(),mm=(o,s)=>o[s],tx=o=>{const s=Sg(o);return mm(s,Bk)},Mk=o=>{const s=Sg(o);return mm(s,fO)},Lk=o=>{const s=Sg(o);return mm(s,Rk)},iE=o=>{const s=Sg(o);return mm(s,mO)},pO=o=>{const s=Sg(o);return mm(s,"width")},_v=o=>{const s=Sg(o);return mm(s,"height")},gO=(o,s,i)=>(o+s)/2-i,hO=(o,s)=>{const i=Sg(o),l=Sg(s),f=mm(i,Bk),m=mm(i,fO),b=mm(l,Bk);return gO(f,m,b)},Pk=(o,s)=>{const i=Sg(o),l=Sg(s),f=mm(i,Rk),m=mm(i,mO),b=mm(l,Rk);return gO(f,m,b)},Cv=(o,s)=>{gn(o,X1(),{value:s})},lE=(o,s,i)=>{const l={min:t0(s),max:Wb(s),range:rE(s),value:i,step:$b(s),snap:rO(s),snapStart:Q1(s),rounded:sO(s),hasMinEdge:aO(s),hasMaxEdge:iO(s),minBound:tx(o),maxBound:Mk(o),screenRange:pO(o)};return uO(l)},Ik=o=>(s,i,l)=>((f,m,b,x)=>{const w=(f>0?_h:ex)(Cg(b),t0(b),Wb(b),$b(b,x));return Cv(m,w),B.some(w)})(o,s,i,l).map(un),cE=(o,s,i,l,f,m)=>{const b=((x,w,E,O,A)=>{const L=pO(x),H=O.bind(se=>B.some(hO(se,x))).getOr(0),q=A.bind(se=>B.some(hO(se,x))).getOr(L),re={min:t0(w),max:Wb(w),range:rE(w),value:E,hasMinEdge:aO(w),hasMaxEdge:iO(w),minBound:tx(x),minOffset:0,maxBound:Mk(x),maxOffset:L,centerMinEdge:H,centerMaxEdge:q};return Dk(re)})(s,m,i,l,f);return tx(s)-tx(o)+b},XB=Ik(-1),dE=Ik(1),JB=B.none,QB=B.none,eM={"top-left":B.none(),top:B.none(),"top-right":B.none(),right:B.some((o,s)=>{Qm(o,kv(s))}),"bottom-right":B.none(),bottom:B.none(),"bottom-left":B.none(),left:B.some((o,s)=>{Qm(o,wv(s))})};var tM=Object.freeze({__proto__:null,setValueFrom:(o,s,i)=>{const l=lE(o,s,i);return Cv(o,l),l},setToMin:(o,s)=>{const i=t0(s);Cv(o,i)},setToMax:(o,s)=>{const i=Wb(s);Cv(o,i)},findValueOfOffset:lE,getValueFromEvent:o=>Ok(o).map(s=>s.left),findPositionOfValue:cE,setPositionFromValue:(o,s,i,l)=>{const f=Cg(i),m=cE(o,l.getSpectrum(o),f,l.getLeftEdge(o),l.getRightEdge(o),i),b=jr(s.element)/2;qn(s.element,"left",m-b+"px")},onLeft:XB,onRight:dE,onUp:JB,onDown:QB,edgeActions:eM});const Fk=(o,s)=>{gn(o,X1(),{value:s})},uE=(o,s,i)=>{const l={min:n0(s),max:o0(s),range:sE(s),value:i,step:$b(s),snap:rO(s),snapStart:Q1(s),rounded:sO(s),hasMinEdge:lO(s),hasMaxEdge:cO(s),minBound:Lk(o),maxBound:iE(o),screenRange:_v(o)};return uO(l)},bO=o=>(s,i,l)=>((f,m,b,x)=>{const w=(f>0?_h:ex)(Cg(b),n0(b),o0(b),$b(b,x));return Fk(m,w),B.some(w)})(o,s,i,l).map(un),fE=(o,s,i,l,f,m)=>{const b=((x,w,E,O,A)=>{const L=_v(x),H=O.bind(se=>B.some(Pk(se,x))).getOr(0),q=A.bind(se=>B.some(Pk(se,x))).getOr(L),re={min:n0(w),max:o0(w),range:sE(w),value:E,hasMinEdge:lO(w),hasMaxEdge:cO(w),minBound:Lk(x),minOffset:0,maxBound:iE(x),maxOffset:L,centerMinEdge:H,centerMaxEdge:q};return Dk(re)})(s,m,i,l,f);return Lk(s)-Lk(o)+b},nM=B.none,oM=B.none,rM=bO(-1),sM=bO(1),mE={"top-left":B.none(),top:B.some((o,s)=>{Qm(o,J1(s))}),"top-right":B.none(),right:B.none(),"bottom-right":B.none(),bottom:B.some((o,s)=>{Qm(o,Ak(s))}),"bottom-left":B.none(),left:B.none()};var aM=Object.freeze({__proto__:null,setValueFrom:(o,s,i)=>{const l=uE(o,s,i);return Fk(o,l),l},setToMin:(o,s)=>{const i=n0(s);Fk(o,i)},setToMax:(o,s)=>{const i=o0(s);Fk(o,i)},findValueOfOffset:uE,getValueFromEvent:o=>Ok(o).map(s=>s.top),findPositionOfValue:fE,setPositionFromValue:(o,s,i,l)=>{const f=Cg(i),m=fE(o,l.getSpectrum(o),f,l.getTopEdge(o),l.getBottomEdge(o),i),b=et(s.element)/2;qn(s.element,"top",m-b+"px")},onLeft:nM,onRight:oM,onUp:rM,onDown:sM,edgeActions:mE});const Vk=(o,s)=>{gn(o,X1(),{value:s})},Hk=(o,s)=>({x:o,y:s}),nx=(o,s)=>(i,l,f)=>((m,b,x,w,E)=>{const O=m>0?_h:ex,A=b?Cg(w).x:O(Cg(w).x,t0(w),Wb(w),$b(w,E)),L=b?O(Cg(w).y,n0(w),o0(w),$b(w,E)):Cg(w).y;return Vk(x,Hk(A,L)),B.some(A)})(o,s,i,l,f).map(un),iM=nx(-1,!1),lM=nx(1,!1),cM=nx(-1,!0),dM=nx(1,!0),uM={"top-left":B.some((o,s)=>{Qm(o,qb(wv(s),J1(s)))}),top:B.some((o,s)=>{Qm(o,qb(oO(s),J1(s)))}),"top-right":B.some((o,s)=>{Qm(o,qb(kv(s),J1(s)))}),right:B.some((o,s)=>{Qm(o,qb(kv(s),aE(s)))}),"bottom-right":B.some((o,s)=>{Qm(o,qb(kv(s),Ak(s)))}),bottom:B.some((o,s)=>{Qm(o,qb(oO(s),Ak(s)))}),"bottom-left":B.some((o,s)=>{Qm(o,qb(wv(s),Ak(s)))}),left:B.some((o,s)=>{Qm(o,qb(wv(s),aE(s)))})};var fM=Object.freeze({__proto__:null,setValueFrom:(o,s,i)=>{const l=lE(o,s,i.left),f=uE(o,s,i.top),m=Hk(l,f);return Vk(o,m),m},setToMin:(o,s)=>{const i=t0(s),l=n0(s);Vk(o,Hk(i,l))},setToMax:(o,s)=>{const i=Wb(s),l=o0(s);Vk(o,Hk(i,l))},getValueFromEvent:o=>Ok(o),setPositionFromValue:(o,s,i,l)=>{const f=Cg(i),m=cE(o,l.getSpectrum(o),f.x,l.getLeftEdge(o),l.getRightEdge(o),i),b=fE(o,l.getSpectrum(o),f.y,l.getTopEdge(o),l.getBottomEdge(o),i),x=jr(s.element)/2,w=et(s.element)/2;qn(s.element,"left",m-x+"px"),qn(s.element,"top",b-w+"px")},onLeft:iM,onRight:lM,onUp:cM,onDown:dM,edgeActions:uM});const Bf=lc({name:"Slider",configFields:[Ue("stepSize",1),Ue("speedMultiplier",10),Ue("onChange",ht),Ue("onChoose",ht),Ue("onInit",ht),Ue("onDragStart",ht),Ue("onDragEnd",ht),Ue("snapToGrid",!1),Ue("rounded",!0),ur("snapStart"),wl("model",fi("mode",{x:[Ue("minX",0),Ue("maxX",100),sa("value",o=>Ln(o.mode.minX)),at("getInitialValue"),cs("manager",tM)],y:[Ue("minY",0),Ue("maxY",100),sa("value",o=>Ln(o.mode.minY)),at("getInitialValue"),cs("manager",aM)],xy:[Ue("minX",0),Ue("maxX",100),Ue("minY",0),Ue("maxY",100),sa("value",o=>Ln({x:o.mode.minX,y:o.mode.minY})),at("getInitialValue"),cs("manager",fM)]})),ca("sliderBehaviours",[Qt,cn]),sa("mouseIsDown",()=>Ln(!1))],partFields:YB,factory:(o,s,i,l)=>{const f=te=>ni(te,o,"thumb"),m=te=>ni(te,o,"spectrum"),b=te=>Nn(te,o,"left-edge"),x=te=>Nn(te,o,"right-edge"),w=te=>Nn(te,o,"top-edge"),E=te=>Nn(te,o,"bottom-edge"),O=o.model,A=O.manager,L=(te,Q)=>{A.setPositionFromValue(te,Q,o,{getLeftEdge:b,getRightEdge:x,getTopEdge:w,getBottomEdge:E,getSpectrum:m})},H=(te,Q)=>{O.value.set(Q);const ce=f(te);L(te,ce)},q=te=>{const Q=o.mouseIsDown.get();o.mouseIsDown.set(!1),Q&&Nn(te,o,"thumb").each(ce=>{const pe=O.value.get();o.onChoose(te,ce,pe)})},re=(te,Q)=>{Q.stop(),o.mouseIsDown.set(!0),o.onDragStart(te,f(te))},se=(te,Q)=>{Q.stop(),o.onDragEnd(te,f(te)),q(te)},me=te=>{Nn(te,o,"spectrum").map(Qt.focusIn)};return{uid:o.uid,dom:o.dom,components:s,behaviours:Bi(o.sliderBehaviours,[Qt.config({mode:"special",focusIn:me}),cn.config({store:{mode:"manual",getValue:te=>O.value.get(),setValue:H}}),ac.config({channels:{[ot()]:{onReceive:q}}})]),events:Ro([mt(X1(),(te,Q)=>{((ce,pe)=>{H(ce,pe);const _e=f(ce);o.onChange(ce,_e,pe)})(te,Q.event.value)}),ts((te,Q)=>{const ce=O.getInitialValue();O.value.set(ce);const pe=f(te);L(te,pe);const _e=m(te);o.onInit(te,pe,_e,O.value.get())}),mt(Go(),re),mt(wc(),se),mt(aa(),(te,Q)=>{me(te),re(te,Q)}),mt(J(),se)]),apis:{resetToMin:te=>{A.setToMin(te,o)},resetToMax:te=>{A.setToMax(te,o)},setValue:H,refresh:L},domModification:{styles:{position:"relative"}}}},apis:{setValue:(o,s,i)=>{o.setValue(s,i)},resetToMin:(o,s)=>{o.resetToMin(s)},resetToMax:(o,s)=>{o.resetToMax(s)},refresh:(o,s)=>{o.refresh(s)}}}),pE=bn("rgb-hex-update"),yO=bn("slider-update"),vO=bn("palette-update"),xO="form",mM=[ca("formBehaviours",[cn])],wO=o=>"<alloy.field."+o+">",pM=(o,s)=>({uid:o.uid,dom:o.dom,components:s,behaviours:Bi(o.formBehaviours,[cn.config({store:{mode:"manual",getValue:i=>{const l=gg(i,o);return go(l,(f,m)=>f().bind(b=>{return x=tr.getCurrent(b),w=new Error(`Cannot find a current component to extract the value from for form part '${m}': `+bd(b.element)),x.fold(()=>So.error(w),So.value);var x,w}).map(cn.getValue))},setValue:(i,l)=>{Nr(l,(f,m)=>{Nn(i,o,m).each(b=>{tr.getCurrent(b).each(x=>{cn.setValue(x,f)})})})}}})]),apis:{getField:(i,l)=>Nn(i,o,l).bind(tr.getCurrent)}}),Sv={getField:ko((o,s,i)=>o.getField(s,i)),sketch:o=>{const s=(()=>{const m=[];return{field:(b,x)=>(m.push(b),Sr(xO,wO(b),x)),record:Te(m)}})(),i=o(s),l=s.record(),f=St(l,m=>Pt({name:m,pname:wO(m)}));return a1(xO,mM,f,pM,i)}},kO=bn("valid-input"),_O=bn("invalid-input"),CO=bn("validating-input"),gE="colorcustom.rgb.",gM=(o,s,i,l)=>{const f=(O,A)=>Jm.config({invalidClass:s("invalid"),notify:{onValidate:L=>{gn(L,CO,{type:O})},onValid:L=>{gn(L,kO,{type:O,value:cn.getValue(L)})},onInvalid:L=>{gn(L,_O,{type:O,value:cn.getValue(L)})}},validator:{validate:L=>{const H=cn.getValue(L),q=A(H)?So.value(!0):So.error(o("aria.input.invalid"));return kg(q)},validateOnLoad:!1}}),m=(O,A,L,H,q)=>{const re=o(gE+"range"),se=Lr.parts.label({dom:{tag:"label",attributes:{"aria-label":H}},components:[Ss(L)]}),me=Lr.parts.field({data:q,factory:Nb,inputAttributes:{type:"text",...A==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:Ht([f(A,O),Sa.config({})]),onSetValue:ce=>{Jm.isInvalid(ce)&&Jm.run(ce).get(ht)}}),te=[se,me],Q=A!=="hex"?[Lr.parts["aria-descriptor"]({text:re})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:te.concat(Q)}},b=(O,A)=>{const L=A.red,H=A.green,q=A.blue;cn.setValue(O,{red:L,green:H,blue:q})},x=Vr({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),w=(O,A)=>{x.getOpt(O).each(L=>{qn(L.element,"background-color","#"+A.value)})};return Ed({factory:()=>{const O={red:Ln(B.some(255)),green:Ln(B.some(255)),blue:Ln(B.some(255)),hex:Ln(B.some("ffffff"))},A=pe=>O[pe].get(),L=(pe,_e)=>{O[pe].set(_e)},H=pe=>{const _e=pe.red,Re=pe.green,Ge=pe.blue;L("red",B.some(_e)),L("green",B.some(Re)),L("blue",B.some(Ge))},q=(pe,_e)=>{const Re=_e.event;Re.type!=="hex"?L(Re.type,B.none()):l(pe)},re=(pe,_e)=>{const Re=_e.event;(Ge=>Ge.type==="hex")(Re)?((Ge,pt)=>{i(Ge);const yt=bz(pt);L("hex",B.some(yt.value));const Et=I1(yt);b(Ge,Et),H(Et),gn(Ge,pE,{hex:yt}),w(Ge,yt)})(pe,Re.value):((Ge,pt,yt)=>{const Et=parseInt(yt,10);L(pt,B.some(Et)),A("red").bind(en=>A("green").bind(xn=>A("blue").map(Bn=>Pb(en,xn,Bn,1)))).each(en=>{const xn=((Bn,Qn)=>{const uo=P1(Qn);return Sv.getField(Bn,"hex").each(Io=>{ao.isFocused(Io)||cn.setValue(Bn,{hex:uo.value})}),uo})(Ge,en);gn(Ge,pE,{hex:xn}),w(Ge,xn)})})(pe,Re.type,Re.value)},se=pe=>({label:o(gE+pe+".label"),description:o(gE+pe+".description")}),me=se("red"),te=se("green"),Q=se("blue"),ce=se("hex");return ye(Sv.sketch(pe=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":o("aria.color.picker")}},components:[pe.field("red",Lr.sketch(m(CS,"red",me.label,me.description,255))),pe.field("green",Lr.sketch(m(CS,"green",te.label,te.description,255))),pe.field("blue",Lr.sketch(m(CS,"blue",Q.label,Q.description,255))),pe.field("hex",Lr.sketch(m(vz,"hex",ce.label,ce.description,"ffffff"))),x.asSpec()],formBehaviours:Ht([Jm.config({invalidClass:s("form-invalid")}),xo("rgb-form-events",[mt(kO,re),mt(_O,q),mt(CO,q)])])})),{apis:{updateHex:(pe,_e)=>{cn.setValue(pe,{hex:_e.value}),((Re,Ge)=>{const pt=I1(Ge);b(Re,pt),H(pt)})(pe,_e),w(pe,_e)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(O,A,L)=>{O.updateHex(A,L)}},extraApis:{}})},Uk=(o,s)=>Ed({name:"ColourPicker",configFields:[at("dom"),Ue("onValidHex",ht),Ue("onInvalidHex",ht)],factory:l=>{const f=gM(o,s,l.onValidHex,l.onInvalidHex),m=((re,se)=>{const me=Bf.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[se("sv-palette-spectrum")]}}),te=Bf.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[se("sv-palette-thumb")],innerHtml:`<div class=${se("sv-palette-inner-thumb")} role="presentation"></div>`}}),Q=(ce,pe)=>{const{width:_e,height:Re}=ce,Ge=ce.getContext("2d");if(Ge===null)return;Ge.fillStyle=pe,Ge.fillRect(0,0,_e,Re);const pt=Ge.createLinearGradient(0,0,_e,0);pt.addColorStop(0,"rgba(255,255,255,1)"),pt.addColorStop(1,"rgba(255,255,255,0)"),Ge.fillStyle=pt,Ge.fillRect(0,0,_e,Re);const yt=Ge.createLinearGradient(0,0,0,Re);yt.addColorStop(0,"rgba(0,0,0,0)"),yt.addColorStop(1,"rgba(0,0,0,1)"),Ge.fillStyle=yt,Ge.fillRect(0,0,_e,Re)};return Ed({factory:ce=>{const pe=Te({x:0,y:0}),_e=Ht([tr.config({find:B.some}),ao.config({})]);return Bf.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":re(["Saturation {0}%, Brightness {1}%",0,0])},classes:[se("sv-palette")]},model:{mode:"xy",getInitialValue:pe},rounded:!1,components:[me,te],onChange:(Re,Ge,pt)=>{tn(pt)||eo(Re.element,"aria-valuetext",re(["Saturation {0}%, Brightness {1}%",Math.floor(pt.x),Math.floor(100-pt.y)])),gn(Re,vO,{value:pt})},onInit:(Re,Ge,pt,yt)=>{Q(pt.element.dom,_z(TS))},sliderBehaviours:_e})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(ce,pe,_e)=>{((Re,Ge)=>{const pt=Re.components()[0].element.dom,yt=F1(Ge,100,100),Et=kz(yt);Q(pt,_z(Et))})(pe,_e)},setThumb:(ce,pe,_e)=>{((Re,Ge)=>{const pt=NS(I1(Ge));Bf.setValue(Re,{x:pt.saturation,y:100-pt.value}),eo(Re.element,"aria-valuetext",re(["Saturation {0}%, Brightness {1}%",pt.saturation,pt.value]))})(pe,_e)}},extraApis:{}})})(o,s),b={paletteRgba:Ln(TS),paletteHue:Ln(0)},x=Vr(((re,se)=>{const me=Bf.parts.spectrum({dom:{tag:"div",classes:[se("hue-slider-spectrum")],attributes:{role:"presentation"}}}),te=Bf.parts.thumb({dom:{tag:"div",classes:[se("hue-slider-thumb")],attributes:{role:"presentation"}}});return Bf.sketch({dom:{tag:"div",classes:[se("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:Te(0)},components:[me,te],sliderBehaviours:Ht([ao.config({})]),onChange:(Q,ce,pe)=>{eo(Q.element,"aria-valuenow",Math.floor(360-3.6*pe)),gn(Q,yO,{value:pe})}})})(0,s)),w=Vr(m.sketch({})),E=Vr(f.sketch({})),O=(re,se,me)=>{w.getOpt(re).each(te=>{m.setHue(te,me)})},A=(re,se)=>{E.getOpt(re).each(me=>{f.updateHex(me,se)})},L=(re,se,me)=>{x.getOpt(re).each(te=>{Bf.setValue(te,(Q=>100-Q/360*100)(me))})},H=(re,se)=>{w.getOpt(re).each(me=>{m.setThumb(me,se)})},q=(re,se,me,te)=>{((Q,ce)=>{const pe=I1(Q);b.paletteRgba.set(pe),b.paletteHue.set(ce)})(se,me),nn(te,Q=>{Q(re,se,me)})};return{uid:l.uid,dom:l.dom,components:[w.asSpec(),x.asSpec(),E.asSpec()],behaviours:Ht([xo("colour-picker-events",[mt(pE,(()=>{const re=[O,L,H];return(se,me)=>{const te=me.event.hex,Q=(ce=>NS(I1(ce)))(te);q(se,te,Q.hue,re)}})()),mt(vO,(()=>{const re=[A];return(se,me)=>{const te=me.event.value,Q=b.paletteHue.get(),ce=F1(Q,te.x,100-te.y),pe=Sz(ce);q(se,pe,Q,re)}})()),mt(yO,(()=>{const re=[O,A];return(se,me)=>{const te=(Re=>(100-Re)/100*360)(me.event.value),Q=b.paletteRgba.get(),ce=NS(Q),pe=F1(te,ce.saturation,ce.value),_e=Sz(pe);q(se,_e,te,re)}})())]),tr.config({find:re=>E.getOpt(re)}),Qt.config({mode:"acyclic"})])}}}),Gb=()=>tr.config({find:B.some}),ox=o=>tr.config({find:s=>zr(s.element,o).bind(i=>s.getSystem().getByDom(i).toOptional())}),hM=Rn([Ue("preprocess",kt),Ue("postprocess",kt)]),bM=(o,s)=>{const i=ka("RepresentingConfigs.memento processors",hM,s);return cn.config({store:{mode:"manual",getValue:l=>{const f=o.get(l),m=cn.getValue(f);return i.postprocess(m)},setValue:(l,f)=>{const m=i.preprocess(f),b=o.get(l);cn.setValue(b,m)}}})},r0=(o,s,i)=>cn.config({store:{mode:"manual",...o.map(l=>({initialValue:l})).getOr({}),getValue:s,setValue:i}}),hE=(o,s,i)=>r0(o,l=>s(l.element),(l,f)=>i(l.element,f)),jk=o=>cn.config({store:{mode:"memory",initialValue:o}}),bE={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var yE=tinymce.util.Tools.resolve("tinymce.Resource"),Eg=tinymce.util.Tools.resolve("tinymce.util.Tools");const rx=(o,s)=>{let i=null;const l=()=>{$e(i)||(clearTimeout(i),i=null)};return{cancel:l,throttle:(...f)=>{l(),i=setTimeout(()=>{i=null,o.apply(null,f)},s)}}},Ev=bn("alloy-fake-before-tabstop"),Zk=bn("alloy-fake-after-tabstop"),Np=o=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:o},behaviours:Ht([ao.config({ignore:!0}),Sa.config({})])}),Wk=(o,s)=>({dom:{tag:"div",classes:["tox-navobj",...o.getOr([])]},components:[Np([Ev]),s,Np([Zk])],behaviours:Ht([ox(1)])}),SO=(o,s)=>{gn(o,yn(),{raw:{which:9,shiftKey:s}})},yM=(o,s)=>{const i=s.element;vs(i,Ev)?SO(o,!0):vs(i,Zk)&&SO(o,!1)},sx=o=>W1(o,["."+Ev,"."+Zk].join(","),Je),$k=bn("update-dialog"),Tv=bn("update-title"),EO=bn("update-body"),vE=bn("update-footer"),qk=bn("body-send-message"),Gk=bn("dialog-focus-shifted"),ax=Oc().browser,s0=ax.isSafari(),vM=ax.isFirefox(),xE=s0||vM,TO=ax.isChromium(),xM=({scrollTop:o,scrollHeight:s,clientHeight:i})=>Math.ceil(o)+i>=s,zO=(o,s)=>o.scrollTo(0,s==="bottom"?99999999:s),OO=(o,s,i)=>{const l=o.dom;B.from(l.contentDocument).fold(i,f=>{let m=0;const b=((w,E)=>{const O=w.body;return B.from(!/^<!DOCTYPE (html|HTML)/.test(E)&&(!TO&&!s0||lt(O)&&(O.scrollTop!==0||Math.abs(O.scrollHeight-O.clientHeight)>1))?O:w.documentElement)})(f,s).map(w=>(m=w.scrollTop,w)).forall(xM),x=()=>{const w=l.contentWindow;lt(w)&&(b?zO(w,"bottom"):!b&&xE&&m!==0&&zO(w,m))};s0&&l.addEventListener("load",x,{once:!0}),f.open(),f.write(s),f.close(),s0||x()})},wM=li(xE,s0?500:200).map(o=>((s,i)=>{let l=null,f=null;return{cancel:()=>{$e(l)||(clearTimeout(l),l=null,f=null)},throttle:(...m)=>{f=m,$e(l)&&(l=setTimeout(()=>{const b=f;l=null,f=null,s.apply(null,b)},i))}}})(OO,o)),AO=bn("toolbar.button.execute"),a0=bn("common-button-display-events"),wE={[cl()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[Nt()]:["toolbar-button-events",a0],[aa()]:["focusing","alloy.base.behaviour",a0]},Kk=o=>qn(o.element,"width",_s(o.element,"width")),NO=(o,s,i)=>Km(o,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:i},s),Yk=(o,s)=>NO(o,s,[]),ep=(o,s)=>NO(o,s,[Jn.config({})]),kE=(o,s,i)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[Ss(i.translate(o))],behaviours:Ht([Jn.config({})])}),pm=bn("update-menu-text"),i0=bn("update-menu-icon"),Xk=(o,s,i)=>{const l=Ln(ht),f=o.text.map(L=>Vr(kE(L,s,i.providers))),m=o.icon.map(L=>Vr(ep(L,i.providers.icons))),b=(L,H)=>{const q=cn.getValue(L);return ao.focus(q),gn(q,"keydown",{raw:H.event.raw}),Rf.close(q),B.some(!0)},x=o.role.fold(()=>({}),L=>({role:L})),w=o.tooltip.fold(()=>({}),L=>{const H=i.providers.translate(L);return{title:H,"aria-label":H}}),E=Km("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},i.providers.icons),O=bn("common-button-display-events");return Vr(Rf.sketch({...o.uid?{uid:o.uid}:{},...x,dom:{tag:"button",classes:[s,`${s}--select`].concat(St(o.classes,L=>`${s}--${L}`)),attributes:{...w}},components:fv([m.map(L=>L.asSpec()),f.map(L=>L.asSpec()),B.some(E)]),matchWidth:!0,useMinWidth:!0,onOpen:(L,H,q)=>{o.searchable&&(re=>{q3(re).each(se=>ao.focus(se))})(q)},dropdownBehaviours:Ht([...o.dropdownBehaviours,uv(()=>o.disabled||i.providers.isDisabled()),tl(),K1.config({}),Jn.config({}),xo("dropdown-events",[yh(o,l),vh(o,l)]),xo(O,[ts((L,H)=>Kk(L))]),xo("menubutton-update-display-text",[mt(pm,(L,H)=>{f.bind(q=>q.getOpt(L)).each(q=>{Jn.set(q,[Ss(i.providers.translate(H.event.text))])})}),mt(i0,(L,H)=>{m.bind(q=>q.getOpt(L)).each(q=>{Jn.set(q,[ep(H.event.icon,i.providers.icons)])})})])]),eventOrder:ye(wE,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Nt()]:["toolbar-button-events","dropdown-events",O]}),sandboxBehaviours:Ht([Qt.config({mode:"special",onLeft:b,onRight:b}),xo("dropdown-sandbox-events",[mt(ok,(L,H)=>{(q=>{const re=cn.getValue(q),se=rk(q).map(tS);Rf.refetch(re).get(()=>{const me=Ga.getCoupled(re,"sandbox");se.each(te=>rk(me).each(Q=>((ce,pe)=>{cn.setValue(ce,pe.fetchPattern),ce.element.dom.selectionStart=pe.selectionStart,ce.element.dom.selectionEnd=pe.selectionEnd})(Q,te)))})})(L),H.stop()}),mt($3,(L,H)=>{((q,re)=>{(se=>Eo.getState(se).bind(dr.getHighlighted).bind(dr.getHighlighted))(q).each(se=>{((me,te,Q,ce)=>{const pe={...ce,target:te};me.getSystem().triggerEvent(Q,te,pe)})(q,se.element,re.event.eventType,re.event.interactionEvent)})})(L,H),H.stop()})])]),lazySink:i.getSink,toggleClass:`${s}--active`,parts:{menu:{...E1(0,o.columns,o.presets),fakeFocus:o.searchable,onHighlightItem:Vz,onCollapseMenu:(L,H,q)=>{dr.getHighlighted(q).each(re=>{Vz(L,q,re)})},onDehighlightItem:BB}},getAnchorOverrides:()=>({maxHeightFunction:(L,H)=>{xp()(L,H-10)}}),fetch:L=>Vb(qe(o.fetch,L))})).asSpec()},DO=o=>o.type==="separator",kM={type:"separator"},_E=(o,s)=>{const i=((l,f)=>{const m=Y(l,(b,x)=>(w=>de(w))(x)?x===""?b:x==="|"?b.length>0&&!DO(b[b.length-1])?b.concat([kM]):b:_n(f,x.toLowerCase())?b.concat([f[x.toLowerCase()]]):b:b.concat([x]),[]);return m.length>0&&DO(m[m.length-1])&&m.pop(),m})(de(o)?o.split(" "):o,s);return Do(i,(l,f)=>{if((m=>_n(m,"getSubmenuItems"))(f)){const m=(x=>{const w=dn(x,"value").getOrThunk(()=>bn("generated-menu-item"));return ye({value:w},x)})(f),b=((x,w)=>{const E=x.getSubmenuItems(),O=_E(E,w);return{item:x,menus:ye(O.menus,{[x.value]:O.items}),expansions:ye(O.expansions,{[x.value]:x.value})}})(m,s);return{menus:ye(l.menus,b.menus),items:[b.item,...l.items],expansions:ye(l.expansions,b.expansions)}}return{...l,items:[f,...l.items]}},{menus:{},expansions:{},items:[]})},l0=(o,s,i,l)=>{const f=bn("primary-menu"),m=_E(o,i.shared.providers.menuItems());if(m.items.length===0)return B.none();const b=(A=>A.search.fold(()=>({searchMode:"no-search"}),L=>({searchMode:"search-with-field",placeholder:L.placeholder})))(l),x=Uz(f,m.items,s,i,l.isHorizontalMenu,b),w=(A=>A.search.fold(()=>({searchMode:"no-search"}),L=>({searchMode:"search-with-results"})))(l),E=go(m.menus,(A,L)=>Uz(L,A,s,i,!1,w)),O=ye(E,mi(f,x));return B.from(Eb.tieredData(f,O,m.expansions))},Jk=o=>!_n(o,"items"),CE="data-value",RO=(o,s,i,l)=>St(i,f=>Jk(f)?{type:"togglemenuitem",text:f.text,value:f.value,active:f.value===l,onAction:()=>{cn.setValue(o,f.value),gn(o,Xu,{name:s}),ao.focus(o)}}:{type:"nestedmenuitem",text:f.text,getSubmenuItems:()=>RO(o,s,f.items,l)}),SE=(o,s)=>qo(o,i=>Jk(i)?li(i.value===s,i):SE(i.items,s)),BO=Ed({name:"HtmlSelect",configFields:[at("options"),ca("selectBehaviours",[ao,cn]),Ue("selectClasses",[]),Ue("selectAttributes",{}),ur("data")],factory:(o,s)=>{const i=St(o.options,f=>({dom:{tag:"option",value:f.value,innerHtml:f.text}})),l=o.data.map(f=>mi("initialValue",f)).getOr({});return{uid:o.uid,dom:{tag:"select",classes:o.selectClasses,attributes:o.selectAttributes},components:i,behaviours:Bi(o.selectBehaviours,[ao.config({}),cn.config({store:{mode:"manual",getValue:f=>vd(f.element),setValue:(f,m)=>{const b=dt(o.options);$o(o.options,x=>x.value===m).isSome()?Kf(f.element,m):f.element.dom.selectedIndex===-1&&m===""&&b.each(x=>Kf(f.element,x.value))},...l}})])}}}),EE=Te([Ue("field1Name","field1"),Ue("field2Name","field2"),au("onLockedChange"),wd(["lockClass"]),Ue("locked",!1),Mi("coupledFieldBehaviours",[tr,cn])]),Qk=(o,s)=>Pt({factory:Lr,name:o,overrides:i=>({fieldBehaviours:Ht([xo("coupled-input-behaviour",[mt(Hn(),l=>{((f,m,b)=>Nn(f,m,b).bind(tr.getCurrent))(l,i,s).each(f=>{Nn(l,i,"lock").each(m=>{Bo.isOn(m)&&i.onLockedChange(l,f,m)})})})])])})}),MO=Te([Qk("field1","field2"),Qk("field2","field1"),Pt({factory:cc,schema:[at("dom")],name:"lock",overrides:o=>({buttonBehaviours:Ht([Bo.config({selected:o.locked,toggleClass:o.markers.lockClass,aria:{mode:"pressed"}})])})})]),Ju=lc({name:"FormCoupledInputs",configFields:EE(),partFields:MO(),factory:(o,s,i,l)=>({uid:o.uid,dom:o.dom,components:s,behaviours:Ia(o.coupledFieldBehaviours,[tr.config({find:B.some}),cn.config({store:{mode:"manual",getValue:f=>{const m=fs(f,o,["field1","field2"]);return{[o.field1Name]:cn.getValue(m.field1()),[o.field2Name]:cn.getValue(m.field2())}},setValue:(f,m)=>{const b=fs(f,o,["field1","field2"]);Ws(m,o.field1Name)&&cn.setValue(b.field1(),m[o.field1Name]),Ws(m,o.field2Name)&&cn.setValue(b.field2(),m[o.field2Name])}}})]),apis:{getField1:f=>Nn(f,o,"field1"),getField2:f=>Nn(f,o,"field2"),getLock:f=>Nn(f,o,"lock")}}),apis:{getField1:(o,s)=>o.getField1(s),getField2:(o,s)=>o.getField2(s),getLock:(o,s)=>o.getLock(s)}}),e_=o=>{const s=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(o);if(s!==null){const i=parseFloat(s[1]),l=s[2];return So.value({value:i,unit:l})}return So.error(o)},LO=(o,s)=>{const i={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},l=f=>_n(i,f);return o.unit===s?B.some(o.value):l(o.unit)&&l(s)?i[o.unit]===i[s]?B.some(o.value):B.some(o.value/i[o.unit]*i[s]):B.none()},ix=o=>B.none(),PO=(o,s)=>{const i=o.label.map(O=>kh(O,s)),l=[Xn.config({disabled:()=>o.disabled||s.isDisabled()}),tl(),Qt.config({mode:"execution",useEnter:o.multiline!==!0,useControlEnter:o.multiline===!0,execute:O=>(Lo(O,q1),B.some(!0))}),xo("textfield-change",[mt(Hn(),(O,A)=>{gn(O,Xu,{name:o.name})}),mt(kn(),(O,A)=>{gn(O,Xu,{name:o.name})})]),Sa.config({})],f=o.validation.map(O=>Jm.config({getRoot:A=>ea(A.element),invalidClass:"tox-invalid",validator:{validate:A=>{const L=cn.getValue(A),H=O.validator(L);return kg(H===!0?So.value(L):So.error(H))},validateOnLoad:O.validateOnLoad}})).toArray(),m={...o.placeholder.fold(Te({}),O=>({placeholder:s.translate(O)})),...o.inputMode.fold(Te({}),O=>({inputmode:O}))},b=Lr.parts.field({tag:o.multiline===!0?"textarea":"input",...o.data.map(O=>({data:O})).getOr({}),inputAttributes:m,inputClasses:[o.classname],inputBehaviours:Ht(Xo([l,f])),selectOnFocus:!1,factory:Nb}),x=o.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[b]}:b,w=(o.flex?["tox-form__group--stretched"]:[]).concat(o.maximized?["tox-form-group--maximize"]:[]),E=[Xn.config({disabled:()=>o.disabled||s.isDisabled(),onDisabled:O=>{Lr.getField(O).each(Xn.disable)},onEnabled:O=>{Lr.getField(O).each(Xn.enable)}}),tl()];return Md(i,x,w,E)},zv=(o,s)=>s.getAnimationRoot.fold(()=>o.element,i=>i(o)),Tg=o=>o.dimension.property,gm=(o,s)=>o.dimension.getDimension(s),t_=(o,s)=>{const i=zv(o,s);Mc(i,[s.shrinkingClass,s.growingClass])},lx=(o,s)=>{Ls(o.element,s.openClass),hr(o.element,s.closedClass),qn(o.element,Tg(s),"0px"),ne(o.element)},Ov=(o,s)=>{Ls(o.element,s.closedClass),hr(o.element,s.openClass),or(o.element,Tg(s))},IO=(o,s,i,l)=>{i.setCollapsed(),qn(o.element,Tg(s),gm(s,o.element)),t_(o,s),lx(o,s),s.onStartShrink(o),s.onShrunk(o)},FO=(o,s,i,l)=>{const f=l.getOrThunk(()=>gm(s,o.element));i.setCollapsed(),qn(o.element,Tg(s),f),ne(o.element);const m=zv(o,s);Ls(m,s.growingClass),hr(m,s.shrinkingClass),lx(o,s),s.onStartShrink(o)},TE=(o,s,i)=>{const l=gm(s,o.element);(l==="0px"?IO:FO)(o,s,i,B.some(l))},zE=(o,s,i)=>{const l=zv(o,s),f=vs(l,s.shrinkingClass),m=gm(s,o.element);Ov(o,s);const b=gm(s,o.element);(f?()=>{qn(o.element,Tg(s),m),ne(o.element)}:()=>{lx(o,s)})(),Ls(l,s.shrinkingClass),hr(l,s.growingClass),Ov(o,s),qn(o.element,Tg(s),b),i.setExpanded(),s.onStartGrow(o)},n_=(o,s,i)=>{const l=zv(o,s);return vs(l,s.growingClass)===!0},OE=(o,s,i)=>{const l=zv(o,s);return vs(l,s.shrinkingClass)===!0};var _M=Object.freeze({__proto__:null,refresh:(o,s,i)=>{if(i.isExpanded()){or(o.element,Tg(s));const l=gm(s,o.element);qn(o.element,Tg(s),l)}},grow:(o,s,i)=>{i.isExpanded()||zE(o,s,i)},shrink:(o,s,i)=>{i.isExpanded()&&TE(o,s,i)},immediateShrink:(o,s,i)=>{i.isExpanded()&&IO(o,s,i)},hasGrown:(o,s,i)=>i.isExpanded(),hasShrunk:(o,s,i)=>i.isCollapsed(),isGrowing:n_,isShrinking:OE,isTransitioning:(o,s,i)=>n_(o,s)||OE(o,s),toggleGrow:(o,s,i)=>{(i.isExpanded()?TE:zE)(o,s,i)},disableTransitions:t_,immediateGrow:(o,s,i)=>{i.isExpanded()||(Ov(o,s),qn(o.element,Tg(s),gm(s,o.element)),t_(o,s),i.setExpanded(),s.onStartGrow(o),s.onGrown(o))}}),VO=Object.freeze({__proto__:null,exhibit:(o,s,i)=>{const l=s.expanded;return $a(l?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:mi(s.dimension.property,"0px")})},events:(o,s)=>Ro([Iu(Ti(),(i,l)=>{l.event.raw.propertyName===o.dimension.property&&(t_(i,o),s.isExpanded()&&or(i.element,o.dimension.property),(s.isExpanded()?o.onGrown:o.onShrunk)(i))})])}),HO=[at("closedClass"),at("openClass"),at("shrinkingClass"),at("growingClass"),ur("getAnimationRoot"),Vo("onShrunk"),Vo("onStartShrink"),Vo("onGrown"),Vo("onStartGrow"),Ue("expanded",!1),wl("dimension",fi("property",{width:[cs("property","width"),cs("getDimension",o=>jr(o)+"px")],height:[cs("property","height"),cs("getDimension",o=>et(o)+"px")]}))];const mu=yi({fields:HO,name:"sliding",active:VO,apis:_M,state:Object.freeze({__proto__:null,init:o=>{const s=Ln(o.expanded);return ns({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:qe(s.set,!1),setExpanded:qe(s.set,!0),readState:()=>"expanded: "+s.get()})}})}),AE=o=>({isEnabled:()=>!Xn.isDisabled(o),setEnabled:s=>Xn.set(o,!s),setActive:s=>{const i=o.element;s?(hr(i,"tox-tbtn--enabled"),eo(i,"aria-pressed",!0)):(Ls(i,"tox-tbtn--enabled"),Xr(i,"aria-pressed"))},isActive:()=>vs(o.element,"tox-tbtn--enabled"),setText:s=>{gn(o,pm,{text:s})},setIcon:s=>gn(o,i0,{icon:s})}),cx=(o,s,i,l,f=!0)=>Xk({text:o.text,icon:o.icon,tooltip:o.tooltip,searchable:o.search.isSome(),role:l,fetch:(m,b)=>{const x={pattern:o.search.isSome()?Hz(m):""};o.fetch(w=>{b(l0(w,um.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:o.search}))},x,AE(m))},onSetup:o.onSetup,getApi:AE,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...f?[Sa.config({})]:[]]},s,i.shared),UO=(o,s,i)=>{const l=m=>b=>{const x=!b.isActive();b.setActive(x),m.storage.set(x),i.shared.getSink().each(w=>{s().getOpt(w).each(E=>{ic(E.element),gn(E,_g,{name:m.name,value:m.storage.get()})})})},f=m=>b=>{b.setActive(m.storage.get())};return m=>{m(St(o,b=>{const x=b.text.fold(()=>({}),w=>({text:w}));return{type:b.type,active:!1,...x,onAction:l(b),onSetup:f(b)}}))}},jO=o=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:o,"aria-label":o}},components:[Ss(o)]}),ZO=bn("leaf-label-event-id"),NE=({leaf:o,onLeafAction:s,visible:i,treeId:l,selectedId:f,backstage:m})=>{const b=o.menu.map(w=>cx(w,"tox-mbtn",m,B.none(),i)),x=[jO(o.title)];return b.each(w=>x.push(w)),cc.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(i?["tox-tree--leaf__label--visible"]:[])},components:x,role:"treeitem",action:w=>{s(o.id),w.getSystem().broadcastOn([`update-active-item-${l}`],{value:o.id})},eventOrder:{[yn()]:[ZO,"keying"]},buttonBehaviours:Ht([...i?[Sa.config({})]:[],Bo.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),ac.config({channels:{[`update-active-item-${l}`]:{onReceive:(w,E)=>{(E.value===o.id?Bo.on:Bo.off)(w)}}}}),xo(ZO,[ts((w,E)=>{f.each(O=>{(O===o.id?Bo.on:Bo.off)(w)})}),mt(yn(),(w,E)=>{const O=E.event.raw.code==="ArrowLeft",A=E.event.raw.code==="ArrowRight";O?(Pa(w.element,".tox-tree--directory").each(L=>{w.getSystem().getByDom(L).each(H=>{su(L,".tox-tree--directory__label").each(q=>{H.getSystem().getByDom(q).each(ao.focus)})})}),E.stop()):A&&E.stop()})])])})},WO=bn("directory-label-event-id"),$O=({directory:o,visible:s,noChildren:i,backstage:l})=>{const f=o.menu.map(E=>cx(E,"tox-mbtn",l,B.none())),m=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(b="chevron-right",x=l.shared.providers.icons,((E,O,A)=>Km(E,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},O))(b,x))]},jO(o.title)];var b,x;f.each(E=>{m.push(E)});const w=E=>{Pa(E.element,".tox-tree--directory").each(O=>{E.getSystem().getByDom(O).each(A=>{const L=!Bo.isOn(A);Bo.toggle(A),gn(E,"expand-tree-node",{expanded:L,node:o.id})})})};return cc.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:m,action:w,eventOrder:{[yn()]:[WO,"keying"]},buttonBehaviours:Ht([...s?[Sa.config({})]:[],xo(WO,[mt(yn(),(E,O)=>{const A=O.event.raw.code==="ArrowRight",L=O.event.raw.code==="ArrowLeft";A&&i&&O.stop(),(A||L)&&Pa(E.element,".tox-tree--directory").each(H=>{E.getSystem().getByDom(H).each(q=>{!Bo.isOn(q)&&A||Bo.isOn(q)&&L?(w(E),O.stop()):L&&!Bo.isOn(q)&&(Pa(q.element,".tox-tree--directory").each(re=>{su(re,".tox-tree--directory__label").each(se=>{q.getSystem().getByDom(se).each(ao.focus)})}),O.stop())})})})])])})},dx=({children:o,onLeafAction:s,visible:i,treeId:l,expandedIds:f,selectedId:m,backstage:b})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:o.map(x=>x.type==="leaf"?NE({leaf:x,selectedId:m,onLeafAction:s,visible:i,treeId:l,backstage:b}):DE({directory:x,expandedIds:f,selectedId:m,onLeafAction:s,labelTabstopping:i,treeId:l,backstage:b})),behaviours:Ht([mu.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:i}),Jn.config({})])}),qO=bn("directory-event-id"),DE=({directory:o,onLeafAction:s,labelTabstopping:i,treeId:l,backstage:f,expandedIds:m,selectedId:b})=>{const{children:x}=o,w=Ln(m),E=m.includes(o.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[$O({directory:o,visible:i,noChildren:o.children.length===0,backstage:f}),dx({children:x,expandedIds:m,selectedId:b,onLeafAction:s,visible:E,treeId:l,backstage:f})],behaviours:Ht([xo(qO,[ts((O,A)=>{Bo.set(O,E)}),mt("expand-tree-node",(O,A)=>{const{expanded:L,node:H}=A.event;w.set(L?[...w.get(),H]:w.get().filter(q=>q!==H))})]),Bo.config({...o.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(O,A)=>{const L=O.components()[1],H=(q=A,x.map(re=>re.type==="leaf"?NE({leaf:re,selectedId:b,onLeafAction:s,visible:q,treeId:l,backstage:f}):DE({directory:re,expandedIds:w.get(),selectedId:b,onLeafAction:s,labelTabstopping:q,treeId:l,backstage:f})));var q;A?mu.grow(L):mu.shrink(L),Jn.set(L,H)}})])}},CM=bn("tree-event-id");var SM=Object.freeze({__proto__:null,events:(o,s)=>{const i=o.stream.streams.setup(o,s);return Ro([mt(o.event,i),Qd(()=>s.cancel())].concat(o.cancelEvent.map(l=>[mt(l,()=>s.cancel())]).getOr([])))}});const GO=o=>{const s=Ln(null);return ns({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:i=>{s.set(i)},cancel:()=>{const i=s.get();i!==null&&i.cancel()}})};var EM=Object.freeze({__proto__:null,throttle:GO,init:o=>o.stream.streams.state(o)}),o_=[wl("stream",fi("mode",{throttle:[at("delay"),Ue("stopEvent",!0),cs("streams",{setup:(o,s)=>{const i=o.stream,l=rx(o.onStream,i.delay);return s.setTimer(l),(f,m)=>{l.throttle(f,m),i.stopEvent&&m.stop()}},state:GO})]})),Ue("event","input"),ur("cancelEvent"),au("onStream")];const RE=yi({fields:o_,name:"streaming",active:SM,state:EM}),ux=(o,s,i)=>{const l=cn.getValue(i);cn.setValue(s,l),BE(s)},KO=(o,s)=>{const i=o.element,l=vd(i),f=i.dom;Vs(i,"type")!=="number"&&s(f,l)},BE=o=>{KO(o,(s,i)=>s.setSelectionRange(i.length,i.length))},r_=Te("alloy.typeahead.itemexecute"),TM=Te([ur("lazySink"),at("fetch"),Ue("minChars",5),Ue("responseTime",1e3),Vo("onOpen"),Ue("getHotspot",B.some),Ue("getAnchorOverrides",Te({})),Ue("layouts",B.none()),Ue("eventOrder",{}),Wf("model",{},[Ue("getDisplayText",o=>o.meta!==void 0&&o.meta.text!==void 0?o.meta.text:o.value),Ue("selectsOver",!0),Ue("populateFromBrowse",!0)]),Vo("onSetValue"),rc("onExecute"),Vo("onItemExecute"),Ue("inputClasses",[]),Ue("inputAttributes",{}),Ue("inputStyles",{}),Ue("matchWidth",!0),Ue("useMinWidth",!1),Ue("dismissOnBlur",!0),wd(["openClass"]),ur("initialData"),ca("typeaheadBehaviours",[ao,cn,RE,Qt,Bo,Ga]),sa("lazyTypeaheadComp",()=>Ln(B.none)),sa("previewing",()=>Ln(!0))].concat(Z3()).concat(jS())),YO=Te([jt({schema:[Jp()],name:"menu",overrides:o=>({fakeFocus:!0,onHighlightItem:(s,i,l)=>{o.previewing.get()?o.lazyTypeaheadComp.get().each(f=>{((m,b,x)=>{if(m.selectsOver){const w=cn.getValue(b),E=m.getDisplayText(w),O=cn.getValue(x);return m.getDisplayText(O).indexOf(E)===0?B.some(()=>{ux(0,b,x),((A,L)=>{KO(A,(H,q)=>H.setSelectionRange(L,q.length))})(b,E.length)}):B.none()}return B.none()})(o.model,f,l).fold(()=>{o.model.selectsOver?(dr.dehighlight(i,l),o.previewing.set(!0)):o.previewing.set(!1)},m=>{m(),o.previewing.set(!1)})}):o.lazyTypeaheadComp.get().each(f=>{o.model.populateFromBrowse&&ux(o.model,f,l),xa(l.element,"id").each(m=>eo(f.element,"aria-activedescendant",m))})},onExecute:(s,i)=>o.lazyTypeaheadComp.get().map(l=>(gn(l,r_(),{item:i}),!0)),onHover:(s,i)=>{o.previewing.set(!1),o.lazyTypeaheadComp.get().each(l=>{o.model.populateFromBrowse&&ux(o.model,l,i)})}})})]),XO=lc({name:"Typeahead",configFields:TM(),partFields:YO(),factory:(o,s,i,l)=>{const f=(A,L,H)=>{o.previewing.set(!1);const q=Ga.getCoupled(A,"sandbox");if(Eo.isOpen(q))tr.getCurrent(q).each(re=>{dr.getHighlighted(re).fold(()=>{H(re)},()=>{nc(q,re.element,"keydown",L)})});else{const re=se=>{tr.getCurrent(se).each(H)};Hb(o,b(A),A,q,l,re,td.HighlightMenuAndItem).get(ht)}},m=nk(o),b=A=>L=>L.map(H=>{const q=oo(H.menus),re=Kr(q,se=>Pn(se.items,me=>me.type==="item"));return cn.getState(A).update(St(re,se=>se.data)),H}),x=A=>tr.getCurrent(A),w="typeaheadevents",E=[ao.config({}),cn.config({onSetValue:o.onSetValue,store:{mode:"dataset",getDataKey:A=>vd(A.element),getFallbackEntry:A=>({value:A,meta:{}}),setValue:(A,L)=>{Kf(A.element,o.model.getDisplayText(L))},...o.initialData.map(A=>mi("initialValue",A)).getOr({})}}),RE.config({stream:{mode:"throttle",delay:o.responseTime,stopEvent:!1},onStream:(A,L)=>{const H=Ga.getCoupled(A,"sandbox");if(ao.isFocused(A)&&vd(A.element).length>=o.minChars){const q=x(H).bind(se=>dr.getHighlighted(se).map(cn.getValue));o.previewing.set(!0);const re=se=>{x(H).each(me=>{q.fold(()=>{o.model.selectsOver&&dr.highlightFirst(me)},te=>{dr.highlightBy(me,Q=>cn.getValue(Q).value===te.value),dr.getHighlighted(me).orThunk(()=>(dr.highlightFirst(me),B.none()))})})};Hb(o,b(A),A,H,l,re,td.HighlightJustMenu).get(ht)}},cancelEvent:$p()}),Qt.config({mode:"special",onDown:(A,L)=>(f(A,L,dr.highlightFirst),B.some(!0)),onEscape:A=>{const L=Ga.getCoupled(A,"sandbox");return Eo.isOpen(L)?(Eo.close(L),B.some(!0)):B.none()},onUp:(A,L)=>(f(A,L,dr.highlightLast),B.some(!0)),onEnter:A=>{const L=Ga.getCoupled(A,"sandbox"),H=Eo.isOpen(L);if(H&&!o.previewing.get())return x(L).bind(q=>dr.getHighlighted(q)).map(q=>(gn(A,r_(),{item:q}),!0));{const q=cn.getValue(A);return Lo(A,$p()),o.onExecute(L,A,q),H&&Eo.close(L),B.some(!0)}}}),Bo.config({toggleClass:o.markers.openClass,aria:{mode:"expanded"}}),Ga.config({others:{sandbox:A=>Sk(o,A,{onOpen:()=>Bo.on(A),onClose:()=>{o.lazyTypeaheadComp.get().each(L=>Xr(L.element,"aria-activedescendant")),Bo.off(A)}})}}),xo(w,[ts(A=>{o.lazyTypeaheadComp.set(B.some(A))}),Qd(A=>{o.lazyTypeaheadComp.set(B.none())}),dl(A=>{const L=ht;Yy(o,b(A),A,l,L,td.HighlightMenuAndItem).get(ht)}),mt(r_(),(A,L)=>{const H=Ga.getCoupled(A,"sandbox");ux(o.model,A,L.event.item),Lo(A,$p()),o.onItemExecute(A,H,L.event.item,cn.getValue(A)),Eo.close(H),BE(A)})].concat(o.dismissOnBlur?[mt(wm(),A=>{const L=Ga.getCoupled(A,"sandbox");Qc(L.element).isNone()&&Eo.close(L)})]:[]))],O={[km()]:[cn.name(),RE.name(),w],...o.eventOrder};return{uid:o.uid,dom:W3(ye(o,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...m,...Bi(o.typeaheadBehaviours,E)},eventOrder:O}}}),Kb=o=>({...o,toCached:()=>Kb(o.toCached()),bindFuture:s=>Kb(o.bind(i=>i.fold(l=>kg(So.error(l)),l=>s(l)))),bindResult:s=>Kb(o.map(i=>i.bind(s))),mapResult:s=>Kb(o.map(i=>i.map(s))),mapError:s=>Kb(o.map(i=>i.mapError(s))),foldResult:(s,i)=>o.map(l=>l.fold(s,i)),withTimeout:(s,i)=>Kb(Vb(l=>{let f=!1;const m=setTimeout(()=>{f=!0,l(So.error(i()))},s);o.get(b=>{f||(clearTimeout(m),l(b))})}))}),JO=o=>Kb(Vb(o)),s_=(o,s,i=[],l,f,m)=>{const b=s.fold(()=>({}),E=>({action:E})),x={buttonBehaviours:Ht([uv(()=>!o.enabled||m.isDisabled()),tl(),Sa.config({}),xo("button press",[_m("click"),_m("mousedown")])].concat(i)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...b},w=ye(x,{dom:l});return ye(w,{components:f})},zM=(o,s,i,l=[])=>{const f={tag:"button",classes:["tox-tbtn"],attributes:o.tooltip.map(x=>({"aria-label":i.translate(x),title:i.translate(x)})).getOr({})},m=o.icon.map(x=>Yk(x,i.icons)),b=fv([m]);return s_(o,s,l,f,b,i)},ME=o=>{switch(o){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},QO=(o,s,i,l=[],f=[])=>{const m=i.translate(o.text),b=o.icon.map(O=>Yk(O,i.icons)),x=[b.getOrThunk(()=>Ss(m))],w=o.buttonType.getOr(o.primary||o.borderless?"primary":"secondary"),E=[...ME(w),...b.isSome()?["tox-button--icon"]:[],...o.borderless?["tox-button--naked"]:[],...f];return s_(o,s,l,{tag:"button",classes:E,attributes:{title:m}},x,i)},LE=(o,s,i,l=[],f=[])=>{const m=QO(o,B.some(s),i,l,f);return cc.sketch(m)},PE=(o,s)=>i=>{s==="custom"?gn(i,_g,{name:o,value:{}}):s==="submit"?Lo(i,q1):s==="cancel"?Lo(i,jb):console.error("Unknown button type: ",s)},a_=(o,s,i)=>{if(((l,f)=>f==="menu")(0,s)){const l=()=>b,f=o,m={...o,type:"menubutton",search:B.none(),onSetup:x=>(x.setEnabled(o.enabled),ht),fetch:UO(f.items,l,i)},b=Vr(cx(m,"tox-tbtn",i,B.none()));return b.asSpec()}if(((l,f)=>f==="custom"||f==="cancel"||f==="submit")(0,s)){const l=PE(o.name,s),f={...o,borderless:!1};return LE(f,l,i.shared.providers,[])}if(((l,f)=>f==="togglebutton")(0,s))return((l,f)=>{var m,b;const x=l.icon.map(te=>ep(te,f.icons)).map(Vr),w=l.buttonType.getOr(l.primary?"primary":"secondary"),E={...l,name:(m=l.name)!==null&&m!==void 0?m:"",primary:w==="primary",tooltip:B.from(l.tooltip),enabled:(b=l.enabled)!==null&&b!==void 0&&b,borderless:!1},O=E.tooltip.map(te=>({"aria-label":f.translate(te),title:f.translate(te)})).getOr({}),A=ME(w??"secondary"),L=l.icon.isSome()&&l.text.isSome(),H={tag:"button",classes:[...A.concat(l.icon.isSome()?["tox-button--icon"]:[]),...l.active?["tox-button--enabled"]:[],...L?["tox-button--icon-and-text"]:[]],attributes:O},q=f.translate(l.text.getOr("")),re=Ss(q),se=[...fv([x.map(te=>te.asSpec())]),...l.text.isSome()?[re]:[]],me=s_(E,B.some(te=>{gn(te,_g,{name:l.name,value:{setIcon:Q=>{x.map(ce=>ce.getOpt(te).each(pe=>{Jn.set(pe,[ep(Q,f.icons)])}))}}})}),[],H,se,f);return cc.sketch(me)})(o,i.shared.providers);throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")},OM={type:"separator"},AM=o=>({type:"menuitem",value:o.url,text:o.title,meta:{attach:o.attach},onAction:ht}),IE=(o,s)=>({type:"menuitem",value:s,text:o,meta:{attach:void 0},onAction:ht}),eA=(o,s)=>(i=>St(i,AM))(((i,l)=>Pn(l,f=>f.type===i))(o,s)),tA=o=>eA("header",o.targets),NM=o=>eA("anchor",o.targets),DM=o=>B.from(o.anchorTop).map(s=>IE("<top>",s)).toArray(),FE=o=>B.from(o.anchorBottom).map(s=>IE("<bottom>",s)).toArray(),i_=(o,s)=>{const i=o.toLowerCase();return Pn(s,l=>{var f;const m=l.meta!==void 0&&l.meta.text!==void 0?l.meta.text:l.text,b=(f=l.value)!==null&&f!==void 0?f:"";return fa(m.toLowerCase(),i)||fa(b.toLowerCase(),i)})},nA=bn("aria-invalid"),RM=(o,s)=>{o.dom.checked=s},oA=o=>o.dom.checked,ml=o=>(s,i,l,f)=>dn(i,"name").fold(()=>o(i,f,B.none()),m=>s.field(m,o(i,f,dn(l,m)))),BM={bar:ml((o,s)=>((i,l)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:St(i.items,l.interpreter)}))(o,s.shared)),collection:ml((o,s,i)=>Kz(o,s.shared.providers,i)),alertbanner:ml((o,s)=>((i,l)=>{const f=DC(i.icon,l.icons);return Bd.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${i.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:i.url?void 0:f},components:i.url?[cc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:f,attributes:{title:l.translate(i.iconTooltip)}},action:m=>gn(m,_g,{name:"alert-banner",value:i.url}),buttonBehaviours:Ht([Ww()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:l.translate(i.text)}}]})})(o,s.shared.providers)),input:ml((o,s,i)=>((l,f,m)=>PO({name:l.name,multiline:!1,label:l.label,inputMode:l.inputMode,placeholder:l.placeholder,flex:!1,disabled:!l.enabled,classname:"tox-textfield",validation:B.none(),maximized:l.maximized,data:m},f))(o,s.shared.providers,i)),textarea:ml((o,s,i)=>((l,f,m)=>PO({name:l.name,multiline:!0,label:l.label,inputMode:B.none(),placeholder:l.placeholder,flex:!0,disabled:!l.enabled,classname:"tox-textarea",validation:B.none(),maximized:l.maximized,data:m},f))(o,s.shared.providers,i)),label:ml((o,s)=>((i,l)=>{const f="tox-label";return{dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"label",classes:[f,...i.align==="center"?[`${f}--center`]:[],...i.align==="end"?[`${f}--end`]:[]]},components:[Ss(l.providers.translate(i.label))]},...St(i.items,l.interpreter)],behaviours:Ht([Gb(),Jn.config({}),(m=B.none(),hE(m,Cm,Ki)),Qt.config({mode:"acyclic"})])};var m})(o,s.shared)),iframe:(t4=(o,s,i)=>((l,f,m)=>{const b="tox-dialog__iframe",x=l.transparent?[]:[`${b}--opaque`],w=l.border?["tox-navobj-bordered"]:[],E={...l.label.map(H=>({title:H})).getOr({}),...m.map(H=>({srcdoc:H})).getOr({}),...l.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},O=((H,q)=>{const re=Ln(H.getOr(""));return{getValue:se=>re.get(),setValue:(se,me)=>{if(re.get()!==me){const te=se.element,Q=()=>eo(te,"srcdoc",me);q?wM.fold(Te(OO),ce=>ce.throttle)(te,me,Q):Q()}re.set(me)}}})(m,l.streamContent),A=l.label.map(H=>kh(H,f)),L=Lr.parts.field({factory:{sketch:H=>Wk(B.from(w),{uid:H.uid,dom:{tag:"iframe",attributes:E,classes:[b,...x]},behaviours:Ht([Sa.config({}),ao.config({}),r0(m,O.getValue,O.setValue),ac.config({channels:{[Gk]:{onReceive:(q,re)=>{re.newFocus.each(se=>{ea(q.element).each(me=>{(Jo(q.element,se)?hr:Ls)(me,"tox-navobj-bordered-focus")})})}}}})])})}});return Md(A,L,["tox-form__group--stretched"],[])})(o,s.shared.providers,i),(o,s,i,l)=>{const f=ye(s,{source:"dynamic"});return ml(t4)(o,f,i,l)}),button:ml((o,s)=>((i,l)=>{const f=PE(i.name,"custom");return m=B.none(),b=Lr.parts.field({factory:cc,...QO(i,B.some(f),l,[jk(""),Gb()])}),Md(m,b,[],[]);var m,b})(o,s.shared.providers)),checkbox:ml((o,s,i)=>((l,f,m)=>{const b=A=>(A.element.dom.click(),B.some(!0)),x=Lr.parts.field({factory:{sketch:kt},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Ht([Gb(),Xn.config({disabled:()=>!l.enabled||f.isDisabled(),onDisabled:A=>{ea(A.element).each(L=>hr(L,"tox-checkbox--disabled"))},onEnabled:A=>{ea(A.element).each(L=>Ls(L,"tox-checkbox--disabled"))}}),Sa.config({}),ao.config({}),hE(m,oA,RM),Qt.config({mode:"special",onEnter:b,onSpace:b,stopSpaceKeyup:!0}),xo("checkbox-events",[mt(En(),(A,L)=>{gn(A,Xu,{name:l.name})})])])}),w=Lr.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Ss(f.translate(l.label))],behaviours:Ht([K1.config({})])}),E=A=>Km(A==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+A]},f.icons),O=Vr({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[E("checked"),E("unchecked")]});return Lr.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[x,O.asSpec(),w],fieldBehaviours:Ht([Xn.config({disabled:()=>!l.enabled||f.isDisabled()}),tl()])})})(o,s.shared.providers,i)),colorinput:ml((o,s,i)=>((l,f,m,b)=>{const x=Lr.parts.field({factory:Nb,inputClasses:["tox-textfield"],data:b,onSetValue:A=>Jm.run(A).get(ht),inputBehaviours:Ht([Xn.config({disabled:f.providers.isDisabled}),tl(),Sa.config({}),Jm.config({invalidClass:"tox-textbox-field-invalid",getRoot:A=>ea(A.element),notify:{onValid:A=>{const L=cn.getValue(A);gn(A,xv,{color:L})}},validator:{validateOnLoad:!1,validate:A=>{const L=cn.getValue(A);if(L.length===0)return kg(So.value(!0));{const H=bl("span");qn(H,"background-color",L);const q=$s(H,"background-color").fold(()=>So.error("blah"),re=>So.value(L));return kg(q)}}}})]),selectOnFocus:!1}),w=l.label.map(A=>kh(A,f.providers)),E=(A,L)=>{gn(A,Y1,{value:L})},O=Vr(((A,L)=>Rf.sketch({dom:A.dom,components:A.components,toggleClass:"mce-active",dropdownBehaviours:Ht([uv(L.providers.isDisabled),tl(),K1.config({}),Sa.config({})]),layouts:A.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:L.getSink,fetch:H=>Vb(q=>A.fetch(q)).map(q=>B.from($S(ye(kk(bn("menu-value"),q,re=>{A.onItemAction(H,re)},A.columns,A.presets,um.CLOSE_ON_EXECUTE,Je,L.providers),{movement:_k(A.columns,A.presets)})))),parts:{menu:E1(0,0,A.presets)}}))({dom:{tag:"span",attributes:{"aria-label":f.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Cr,Ai,la],onLtr:()=>[Ai,Cr,la]},components:[],fetch:MS(m.getColors(l.storageKey),l.storageKey,m.hasCustomColors()),columns:m.getColorCols(l.storageKey),presets:"color",onItemAction:(A,L)=>{O.getOpt(A).each(H=>{L==="custom"?m.colorPicker(q=>{q.fold(()=>Lo(H,tE),re=>{E(H,re),Cz(l.storageKey,re)})},"#ffffff"):E(H,L==="remove"?"":L)})}},f));return Lr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:w.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[x,O.asSpec()]}]),fieldBehaviours:Ht([xo("form-field-events",[mt(xv,(A,L)=>{O.getOpt(A).each(H=>{qn(H.element,"background-color",L.event.color)}),gn(A,Xu,{name:l.name})}),mt(Y1,(A,L)=>{Lr.getField(A).each(H=>{cn.setValue(H,L.event.value),tr.getCurrent(A).each(ao.focus)})}),mt(tE,(A,L)=>{Lr.getField(A).each(H=>{tr.getCurrent(A).each(ao.focus)})})])])})})(o,s.shared,s.colorinput,i)),colorpicker:ml((o,s,i)=>((l,f,m)=>{const b=E=>"tox-"+E,x=Uk((E=>O=>de(O)?E.translate(bE[O]):E.translate(O))(f),b),w=Vr(x.sketch({dom:{tag:"div",classes:[b("color-picker-container")],attributes:{role:"presentation"}},onValidHex:E=>{gn(E,_g,{name:"hex-valid",value:!0})},onInvalidHex:E=>{gn(E,_g,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[w.asSpec()],behaviours:Ht([r0(m,E=>{const O=w.get(E);return tr.getCurrent(O).bind(A=>cn.getValue(A).hex).map(A=>"#"+Ud(A,"#")).getOr("")},(E,O)=>{const A=B.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(O)).bind(H=>Ft(H,1)),L=w.get(E);tr.getCurrent(L).fold(()=>{console.log("Can not find form")},H=>{cn.setValue(H,{hex:A.getOr("")}),Sv.getField(H,"hex").each(q=>{Lo(q,Hn())})})}),Gb()])}})(0,s.shared.providers,i)),dropzone:ml((o,s,i)=>((l,f,m)=>{const b=(q,re)=>{re.stop()},x=q=>(re,se)=>{nn(q,me=>{me(re,se)})},w=(q,re)=>{var se;if(!Xn.isDisabled(q)){const me=re.event.raw;O(q,(se=me.dataTransfer)===null||se===void 0?void 0:se.files)}},E=(q,re)=>{const se=re.event.raw.target;O(q,se.files)},O=(q,re)=>{re&&(cn.setValue(q,((se,me)=>{const te=Eg.explode(me.getOption("images_file_types"));return Pn(lo(se),Q=>Hr(te,ce=>hl(Q.name.toLowerCase(),`.${ce.toLowerCase()}`)))})(re,f)),gn(q,Xu,{name:l.name}))},A=Vr({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Ht([xo("input-file-events",[hd(gr()),hd(Ll())])])}),L=l.label.map(q=>kh(q,f)),H=Lr.parts.field({factory:{sketch:q=>({uid:q.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Ht([jk(m.getOr([])),Gb(),Xn.config({}),Bo.config({toggleClass:"dragenter",toggleOnExecute:!1}),xo("dropzone-events",[mt("dragenter",x([b,Bo.toggle])),mt("dragleave",x([b,Bo.toggle])),mt("dragover",b),mt("drop",x([b,w])),mt(En(),E)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Ss(f.translate("Drop an image here"))]},cc.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Ss(f.translate("Browse for an image")),A.asSpec()],action:re=>{A.get(re).element.dom.click()},buttonBehaviours:Ht([Sa.config({}),uv(f.isDisabled),tl()])})]}]})}});return Md(L,H,["tox-form__group--stretched"],[])})(o,s.shared.providers,i)),grid:ml((o,s)=>((i,l)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${i.columns}col`]},components:St(i.items,l.interpreter)}))(o,s.shared)),listbox:ml((o,s,i)=>((l,f,m)=>{const b=f.shared.providers,x=m.bind(A=>SE(l.items,A)).orThunk(()=>dt(l.items).filter(Jk)),w=l.label.map(A=>kh(A,b)),E=Lr.parts.field({dom:{},factory:{sketch:A=>Xk({uid:A.uid,text:x.map(L=>L.text),icon:B.none(),tooltip:l.label,role:B.none(),fetch:(L,H)=>{const q=RO(L,l.name,l.items,cn.getValue(L));H(l0(q,um.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!1,search:B.none()}))},onSetup:Te(ht),getApi:Te({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Sa.config({}),r0(x.map(L=>L.value),L=>Vs(L.element,CE),(L,H)=>{SE(l.items,H).each(q=>{eo(L.element,CE,q.value),gn(L,pm,{text:q.text})})})]},"tox-listbox",f.shared)}}),O={dom:{tag:"div",classes:["tox-listboxfield"]},components:[E]};return Lr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Xo([w.toArray(),[O]]),fieldBehaviours:Ht([Xn.config({disabled:Te(!l.enabled),onDisabled:A=>{Lr.getField(A).each(Xn.disable)},onEnabled:A=>{Lr.getField(A).each(Xn.enable)}})])})})(o,s,i)),selectbox:ml((o,s,i)=>((l,f,m)=>{const b=St(l.items,A=>({text:f.translate(A.text),value:A.value})),x=l.label.map(A=>kh(A,f)),w=Lr.parts.field({dom:{},...m.map(A=>({data:A})).getOr({}),selectAttributes:{size:l.size},options:b,factory:BO,selectBehaviours:Ht([Xn.config({disabled:()=>!l.enabled||f.isDisabled()}),Sa.config({}),xo("selectbox-change",[mt(En(),(A,L)=>{gn(A,Xu,{name:l.name})})])])}),E=l.size>1?B.none():B.some(Km("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},f.icons)),O={dom:{tag:"div",classes:["tox-selectfield"]},components:Xo([[w],E.toArray()])};return Lr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Xo([x.toArray(),[O]]),fieldBehaviours:Ht([Xn.config({disabled:()=>!l.enabled||f.isDisabled(),onDisabled:A=>{Lr.getField(A).each(Xn.disable)},onEnabled:A=>{Lr.getField(A).each(Xn.enable)}}),tl()])})})(o,s.shared.providers,i)),sizeinput:ml((o,s)=>((i,l)=>{let f=ix;const m=bn("ratio-event"),b=H=>Km(H,{tag:"span",classes:["tox-icon","tox-lock-icon__"+H]},l.icons),x=Ju.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:l.translate(i.label.getOr("Constrain proportions"))}},components:[b("lock"),b("unlock")],buttonBehaviours:Ht([Xn.config({disabled:()=>!i.enabled||l.isDisabled()}),tl(),Sa.config({})])}),w=H=>({dom:{tag:"div",classes:["tox-form__group"]},components:H}),E=H=>Lr.parts.field({factory:Nb,inputClasses:["tox-textfield"],inputBehaviours:Ht([Xn.config({disabled:()=>!i.enabled||l.isDisabled()}),tl(),Sa.config({}),xo("size-input-events",[mt(Ae(),(q,re)=>{gn(q,m,{isField1:H})}),mt(En(),(q,re)=>{gn(q,Xu,{name:i.name})})])]),selectOnFocus:!1}),O=H=>({dom:{tag:"label",classes:["tox-label"]},components:[Ss(l.translate(H))]}),A=Ju.parts.field1(w([Lr.parts.label(O("Width")),E(!0)])),L=Ju.parts.field2(w([Lr.parts.label(O("Height")),E(!1)]));return Ju.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[A,L,w([O(" "),x])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(H,q,re)=>{e_(cn.getValue(H)).each(se=>{f(se).each(me=>{cn.setValue(q,(te=>{const Q={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let ce=te.value.toFixed((pe=te.unit)in Q?Q[pe]:1);var pe;return ce.indexOf(".")!==-1&&(ce=ce.replace(/\.?0*$/,"")),ce+te.unit})(me))})})},coupledFieldBehaviours:Ht([Xn.config({disabled:()=>!i.enabled||l.isDisabled(),onDisabled:H=>{Ju.getField1(H).bind(Lr.getField).each(Xn.disable),Ju.getField2(H).bind(Lr.getField).each(Xn.disable),Ju.getLock(H).each(Xn.disable)},onEnabled:H=>{Ju.getField1(H).bind(Lr.getField).each(Xn.enable),Ju.getField2(H).bind(Lr.getField).each(Xn.enable),Ju.getLock(H).each(Xn.enable)}}),tl(),xo("size-input-events2",[mt(m,(H,q)=>{const re=q.event.isField1,se=re?Ju.getField1(H):Ju.getField2(H),me=re?Ju.getField2(H):Ju.getField1(H),te=se.map(cn.getValue).getOr(""),Q=me.map(cn.getValue).getOr("");f=((ce,pe)=>{const _e=e_(ce).toOptional(),Re=e_(pe).toOptional();return ii(_e,Re,(Ge,pt)=>LO(Ge,pt.unit).map(yt=>pt.value/yt).map(yt=>{return Et=yt,en=pt.unit,xn=>LO(xn,en).map(Bn=>({value:Bn*Et,unit:en}));var Et,en}).getOr(ix)).getOr(ix)})(te,Q)})])])})})(o,s.shared.providers)),slider:ml((o,s,i)=>((l,f,m)=>{const b=Bf.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ss(f.translate(l.label))]}),x=Bf.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),w=Bf.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Bf.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:l.min,maxX:l.max,getInitialValue:Te(m.getOrThunk(()=>(Math.abs(l.max)-Math.abs(l.min))/2))},components:[b,x,w],sliderBehaviours:Ht([Gb(),ao.config({})]),onChoose:(E,O,A)=>{gn(E,Xu,{name:l.name,value:A})}})})(o,s.shared.providers,i)),urlinput:ml((o,s,i)=>((l,f,m,b)=>{const x=f.shared.providers,w=te=>{const Q=cn.getValue(te);m.addToHistory(Q.value,l.filetype)},E={...b.map(te=>({initialData:te})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":nA,type:"url"},minChars:0,responseTime:0,fetch:te=>{const Q=((pe,_e,Re)=>{var Ge,pt;const yt=cn.getValue(_e),Et=(pt=(Ge=yt==null?void 0:yt.meta)===null||Ge===void 0?void 0:Ge.text)!==null&&pt!==void 0?pt:yt.value;return Re.getLinkInformation().fold(()=>[],en=>{const xn=i_(Et,(Qn=>St(Qn,uo=>IE(uo,uo)))(Re.getHistory(pe)));return pe==="file"?(Bn=[xn,i_(Et,tA(en)),i_(Et,Xo([DM(en),NM(en),FE(en)]))],Y(Bn,(Qn,uo)=>Qn.length===0||uo.length===0?Qn.concat(uo):Qn.concat(OM,uo),[])):xn;var Bn})})(l.filetype,te,m),ce=l0(Q,um.BUBBLE_TO_SANDBOX,f,{isHorizontalMenu:!1,search:B.none()});return kg(ce)},getHotspot:te=>se.getOpt(te),onSetValue:(te,Q)=>{te.hasConfigured(Jm)&&Jm.run(te).get(ht)},typeaheadBehaviours:Ht([...m.getValidationHandler().map(te=>Jm.config({getRoot:Q=>ea(Q.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(Q,ce)=>{L.getOpt(Q).each(pe=>{eo(pe.element,"title",x.translate(ce))})}},validator:{validate:Q=>{const ce=cn.getValue(Q);return JO(pe=>{te({type:l.filetype,url:ce.value},_e=>{if(_e.status==="invalid"){const Re=So.error(_e.message);pe(Re)}else{const Re=So.value(_e.message);pe(Re)}})})},validateOnLoad:!1}})).toArray(),Xn.config({disabled:()=>!l.enabled||x.isDisabled()}),Sa.config({}),xo("urlinput-events",[mt(Hn(),te=>{const Q=vd(te.element),ce=Q.trim();ce!==Q&&Kf(te.element,ce),l.filetype==="file"&&gn(te,Xu,{name:l.name})}),mt(En(),te=>{gn(te,Xu,{name:l.name}),w(te)}),mt(kn(),te=>{gn(te,Xu,{name:l.name}),w(te)})])]),eventOrder:{[Hn()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:te=>te.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:f.shared.getSink,parts:{menu:E1(0,0,"normal")},onExecute:(te,Q,ce)=>{gn(Q,q1,{})},onItemExecute:(te,Q,ce,pe)=>{w(te),gn(te,Xu,{name:l.name})}},O=Lr.parts.field({...E,factory:XO}),A=l.label.map(te=>kh(te,x)),L=Vr(((te,Q,ce=te,pe=te)=>Km(ce,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+te],attributes:{title:x.translate(pe),"aria-live":"polite",...Q.fold(()=>({}),_e=>({id:_e}))}},x.icons))("invalid",B.some(nA),"warning")),H=Vr({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[L.asSpec()]}),q=m.getUrlPicker(l.filetype),re=bn("browser.url.event"),se=Vr({dom:{tag:"div",classes:["tox-control-wrap"]},components:[O,H.asSpec()],behaviours:Ht([Xn.config({disabled:()=>!l.enabled||x.isDisabled()})])}),me=Vr(LE({name:l.name,icon:B.some("browse"),text:l.picker_text.or(l.label).getOr(""),enabled:l.enabled,primary:!1,buttonType:B.none(),borderless:!0},te=>Lo(te,re),x,[],["tox-browse-url"]));return Lr.sketch({dom:XS([]),components:A.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Xo([[se.asSpec()],q.map(()=>me.asSpec()).toArray()])}]),fieldBehaviours:Ht([Xn.config({disabled:()=>!l.enabled||x.isDisabled(),onDisabled:te=>{Lr.getField(te).each(Xn.disable),me.getOpt(te).each(Xn.disable)},onEnabled:te=>{Lr.getField(te).each(Xn.enable),me.getOpt(te).each(Xn.enable)}}),tl(),xo("url-input-events",[mt(re,te=>{tr.getCurrent(te).each(Q=>{const ce=cn.getValue(Q),pe={fieldname:l.name,...ce};q.each(_e=>{_e(pe).get(Re=>{cn.setValue(Q,Re),gn(te,Xu,{name:l.name})})})})})])])})})(o,s,s.urlinput,i)),customeditor:ml(o=>{const s=Es(),i=Vr({dom:{tag:o.tag}}),l=Es();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Ht([xo("custom-editor-events",[ts(f=>{i.getOpt(f).each(m=>{((b=>_n(b,"init"))(o)?o.init(m.element.dom):yE.load(o.scriptId,o.scriptUrl).then(b=>b(m.element.dom,o.settings))).then(b=>{l.on(x=>{b.setValue(x)}),l.clear(),s.set(b)})})})]),r0(B.none(),()=>s.get().fold(()=>l.get().getOr(""),f=>f.getValue()),(f,m)=>{s.get().fold(()=>l.set(m),b=>b.setValue(m))}),Gb()]),components:[i.asSpec()]}}),htmlpanel:ml(o=>o.presets==="presentation"?Bd.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:o.html}}):Bd.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:o.html,attributes:{role:"document"}},containerBehaviours:Ht([Sa.config({}),ao.config({})])})),imagepreview:ml((o,s,i)=>((l,f)=>{const m=Ln(f.getOr({url:""})),b=Vr({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:f.map(O=>({src:O.url})).getOr({})}}),x=Vr({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[b.asSpec()]}),w={};l.height.each(O=>w.height=O);const E=f.map(O=>({url:O.url,zoom:B.from(O.zoom),cachedWidth:B.from(O.cachedWidth),cachedHeight:B.from(O.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:w,attributes:{role:"presentation"}},components:[x.asSpec()],behaviours:Ht([Gb(),r0(E,()=>m.get(),(O,A)=>{const L={url:A.url};A.zoom.each(q=>L.zoom=q),A.cachedWidth.each(q=>L.cachedWidth=q),A.cachedHeight.each(q=>L.cachedHeight=q),m.set(L);const H=()=>{const{cachedWidth:q,cachedHeight:re,zoom:se}=L;if(!vt(q)&&!vt(re)){if(vt(se)){const te=((Q,ce,pe)=>{const _e=jr(Q),Re=et(Q);return Math.min(_e/ce,Re/pe,1)})(O.element,q,re);L.zoom=te}const me=((te,Q,ce,pe,_e)=>{const Re=ce*_e,Ge=pe*_e,pt=Math.max(0,te/2-Re/2),yt=Math.max(0,Q/2-Ge/2);return{left:pt.toString()+"px",top:yt.toString()+"px",width:Re.toString()+"px",height:Ge.toString()+"px"}})(jr(O.element),et(O.element),q,re,L.zoom);x.getOpt(O).each(te=>{Jl(te.element,me)})}};b.getOpt(O).each(q=>{const re=q.element;var se;A.url!==Vs(re,"src")&&(eo(re,"src",A.url),Ls(O.element,"tox-imagepreview__loaded")),H(),(se=re,new Promise((me,te)=>{const Q=()=>{pe(),me(se)},ce=[Qi(se,"load",Q),Qi(se,"error",()=>{pe(),te("Unable to load data from image: "+se.dom.src)})],pe=()=>nn(ce,_e=>_e.unbind());se.dom.complete&&Q()})).then(me=>{O.getSystem().isConnected()&&(hr(O.element,"tox-imagepreview__loaded"),L.cachedWidth=me.dom.naturalWidth,L.cachedHeight=me.dom.naturalHeight,H())})})})])}})(o,i)),table:ml((o,s)=>((i,l)=>{const f=x=>({dom:{tag:"td",innerHtml:l.translate(x)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(b=i.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:St(b,x=>({dom:{tag:"th",innerHtml:l.translate(x)}}))}]}),(m=i.cells,{dom:{tag:"tbody"},components:St(m,x=>({dom:{tag:"tr"},components:St(x,f)}))})],behaviours:Ht([Sa.config({}),ao.config({})])};var m,b})(o,s.shared.providers)),tree:ml((o,s)=>((i,l)=>{const f=i.onLeafAction.getOr(ht),m=i.onToggleExpand.getOr(ht),b=i.defaultExpandedIds,x=Ln(b),w=Ln(i.defaultSelectedId),E=bn("tree-id"),O=(A,L)=>i.items.map(H=>H.type==="leaf"?NE({leaf:H,selectedId:A,onLeafAction:f,visible:!0,treeId:E,backstage:l}):DE({directory:H,selectedId:A,onLeafAction:f,expandedIds:L,labelTabstopping:!0,treeId:E,backstage:l}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:O(w.get(),x.get()),behaviours:Ht([Qt.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),xo(CM,[mt("expand-tree-node",(A,L)=>{const{expanded:H,node:q}=L.event;x.set(H?[...x.get(),q]:x.get().filter(re=>re!==q)),m(x.get(),{expanded:H,node:q})})]),ac.config({channels:{[`update-active-item-${E}`]:{onReceive:(A,L)=>{w.set(B.some(L.value)),Jn.set(A,O(B.some(L.value),x.get()))}}}}),Jn.config({})])}})(o,s)),panel:ml((o,s)=>((i,l)=>({dom:{tag:"div",classes:i.classes},components:St(i.items,l.shared.interpreter)}))(o,s))},rA={field:(o,s)=>s,record:Te([])},VE=(o,s,i,l)=>{const f=ye(l,{shared:{interpreter:m=>l_(o,m,i,f)}});return l_(o,s,i,f)},l_=(o,s,i,l)=>dn(BM,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),f=>f(o,s,i,l)),sA=(o,s,i)=>l_(rA,o,s,i),Yb="layout-inset",HE=o=>o.x,aA=(o,s)=>o.x+o.width/2-s.width/2,fx=(o,s)=>o.x+o.width-s.width,UE=o=>o.y,jE=(o,s)=>o.y+o.height-s.height,ZE=(o,s)=>o.y+o.height/2-s.height/2,mx=(o,s,i)=>Xi(fx(o,s),jE(o,s),i.insetSouthwest(),Uh(),"southwest",bi(o,{right:0,bottom:3}),Yb),c_=(o,s,i)=>Xi(HE(o),jE(o,s),i.insetSoutheast(),fy(),"southeast",bi(o,{left:1,bottom:3}),Yb),px=(o,s,i)=>Xi(fx(o,s),UE(o),i.insetNorthwest(),Wg(),"northwest",bi(o,{right:0,top:2}),Yb),gx=(o,s,i)=>Xi(HE(o),UE(o),i.insetNortheast(),Zg(),"northeast",bi(o,{left:1,top:2}),Yb),Pi=(o,s,i)=>Xi(aA(o,s),UE(o),i.insetNorth(),E0(),"north",bi(o,{top:2}),Yb),pu=(o,s,i)=>Xi(aA(o,s),jE(o,s),i.insetSouth(),jh(),"south",bi(o,{bottom:3}),Yb),WE=(o,s,i)=>Xi(fx(o,s),ZE(o,s),i.insetEast(),yp(),"east",bi(o,{right:0}),Yb),d_=(o,s,i)=>Xi(HE(o),ZE(o,s),i.insetWest(),vf(),"west",bi(o,{left:1}),Yb),$E=o=>{switch(o){case"north":return Pi;case"northeast":return gx;case"northwest":return px;case"south":return pu;case"southeast":return c_;case"southwest":return mx;case"east":return WE;case"west":return d_}},hx=(o,s,i,l,f)=>T0(l).map($E).getOr(Pi)(o,s,i,l,f),iA=o=>{switch(o){case"north":return pu;case"northeast":return c_;case"northwest":return mx;case"south":return Pi;case"southeast":return gx;case"southwest":return px;case"east":return d_;case"west":return WE}},bx=(o,s,i,l,f)=>T0(l).map(iA).getOr(Pi)(o,s,i,l,f),Xb={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},qE=(o,s,i)=>{const l={maxHeightFunction:wp()};return()=>i()?{type:"node",root:Oa(as(o())),node:B.from(o()),bubble:Ri(12,12,Xb),layouts:{onRtl:()=>[gx],onLtr:()=>[px]},overrides:l}:{type:"hotspot",hotspot:s(),bubble:Ri(-12,12,Xb),layouts:{onRtl:()=>[Ai,Cr,la],onLtr:()=>[Cr,Ai,la]},overrides:l}},lA=(o,s,i,l)=>{const f={maxHeightFunction:wp()};return()=>l()?{type:"node",root:Oa(as(s())),node:B.from(s()),bubble:Ri(12,12,Xb),layouts:{onRtl:()=>[Pi],onLtr:()=>[Pi]},overrides:f}:o?{type:"node",root:Oa(as(s())),node:B.from(s()),bubble:Ri(0,-Vt(s()),Xb),layouts:{onRtl:()=>[Il],onLtr:()=>[Il]},overrides:f}:{type:"hotspot",hotspot:i(),bubble:Ri(0,0,Xb),layouts:{onRtl:()=>[Il],onLtr:()=>[Il]},overrides:f}},yx=(o,s,i)=>()=>i()?{type:"node",root:Oa(as(o())),node:B.from(o()),layouts:{onRtl:()=>[Pi],onLtr:()=>[Pi]}}:{type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[la],onLtr:()=>[la]}},MM=(o,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const i=o.selection.getRng(),l=o.model.table.getSelectedCells();if(l.length>1){const f=l[0],m=l[l.length-1],b={firstCell:Jt(f),lastCell:Jt(m)};return B.some(b)}return B.some(Cf.range(Jt(i.startContainer),i.startOffset,Jt(i.endContainer),i.endOffset))}}),LM=o=>s=>({type:"node",root:o(),node:s}),Dp=(o,s,i,l)=>{const f=$y(o),m=()=>Jt(o.getBody()),b=()=>Jt(o.getContentAreaContainer()),x=()=>f||!l();return{inlineDialog:qE(b,s,x),inlineBottomDialog:lA(o.inline,b,i,x),banner:yx(b,s,x),cursor:MM(o,m),node:LM(m)}},Qu=o=>(s,i)=>{wk(o)(s,i)},vx=o=>()=>hv(o),hm=o=>s=>U1(o,s),PM=o=>s=>gv(o,s),Ts=o=>()=>A3(o),cA=o=>Ws(o,"items"),Jb=o=>Ws(o,"format"),Av=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],GE=o=>Y(o,(s,i)=>{if(_n(i,"items")){const l=GE(i.items);return{customFormats:s.customFormats.concat(l.customFormats),formats:s.formats.concat([{title:i.title,items:l.formats}])}}if(_n(i,"inline")||(l=>_n(l,"block"))(i)||(l=>_n(l,"selector"))(i)){const l=`custom-${de(i.name)?i.name:i.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:l,format:i}]),formats:s.formats.concat([{title:i.title,format:l,icon:i.icon}])}}return{...s,formats:s.formats.concat(i)}},{customFormats:[],formats:[]}),u_=o=>LC(o).map(s=>{const i=((l,f)=>{const m=GE(f),b=x=>{nn(x,w=>{l.formatter.has(w.name)||l.formatter.register(w.name,w.format)})};return l.formatter?b(m.customFormats):l.on("init",()=>{b(m.customFormats)}),m.formats})(o,s);return J0(o)?Av.concat(i):i}).getOr(Av),f_=(o,s,i)=>({...o,type:"formatter",isSelected:s(o.format),getStylePreview:i(o.format)}),dA=(o,s,i,l)=>{const f=m=>St(m,b=>cA(b)?(x=>{const w=f(x.items);return{...x,type:"submenu",getStyleItems:Te(w)}})(b):Jb(b)?(x=>f_(x,i,l))(b):(x=>{const w=mo(x);return w.length===1&&Mn(w,"title")})(b)?{...b,type:"separator"}:(x=>{const w=de(x.name)?x.name:bn(x.title),E=`custom-${w}`,O={...x,type:"formatter",format:E,isSelected:i(E),getStylePreview:l(E)};return o.formatter.register(w,O),O})(b));return f(s)},KE=Eg.trim,uA=o=>s=>!!((i=>lt(i)&&i.nodeType===1)(s)&&(s.contentEditable===o||s.getAttribute("data-mce-contenteditable")===o)),fA=uA("true"),mA=uA("false"),m_=(o,s,i,l,f)=>({type:o,title:s,url:i,level:l,attach:f}),YE=o=>o.innerText||o.textContent,p_=o=>(s=>s&&s.nodeName==="A"&&(s.id||s.name)!==void 0)(o)&&gA(o),pA=o=>o&&/^(H[1-6])$/.test(o.nodeName),gA=o=>(s=>{let i=s;for(;i=i.parentNode;){const l=i.contentEditable;if(l&&l!=="inherit")return fA(i)}return!1})(o)&&!mA(o),IM=o=>pA(o)&&gA(o),FM=o=>{var s;const i=(l=>l.id?l.id:bn("h"))(o);return m_("header",(s=YE(o))!==null&&s!==void 0?s:"","#"+i,(l=>pA(l)?parseInt(l.nodeName.substr(1),10):0)(o),()=>{o.id=i})},VM=o=>{const s=o.id||o.name,i=YE(o);return m_("anchor",i||"#"+s,"#"+s,0,ht)},hA=o=>KE(o.title).length>0,HM=o=>{const s=(i=>St(Ul(Jt(i),"h1,h2,h3,h4,h5,h6,a:not([href])"),f=>f.dom))(o);return Pn((i=>St(Pn(i,IM),FM))(s).concat((i=>St(Pn(i,p_),VM))(s)),hA)},g_="tinymce-url-history",XE=o=>de(o)&&/^https?/.test(o),bA=o=>be(o)&&ua(o,s=>{return!(Me(i=s)&&i.length<=5&&Gl(i,XE));var i}).isNone(),JE=()=>{const o=Fb.getItem(g_);if(o===null)return{};let s;try{s=JSON.parse(o)}catch(i){if(i instanceof SyntaxError)return console.log("Local storage "+g_+" was not valid JSON",i),{};throw i}return bA(s)?s:(console.log("Local storage "+g_+" was not valid format",s),{})},xx=o=>{const s=JE();return dn(s,o).getOr([])},UM=(o,s)=>{if(!XE(o))return;const i=JE(),l=dn(i,s).getOr([]),f=Pn(l,m=>m!==o);i[s]=[o].concat(f).slice(0,5),(m=>{if(!bA(m))throw new Error(`Bad format for history:
`+JSON.stringify(m));Fb.setItem(g_,JSON.stringify(m))})(i)},yA=o=>!!o,vA=o=>go(Eg.makeMap(o,/[, ]/),yA),h_=o=>B.from(FC(o)),QE=o=>B.from(o).filter(de).getOrUndefined(),jM=o=>({getHistory:xx,addToHistory:UM,getLinkInformation:()=>(s=>UC(s)?B.some({targets:HM(s.getBody()),anchorTop:QE(O3(s)),anchorBottom:QE(jC(s))}):B.none())(o),getValidationHandler:()=>(s=>B.from(VC(s)))(o),getUrlPicker:s=>((i,l)=>((f,m)=>{const b=(x=>{const w=B.from(z3(x)).filter(yA).map(vA);return h_(x).fold(Je,E=>w.fold(un,O=>mo(O).length>0&&O))})(f);return Xe(b)?b?h_(f):B.none():b[m]?h_(f):B.none()})(i,l).map(f=>m=>Vb(b=>{const x={filetype:l,fieldname:m.fieldname,...B.from(m.meta).getOr({})};f.call(i,(w,E)=>{if(!de(w))throw new Error("Expected value to be string");if(E!==void 0&&!be(E))throw new Error("Expected meta to be a object");b({value:w,meta:E})},m.value,x)})))(o,s)}),Nl=hg,zg=Oo,ZM=Te([Ue("shell",!1),at("makeItem"),Ue("setupItem",ht),Mi("listBehaviours",[Jn])]),WM=sn({name:"items",overrides:()=>({behaviours:Ht([Jn.config({})])})}),$M=Te([WM]),e4=lc({name:Te("CustomList")(),configFields:ZM(),partFields:$M(),factory:(o,s,i,l)=>{const f=o.shell?{behaviours:[Jn.config({})],components:[]}:{behaviours:[],components:s};return{uid:o.uid,dom:o.dom,components:f.components,behaviours:Bi(o.listBehaviours,f.behaviours),apis:{setItems:(m,b)=>{var x;(x=m,o.shell?B.some(x):Nn(x,o,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},w=>{const E=Jn.contents(w),O=b.length,A=O-E.length,L=A>0?zt(A,()=>o.makeItem()):[],H=E.slice(O);nn(H,re=>Jn.remove(w,re)),nn(L,re=>Jn.append(w,re));const q=Jn.contents(w);nn(q,(re,se)=>{o.setupItem(m,re,b[se],se)})})}}}},apis:{setItems:(o,s,i)=>{o.setItems(s,i)}}}),Ld=Te([at("dom"),Ue("shell",!0),ca("toolbarBehaviours",[Jn])]),qM=Te([sn({name:"groups",overrides:()=>({behaviours:Ht([Jn.config({})])})})]),bm=lc({name:"Toolbar",configFields:Ld(),partFields:qM(),factory:(o,s,i,l)=>{const f=o.shell?{behaviours:[Jn.config({})],components:[]}:{behaviours:[],components:s};return{uid:o.uid,dom:o.dom,components:f.components,behaviours:Bi(o.toolbarBehaviours,f.behaviours),apis:{setGroups:(m,b)=>{var x;(x=m,o.shell?B.some(x):Nn(x,o,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},w=>{Jn.set(w,b)})},refresh:ht},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,s,i)=>{o.setGroups(s,i)}}}),xA=ht,wA=Je,kA=Te([]);var t4,_A=Object.freeze({__proto__:null,setup:xA,isDocked:wA,getBehaviours:kA});const b_=o=>(xi($s(o,"position"),"fixed")?B.none():Vf(o)).orThunk(()=>{const s=bl("span");return ol(o).bind(i=>{Hs(i,s);const l=Vf(s);return ma(s),l})}),CA=o=>b_(o).map(Vn).getOrThunk(()=>ro(0,0)),GM=(o,s)=>{const i=o.element;hr(i,s.transitionClass),Ls(i,s.fadeOutClass),hr(i,s.fadeInClass),s.onShow(o)},KM=(o,s)=>{const i=o.element;hr(i,s.transitionClass),Ls(i,s.fadeInClass),hr(i,s.fadeOutClass),s.onHide(o)},SA=(o,s)=>o.y>=s.y,EA=(o,s)=>o.bottom<=s.bottom,y_=(o,s,i)=>({location:"top",leftX:s,topY:i.bounds.y-o.y}),v_=(o,s,i)=>({location:"bottom",leftX:s,bottomY:o.bottom-i.bounds.bottom}),x_=o=>o.box.x-o.win.x,n4=(o,s,i)=>i.getInitialPos().map(l=>{const f=((m,b)=>{const x=b.optScrollEnv.fold(Te(m.bounds.y),w=>w.scrollElmTop+(m.bounds.y-w.currentScrollTop));return ro(m.bounds.x,x)})(l,s);return{box:Us(f.left,f.top,jr(o),et(o)),location:l.location}}),TA=(o,s,i,l,f)=>{const m=((x,w)=>{const E=w.optScrollEnv.fold(Te(x.y),O=>x.y+O.currentScrollTop-O.scrollElmTop);return ro(x.x,E)})(s,i),b=Us(m.left,m.top,s.width,s.height);l.setInitialPos({style:id(o),position:_s(o,"position")||"static",bounds:b,location:f.location})},zA=(o,s,i)=>i.getInitialPos().bind(l=>{var f;switch(i.clearInitialPos(),l.position){case"static":return B.some({morph:"static"});case"absolute":const m=b_(o).getOr(Ha()),b=pa(m),x=(f=m.dom.scrollTop)!==null&&f!==void 0?f:0;return B.some({morph:"absolute",positionCss:Fl("absolute",dn(l.style,"left").map(w=>s.x-b.x),dn(l.style,"top").map(w=>s.y-b.y+x),dn(l.style,"right").map(w=>b.right-s.right),dn(l.style,"bottom").map(w=>b.bottom-s.bottom))});default:return B.none()}}),Qb=o=>{switch(o.location){case"top":return B.some({morph:"fixed",positionCss:Fl("fixed",B.some(o.leftX),B.some(o.topY),B.none(),B.none())});case"bottom":return B.some({morph:"fixed",positionCss:Fl("fixed",B.some(o.leftX),B.none(),B.none(),B.some(o.bottomY))});default:return B.none()}},YM=(o,s,i)=>{const l=o.element;return xi($s(l,"position"),"fixed")?((f,m,b)=>((x,w,E)=>n4(x,w,E).filter(({box:O})=>((A,L,H)=>Gl(A,q=>{switch(q){case"bottom":return EA(L,H.bounds);case"top":return SA(L,H.bounds)}}))(E.getModes(),O,w)).bind(({box:O})=>zA(x,O,E)))(f,m,b).orThunk(()=>m.optScrollEnv.bind(x=>n4(f,m,b)).bind(({box:x,location:w})=>{const E=Qr(),O=x_({win:E,box:x}),A=w==="top"?y_(E,O,m):v_(E,O,m);return Qb(A)})))(l,s,i):((f,m,b)=>{const x=pa(f),w=Qr(),E=((O,A,L)=>{const H=A.win,q=A.box,re=x_(A);return qo(O,se=>{switch(se){case"bottom":return EA(q,L.bounds)?B.none():B.some(v_(H,re,L));case"top":return SA(q,L.bounds)?B.none():B.some(y_(H,re,L));default:return B.none()}}).getOr({location:"no-dock"})})(b.getModes(),{win:w,box:x},m);return E.location==="top"||E.location==="bottom"?(TA(f,x,m,b,E),Qb(E)):B.none()})(l,s,i)},o4=(o,s,i)=>{i.setDocked(!1),nn(["left","right","top","bottom","position"],l=>or(o.element,l)),s.onUndocked(o)},w_=(o,s,i,l)=>{const f=l.position==="fixed";i.setDocked(f),$h(o.element,l),(f?s.onDocked:s.onUndocked)(o)},r4=(o,s,i,l,f=!1)=>{s.contextual.each(m=>{m.lazyContext(o).each(b=>{const x=((w,E)=>w.y<E.bottom&&w.bottom>E.y)(b,l.bounds);x!==i.isVisible()&&(i.setVisible(x),f&&!x?(Yi(o.element,[m.fadeOutClass]),m.onHide(o)):(x?GM:KM)(o,m))})})},k_=(o,s,i,l,f)=>{r4(o,s,i,l,!0),w_(o,s,i,f.positionCss)},Nv=(o,s,i)=>{o.getSystem().isConnected()&&((l,f,m)=>{const b=f.lazyViewport(l);r4(l,f,m,b),YM(l,b,m).each(x=>{((w,E,O,A,L)=>{switch(L.morph){case"static":return o4(w,E,O);case"absolute":return w_(w,E,O,L.positionCss);case"fixed":k_(w,E,O,A,L)}})(l,f,m,b,x)})})(o,s,i)},__=(o,s,i)=>{i.isDocked()&&((l,f,m)=>{const b=l.element;m.setDocked(!1);const x=f.lazyViewport(l);((w,E,O)=>{const A=w.element;return n4(A,E,O).bind(({box:L})=>zA(A,L,O))})(l,x,m).each(w=>{switch(w.morph){case"static":o4(l,f,m);break;case"absolute":w_(l,f,m,w.positionCss)}}),m.setVisible(!0),f.contextual.each(w=>{Mc(b,[w.fadeInClass,w.fadeOutClass,w.transitionClass]),w.onShow(l)}),Nv(l,f,m)})(o,s,i)},s4=o=>(s,i,l)=>{const f=i.lazyViewport(s);((m,b,x,w)=>{const E=pa(m),O=Qr(),A=w(O,x_({win:O,box:E}),b);return A.location==="bottom"||A.location==="top"?(((L,H,q,re,se)=>{re.getInitialPos().fold(()=>TA(L,H,q,re,se),()=>ht)})(m,E,b,x,A),Qb(A)):B.none()})(s.element,f,l,o).each(m=>{k_(s,i,l,f,m)})},XM=s4(y_),OA=s4(v_);var JM=Object.freeze({__proto__:null,refresh:Nv,reset:__,isDocked:(o,s,i)=>i.isDocked(),getModes:(o,s,i)=>i.getModes(),setModes:(o,s,i,l)=>i.setModes(l),forceDockToTop:XM,forceDockToBottom:OA}),QM=Object.freeze({__proto__:null,events:(o,s)=>Ro([Iu(Ti(),(i,l)=>{o.contextual.each(f=>{vs(i.element,f.transitionClass)&&(Mc(i.element,[f.transitionClass,f.fadeInClass]),(s.isVisible()?f.onShown:f.onHidden)(i)),l.stop()})}),mt(Ru(),(i,l)=>{Nv(i,o,s)}),mt(ss(),(i,l)=>{Nv(i,o,s)}),mt(Bc(),(i,l)=>{__(i,o,s)})])}),e6=[kl("contextual",[Bs("fadeInClass"),Bs("fadeOutClass"),Bs("transitionClass"),Ra("lazyContext"),Vo("onShow"),Vo("onShown"),Vo("onHide"),Vo("onHidden")]),ls("lazyViewport",()=>({bounds:Qr(),optScrollEnv:B.none()})),Mr("modes",["top","bottom"],ga),Vo("onDocked"),Vo("onUndocked")];const Ka=yi({fields:e6,name:"docking",active:QM,apis:JM,state:Object.freeze({__proto__:null,init:o=>{const s=Ln(!1),i=Ln(!0),l=Es(),f=Ln(o.modes);return ns({isDocked:s.get,setDocked:s.set,getInitialPos:l.get,setInitialPos:l.set,clearInitialPos:l.clear,isVisible:i.get,setVisible:i.set,getModes:f.get,setModes:f.set,readState:()=>`docked:  ${s.get()}, visible: ${i.get()}, modes: ${f.get().join(",")}`})}})}),C_=Te(bn("toolbar-height-change")),Rp={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},AA="tox-tinymce--toolbar-sticky-on",NA="tox-tinymce--toolbar-sticky-off",S_=(o,s)=>Mn(Ka.getModes(o),s),a4=o=>{const s=o.element;ea(s).each(i=>{const l="padding-"+Ka.getModes(o)[0];if(Ka.isDocked(o)){const f=jr(i);qn(s,"width",f+"px"),qn(i,l,(m=>Vt(m)+(parseInt(_s(m,"margin-top"),10)||0)+(parseInt(_s(m,"margin-bottom"),10)||0))(s)+"px")}else or(s,"width"),or(i,l)})},DA=(o,s)=>{s?(Ls(o,Rp.fadeOutClass),Yi(o,[Rp.transitionClass,Rp.fadeInClass])):(Ls(o,Rp.fadeInClass),Yi(o,[Rp.fadeOutClass,Rp.transitionClass]))},RA=(o,s)=>{const i=Jt(o.getContainer());s?(hr(i,AA),Ls(i,NA)):(hr(i,NA),Ls(i,AA))},BA=(o,s)=>{const i=Es(),l=s.getSink,f=x=>{l().each(w=>x(w.element))},m=x=>{o.inline||a4(x),RA(o,Ka.isDocked(x)),x.getSystem().broadcastOn([ug()],{}),l().each(w=>w.getSystem().broadcastOn([ug()],{}))},b=o.inline?[]:[ac.config({channels:{[C_()]:{onReceive:a4}}})];return[ao.config({}),Ka.config({contextual:{lazyContext:x=>{const w=Vt(x.element),E=o.inline?o.getContentAreaContainer():o.getContainer();return B.from(E).map(O=>{const A=pa(Jt(O));return Jy(o,x.element).fold(()=>{const L=A.height-w,H=A.y+(S_(x,"top")?0:w);return Us(A.x,H,A.width,L)},L=>{const H=$d(A,yv(L)),q=S_(x,"top")?H.y:H.y+w;return Us(H.x,q,H.width,H.height-w)})})},onShow:()=>{f(x=>DA(x,!0))},onShown:x=>{f(w=>Mc(w,[Rp.transitionClass,Rp.fadeInClass])),i.get().each(w=>{((E,O)=>{const A=Xa(O);Lc(A).filter(L=>!Jo(O,L)).filter(L=>Jo(L,Jt(A.dom.body))||As(E,L)).each(()=>ic(O))})(x.element,w),i.clear()})},onHide:x=>{((w,E)=>Qc(w).orThunk(()=>E().toOptional().bind(O=>Qc(O.element))))(x.element,l).fold(i.clear,i.set),f(w=>DA(w,!1))},onHidden:()=>{f(x=>Mc(x,[Rp.transitionClass]))},...Rp},lazyViewport:x=>Jy(o,x.element).fold(()=>{const w=Qr(),E=E3(o),O=w.y+(S_(x,"top")?E:0),A=w.height-(S_(x,"bottom")?E:0);return{bounds:Us(w.x,O,w.width,A),optScrollEnv:B.none()}},w=>({bounds:yv(w),optScrollEnv:B.some({currentScrollTop:w.element.dom.scrollTop,scrollElmTop:Vn(w.element).top})})),modes:[s.header.getDockingMode()],onDocked:m,onUndocked:m}),...b]};var t6=Object.freeze({__proto__:null,setup:(o,s,i)=>{o.inline||(s.header.isPositionedAtTop()||o.on("ResizeEditor",()=>{i().each(Ka.reset)}),o.on("ResizeWindow ResizeEditor",()=>{i().each(a4)}),o.on("SkinLoaded",()=>{i().each(l=>{Ka.isDocked(l)?Ka.reset(l):Ka.refresh(l)})}),o.on("FullscreenStateChanged",()=>{i().each(Ka.reset)})),o.on("AfterScrollIntoView",l=>{i().each(f=>{Ka.refresh(f);const m=f.element;Iy(m)&&((b,x)=>{const w=Xa(x),E=ku(x).dom.innerHeight,O=Ds(w),A=Jt(b.elm),L=oa(A),H=et(A),q=L.y,re=q+H,se=Vn(x),me=et(x),te=se.top,Q=te+me,ce=Math.abs(te-O.top)<2,pe=Math.abs(Q-(O.top+E))<2;if(ce&&q<Q)Fr(O.left,q-me,w);else if(pe&&re>te){const _e=q-E+H+me;Fr(O.left,_e,w)}})(l,m)})}),o.on("PostRender",()=>{RA(o,!1)})},isDocked:o=>o().map(Ka.isDocked).getOr(!1),getBehaviours:BA});const n6=Rn([ri,wl("items",Ei([bc([lk,Za("items",ga)]),ga]))].concat(lv)),o6=[Ar("text"),Ar("tooltip"),Ar("icon"),_a("search",!1,Ei([Nc,Rn([Ar("placeholder")])],o=>Xe(o)?o?B.some({placeholder:B.none()}):B.none():B.some(o))),Ra("fetch"),ls("onSetup",()=>ht)],MA=Rn([ri,...o6]),i4=o=>Wr("menubutton",MA,o),r6=Rn([ri,A1,Df,Mb,iB,rS,Bb,Ms("presets","normal",["normal","color","listpreview"]),X3(1),sv,sB]);var l4=Ed({factory:(o,s)=>{const i={focus:Qt.focusIn,setMenus:(l,f)=>{const m=St(f,b=>{const x={type:"menubutton",text:b.text,fetch:E=>{E(b.getItems())}},w=i4(x).mapError(E=>Gc(E)).getOrDie();return cx(w,"tox-mbtn",s.backstage,B.some("menuitem"))});Jn.set(l,m)}};return{uid:o.uid,dom:o.dom,components:[],behaviours:Ht([Jn.config({}),xo("menubar-events",[ts(l=>{o.onSetup(l)}),mt(Ce(),(l,f)=>{ia(l.element,".tox-mbtn--active").each(m=>{xd(f.event.target,".tox-mbtn").each(b=>{Jo(m,b)||l.getSystem().getByDom(m).each(x=>{l.getSystem().getByDom(b).each(w=>{Rf.expand(w),Rf.close(x),ao.focus(w)})})})})}),mt(Cl(),(l,f)=>{f.event.prevFocus.bind(m=>l.getSystem().getByDom(m).toOptional()).each(m=>{f.event.newFocus.bind(b=>l.getSystem().getByDom(b).toOptional()).each(b=>{Rf.isOpen(m)&&(Rf.expand(b),Rf.close(m))})})})]),Qt.config({mode:"flow",selector:".tox-mbtn",onEscape:l=>(o.onEscape(l),B.some(!0))}),Sa.config({})]),apis:i,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[at("dom"),at("uid"),at("onEscape"),at("backstage"),Ue("onSetup",ht)],apis:{focus:(o,s)=>{o.focus(s)},setMenus:(o,s,i)=>{o.setMenus(s,i)}}});const LA="container",s6=[ca("slotBehaviours",[])],PA=o=>"<alloy.field."+o+">",E_=(o,s)=>{const i=O=>dh(o),l=(O,A)=>(L,H)=>Nn(L,o,H).map(q=>O(q,H)).getOr(A),f=(O,A)=>Vs(O.element,"aria-hidden")!=="true",m=l(f,!1),b=l((O,A)=>{if(f(O)){const L=O.element;qn(L,"display","none"),eo(L,"aria-hidden","true"),gn(O,$f(),{name:A,visible:!1})}}),x=(O=>(A,L)=>{nn(L,H=>O(A,H))})(b),w=l((O,A)=>{if(!f(O)){const L=O.element;or(L,"display"),Xr(L,"aria-hidden"),gn(O,$f(),{name:A,visible:!0})}}),E={getSlotNames:i,getSlot:(O,A)=>Nn(O,o,A),isShowing:m,hideSlot:b,hideAllSlots:O=>x(O,i()),showSlot:w};return{uid:o.uid,dom:o.dom,components:s,behaviours:rr(o.slotBehaviours),apis:E}},IA=go({getSlotNames:(o,s)=>o.getSlotNames(s),getSlot:(o,s,i)=>o.getSlot(s,i),isShowing:(o,s,i)=>o.isShowing(s,i),hideSlot:(o,s,i)=>o.hideSlot(s,i),hideAllSlots:(o,s)=>o.hideAllSlots(s),showSlot:(o,s,i)=>o.showSlot(s,i)},o=>ko(o)),Fc={...IA,sketch:o=>{const s=(()=>{const m=[];return{slot:(b,x)=>(m.push(b),Sr(LA,PA(b),x)),record:Te(m)}})(),i=o(s),l=s.record(),f=St(l,m=>Pt({name:m,pname:PA(m)}));return a1(LA,s6,f,E_,i)}},a6=Rn([Df,A1,ls("onShow",ht),ls("onHide",ht),Bb]),i6=o=>({element:()=>o.element.dom}),l6=(o,s)=>{const i=St(mo(s),l=>{const f=s[l],m=Ql((b=>Wr("sidebar",a6,b))(f));return{name:l,getApi:i6,onSetup:m.onSetup,onShow:m.onShow,onHide:m.onHide}});return St(i,l=>{const f=Ln(ht);return o.slot(l.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Ky([yh(l,f),vh(l,f),mt($f(),(m,b)=>{const x=b.event;$o(i,E=>E.name===x.name).each(E=>{(x.visible?E.onShow:E.onHide)(E.getApi(m))})})])})})},c6=o=>Fc.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:l6(s,o),slotBehaviours:Ky([ts(i=>Fc.hideAllSlots(i))])})),T_=(o,s)=>{eo(o,"role",s)},c4=o=>tr.getCurrent(o).bind(s=>mu.isGrowing(s)||mu.hasGrown(s)?tr.getCurrent(s).bind(i=>$o(Fc.getSlotNames(i),l=>Fc.isShowing(i,l))):B.none()),z_=bn("FixSizeEvent"),O_=bn("AutoSizeEvent");var d6=Object.freeze({__proto__:null,block:(o,s,i,l)=>{eo(o.element,"aria-busy",!0);const f=s.getRoot(o).getOr(o),m=Ht([Qt.config({mode:"special",onTab:()=>B.some(!0),onShiftTab:()=>B.some(!0)}),ao.config({})]),b=l(f,m),x=f.getSystem().build(b);Jn.append(f,qr(x)),x.hasConfigured(Qt)&&s.focus&&Qt.focusIn(x),i.isBlocked()||s.onBlock(o),i.blockWith(()=>Jn.remove(f,x))},unblock:(o,s,i)=>{Xr(o.element,"aria-busy"),i.isBlocked()&&s.onUnblock(o),i.clear()},isBlocked:(o,s,i)=>i.isBlocked()}),d4=[ls("getRoot",B.none),es("focus",!0),Vo("onBlock"),Vo("onUnblock")];const Bp=yi({fields:d4,name:"blocking",apis:d6,state:Object.freeze({__proto__:null,init:()=>{const o=Rm(s=>s.destroy());return ns({readState:o.isSet,blockWith:s=>{o.set({destroy:s})},clear:o.clear,isBlocked:o.isSet})}})}),FA=o=>tr.getCurrent(o).each(s=>ic(s.element,!0)),u6=(o,s,i)=>{const l=Ln(!1),f=Es(),m=x=>{var w;l.get()&&(!(E=>E.type==="focusin")(w=x)||!(w.composed?dt(w.composedPath()):B.from(w.target)).map(Jt).filter(Qs).exists(E=>vs(E,"mce-pastebin")))&&(x.preventDefault(),FA(s()),o.editorManager.setActive(o))};o.inline||o.on("PreInit",()=>{o.dom.bind(o.getWin(),"focusin",m),o.on("BeforeExecCommand",x=>{x.command.toLowerCase()==="mcefocus"&&x.value!==!0&&m(x)})});const b=x=>{x!==l.get()&&(l.set(x),((w,E,O,A)=>{const L=E.element;if(((H,q)=>{const re="tabindex",se=`data-mce-${re}`;B.from(H.iframeElement).map(Jt).each(me=>{q?(xa(me,re).each(te=>eo(me,se,te)),eo(me,re,-1)):(Xr(me,re),xa(me,se).each(te=>{eo(me,re,te),Xr(me,se)}))})})(w,O),O)Bp.block(E,(H=>(q,re)=>({dom:{tag:"div",attributes:{"aria-label":H.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:gh('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(A)),or(L,"display"),Xr(L,"aria-hidden"),w.hasFocus()&&FA(E);else{const H=tr.getCurrent(E).exists(q=>Xf(q.element));Bp.unblock(E),qn(L,"display","none"),eo(L,"aria-hidden","true"),H&&w.focus()}})(o,s(),x,i.providers),((w,E)=>{w.dispatch("AfterProgressState",{state:E})})(o,x))};o.on("ProgressState",x=>{if(f.on(clearTimeout),tn(x.time)){const w=Fw.setEditorTimeout(o,()=>b(x.state),x.time);f.set(w)}else b(x.state),f.clear()})},u4=(o,s,i)=>({within:o,extra:s,withinWidth:i}),VA=(o,s,i)=>{const l=Y(o,(b,x)=>((w,E)=>{const O=i(w);return B.some({element:w,start:E,finish:E+O,width:O})})(x,b.len).fold(Te(b),w=>({len:w.finish,list:b.list.concat([w])})),{len:0,list:[]}).list,f=Pn(l,b=>b.finish<=s),m=Do(f,(b,x)=>b+x.width,0);return{within:f,extra:l.slice(f.length),withinWidth:m}},A_=o=>St(o,s=>s.element),HA=(o,s)=>{const i=St(s,l=>qr(l));bm.setGroups(o,i)},UA=(o,s,i)=>{const l=s.builtGroups.get();if(l.length===0)return;const f=ni(o,s,"primary"),m=Ga.getCoupled(o,"overflowGroup");qn(f.element,"visibility","hidden");const b=l.concat([m]),x=qo(b,E=>Qc(E.element).bind(O=>E.getSystem().getByDom(O).toOptional()));i([]),HA(f,b);const w=((E,O,A,L)=>{const H=((me,te,Q)=>{const ce=VA(te,me,Q);return ce.extra.length===0?B.some(ce):B.none()})(E,O,A).getOrThunk(()=>VA(O,E-A(L),A)),q=H.within,re=H.extra,se=H.withinWidth;return re.length===1&&re[0].width<=A(L)?((me,te,Q)=>{const ce=A_(me.concat(te));return u4(ce,[],Q)})(q,re,se):re.length>=1?((me,te,Q,ce)=>{const pe=A_(me).concat([Q]);return u4(pe,A_(te),ce)})(q,re,L,se):((me,te,Q)=>u4(A_(me),[],Q))(q,0,se)})(jr(f.element),s.builtGroups.get(),E=>jr(E.element),m);w.extra.length===0?(Jn.remove(f,m),i([])):(HA(f,w.within),i(w.extra)),or(f.element,"visibility"),ne(f.element),x.each(ao.focus)},jA=Te([ca("splitToolbarBehaviours",[Ga]),sa("builtGroups",()=>Ln([]))]),f6=Te([wd(["overflowToggledClass"]),Ml("getOverflowBounds"),at("lazySink"),sa("overflowGroups",()=>Ln([])),Vo("onOpened"),Vo("onClosed")].concat(jA())),N_=Te([Pt({factory:bm,schema:Ld(),name:"primary"}),jt({schema:Ld(),name:"overflow"}),jt({name:"overflow-button"}),jt({name:"overflow-group"})]),wx=Te((o,s)=>{((i,l)=>{const f=wr.max(i,l,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);qn(i,"max-width",f+"px")})(o,Math.floor(s))}),f4=Te([wd(["toggledClass"]),at("lazySink"),Ra("fetch"),Ml("getBounds"),kl("fireDismissalEventInstead",[Ue("event",Bu())]),nm(),Vo("onToggled")]),ZA=Te([jt({name:"button",overrides:o=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Ht([Bo.config({toggleClass:o.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:o.onToggled})])})}),jt({factory:bm,schema:Ld(),name:"toolbar",overrides:o=>({toolbarBehaviours:Ht([Qt.config({mode:"cyclic",onEscape:s=>(Nn(s,o,"button").each(ao.focus),B.none())})])})})]),D_=Es(),m4=(o,s)=>{const i=Ga.getCoupled(o,"toolbarSandbox");Eo.isOpen(i)?Eo.close(i):Eo.open(i,s.toolbar())},kx=(o,s,i,l)=>{const f=i.getBounds.map(b=>b()),m=i.lazySink(o).getOrDie();Ol.positionWithinBounds(m,s,{anchor:{type:"hotspot",hotspot:o,layouts:l,overrides:{maxWidthFunction:wx()}}},f)},R_=(o,s,i,l,f)=>{bm.setGroups(s,f),kx(o,s,i,l),Bo.on(o)},Mp=lc({name:"FloatingToolbarButton",factory:(o,s,i,l)=>({...cc.sketch({...l.button(),action:f=>{m4(f,l)},buttonBehaviours:Ia({dump:l.button().buttonBehaviours},[Ga.config({others:{toolbarSandbox:f=>((m,b,x)=>{const w=Vu();return{dom:{tag:"div",attributes:{id:w.id}},behaviours:Ht([Qt.config({mode:"special",onEscape:E=>(Eo.close(E),B.some(!0))}),Eo.config({onOpen:(E,O)=>{const A=D_.get().getOr(!1);x.fetch().get(L=>{R_(m,O,x,b.layouts,L),w.link(m.element),A||Qt.focusIn(O)})},onClose:()=>{Bo.off(m),D_.get().getOr(!1)||ao.focus(m),w.unlink(m.element)},isPartOf:(E,O,A)=>hi(O,A)||hi(m,A),getAttachPoint:()=>x.lazySink(m).getOrDie()}),ac.config({channels:{...mb({isExtraPart:Je,...x.fireDismissalEventInstead.map(E=>({fireEventInstead:{event:E.event}})).getOr({})}),...mg({doReposition:()=>{Eo.getState(Ga.getCoupled(m,"toolbarSandbox")).each(E=>{kx(m,E,x,b.layouts)})}})}})])}})(f,i,o)}})])}),apis:{setGroups:(f,m)=>{Eo.getState(Ga.getCoupled(f,"toolbarSandbox")).each(b=>{R_(f,b,o,i.layouts,m)})},reposition:f=>{Eo.getState(Ga.getCoupled(f,"toolbarSandbox")).each(m=>{kx(f,m,o,i.layouts)})},toggle:f=>{m4(f,l)},toggleWithoutFocusing:f=>{((m,b)=>{D_.set(!0),m4(m,b),D_.clear()})(f,l)},getToolbar:f=>Eo.getState(Ga.getCoupled(f,"toolbarSandbox")),isOpen:f=>Eo.isOpen(Ga.getCoupled(f,"toolbarSandbox"))}}),configFields:f4(),partFields:ZA(),apis:{setGroups:(o,s,i)=>{o.setGroups(s,i)},reposition:(o,s)=>{o.reposition(s)},toggle:(o,s)=>{o.toggle(s)},toggleWithoutFocusing:(o,s)=>{o.toggleWithoutFocusing(s)},getToolbar:(o,s)=>o.getToolbar(s),isOpen:(o,s)=>o.isOpen(s)}}),WA=Te([at("items"),wd(["itemSelector"]),ca("tgroupBehaviours",[Qt])]),m6=Te([Un({name:"items",unit:"item"})]),B_=lc({name:"ToolbarGroup",configFields:WA(),partFields:m6(),factory:(o,s,i,l)=>({uid:o.uid,dom:o.dom,components:s,behaviours:Bi(o.tgroupBehaviours,[Qt.config({mode:"flow",selector:o.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),$A=o=>St(o,s=>qr(s)),qA=(o,s,i)=>{UA(o,i,l=>{i.overflowGroups.set(l),s.getOpt(o).each(f=>{Mp.setGroups(f,$A(l))})})},GA=lc({name:"SplitFloatingToolbar",configFields:f6(),partFields:N_(),factory:(o,s,i,l)=>{const f=Vr(Mp.sketch({fetch:()=>Vb(m=>{m($A(o.overflowGroups.get()))}),layouts:{onLtr:()=>[Cr,Ai],onRtl:()=>[Ai,Cr],onBottomLtr:()=>[ds,Ji],onBottomRtl:()=>[Ji,ds]},getBounds:i.getOverflowBounds,lazySink:o.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:o.markers.overflowToggledClass},parts:{button:l["overflow-button"](),toolbar:l.overflow()},onToggled:(m,b)=>o[b?"onOpened":"onClosed"](m)}));return{uid:o.uid,dom:o.dom,components:s,behaviours:Bi(o.splitToolbarBehaviours,[Ga.config({others:{overflowGroup:()=>B_.sketch({...l["overflow-group"](),items:[f.asSpec()]})}})]),apis:{setGroups:(m,b)=>{o.builtGroups.set(St(b,m.getSystem().build)),qA(m,f,o)},refresh:m=>qA(m,f,o),toggle:m=>{f.getOpt(m).each(b=>{Mp.toggle(b)})},toggleWithoutFocusing:m=>{f.getOpt(m).each(Mp.toggleWithoutFocusing)},isOpen:m=>f.getOpt(m).map(Mp.isOpen).getOr(!1),reposition:m=>{f.getOpt(m).each(b=>{Mp.reposition(b)})},getOverflow:m=>f.getOpt(m).bind(Mp.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,s,i)=>{o.setGroups(s,i)},refresh:(o,s)=>{o.refresh(s)},reposition:(o,s)=>{o.reposition(s)},toggle:(o,s)=>{o.toggle(s)},toggleWithoutFocusing:(o,s)=>{o.toggle(s)},isOpen:(o,s)=>o.isOpen(s),getOverflow:(o,s)=>o.getOverflow(s)}}),p6=Te([wd(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Vo("onOpened"),Vo("onClosed")].concat(jA())),g6=Te([Pt({factory:bm,schema:Ld(),name:"primary"}),Pt({factory:bm,schema:Ld(),name:"overflow",overrides:o=>({toolbarBehaviours:Ht([mu.config({dimension:{property:"height"},closedClass:o.markers.closedClass,openClass:o.markers.openClass,shrinkingClass:o.markers.shrinkingClass,growingClass:o.markers.growingClass,onShrunk:s=>{Nn(s,o,"overflow-button").each(i=>{Bo.off(i),ao.focus(i)}),o.onClosed(s)},onGrown:s=>{Qt.focusIn(s),o.onOpened(s)},onStartGrow:s=>{Nn(s,o,"overflow-button").each(Bo.on)}}),Qt.config({mode:"acyclic",onEscape:s=>(Nn(s,o,"overflow-button").each(ao.focus),B.some(!0))})])})}),jt({name:"overflow-button",overrides:o=>({buttonBehaviours:Ht([Bo.config({toggleClass:o.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),jt({name:"overflow-group"})]),KA=(o,s)=>{Nn(o,s,"overflow-button").bind(()=>Nn(o,s,"overflow")).each(i=>{p4(o,s),mu.toggleGrow(i)})},p4=(o,s)=>{Nn(o,s,"overflow").each(i=>{UA(o,s,l=>{const f=St(l,m=>qr(m));bm.setGroups(i,f)}),Nn(o,s,"overflow-button").each(l=>{mu.hasGrown(i)&&Bo.on(l)}),mu.refresh(i)})},g4=lc({name:"SplitSlidingToolbar",configFields:p6(),partFields:g6(),factory:(o,s,i,l)=>{const f="alloy.toolbar.toggle";return{uid:o.uid,dom:o.dom,components:s,behaviours:Bi(o.splitToolbarBehaviours,[Ga.config({others:{overflowGroup:m=>B_.sketch({...l["overflow-group"](),items:[cc.sketch({...l["overflow-button"](),action:b=>{Lo(m,f)}})]})}}),xo("toolbar-toggle-events",[mt(f,m=>{KA(m,o)})])]),apis:{setGroups:(m,b)=>{((x,w)=>{const E=St(w,x.getSystem().build);o.builtGroups.set(E)})(m,b),p4(m,o)},refresh:m=>p4(m,o),toggle:m=>KA(m,o),isOpen:m=>((b,x)=>Nn(b,x,"overflow").map(mu.hasGrown).getOr(!1))(m,o)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,s,i)=>{o.setGroups(s,i)},refresh:(o,s)=>{o.refresh(s)},toggle:(o,s)=>{o.toggle(s)},isOpen:(o,s)=>o.isOpen(s)}}),YA=o=>{const s=o.title.fold(()=>({}),i=>({attributes:{title:i}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...s},components:[B_.parts.items({})],items:o.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Ht([Sa.config({}),ao.config({})])}},M_=o=>B_.sketch(YA(o)),XA=(o,s)=>{const i=ts(l=>{const f=St(o.initGroups,M_);bm.setGroups(l,f)});return Ht([bS(o.providers.isDisabled),tl(),Qt.config({mode:s,onEscape:o.onEscape,selector:".tox-toolbar__group"}),xo("toolbar-events",[i])])},h4=o=>{const s=o.cyclicKeying?"cyclic":"acyclic";return{uid:o.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":YA({title:B.none(),items:[]}),"overflow-button":zM({name:"more",icon:B.some("more-drawer"),enabled:!0,tooltip:B.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:B.none(),borderless:!1},B.none(),o.providers)},splitToolbarBehaviours:XA(o,s)}},h6=o=>{const s=h4(o),i=GA.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return GA.sketch({...s,lazySink:o.getSink,getOverflowBounds:()=>{const l=o.moreDrawerData.lazyHeader().element,f=oa(l),m=wu(l),b=oa(m),x=Math.max(m.dom.scrollHeight,b.height);return Us(f.x+4,b.y,f.width-8,x)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o.attributes}}},components:[i],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:l=>o.onToggled(l,!0),onClosed:l=>o.onToggled(l,!1)})},b6=o=>{const s=g4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),i=g4.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),l=h4(o);return g4.sketch({...l,components:[s,i],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:f=>{f.getSystem().broadcastOn([C_()],{type:"opened"}),o.onToggled(f,!0)},onClosed:f=>{f.getSystem().broadcastOn([C_()],{type:"closed"}),o.onToggled(f,!1)}})},tp=o=>{const s=o.cyclicKeying?"cyclic":"acyclic";return bm.sketch({uid:o.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(o.type===Nf.scrolling?["tox-toolbar--scrolling"]:[])},components:[bm.parts.groups({})],toolbarBehaviours:XA(o,s)})},JA=[Mb,Df,Ar("tooltip"),Ms("buttonType","secondary",["primary","secondary"]),es("borderless",!1),Ra("onAction")],QA={button:[...JA,Rb,Da("type",["button"])],togglebutton:[...JA,es("active",!1),Da("type",["togglebutton"])]},b4=[Da("type",["group"]),Mr("buttons",[],fi("type",QA))],nl=fi("type",{...QA,group:b4}),y6=Rn([Mr("buttons",[],nl),Ra("onShow"),Ra("onHide")]),eN=(o,s)=>((i,l)=>{var f,m;const b=i.type==="togglebutton",x=i.icon.map(te=>ep(te,l.icons)).map(Vr),w={...i,name:b?i.text.getOr(i.icon.getOr("")):(f=i.text)!==null&&f!==void 0?f:i.icon.getOr(""),primary:i.buttonType==="primary",buttonType:B.from(i.buttonType),tooltip:i.tooltip,icon:i.icon,enabled:!0,borderless:i.borderless},E=ME((m=i.buttonType)!==null&&m!==void 0?m:"secondary"),O=b?i.text.map(l.translate):B.some(l.translate(i.text)),A=O.map(Ss),L=w.tooltip.or(O).map(te=>({"aria-label":l.translate(te),title:l.translate(te)})).getOr({}),H=x.map(te=>te.asSpec()),q=fv([H,A]),re=i.icon.isSome()&&A.isSome(),se={tag:"button",classes:E.concat(...i.icon.isSome()&&!re?["tox-button--icon"]:[]).concat(...re?["tox-button--icon-and-text"]:[]).concat(...i.borderless?["tox-button--naked"]:[]).concat(...i.type==="togglebutton"&&i.active?["tox-button--enabled"]:[]),attributes:L},me=s_(w,B.some(te=>{const Q=ce=>{x.map(pe=>pe.getOpt(te).each(_e=>{Jn.set(_e,[ep(ce,l.icons)])}))};return b?i.onAction({setIcon:Q,setActive:ce=>{const pe=te.element;ce?(hr(pe,"tox-button--enabled"),eo(pe,"aria-pressed",!0)):(Ls(pe,"tox-button--enabled"),Xr(pe,"aria-pressed"))},isActive:()=>vs(te.element,"tox-button--enabled")}):i.type==="button"?i.onAction({setIcon:Q}):void 0}),[],se,q,l);return cc.sketch(me)})(o,s),tN=Oc().deviceType,v6=tN.isPhone(),x6=tN.isTablet();var Dv=lc({name:"silver.View",configFields:[at("viewConfig")],partFields:[sn({factory:{sketch:o=>{let s=!1;const i=St(o.buttons,l=>l.type==="group"?(s=!0,((f,m)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:St(f.buttons,b=>eN(b,m))}))(l,o.providers)):eN(l,o.providers));return{uid:o.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...v6||x6?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Ht([ao.config({}),Qt.config({mode:"flow",selector:"button, .tox-button",focusInside:wb.OnEnterOrSpaceMode})]),components:s?i:[Bd.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Bd.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:i})]}}},schema:[at("buttons"),at("providers")],name:"header"}),sn({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(o,s,i,l)=>{const f={getPane:m=>Nl.getPart(m,o,"pane"),getOnShow:m=>o.viewConfig.onShow,getOnHide:m=>o.viewConfig.onHide};return{uid:o.uid,dom:o.dom,components:s,apis:f}},apis:{getPane:(o,s)=>o.getPane(s),getOnShow:(o,s)=>o.getOnShow(s),getOnHide:(o,s)=>o.getOnHide(s)}});const w6=(o,s,i)=>Mo(s,(l,f)=>{const m=Ql(Wr("view",y6,l));return o.slot(f,Dv.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:m,components:[...m.buttons.length>0?[Dv.parts.header({buttons:m.buttons,providers:i})]:[],Dv.parts.pane({})]}))}),k6=(o,s)=>Fc.sketch(i=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:w6(i,o,s),slotBehaviours:Ky([ts(l=>Fc.hideAllSlots(l))])})),nN=o=>$o(Fc.getSlotNames(o),s=>Fc.isShowing(o,s)),oN=(o,s,i)=>{Fc.getSlot(o,s).each(l=>{Dv.getPane(l).each(f=>{var m;i(l)((m=f.element.dom,{getContainer:Te(m)}))})})};var L_=Ed({factory:(o,s)=>{const i={setViews:(l,f)=>{Jn.set(l,[k6(f,s.backstage.shared.providers)])},whichView:l=>tr.getCurrent(l).bind(nN),toggleView:(l,f,m,b)=>tr.getCurrent(l).exists(x=>{const w=nN(x),E=w.exists(A=>b===A),O=Fc.getSlot(x,b).isSome();return O&&(Fc.hideAllSlots(x),E?((A=>{const L=A.element;qn(L,"display","none"),eo(L,"aria-hidden","true")})(l),f()):(m(),(A=>{const L=A.element;or(L,"display"),Xr(L,"aria-hidden")})(l),Fc.showSlot(x,b),((A,L)=>{oN(A,L,Dv.getOnShow)})(x,b)),w.each(A=>((L,H)=>oN(L,H,Dv.getOnHide))(x,A))),O})};return{uid:o.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Ht([Jn.config({}),tr.config({find:l=>{const f=Jn.contents(l);return dt(f)}})]),apis:i}},name:"silver.ViewWrapper",configFields:[at("backstage")],apis:{setViews:(o,s,i)=>o.setViews(s,i),toggleView:(o,s,i,l,f)=>o.toggleView(s,i,l,f),whichView:(o,s)=>o.whichView(s)}});const _6=zg.optional({factory:l4,name:"menubar",schema:[at("backstage")]}),C6=zg.optional({factory:{sketch:o=>e4.sketch({uid:o.uid,dom:o.dom,listBehaviours:Ht([Qt.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>tp({type:o.type,uid:bn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:o.providers,onEscape:()=>(o.onEscape(),B.some(!0))}),setupItem:(s,i,l,f)=>{bm.setGroups(i,l)},shell:!0})},name:"multiple-toolbar",schema:[at("dom"),at("onEscape")]}),S6=zg.optional({factory:{sketch:o=>(i=>i.type===Nf.sliding?b6:i.type===Nf.floating?h6:tp)(o)({type:o.type,uid:o.uid,onEscape:()=>(o.onEscape(),B.some(!0)),onToggled:(i,l)=>o.onToolbarToggled(l),cyclicKeying:!1,initGroups:[],getSink:o.getSink,providers:o.providers,moreDrawerData:{lazyToolbar:o.lazyToolbar,lazyMoreButton:o.lazyMoreButton,lazyHeader:o.lazyHeader},attributes:o.attributes})},name:"toolbar",schema:[at("dom"),at("onEscape"),at("getSink")]}),E6=zg.optional({factory:{sketch:o=>{const s=o.editor,i=o.sticky?BA:kA;return{uid:o.uid,dom:o.dom,components:o.components,behaviours:Ht(i(s,o.sharedBackstage))}}},name:"header",schema:[at("dom")]}),T6=zg.optional({factory:{sketch:o=>({uid:o.uid,dom:o.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"⚡️Upgrade"}}]})},name:"promotion",schema:[at("dom")]}),z6=zg.optional({name:"socket",schema:[at("dom")]}),O6=zg.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Ht([Sa.config({}),ao.config({}),mu.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{tr.getCurrent(s).each(Fc.hideAllSlots),Lo(s,O_)},onGrown:s=>{Lo(s,O_)},onStartGrow:s=>{gn(s,z_,{width:$s(s.element,"width").getOr("")})},onStartShrink:s=>{gn(s,z_,{width:jr(s.element)+"px"})}}),Jn.config({}),tr.config({find:s=>{const i=Jn.contents(s);return dt(i)}})])}],behaviours:Ht([ox(0),xo("sidebar-sliding-events",[mt(z_,(s,i)=>{qn(s.element,"width",i.event.width)}),mt(O_,(s,i)=>{or(s.element,"width")})])])})},name:"sidebar",schema:[at("dom")]}),A6=zg.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Ht([Jn.config({}),Bp.config({focus:!1}),tr.config({find:s=>dt(s.components())})]),components:[]})},name:"throbber",schema:[at("dom")]}),N6=zg.optional({factory:L_,name:"viewWrapper",schema:[at("backstage")]}),D6=zg.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:o.components})},name:"editorContainer",schema:[]});var zs=lc({name:"OuterContainer",factory:(o,s,i)=>{let l=!1;const f={getSocket:m=>Nl.getPart(m,o,"socket"),setSidebar:(m,b,x)=>{Nl.getPart(m,o,"sidebar").each(w=>((E,O,A)=>{tr.getCurrent(E).each(L=>{Jn.set(L,[c6(O)]);const H=A==null?void 0:A.toLowerCase();de(H)&&_n(O,H)&&tr.getCurrent(L).each(q=>{Fc.showSlot(q,H),mu.immediateGrow(L),or(L.element,"width"),T_(E.element,"region")})})})(w,b,x))},toggleSidebar:(m,b)=>{Nl.getPart(m,o,"sidebar").each(x=>((w,E)=>{tr.getCurrent(w).each(O=>{tr.getCurrent(O).each(A=>{mu.hasGrown(O)?Fc.isShowing(A,E)?(mu.shrink(O),T_(w.element,"presentation")):(Fc.hideAllSlots(A),Fc.showSlot(A,E),T_(w.element,"region")):(Fc.hideAllSlots(A),Fc.showSlot(A,E),mu.grow(O),T_(w.element,"region"))})})})(x,b))},whichSidebar:m=>Nl.getPart(m,o,"sidebar").bind(c4).getOrNull(),getHeader:m=>Nl.getPart(m,o,"header"),getToolbar:m=>Nl.getPart(m,o,"toolbar"),setToolbar:(m,b)=>{Nl.getPart(m,o,"toolbar").each(x=>{const w=St(b,M_);x.getApis().setGroups(x,w)})},setToolbars:(m,b)=>{Nl.getPart(m,o,"multiple-toolbar").each(x=>{const w=St(b,E=>St(E,M_));e4.setItems(x,w)})},refreshToolbar:m=>{Nl.getPart(m,o,"toolbar").each(b=>b.getApis().refresh(b))},toggleToolbarDrawer:m=>{Nl.getPart(m,o,"toolbar").each(b=>{jo(b.getApis().toggle,x=>x(b))})},toggleToolbarDrawerWithoutFocusing:m=>{Nl.getPart(m,o,"toolbar").each(b=>{jo(b.getApis().toggleWithoutFocusing,x=>x(b))})},isToolbarDrawerToggled:m=>Nl.getPart(m,o,"toolbar").bind(b=>B.from(b.getApis().isOpen).map(x=>x(b))).getOr(!1),getThrobber:m=>Nl.getPart(m,o,"throbber"),focusToolbar:m=>{Nl.getPart(m,o,"toolbar").orThunk(()=>Nl.getPart(m,o,"multiple-toolbar")).each(b=>{Qt.focusIn(b)})},setMenubar:(m,b)=>{Nl.getPart(m,o,"menubar").each(x=>{l4.setMenus(x,b)})},focusMenubar:m=>{Nl.getPart(m,o,"menubar").each(b=>{l4.focus(b)})},setViews:(m,b)=>{Nl.getPart(m,o,"viewWrapper").each(x=>{L_.setViews(x,b)})},toggleView:(m,b)=>Nl.getPart(m,o,"viewWrapper").exists(x=>L_.toggleView(x,()=>f.showMainView(m),()=>f.hideMainView(m),b)),whichView:m=>Nl.getPart(m,o,"viewWrapper").bind(L_.whichView).getOrNull(),hideMainView:m=>{l=f.isToolbarDrawerToggled(m),l&&f.toggleToolbarDrawer(m),Nl.getPart(m,o,"editorContainer").each(b=>{const x=b.element;qn(x,"display","none"),eo(x,"aria-hidden","true")})},showMainView:m=>{l&&f.toggleToolbarDrawer(m),Nl.getPart(m,o,"editorContainer").each(b=>{const x=b.element;or(x,"display"),Xr(x,"aria-hidden")})}};return{uid:o.uid,dom:o.dom,components:s,apis:f,behaviours:o.behaviours}},configFields:[at("dom"),at("behaviours")],partFields:[E6,_6,S6,C6,z6,O6,T6,A6,N6,D6],apis:{getSocket:(o,s)=>o.getSocket(s),setSidebar:(o,s,i,l)=>{o.setSidebar(s,i,l)},toggleSidebar:(o,s,i)=>{o.toggleSidebar(s,i)},whichSidebar:(o,s)=>o.whichSidebar(s),getHeader:(o,s)=>o.getHeader(s),getToolbar:(o,s)=>o.getToolbar(s),setToolbar:(o,s,i)=>{o.setToolbar(s,i)},setToolbars:(o,s,i)=>{o.setToolbars(s,i)},refreshToolbar:(o,s)=>o.refreshToolbar(s),toggleToolbarDrawer:(o,s)=>{o.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(o,s)=>{o.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(o,s)=>o.isToolbarDrawerToggled(s),getThrobber:(o,s)=>o.getThrobber(s),setMenubar:(o,s,i)=>{o.setMenubar(s,i)},focusMenubar:(o,s)=>{o.focusMenubar(s)},focusToolbar:(o,s)=>{o.focusToolbar(s)},setViews:(o,s,i)=>{o.setViews(s,i)},toggleView:(o,s,i)=>o.toggleView(s,i),whichView:(o,s)=>o.whichView(s)}});const rN={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},y4=o=>o.split(" "),sN=(o,s)=>{const i={...rN,...s.menus},l=mo(s.menus).length>0,f=s.menubar===void 0||s.menubar===!0?y4("file edit view insert format tools table help"):y4(s.menubar===!1?"":s.menubar),m=Pn(f,x=>{const w=_n(rN,x);return l?w||dn(s.menus,x).exists(E=>_n(E,"items")):w}),b=St(m,x=>{const w=i[x];return((E,O,A)=>{const L=_3(A).split(/[ ,]/);return{text:E.title,getItems:()=>Kr(E.items,H=>{const q=H.toLowerCase();return q.trim().length===0||Hr(L,re=>re===q)?[]:q==="separator"||q==="|"?[{type:"separator"}]:O.menuItems[q]?[O.menuItems[q]]:[]})}})({title:w.title,items:y4(w.items)},s,o)});return Pn(b,x=>x.getItems().length>0&&Hr(x.getItems(),w=>de(w)||w.type!=="separator"))},v4=(o,s,i)=>(o.on("remove",()=>i.unload(s)),i.load(s)),x4=(o,s,i,l)=>(o.on("remove",()=>l.unloadRawCss(s)),l.loadRawCss(s,i)),R6=async(o,s)=>{const i="ui/"+Jw(o).getOr("default")+"/skin.css",l=tinymce.Resource.get(i);return de(l)?Promise.resolve(x4(o,i,l,o.ui.styleSheetLoader)):v4(o,s+"/skin.min.css",o.ui.styleSheetLoader)},B6=async(o,s)=>{var i;if(i=Jt(o.getElement()),Fs(i).isSome()){const l="ui/"+Jw(o).getOr("default")+"/skin.shadowdom.css",f=tinymce.Resource.get(l);return de(f)?(x4(o,l,f,bh.DOM.styleSheetLoader),Promise.resolve()):v4(o,s+"/skin.shadowdom.min.css",bh.DOM.styleSheetLoader)}},w4=(o,s)=>(async(i,l)=>{Jw(l).fold(()=>{const m=ev(l);m&&l.contentCSS.push(m+(i?"/content.inline":"/content")+".min.css")},m=>{const b="ui/"+m+(i?"/content.inline":"/content")+".css",x=tinymce.Resource.get(b);if(de(x))x4(l,b,x,l.ui.styleSheetLoader);else{const w=ev(l);w&&l.contentCSS.push(w+(i?"/content.inline":"/content")+".min.css")}});const f=ev(l);if(!Xw(l)&&de(f))return Promise.all([R6(l,f),B6(l,f)]).then()})(o,s).then((i=>{const l=()=>{i._skinLoaded=!0,(f=>{f.dispatch("SkinLoaded")})(i)};return()=>{i.initialized?l():i.on("init",l)}})(s),((i,l)=>()=>((f,m)=>{f.dispatch("SkinLoadError",m)})(i,{message:"Skin could not be loaded"}))(s)),M6=qe(w4,!1),L6=qe(w4,!0),Rv=(o,s,i)=>o.translate([s,o.translate(i)]),aN=(o,s)=>{const i=(m,b,x,w)=>{const E=o.shared.providers.translate(m.title);if(m.type==="separator")return B.some({type:"separator",text:E});if(m.type==="submenu"){const O=Kr(m.getStyleItems(),A=>l(A,b,w));return b===0&&O.length<=0?B.none():B.some({type:"nestedmenuitem",text:E,enabled:O.length>0,getSubmenuItems:()=>Kr(m.getStyleItems(),A=>l(A,b,w))})}return B.some({type:"togglemenuitem",text:E,icon:m.icon,active:m.isSelected(w),enabled:!x,onAction:s.onAction(m),...m.getStylePreview().fold(()=>({}),O=>({meta:{style:O}}))})},l=(m,b,x)=>{const w=m.type==="formatter"&&s.isInvalid(m);return b===0?w?[]:i(m,b,!1,x).toArray():i(m,b,w,x).toArray()},f=m=>{const b=s.getCurrentValue(),x=s.shouldHide?0:1;return Kr(m,w=>l(w,x,b))};return{validateItems:f,getFetch:(m,b)=>(x,w)=>{const E=b(),O=f(E);w(l0(O,um.CLOSE_ON_EXECUTE,m,{isHorizontalMenu:!1,search:B.none()}))}}},Bv=(o,s,i)=>{const l=i.dataset,f=l.type==="basic"?()=>St(l.data,m=>f_(m,i.isSelectedFor,i.getPreviewFor)):l.getData;return{items:aN(s,i),getStyleItems:f}},_x=(o,s,i,l,f)=>{const{items:m,getStyleItems:b}=Bv(0,s,i);return Xk({text:i.icon.isSome()?B.none():i.text,icon:i.icon,tooltip:B.from(i.tooltip),role:B.none(),fetch:m.getFetch(s,b),onSetup:x=>{const w=E=>x.setTooltip(Rv(o,l,E.value));return o.on(f,w),gk(Ib(o,"NodeChange",E=>{const O=E.getComponent();i.updateText(O),Xn.set(E.getComponent(),!o.selection.isEditable())})(x),()=>o.off(f,w))},getApi:x=>({getComponent:Te(x),setTooltip:w=>{const E=s.shared.providers.translate(w);di(x.element,{"aria-label":E,title:E})}}),columns:1,presets:"normal",classes:i.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",s.shared)};var Mv;(function(o){o[o.SemiColon=0]="SemiColon",o[o.Space=1]="Space"})(Mv||(Mv={}));const k4=(o,s,i)=>{const l=(f=((m,b)=>b===Mv.SemiColon?m.replace(/;$/,"").split(";"):m.split(" "))(o.options.get(s),i),St(f,m=>{let b=m,x=m;const w=m.split("=");return w.length>1&&(b=w[0],x=w[1]),{title:b,format:x}}));var f;return{type:"basic",data:l}},_4="Alignment {0}",iN="left",P_=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],lN=o=>{const s={type:"basic",data:P_};return{tooltip:Rv(o,_4,iN),text:B.none(),icon:B.some("align-left"),isSelectedFor:i=>()=>o.formatter.match(i),getCurrentValue:B.none,getPreviewFor:i=>B.none,onAction:i=>()=>$o(P_,l=>l.format===i.format).each(l=>o.execCommand(l.command)),updateText:i=>{const l=$o(P_,f=>o.formatter.match(f.format)).fold(Te(iN),f=>f.title.toLowerCase());gn(i,i0,{icon:`align-${l}`}),((f,m)=>{f.dispatch("AlignTextUpdate",m)})(o,{value:l})},dataset:s,shouldHide:!1,isInvalid:i=>!o.formatter.canApply(i.format)}},C4=(o,s)=>{const i=s(),l=St(i,f=>f.format);return B.from(o.formatter.closest(l)).bind(f=>$o(i,m=>m.format===f)).orThunk(()=>li(o.formatter.match("p"),{title:"Paragraph",format:"p"}))},cN="Block {0}",S4="Paragraph",dN=o=>{const s=k4(o,"block_formats",Mv.SemiColon);return{tooltip:Rv(o,cN,S4),text:B.some(S4),icon:B.none(),isSelectedFor:i=>()=>o.formatter.match(i),getCurrentValue:B.none,getPreviewFor:i=>()=>{const l=o.formatter.get(i);return l?B.some({tag:l.length>0&&(l[0].inline||l[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(i))}):B.none()},onAction:OS(o),updateText:i=>{const l=C4(o,()=>s.data).fold(Te(S4),f=>f.title);gn(i,pm,{text:l}),((f,m)=>{f.dispatch("BlocksTextUpdate",m)})(o,{value:l})},dataset:s,shouldHide:!1,isInvalid:i=>!o.formatter.canApply(i.format)}},uN="Font {0}",E4="System Font",P6=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],fN=o=>{const s=o.split(/\s*,\s*/);return St(s,i=>i.replace(/^['"]+|['"]+$/g,""))},mN=(o,s)=>s.length>0&&Gl(s,i=>o.indexOf(i.toLowerCase())>-1),pN=o=>{const s=()=>{const l=E=>E?fN(E)[0]:"",f=o.queryCommandValue("FontName"),m=i.data,b=f?f.toLowerCase():"",x=M3(o);return{matchOpt:$o(m,E=>{const O=E.format;return O.toLowerCase()===b||l(O).toLowerCase()===l(b).toLowerCase()}).orThunk(()=>li(((E,O)=>{if(E.indexOf("-apple-system")===0||O.length>0){const A=fN(E.toLowerCase());return mN(A,P6)||mN(A,O)}return!1})(b,x),{title:E4,format:b})),font:f}},i=k4(o,"font_family_formats",Mv.SemiColon);return{tooltip:Rv(o,uN,E4),text:B.some(E4),icon:B.none(),isSelectedFor:l=>f=>f.exists(m=>m.format===l),getCurrentValue:()=>{const{matchOpt:l}=s();return l},getPreviewFor:l=>()=>B.some({tag:"div",styles:l.indexOf("dings")===-1?{"font-family":l}:{}}),onAction:l=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontName",!1,l.format)})},updateText:l=>{const{matchOpt:f,font:m}=s(),b=f.fold(Te(m),x=>x.title);gn(l,pm,{text:b}),((x,w)=>{x.dispatch("FontFamilyTextUpdate",w)})(o,{value:b})},dataset:i,shouldHide:!1,isInvalid:Je}},I6={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},F6=(()=>{const o="[0-9]+",s="[eE][+-]?"+o,i=f=>`(?:${f})?`,l=["Infinity",o+"\\."+i(o)+i(s),"\\."+o+i(s),o+i(s)].join("|");return new RegExp(`^([+-]?(?:${l}))(.*)$`)})(),I_=(o,s)=>B.from(F6.exec(o)).bind(i=>{const l=Number(i[1]),f=i[2];return((m,b)=>Hr(b,x=>Hr(I6[x],w=>m===w)))(f,s)?B.some({value:l,unit:f}):B.none()}),T4={tab:Te(9),escape:Te(27),enter:Te(13),backspace:Te(8),delete:Te(46),left:Te(37),up:Te(38),right:Te(39),down:Te(40),space:Te(32),home:Te(36),end:Te(35),pageUp:Te(33),pageDown:Te(34)},gN="Font size {0}",hN="12pt",V6={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},H6={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},U6=(o,s)=>/[0-9.]+px$/.test(o)?((i,l)=>{const f=Math.pow(10,l);return Math.round(i*f)/f})(72*parseInt(o,10)/96,s||0)+"pt":dn(H6,o).getOr(o),z4=o=>dn(V6,o).getOr(""),bN=o=>{const s=()=>{let f=B.none();const m=l.data,b=o.queryCommandValue("FontSize");if(b)for(let x=3;f.isNone()&&x>=0;x--){const w=U6(b,x),E=z4(w);f=$o(m,O=>O.format===b||O.format===w||O.format===E)}return{matchOpt:f,size:b}},i=Te(B.none),l=k4(o,"font_size_formats",Mv.Space);return{tooltip:Rv(o,gN,hN),text:B.some(hN),icon:B.none(),isSelectedFor:f=>m=>m.exists(b=>b.format===f),getPreviewFor:i,getCurrentValue:()=>{const{matchOpt:f}=s();return f},onAction:f=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontSize",!1,f.format)})},updateText:f=>{const{matchOpt:m,size:b}=s(),x=m.fold(Te(b),w=>w.title);gn(f,pm,{text:x}),((w,E)=>{w.dispatch("FontSizeTextUpdate",E)})(o,{value:x})},dataset:l,shouldHide:!1,isInvalid:Je}},yN="Format {0}",vN=(o,s)=>{const i="Paragraph";return{tooltip:Rv(o,yN,i),text:B.some(i),icon:B.none(),isSelectedFor:l=>()=>o.formatter.match(l),getCurrentValue:B.none,getPreviewFor:l=>()=>{const f=o.formatter.get(l);return f!==void 0?B.some({tag:f.length>0&&(f[0].inline||f[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(l))}):B.none()},onAction:OS(o),updateText:l=>{const f=x=>cA(x)?Kr(x.items,f):Jb(x)?[{title:x.title,format:x.format}]:[],m=Kr(u_(o),f),b=C4(o,Te(m)).fold(Te(i),x=>x.title);gn(l,pm,{text:b}),((x,w)=>{x.dispatch("StylesTextUpdate",w)})(o,{value:b})},shouldHide:PC(o),isInvalid:l=>!o.formatter.canApply(l.format),dataset:s}},xN=Te([at("toggleClass"),at("fetch"),au("onExecute"),Ue("getHotspot",B.some),Ue("getAnchorOverrides",Te({})),nm(),au("onItemExecute"),ur("lazySink"),at("dom"),Vo("onOpen"),ca("splitDropdownBehaviours",[Ga,Qt,ao]),Ue("matchWidth",!1),Ue("useMinWidth",!1),Ue("eventOrder",{}),ur("role")].concat(jS())),wN=Pt({factory:cc,schema:[at("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Ht([ao.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(o.uid).each(Lu)},buttonBehaviours:Ht([Bo.config({toggleOnExecute:!1,toggleClass:o.toggleClass})])})}),j6=Pt({factory:cc,schema:[at("dom")],name:"button",defaults:()=>({buttonBehaviours:Ht([ao.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(o.uid).each(i=>{o.onExecute(i,s)})}})}),Z6=Te([wN,j6,sn({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[at("text")],name:"aria-descriptor"}),jt({schema:[Jp()],name:"menu",defaults:o=>({onExecute:(s,i)=>{s.getSystem().getByUid(o.uid).each(l=>{o.onItemExecute(l,s,i)})}})}),Pz()]),Cx=lc({name:"SplitDropdown",configFields:xN(),partFields:Z6(),factory:(o,s,i,l)=>{const f=E=>{tr.getCurrent(E).each(O=>{dr.highlightFirst(O),Qt.focusIn(O)})},m=E=>{Yy(o,kt,E,l,f,td.HighlightMenuAndItem).get(ht)},b=E=>{const O=ni(E,o,"button");return Lu(O),B.some(!0)},x={...Ro([ts((E,O)=>{Nn(E,o,"aria-descriptor").each(A=>{const L=bn("aria");eo(A.element,"id",L),eo(E.element,"aria-describedby",L)})})]),...y1(B.some(m))},w={repositionMenus:E=>{Bo.isOn(E)&&Iz(E)}};return{uid:o.uid,dom:o.dom,components:s,apis:w,eventOrder:{...o.eventOrder,[cl()]:["disabling","toggling","alloy.base.behaviour"]},events:x,behaviours:Bi(o.splitDropdownBehaviours,[Ga.config({others:{sandbox:E=>{const O=ni(E,o,"arrow");return Sk(o,E,{onOpen:()=>{Bo.on(O),Bo.on(E)},onClose:()=>{Bo.off(O),Bo.off(E)}})}}}),Qt.config({mode:"special",onSpace:b,onEnter:b,onDown:E=>(m(E),B.some(!0))}),ao.config({}),Bo.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:o.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(o,s)=>o.repositionMenus(s)}}),kN=o=>({isEnabled:()=>!Xn.isDisabled(o),setEnabled:s=>Xn.set(o,!s),setText:s=>gn(o,pm,{text:s}),setIcon:s=>gn(o,i0,{icon:s})}),W6=o=>({setActive:s=>{Bo.set(o,s)},isActive:()=>Bo.isOn(o),isEnabled:()=>!Xn.isDisabled(o),setEnabled:s=>Xn.set(o,!s),setText:s=>gn(o,pm,{text:s}),setIcon:s=>gn(o,i0,{icon:s})}),_N=(o,s)=>o.map(i=>({"aria-label":s.translate(i),title:s.translate(i)})).getOr({}),CN=bn("focus-button"),O4=(o,s,i,l,f)=>{const m=s.map(x=>Vr(kE(x,"tox-tbtn",f))),b=o.map(x=>Vr(ep(x,f.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:_N(i,f)},components:fv([b.map(x=>x.asSpec()),m.map(x=>x.asSpec())]),eventOrder:{[aa()]:["focusing","alloy.base.behaviour",a0],[Nt()]:[a0,"toolbar-group-button-events"]},buttonBehaviours:Ht([bS(f.isDisabled),tl(),xo(a0,[ts((x,w)=>Kk(x)),mt(pm,(x,w)=>{m.bind(E=>E.getOpt(x)).each(E=>{Jn.set(E,[Ss(f.translate(w.event.text))])})}),mt(i0,(x,w)=>{b.bind(E=>E.getOpt(x)).each(E=>{Jn.set(E,[ep(w.event.icon,f.icons)])})}),mt(aa(),(x,w)=>{w.event.prevent(),Lo(x,CN)})])].concat(l.getOr([])))}},SN=(o,s,i)=>{var l;const f=Ln(ht),m=O4(o.icon,o.text,o.tooltip,B.none(),i);return cc.sketch({dom:m.dom,components:m.components,eventOrder:wE,buttonBehaviours:{...Ht([xo("toolbar-button-events",[(b={onAction:o.onAction,getApi:s.getApi},dl((x,w)=>{B1(b,x)(E=>{gn(x,AO,{buttonApi:E}),b.onAction(E)})})),yh(s,f),vh(s,f)]),bS(()=>!o.enabled||i.isDisabled()),tl()].concat(s.toolbarButtonBehaviours)),[a0]:(l=m.buttonBehaviours)===null||l===void 0?void 0:l[a0]}});var b},Sx=(o,s,i)=>SN(o,{toolbarButtonBehaviours:i.length>0?[xo("toolbarButtonWith",i)]:[],getApi:kN,onSetup:o.onSetup},s),EN=(o,s,i)=>SN(o,{toolbarButtonBehaviours:[Jn.config({}),Bo.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(i.length>0?[xo("toolbarToggleButtonWith",i)]:[]),getApi:W6,onSetup:o.onSetup},s),F_=(o,s,i)=>l=>Vb(f=>s.fetch(f)).map(f=>B.from($S(ye(kk(bn("menu-value"),f,m=>{s.onItemAction(o(l),m)},s.columns,s.presets,um.CLOSE_ON_EXECUTE,s.select.getOr(Je),i),{movement:_k(s.columns,s.presets),menuBehaviours:Ky(s.columns!=="auto"?[]:[ts((m,b)=>{dv(m,4,j3(s.presets)).each(({numRows:x,numColumns:w})=>{Qt.setGridSize(m,x,w)})})])})))),$6=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Ex=(o,s)=>(i,l,f)=>{const m=o(i).mapError(b=>Gc(b)).getOrDie();return s(m,l,f)},q6={button:Ex(Q3,(o,s)=>{return i=o,l=s.shared.providers,Sx(i,l,[]);var i,l}),togglebutton:Ex(dS,(o,s)=>{return i=o,l=s.shared.providers,EN(i,l,[]);var i,l}),menubutton:Ex(i4,(o,s)=>cx(o,"tox-tbtn",s,B.none(),!1)),splitbutton:Ex(o=>Wr("SplitButton",r6,o),(o,s)=>((i,l)=>{const f=x=>({isEnabled:()=>!Xn.isDisabled(x),setEnabled:w=>Xn.set(x,!w),setIconFill:(w,E)=>{ia(x.element,`svg path[class="${w}"], rect[class="${w}"]`).each(O=>{eo(O,"fill",E)})},setActive:w=>{eo(x.element,"aria-pressed",w),ia(x.element,"span").each(E=>{x.getSystem().getByDom(E).each(O=>Bo.set(O,w))})},isActive:()=>ia(x.element,"span").exists(w=>x.getSystem().getByDom(w).exists(Bo.isOn)),setText:w=>ia(x.element,"span").each(E=>x.getSystem().getByDom(E).each(O=>gn(O,pm,{text:w}))),setIcon:w=>ia(x.element,"span").each(E=>x.getSystem().getByDom(E).each(O=>gn(O,i0,{icon:w}))),setTooltip:w=>{const E=l.providers.translate(w);di(x.element,{"aria-label":E,title:E})}}),m=Ln(ht),b={getApi:f,onSetup:i.onSetup};return Cx.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,..._N(i.tooltip,l.providers)}},onExecute:x=>{const w=f(x);w.isEnabled()&&i.onAction(w)},onItemExecute:(x,w,E)=>{},splitDropdownBehaviours:Ht([uk(l.providers.isDisabled),tl(),xo("split-dropdown-events",[ts((x,w)=>Kk(x)),mt(CN,ao.focus),yh(b,m),vh(b,m)]),K1.config({})]),eventOrder:{[Nt()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:l.getSink,fetch:F_(f,i,l.providers),parts:{menu:E1(0,i.columns,i.presets)},components:[Cx.parts.button(O4(i.icon,i.text,B.none(),B.some([Bo.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),l.providers)),Cx.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:DC("chevron-down",l.providers.icons)},buttonBehaviours:Ht([uk(l.providers.isDisabled),tl(),Ww()])}),Cx.parts["aria-descriptor"]({text:l.providers.translate("To open the popup, press Shift+Enter")})]})})(o,s.shared)),grouptoolbarbutton:Ex(o=>Wr("GroupToolbarButton",n6,o),(o,s,i)=>{const l=i.ui.registry.getAll().buttons,f={[qa]:s.shared.header.isPositionedAtTop()?Hl.TopToBottom:Hl.BottomToTop};if(Q0(i)===Nf.floating)return((m,b,x,w)=>{const E=b.shared,O=Ln(ht),A={toolbarButtonBehaviours:[],getApi:kN,onSetup:m.onSetup},L=[xo("toolbar-group-button-events",[yh(A,O),vh(A,O)])];return Mp.sketch({lazySink:E.getSink,fetch:()=>Vb(H=>{H(St(x(m.items),M_))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:O4(m.icon,m.text,m.tooltip,B.some(L),E.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:w}}}})})(o,s,m=>A4(i,{buttons:l,toolbar:m,allowToolbarGroups:!1},s,B.none()),f);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},TN={styles:(o,s)=>{const i={type:"advanced",...s.styles};return _x(o,s,vN(o,i),yN,"StylesTextUpdate")},fontsize:(o,s)=>_x(o,s,bN(o),gN,"FontSizeTextUpdate"),fontsizeinput:(o,s)=>((i,l,f)=>{let m=B.none();const b=Ib(i,"NodeChange SwitchMode",Q=>{const ce=Q.getComponent();m=B.some(ce),f.updateInputValue(ce),Xn.set(ce,!i.selection.isEditable())}),x=Q=>({getComponent:Te(Q)}),w=Ln(ht),E=bn("custom-number-input-events"),O=(Q,ce,pe)=>{const _e=m.map(Et=>cn.getValue(Et)).getOr(""),Re=f.getNewValue(_e,Q),Ge=_e.length-`${Re}`.length,pt=m.map(Et=>Et.element.dom.selectionStart-Ge),yt=m.map(Et=>Et.element.dom.selectionEnd-Ge);f.onAction(Re,pe),m.each(Et=>{cn.setValue(Et,Re),ce&&(pt.each(en=>Et.element.dom.selectionStart=en),yt.each(en=>Et.element.dom.selectionEnd=en))})},A=(Q,ce)=>O((pe,_e)=>pe-_e,Q,ce),L=(Q,ce)=>O((pe,_e)=>pe+_e,Q,ce),H=Q=>ea(Q.element).fold(B.none,ce=>(ic(ce),B.some(!0))),q=Q=>Xf(Q.element)?(vl(Q.element).each(ce=>ic(ce)),B.some(!0)):B.none(),re=(Q,ce,pe,_e)=>{const Re=Ln(ht),Ge=l.shared.providers.translate(pe),pt=bn("altExecuting"),yt=Ib(i,"NodeChange SwitchMode",en=>{Xn.set(en.getComponent(),!i.selection.isEditable())}),Et=en=>{Xn.isDisabled(en)||Q(!0)};return cc.sketch({dom:{tag:"button",attributes:{title:Ge,"aria-label":Ge},classes:_e.concat(ce)},components:[Yk(ce,l.shared.providers.icons)],buttonBehaviours:Ht([Xn.config({}),xo(pt,[yh({onSetup:yt,getApi:x},Re),vh({getApi:x},Re),mt(yn(),(en,xn)=>{xn.event.raw.keyCode!==T4.space()&&xn.event.raw.keyCode!==T4.enter()||Xn.isDisabled(en)||Q(!1)}),mt(gr(),Et),mt(wc(),Et)])]),eventOrder:{[yn()]:[pt,"keying"],[gr()]:[pt,"alloy.base.behaviour"],[wc()]:[pt,"alloy.base.behaviour"]}})},se=Vr(re(Q=>A(!1,Q),"minus","Decrease font size",[])),me=Vr(re(Q=>L(!1,Q),"plus","Increase font size",[])),te=Vr({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[Nb.sketch({inputBehaviours:Ht([Xn.config({}),xo(E,[yh({onSetup:b,getApi:x},w),vh({getApi:x},w)]),xo("input-update-display-text",[mt(pm,(Q,ce)=>{cn.setValue(Q,ce.event.text)}),mt(Ot(),Q=>{f.onAction(cn.getValue(Q))}),mt(En(),Q=>{f.onAction(cn.getValue(Q))})]),Qt.config({mode:"special",onEnter:Q=>(O(kt,!0,!0),B.some(!0)),onEscape:H,onUp:Q=>(L(!0,!1),B.some(!0)),onDown:Q=>(A(!0,!1),B.some(!0)),onLeft:(Q,ce)=>(ce.cut(),B.none()),onRight:(Q,ce)=>(ce.cut(),B.none())})])})],behaviours:Ht([ao.config({}),Qt.config({mode:"special",onEnter:q,onSpace:q,onEscape:H}),xo("input-wrapper-events",[mt(Ce(),Q=>{nn([se,me],ce=>{const pe=Jt(ce.get(Q).element.dom);Xf(pe)&&Wh(pe)})})])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[se.asSpec(),te.asSpec(),me.asSpec()],behaviours:Ht([ao.config({}),Qt.config({mode:"flow",focusInside:wb.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:Q=>Xf(Q.element)?B.none():(ic(Q.element),B.some(!0))})])}})(o,s,(i=>{const l=()=>i.queryCommandValue("FontSize");return{updateInputValue:f=>gn(f,pm,{text:l()}),onAction:(f,m)=>i.execCommand("FontSize",!1,f,{skip_focus:!m}),getNewValue:(f,m)=>{I_(f,["unsupportedLength","empty"]);const b=l(),x=I_(f,["unsupportedLength","empty"]).or(I_(b,["unsupportedLength","empty"])),w=x.map(H=>H.value).getOr(16),E=HC(i),O=x.map(H=>H.unit).filter(H=>H!=="").getOr(E),A=m(w,(H=>{var q;return(q={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[H])!==null&&q!==void 0?q:{step:1}})(O).step),L=`${(H=>H>=0)(A)?A:w}${O}`;return L!==b&&((H,q)=>{H.dispatch("FontSizeInputTextUpdate",q)})(i,{value:L}),L}}})(o)),fontfamily:(o,s)=>_x(o,s,pN(o),uN,"FontFamilyTextUpdate"),blocks:(o,s)=>_x(o,s,dN(o),cN,"BlocksTextUpdate"),align:(o,s)=>_x(o,s,lN(o),_4,"AlignTextUpdate")},A4=(o,s,i,l)=>{const f=(b=>{const x=b.toolbar,w=b.buttons;return x===!1?[]:x===void 0||x===!0?(E=>{const O=St($6,A=>{const L=Pn(A.items,H=>_n(E,H)||_n(TN,H));return{name:A.name,items:L}});return Pn(O,A=>A.items.length>0)})(w):de(x)?(E=>{const O=E.split("|");return St(O,A=>({items:A.trim().split(" ")}))})(x):(E=>Kt(E,O=>_n(O,"name")&&_n(O,"items")))(x)?x:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(s),m=St(f,b=>{const x=Kr(b.items,w=>w.trim().length===0?[]:((E,O,A,L,H,q)=>dn(O,A.toLowerCase()).orThunk(()=>q.bind(re=>qo(re,se=>dn(O,se+A.toLowerCase())))).fold(()=>dn(TN,A.toLowerCase()).map(re=>re(E,H)),re=>re.type!=="grouptoolbarbutton"||L?((se,me,te)=>dn(q6,se.type).fold(()=>(console.error("skipping button defined by",se),B.none()),Q=>B.some(Q(se,me,te))))(re,H,E):(console.warn(`Ignoring the '${A}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),B.none())))(o,s.buttons,w,s.allowToolbarGroups,i,l).toArray());return{title:B.from(o.translate(b.name)),items:x}});return Pn(m,b=>b.items.length>0)},Tx=(o,s,i,l)=>{const f=s.mainUi.outerContainer,m=i.toolbar,b=i.buttons;if(Kt(m,de)){const x=m.map(w=>{const E={toolbar:w,buttons:b,allowToolbarGroups:i.allowToolbarGroups};return A4(o,E,l,B.none())});zs.setToolbars(f,x)}else zs.setToolbar(f,A4(o,i,l,B.none()))},c0=Oc(),zN=c0.os.isiOS()&&c0.os.version.major<=12;var ON=Object.freeze({__proto__:null,render:(o,s,i,l,f)=>{const{mainUi:m,uiMotherships:b}=s,x=Ln(0),w=m.outerContainer;M6(o);const E=Jt(f.targetNode),O=Oa(as(E));Zm(E,m.mothership),((q,re,se)=>{qy(q)&&Zm(se.mainUi.mothership.element,se.popupUi.mothership),ah(re,se.dialogUi.mothership)})(o,O,s),o.on("SkinLoaded",()=>{zs.setSidebar(w,i.sidebar,B3(o)),Tx(o,s,i,l),x.set(o.getWin().innerWidth),zs.setMenubar(w,sN(o,i)),zs.setViews(w,i.views),((q,re)=>{const{uiMotherships:se}=re,me=q.dom;let te=q.getWin();const Q=q.getDoc().documentElement,ce=Ln(ro(te.innerWidth,te.innerHeight)),pe=Ln(ro(Q.offsetWidth,Q.offsetHeight)),_e=()=>{const yt=ce.get();yt.left===te.innerWidth&&yt.top===te.innerHeight||(ce.set(ro(te.innerWidth,te.innerHeight)),pk(q))},Re=()=>{const yt=q.getDoc().documentElement,Et=pe.get();Et.left===yt.offsetWidth&&Et.top===yt.offsetHeight||(pe.set(ro(yt.offsetWidth,yt.offsetHeight)),pk(q))},Ge=yt=>{((Et,en)=>{Et.dispatch("ScrollContent",en)})(q,yt)};me.bind(te,"resize",_e),me.bind(te,"scroll",Ge);const pt=rg(Jt(q.getBody()),"load",Re);q.on("hide",()=>{nn(se,yt=>{qn(yt.element,"display","none")})}),q.on("show",()=>{nn(se,yt=>{or(yt.element,"display")})}),q.on("NodeChange",Re),q.on("remove",()=>{pt.unbind(),me.unbind(te,"resize",_e),me.unbind(te,"scroll",Ge),te=null})})(o,s)});const A=zs.getSocket(w).getOrDie("Could not find expected socket element");if(zN){Jl(A.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const q=((se,me)=>{let te=null;return{cancel:()=>{$e(te)||(clearTimeout(te),te=null)},throttle:(...Q)=>{$e(te)&&(te=setTimeout(()=>{te=null,se.apply(null,Q)},20))}}})(()=>{o.dispatch("ScrollContent")}),re=Qi(A.element,"scroll",q.throttle);o.on("remove",re.unbind)}Lb(o,s),o.addCommand("ToggleSidebar",(q,re)=>{zs.toggleSidebar(w,re),o.dispatch("ToggleSidebar")}),o.addQueryValueHandler("ToggleSidebar",()=>{var q;return(q=zs.whichSidebar(w))!==null&&q!==void 0?q:""}),o.addCommand("ToggleView",(q,re)=>{if(zs.toggleView(w,re)){const se=w.element;m.mothership.broadcastOn([Al()],{target:se}),nn(b,me=>{me.broadcastOn([Al()],{target:se})}),$e(zs.whichView(w))&&(o.focus(),o.nodeChanged(),zs.refreshToolbar(w))}}),o.addQueryValueHandler("ToggleView",()=>{var q;return(q=zs.whichView(w))!==null&&q!==void 0?q:""});const L=Q0(o);L!==Nf.sliding&&L!==Nf.floating||o.on("ResizeWindow ResizeEditor ResizeContent",()=>{const q=o.getWin().innerWidth;q!==x.get()&&(zs.refreshToolbar(s.mainUi.outerContainer),x.set(q))});const H={setEnabled:q=>{dk(s,!q)},isEnabled:()=>!Xn.isDisabled(w)};return{iframeContainer:A.element.dom,editorContainer:w.element.dom,api:H}}});const N4=o=>/^[0-9\.]+(|px)$/i.test(""+o)?B.some(parseInt(""+o,10)):B.none(),D4=o=>tn(o)?o+"px":o,V_=(o,s,i)=>{const l=s.filter(m=>o<m),f=i.filter(m=>o>m);return l.or(f).getOr(o)},AN=o=>{const s=qw(o),i=BC(o),l=Kw(o);return N4(s).map(f=>V_(f,i,l))},{ToolbarLocation:R4,ToolbarMode:NN}=Y5,G6=(o,s,i,l,f)=>{const{mainUi:m,uiMotherships:b}=i,x=bh.DOM,w=$y(o),E=C1(o),O=Kw(o).or(AN(o)),A=l.shared.header,L=A.isPositionedAtTop,H=Q0(o),q=H===NN.sliding||H===NN.floating,re=Ln(!1),se=()=>re.get()&&!o.removed,me=pe=>q?pe.fold(Te(0),_e=>_e.components().length>1?et(_e.components()[1].element):0):0,te=()=>{nn(b,pe=>{pe.broadcastOn([ug()],{})})},Q=pe=>{if(!se())return;w||f.on(Re=>{const Ge=O.getOrThunk(()=>{const pt=N4(_s(Ha(),"margin-left")).getOr(0);return jr(Ha())-Vn(s).left+pt});qn(Re.element,"max-width",Ge+"px")});const _e=w?B.none():(()=>{if(w)return B.none();if(Vn(m.outerContainer.element).left+Aa(m.outerContainer.element)>=window.innerWidth-40||$s(m.outerContainer.element,"width").isSome()){qn(m.outerContainer.element,"position","absolute"),qn(m.outerContainer.element,"left","0px"),or(m.outerContainer.element,"width");const Re=Aa(m.outerContainer.element);return B.some(Re)}return B.none()})();q&&zs.refreshToolbar(m.outerContainer),w||(Re=>{f.on(Ge=>{const pt=zs.getToolbar(m.outerContainer),yt=me(pt),Et=pa(s),{top:en,left:xn}=((uo,Io)=>qy(uo)?b_(Io):B.none())(o,m.outerContainer.element).fold(()=>({top:L()?Math.max(Et.y-et(Ge.element)+yt,0):Et.bottom,left:Et.x}),uo=>{var Io;const Ps=pa(uo),da=(Io=uo.dom.scrollTop)!==null&&Io!==void 0?Io:0,Ko=Jo(uo,Ha()),Dl=Ko?Math.max(Et.y-et(Ge.element)+yt,0):Et.y-Ps.y+da-et(Ge.element)+yt;return{top:L()?Dl:Et.bottom,left:Ko?Et.x:Et.x-Ps.x}}),Bn={position:"absolute",left:Math.round(xn)+"px",top:Math.round(en)+"px"},Qn=Re.map(uo=>{const Io=Ds(),Ps=window.innerWidth-(xn-Io.left);return{width:Math.max(Math.min(uo,Ps),150)+"px"}}).getOr({});Jl(m.outerContainer.element,{...Bn,...Qn})})})(_e),E&&f.on(pe),te()},ce=()=>!(w||!E||!se())&&f.get().exists(pe=>{const _e=A.getDockingMode(),Re=(pt=>{switch(IC(o)){case R4.auto:const yt=zs.getToolbar(m.outerContainer),Et=me(yt),en=et(pt.element)-Et,xn=pa(s);if(xn.y>en)return"top";{const Bn=wu(s),Qn=Math.max(Bn.dom.scrollHeight,et(Bn));return xn.bottom<Qn-en||Qr().bottom<xn.bottom-en?"bottom":"top"}case R4.bottom:return"bottom";case R4.top:default:return"top"}})(pe);return Re!==_e&&(Ge=Re,f.on(pt=>{Ka.setModes(pt,[Ge]),A.setDockingMode(Ge);const yt=L()?Hl.TopToBottom:Hl.BottomToTop;eo(pt.element,qa,yt)}),!0);var Ge});return{isVisible:se,isPositionedAtTop:L,show:()=>{re.set(!0),qn(m.outerContainer.element,"display","flex"),x.addClass(o.getBody(),"mce-edit-focus"),nn(b,pe=>{or(pe.element,"display")}),ce(),qy(o)?Q(pe=>Ka.isDocked(pe)?Ka.reset(pe):Ka.refresh(pe)):Q(Ka.refresh)},hide:()=>{re.set(!1),qn(m.outerContainer.element,"display","none"),x.removeClass(o.getBody(),"mce-edit-focus"),nn(b,pe=>{qn(pe.element,"display","none")})},update:Q,updateMode:()=>{ce()&&Q(Ka.reset)},repositionPopups:te}},DN=(o,s)=>{const i=pa(o);return{pos:s?i.y:i.bottom,bounds:i}};var K6=Object.freeze({__proto__:null,render:(o,s,i,l,f)=>{const{mainUi:m}=s,b=Es(),x=Jt(f.targetNode),w=G6(o,x,s,l,b),E=S3(o);L6(o);const O=()=>{if(b.isSet())return void w.show();b.set(zs.getHeader(m.outerContainer).getOrDie());const L=GC(o);qy(o)?(Zm(x,m.mothership),Zm(x,s.popupUi.mothership)):ah(L,m.mothership),ah(L,s.dialogUi.mothership),Tx(o,s,i,l),zs.setMenubar(m.outerContainer,sN(o,i)),w.show(),((H,q,re,se)=>{const me=Ln(DN(q,re.isPositionedAtTop())),te=_e=>{const{pos:Re,bounds:Ge}=DN(q,re.isPositionedAtTop()),{pos:pt,bounds:yt}=me.get(),Et=Ge.height!==yt.height||Ge.width!==yt.width;me.set({pos:Re,bounds:Ge}),Et&&pk(H,_e),re.isVisible()&&(pt!==Re?re.update(Ka.reset):Et&&(re.updateMode(),re.repositionPopups()))};se||(H.on("activate",re.show),H.on("deactivate",re.hide)),H.on("SkinLoaded ResizeWindow",()=>re.update(Ka.reset)),H.on("NodeChange keydown",_e=>{requestAnimationFrame(()=>te(_e))});let Q=0;const ce=rx(()=>re.update(Ka.refresh),33);H.on("ScrollWindow",()=>{const _e=Ds().left;_e!==Q&&(Q=_e,ce.throttle()),re.updateMode()}),qy(H)&&H.on("ElementScroll",_e=>{re.update(Ka.refresh)});const pe=kf();pe.set(rg(Jt(H.getBody()),"load",_e=>te(_e.raw))),H.on("remove",()=>{pe.clear()})})(o,x,w,E),o.nodeChanged()};o.on("show",O),o.on("hide",w.hide),E||(o.on("focus",O),o.on("blur",w.hide)),o.on("init",()=>{(o.hasFocus()||E)&&O()}),Lb(o,s);const A={show:O,hide:w.hide,setEnabled:L=>{dk(s,!L)},isEnabled:()=>!Xn.isDisabled(m.outerContainer)};return{editorContainer:m.outerContainer.element.dom,api:A}}});const RN="contexttoolbar-hide",BN=(o,s)=>mt(AO,(i,l)=>{const f=(m=>({hide:()=>Lo(m,fp()),getValue:()=>cn.getValue(m)}))(o.get(i));s.onAction(f,l.event.buttonApi)}),MN=(o,s)=>{const i=o.label.fold(()=>({}),m=>({"aria-label":m})),l=Vr(Nb.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:o.initValue(),inputAttributes:i,selectOnFocus:!0,inputBehaviours:Ht([Qt.config({mode:"special",onEnter:m=>f.findPrimary(m).map(b=>(Lu(b),!0)),onLeft:(m,b)=>(b.cut(),B.none()),onRight:(m,b)=>(b.cut(),B.none())})])})),f=((m,b,x)=>{const w=St(b,E=>Vr(((O,A,L)=>(H=>H.type==="contextformtogglebutton")(A)?((H,q,re)=>{const{primary:se,...me}=q.original,te=Ql(dS({...me,type:"togglebutton",onAction:ht}));return EN(te,re,[BN(H,q)])})(O,A,L):((H,q,re)=>{const{primary:se,...me}=q.original,te=Ql(Q3({...me,type:"button",onAction:ht}));return Sx(te,re,[BN(H,q)])})(O,A,L))(m,E,x)));return{asSpecs:()=>St(w,E=>E.asSpec()),findPrimary:E=>qo(b,(O,A)=>O.primary?B.from(w[A]).bind(L=>L.getOpt(E)).filter(Cn(Xn.isDisabled)):B.none())}})(l,o.commands,s);return[{title:B.none(),items:[l.asSpec()]},{title:B.none(),items:f.asSpecs()}]},d0=(o,s,i)=>s.bottom-o.y>=i&&o.bottom-s.y>=i,Ch=o=>{const s=(i=>{const l=i.getBoundingClientRect();if(l.height<=0&&l.width<=0){const f=Tc(Jt(i.startContainer),i.startOffset).element;return(Ui(f)?ol(f):B.some(f)).filter(Qs).map(m=>m.dom.getBoundingClientRect()).getOr(l)}return l})(o.selection.getRng());if(o.inline){const i=Ds();return Us(i.left+s.left,i.top+s.top,s.width,s.height)}{const i=oa(Jt(o.getBody()));return Us(i.x+s.left,i.y+s.top,s.width,s.height)}},LN=(o,s,i,l=0)=>{const f=qi(window),m=pa(Jt(o.getContentAreaContainer())),b=Wy(o)||Qw(o)||tv(o),{x,width:w}=((E,O,A)=>{const L=Math.max(E.x+A,O.x);return{x:L,width:Math.min(E.right-A,O.right)-L}})(m,f,l);if(o.inline&&!b)return Us(x,f.y,w,f.height);{const E=s.header.isPositionedAtTop(),{y:O,bottom:A}=((L,H,q,re,se,me)=>{const te=Jt(L.getContainer()),Q=ia(te,".tox-editor-header").getOr(te),ce=pa(Q),pe=ce.y>=H.bottom,_e=re&&!pe;if(L.inline&&_e)return{y:Math.max(ce.bottom+me,q.y),bottom:q.bottom};if(L.inline&&!_e)return{y:q.y,bottom:Math.min(ce.y-me,q.bottom)};const Re=se==="line"?pa(te):H;return _e?{y:Math.max(ce.bottom+me,q.y),bottom:Math.min(Re.bottom-me,q.bottom)}:{y:Math.max(Re.y+me,q.y),bottom:Math.min(ce.y-me,q.bottom)}})(o,m,f,E,i,l);return Us(x,O,w,A-O)}},B4={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},M4={maxHeightFunction:wp(),maxWidthFunction:wx()},zx=o=>o==="node",Y6=(o,s,i,l,f)=>{const m=Ch(o),b=l.lastElement().exists(x=>Jo(i,x));return((x,w)=>{const E=x.selection.getRng(),O=Tc(Jt(E.startContainer),E.startOffset);return E.startContainer===E.endContainer&&E.startOffset===E.endOffset-1&&Jo(O.element,w)})(o,i)?b?hx:Pi:b?((x,w,E)=>{const O=$s(x,"position");qn(x,"position",w);const A=d0(m,pa(s),-20)&&!l.isReposition()?bx:hx;return O.each(L=>qn(x,"position",L)),A})(s,l.getMode()):(l.getMode()==="fixed"?f.y+Ds().top:f.y)+(et(s)+12)<=m.y?Pi:pu},Ox=(o,s,i,l)=>{const f=b=>(x,w,E,O,A)=>({...Y6(o,O,b,i,A)({...x,y:A.y,height:A.height},w,E,O,A),alwaysFit:!0}),m=b=>zx(l)?[f(b)]:[];return s?{onLtr:b=>[la,Ai,Cr,Ji,ds,Il].concat(m(b)),onRtl:b=>[la,Cr,Ai,ds,Ji,Il].concat(m(b))}:{onLtr:b=>[Il,la,Ji,Ai,ds,Cr].concat(m(b)),onRtl:b=>[Il,la,ds,Cr,Ji,Ai].concat(m(b))}},u0=(o,s)=>{const i=Pn(s,m=>m.predicate(o.dom)),{pass:l,fail:f}=Js(i,m=>m.type==="contexttoolbar");return{contextToolbars:l,contextForms:f}},X6=(o,s)=>{const i={},l=[],f=[],m={},b={},x=mo(o);return nn(x,w=>{const E=o[w];E.type==="contextform"?((O,A)=>{const L=Ql(Wr("ContextForm",pB,A));i[O]=L,L.launch.map(H=>{m["form:"+O]={...A.launch,type:H.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(L)}}}),L.scope==="editor"?f.push(L):l.push(L),b[O]=L})(w,E):E.type==="contexttoolbar"&&((O,A)=>{var L;(L=A,Wr("ContextToolbar",fS,L)).each(H=>{A.scope==="editor"?f.push(H):l.push(H),b[O]=H})})(w,E)}),{forms:i,inNodeScope:l,inEditorScope:f,lookupTable:b,formNavigators:m}},PN=bn("forward-slide"),IN=bn("backward-slide"),L4=bn("change-slide-event"),P4="tox-pop--resizing",I4="tox-pop--transition",H_=(o,s,i,l)=>{const f=l.backstage,m=f.shared,b=Oc().deviceType.isTouch,x=Es(),w=Es(),E=Es(),O=El((_e=>{const Re=Ln([]);return Ca.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:Ge=>{Re.set([]),Ca.getContent(Ge).each(pt=>{or(pt.element,"visibility")}),Ls(Ge.element,P4),or(Ge.element,"width")},inlineBehaviours:Ht([xo("context-toolbar-events",[Iu(Ti(),(Ge,pt)=>{pt.event.raw.propertyName==="width"&&(Ls(Ge.element,P4),or(Ge.element,"width"))}),mt(L4,(Ge,pt)=>{const yt=Ge.element;or(yt,"width");const Et=jr(yt);Ca.setContent(Ge,pt.event.contents),hr(yt,P4);const en=jr(yt);qn(yt,"width",Et+"px"),Ca.getContent(Ge).each(xn=>{pt.event.focus.bind(Bn=>(ic(Bn),Qc(yt))).orThunk(()=>(Qt.focusIn(xn),Lc(as(yt))))}),setTimeout(()=>{qn(Ge.element,"width",en+"px")},0)}),mt(PN,(Ge,pt)=>{Ca.getContent(Ge).each(yt=>{Re.set(Re.get().concat([{bar:yt,focus:Lc(as(Ge.element))}]))}),gn(Ge,L4,{contents:pt.event.forwardContents,focus:B.none()})}),mt(IN,(Ge,pt)=>{wn(Re.get()).each(yt=>{Re.set(Re.get().slice(0,Re.get().length-1)),gn(Ge,L4,{contents:qr(yt.bar),focus:yt.focus})})})]),Qt.config({mode:"special",onEscape:Ge=>wn(Re.get()).fold(()=>_e.onEscape(),pt=>(Lo(Ge,IN),B.some(!0)))})]),lazySink:()=>So.value(_e.sink)})})({sink:i,onEscape:()=>(o.focus(),B.some(!0))})),A=()=>{const _e=E.get().getOr("node"),Re=zx(_e)?1:0;return LN(o,m,_e,Re)},L=()=>!(o.removed||b()&&f.isContextMenuOpen()),H=()=>{if(L()){const _e=A(),Re=xi(E.get(),"node")?((Ge,pt)=>pt.filter(yt=>Or(yt)&&ci(yt)).map(oa).getOrThunk(()=>Ch(Ge)))(o,x.get()):Ch(o);return _e.height<=0||!d0(Re,_e,.01)}return!0},q=()=>{x.clear(),w.clear(),E.clear(),Ca.hide(O)},re=()=>{if(Ca.isOpen(O)){const _e=O.element;or(_e,"display"),H()?qn(_e,"display","none"):(w.set(0),Ca.reposition(O))}},se=_e=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[_e],behaviours:Ht([Qt.config({mode:"acyclic"}),xo("pop-dialog-wrap-events",[ts(Re=>{o.shortcuts.add("ctrl+F9","focus statusbar",()=>Qt.focusIn(Re))}),Qd(Re=>{o.shortcuts.remove("ctrl+F9")})])])}),me=il(()=>X6(s,_e=>{const Re=te([_e]);gn(O,PN,{forwardContents:se(Re)})})),te=_e=>{const{buttons:Re}=o.ui.registry.getAll(),Ge={...Re,...me().formNavigators},pt=Q0(o)===Nf.scrolling?Nf.scrolling:Nf.default,yt=Xo(St(_e,Et=>Et.type==="contexttoolbar"?((en,xn)=>A4(o,{buttons:en,toolbar:xn.items,allowToolbarGroups:!1},l.backstage,B.some(["form:"])))(Ge,Et):((en,xn)=>MN(en,xn))(Et,m.providers)));return tp({type:pt,uid:bn("context-toolbar"),initGroups:yt,onEscape:B.none,cyclicKeying:!0,providers:m.providers})},Q=(_e,Re)=>{if(pe.cancel(),!L())return;const Ge=te(_e),pt=_e[0].position,yt=((en,xn)=>{const Bn=en==="node"?m.anchors.node(xn):m.anchors.cursor(),Qn=((uo,Io,Ps,da)=>Io==="line"?{bubble:Ri(12,0,B4),layouts:{onLtr:()=>[Ni],onRtl:()=>[Gg]},overrides:M4}:{bubble:Ri(0,12,B4,1/12),layouts:Ox(uo,Ps,da,Io),overrides:M4})(o,en,b(),{lastElement:x.get,isReposition:()=>xi(w.get(),0),getMode:()=>Ol.getMode(i)});return ye(Bn,Qn)})(pt,Re);E.set(pt),w.set(1);const Et=O.element;or(Et,"display"),(en=>xi(ii(en,x.get(),Jo),!0))(Re)||(Ls(Et,I4),Ol.reset(i,O)),Ca.showWithinBounds(O,se(Ge),{anchor:yt,transition:{classes:[I4],mode:"placement"}},()=>B.some(A())),Re.fold(x.clear,x.set),H()&&qn(Et,"display","none")};let ce=!1;const pe=rx(()=>{!o.hasFocus()||o.removed||ce||(vs(O.element,I4)?pe.throttle():((_e,Re)=>{const Ge=Jt(Re.getBody()),pt=Et=>Jo(Et,Ge),yt=Jt(Re.selection.getNode());return(Et=>!pt(Et)&&!As(Ge,Et))(yt)?B.none():((Et,en,xn)=>{const Bn=u0(Et,en);if(Bn.contextForms.length>0)return B.some({elem:Et,toolbars:[Bn.contextForms[0]]});{const Qn=u0(Et,xn);if(Qn.contextForms.length>0)return B.some({elem:Et,toolbars:[Qn.contextForms[0]]});if(Bn.contextToolbars.length>0||Qn.contextToolbars.length>0){const uo=(Io=>{if(Io.length<=1)return Io;{const Ps=po=>Hr(Io,si=>si.position===po),da=po=>Pn(Io,si=>si.position===po),Ko=Ps("selection"),Dl=Ps("node");if(Ko||Dl){if(Dl&&Ko){const po=da("node"),si=St(da("selection"),js=>({...js,position:"node"}));return po.concat(si)}return da(Ko?"selection":"node")}return da("line")}})(Bn.contextToolbars.concat(Qn.contextToolbars));return B.some({elem:Et,toolbars:uo})}return B.none()}})(yt,_e.inNodeScope,_e.inEditorScope).orThunk(()=>((Et,en,xn)=>Et(en)?B.none():vc(en,Bn=>{if(Qs(Bn)){const{contextToolbars:Qn,contextForms:uo}=u0(Bn,xn.inNodeScope),Io=uo.length>0?uo:(Ps=>{if(Ps.length<=1)return Ps;{const da=Ko=>$o(Ps,Dl=>Dl.position===Ko);return da("selection").orThunk(()=>da("node")).orThunk(()=>da("line")).map(Ko=>Ko.position).fold(()=>[],Ko=>Pn(Ps,Dl=>Dl.position===Ko))}})(Qn);return Io.length>0?B.some({elem:Bn,toolbars:Io}):B.none()}return B.none()},Et))(pt,yt,_e))})(me(),o).fold(q,_e=>{Q(_e.toolbars,B.some(_e.elem))}))},17);o.on("init",()=>{o.on("remove",q),o.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",re),o.on("click keyup focus SetContent",pe.throttle),o.on(RN,q),o.on("contexttoolbar-show",_e=>{const Re=me();dn(Re.lookupTable,_e.toolbarKey).each(Ge=>{Q([Ge],li(_e.target!==o,_e.target)),Ca.getContent(O).each(Qt.focusIn)})}),o.on("focusout",_e=>{Fw.setEditorTimeout(o,()=>{Qc(i.element).isNone()&&Qc(O.element).isNone()&&q()},0)}),o.on("SwitchMode",()=>{o.mode.isReadOnly()&&q()}),o.on("AfterProgressState",_e=>{_e.state?q():o.hasFocus()&&pe.throttle()}),o.on("dragstart",()=>{ce=!0}),o.on("dragend drop",()=>{ce=!1}),o.on("NodeChange",_e=>{Qc(O.element).fold(pe.throttle,ht)})})},FN=(o,s)=>{const i=()=>{const l=s.getOptions(o),f=s.getCurrent(o).map(s.hash),m=Es();return St(l,b=>({type:"togglemenuitem",text:s.display(b),onSetup:x=>{const w=O=>{O&&(m.on(A=>A.setActive(!1)),m.set(x)),x.setActive(O)};w(xi(f,s.hash(b)));const E=s.watcher(o,b,w);return()=>{m.clear(),E()}},onAction:()=>s.setCurrent(o,b)}))};o.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:l=>l(i()),onSetup:s.onToolbarSetup}),o.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:i,onSetup:s.onMenuSetup})},F4=o=>{FN(o,(s=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:$C,hash:i=>((l,f)=>I_(l,["fixed","relative","empty"]).map(({value:m,unit:b})=>m+b))(i).getOr(i),display:kt,watcher:(i,l,f)=>i.formatter.formatChanged("lineheight",f,!1,{value:l}).unbind,getCurrent:i=>B.from(i.queryCommandValue("LineHeight")),setCurrent:(i,l)=>i.execCommand("LineHeight",!1,l),onToolbarSetup:rd(s),onMenuSetup:rd(s)}))(o)),(s=>B.from(k3(s)).map(i=>({name:"language",text:"Language",icon:"language",getOptions:Te(i),hash:l=>vt(l.customCode)?l.code:`${l.code}/${l.customCode}`,display:l=>l.title,watcher:(l,f,m)=>{var b;return l.formatter.formatChanged("lang",m,!1,{value:f.code,customValue:(b=f.customCode)!==null&&b!==void 0?b:null}).unbind},getCurrent:l=>{const f=Jt(l.selection.getNode());return ec(f,m=>B.some(m).filter(Qs).bind(b=>xa(b,"lang").map(x=>({code:x,customCode:xa(b,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(l,f)=>l.execCommand("Lang",!1,f),onToolbarSetup:l=>{const f=kf();return l.setActive(s.formatter.match("lang",{},void 0,!0)),f.set(s.formatter.formatChanged("lang",l.setActive,!0)),gk(f.clear,rd(s)(l))},onMenuSetup:rd(s)})))(o).each(s=>FN(o,s))},J6=o=>Ib(o,"NodeChange",s=>{s.setEnabled(o.queryCommandState("outdent")&&o.selection.isEditable())}),VN=(o,s)=>i=>{i.setActive(s.get());const l=f=>{s.set(f.state),i.setActive(f.state)};return o.on("PastePlainTextToggle",l),gk(()=>o.off("PastePlainTextToggle",l),rd(o)(i))},V4=(o,s)=>()=>{o.execCommand("mceToggleFormat",!1,s)},HN=o=>{(s=>{(i=>{Eg.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(l,f)=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:hk(i,l.name),onAction:V4(i,l.name)})});for(let l=1;l<=6;l++){const f="h"+l;i.ui.registry.addToggleButton(f,{text:f.toUpperCase(),tooltip:"Heading "+l,onSetup:hk(i,f),onAction:V4(i,f)})}})(s),(i=>{Eg.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print"}],l=>{i.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onAction:Wl(i,l.action)})}),Eg.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],l=>{i.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:rd(i),onAction:Wl(i,l.action)})})})(s),(i=>{Eg.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],l=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:Wl(i,l.action),onSetup:hk(i,l.name)})})})(s)})(o),(s=>{Eg.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],i=>{s.ui.registry.addMenuItem(i.name,{text:i.text,icon:i.icon,shortcut:i.shortcut,onAction:Wl(s,i.action)})}),Eg.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],i=>{s.ui.registry.addMenuItem(i.name,{text:i.text,icon:i.icon,shortcut:i.shortcut,onSetup:rd(s),onAction:Wl(s,i.action)})}),s.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:rd(s),onAction:V4(s,"code")})})(o)},U_=(o,s)=>Ib(o,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i=>{i.setEnabled(!o.mode.isReadOnly()&&o.undoManager[s]())}),Q6=o=>Ib(o,"VisualAid",s=>{s.setActive(o.hasVisual)}),eL=(o,s)=>{(i=>{nn([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],l=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:Wl(i,l.cmd),onSetup:hk(i,l.name)})}),i.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:rd(i),onAction:Wl(i,"JustifyNone")})})(o),HN(o),((i,l)=>{((f,m)=>{const b=Bv(0,m,lN(f));f.ui.registry.addNestedMenuItem("align",{text:m.shared.providers.translate("Align"),onSetup:rd(f),getSubmenuItems:()=>b.items.validateItems(b.getStyleItems())})})(i,l),((f,m)=>{const b=Bv(0,m,pN(f));f.ui.registry.addNestedMenuItem("fontfamily",{text:m.shared.providers.translate("Fonts"),onSetup:rd(f),getSubmenuItems:()=>b.items.validateItems(b.getStyleItems())})})(i,l),((f,m)=>{const b={type:"advanced",...m.styles},x=Bv(0,m,vN(f,b));f.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:rd(f),getSubmenuItems:()=>x.items.validateItems(x.getStyleItems())})})(i,l),((f,m)=>{const b=Bv(0,m,dN(f));f.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:rd(f),getSubmenuItems:()=>b.items.validateItems(b.getStyleItems())})})(i,l),((f,m)=>{const b=Bv(0,m,bN(f));f.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:rd(f),getSubmenuItems:()=>b.items.validateItems(b.getStyleItems())})})(i,l)})(o,s),(i=>{(l=>{l.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:U_(l,"hasUndo"),onAction:Wl(l,"undo")}),l.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:U_(l,"hasRedo"),onAction:Wl(l,"redo")})})(i),(l=>{l.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:U_(l,"hasUndo"),onAction:Wl(l,"undo")}),l.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:U_(l,"hasRedo"),onAction:Wl(l,"redo")})})(i)})(o),(i=>{(x=>{x.addCommand("mceApplyTextcolor",(w,E)=>{((O,A,L)=>{O.undoManager.transact(()=>{O.focus(),O.formatter.apply(A,{value:L}),O.nodeChanged()})})(x,w,E)}),x.addCommand("mceRemoveTextcolor",w=>{((E,O)=>{E.undoManager.transact(()=>{E.focus(),E.formatter.remove(O,{value:null},void 0,!0),E.nodeChanged()})})(x,w)})})(i);const l=zz(i),f=Oz(i),m=Ln(l),b=Ln(f);LS(i,"forecolor","forecolor",m),LS(i,"backcolor","hilitecolor",b),PS(i,"forecolor","forecolor","Text color",m),PS(i,"backcolor","hilitecolor","Background color",b)})(o),(i=>{(l=>{l.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Wl(l,"mceToggleVisualAid")})})(i),(l=>{l.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:Q6(l),onAction:Wl(l,"mceToggleVisualAid")})})(i)})(o),(i=>{(l=>{l.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:J6(l),onAction:Wl(l,"outdent")}),l.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:rd(l),onAction:Wl(l,"indent")})})(i)})(o),F4(o),(i=>{const l=Ln(WC(i)),f=()=>i.execCommand("mceTogglePlainTextPaste");i.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:f,onSetup:VN(i,l)}),i.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:f,onSetup:VN(i,l)})})(o)},UN=o=>de(o)?o.split(/[ ,]/):o,jN=o=>s=>s.options.get(o),ZN=jN("contextmenu_never_use_native"),tL=jN("contextmenu_avoid_overlap"),WN=o=>{const s=o.ui.registry.getAll().contextMenus,i=o.options.get("contextmenu");return o.options.isSet("contextmenu")?i:Pn(i,l=>_n(s,l))},Ax=(o,s)=>({type:"makeshift",x:o,y:s}),H4=o=>o.type==="longpress"||o.type.indexOf("touch")===0,$N=(o,s)=>s.type==="contextmenu"||s.type==="longpress"?o.inline?(i=>{if(H4(i)){const l=i.touches[0];return Ax(l.pageX,l.pageY)}return Ax(i.pageX,i.pageY)})(s):((i,l)=>{const f=bh.DOM.getPos(i);return((m,b,x)=>Ax(m.x+b,m.y+x))(l,f.x,f.y)})(o.getContentAreaContainer(),(i=>{if(H4(i)){const l=i.touches[0];return Ax(l.clientX,l.clientY)}return Ax(i.clientX,i.clientY)})(s)):qN(o),qN=o=>({type:"selection",root:Jt(o.selection.getNode())}),GN=(o,s,i)=>{switch(i){case"node":return(l=>({type:"node",node:B.some(Jt(l.selection.getNode())),root:Jt(l.getBody())}))(o);case"point":return $N(o,s);case"selection":return qN(o)}},nL=(o,s,i,l,f,m)=>{const b=i(),x=GN(o,s,m);l0(b,um.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!1,search:B.none()}).map(w=>{s.preventDefault(),Ca.showMenuAt(f,{anchor:x},{menu:{markers:Xm("normal")},data:w})})},oL={onLtr:()=>[la,Ai,Cr,Ji,ds,Il,Pi,pu,gx,c_,px,mx],onRtl:()=>[la,Cr,Ai,ds,Ji,Il,Pi,pu,px,mx,gx,c_]},rL={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},KN=(o,s,i,l,f,m)=>{const b=Oc(),x=b.os.isiOS(),w=b.os.isMacOS(),E=b.os.isAndroid(),O=b.deviceType.isTouch(),A=()=>{const L=i();((H,q,re,se,me,te,Q)=>{const ce=((pe,_e,Re)=>{const Ge=GN(pe,_e,Re);return{bubble:Ri(0,Re==="point"?12:0,rL),layouts:oL,overrides:{maxWidthFunction:wx(),maxHeightFunction:wp()},...Ge}})(H,q,te);l0(re,um.CLOSE_ON_EXECUTE,se,{isHorizontalMenu:!0,search:B.none()}).map(pe=>{q.preventDefault();const _e=Q?td.HighlightMenuAndItem:td.HighlightNone;Ca.showMenuWithinBounds(me,{anchor:ce},{menu:{markers:Xm("normal"),highlightOnOpen:_e},data:pe,type:"horizontal"},()=>B.some(LN(H,se.shared,te==="node"?"node":"selection"))),H.dispatch(RN)})})(o,s,L,l,f,m,!(E||x||w&&O))};if((w||x)&&m!=="node"){const L=()=>{(H=>{const q=H.selection.getRng(),re=()=>{Fw.setEditorTimeout(H,()=>{H.selection.setRng(q)},10),te()};H.once("touchend",re);const se=Q=>{Q.preventDefault(),Q.stopImmediatePropagation()};H.on("mousedown",se,!0);const me=()=>te();H.once("longpresscancel",me);const te=()=>{H.off("touchend",re),H.off("longpresscancel",me),H.off("mousedown",se)}})(o),A()};((H,q)=>{const re=H.selection;if(re.isCollapsed()||q.touches.length<1)return!1;{const se=q.touches[0],me=re.getRng();return ob(H.getWin(),Cf.domRange(me)).exists(te=>te.left<=se.clientX&&te.right>=se.clientX&&te.top<=se.clientY&&te.bottom>=se.clientY)}})(o,s)?L():(o.once("selectionchange",L),o.once("touchend",()=>o.off("selectionchange",L)))}else A()},f0=o=>de(o)?o==="|":o.type==="separator",U4={type:"separator"},YN=o=>{const s=i=>({text:i.text,icon:i.icon,enabled:i.enabled,shortcut:i.shortcut});if(de(o))return o;switch(o.type){case"separator":return U4;case"submenu":return{type:"nestedmenuitem",...s(o),getSubmenuItems:()=>{const l=o.getSubmenuItems();return de(l)?l:St(l,YN)}};default:const i=o;return{type:"menuitem",...s(i),onAction:ln(i.onAction)}}},XN=(o,s)=>{if(s.length===0)return o;const i=wn(o).filter(l=>!f0(l)).fold(()=>[],l=>[U4]);return o.concat(i).concat(s).concat([U4])},Nx=(o,s)=>!(i=>i.type==="longpress"||_n(i,"touches"))(s)&&(s.button!==2||s.target===o.getBody()&&s.pointerType===""),Mf=(o,s)=>Nx(o,s)?o.selection.getStart(!0):s.target,j4=(o,s,i)=>{const l=Oc().deviceType.isTouch,f=El(Ca.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>o.focus(),onShow:()=>i.setContextMenuState(!0),onHide:()=>i.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Ht([xo("dismissContextMenu",[mt(Bu(),(x,w)=>{Eo.close(x),o.focus()})])])})),m=()=>Ca.hide(f),b=x=>{if(ZN(o)&&x.preventDefault(),((E,O)=>O.ctrlKey&&!ZN(E))(o,x)||(E=>WN(E).length===0)(o))return;const w=((E,O)=>{const A=tL(E),L=Nx(E,O)?"selection":"point";if(Kl(A)){const H=Mf(E,O);return W1(Jt(H),A)?"node":L}return L})(o,x);(l()?KN:nL)(o,x,()=>{const E=Mf(o,x),O=o.ui.registry.getAll(),A=WN(o);return((L,H,q)=>{const re=Y(H,(se,me)=>dn(L,me.toLowerCase()).map(te=>{const Q=te.update(q);if(de(Q)&&Kl(Vi(Q)))return XN(se,Q.split(" "));if(Me(Q)&&Q.length>0){const ce=St(Q,YN);return XN(se,ce)}return se}).getOrThunk(()=>se.concat([me])),[]);return re.length>0&&f0(re[re.length-1])&&re.pop(),re})(O.contextMenus,A,E)},i,f,w)};o.on("init",()=>{const x="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(l()?"":" ResizeWindow");o.on(x,m),o.on("longpress contextmenu",b)})},j_=Ba([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),Z_=o=>s=>s.translate(-o.left,-o.top),W_=o=>s=>s.translate(o.left,o.top),Sh=o=>(s,i)=>Y(o,(l,f)=>f(l),ro(s,i)),$_=(o,s,i)=>o.fold(Sh([W_(i),Z_(s)]),Sh([Z_(s)]),Sh([])),m0=(o,s,i)=>o.fold(Sh([W_(i)]),Sh([]),Sh([W_(s)])),Z4=(o,s,i)=>o.fold(Sh([]),Sh([Z_(i)]),Sh([W_(s),Z_(i)])),JN=(o,s,i)=>{const l=o.fold((f,m)=>({position:B.some("absolute"),left:B.some(f+"px"),top:B.some(m+"px")}),(f,m)=>({position:B.some("absolute"),left:B.some(f-i.left+"px"),top:B.some(m-i.top+"px")}),(f,m)=>({position:B.some("fixed"),left:B.some(f+"px"),top:B.some(m+"px")}));return{right:B.none(),bottom:B.none(),...l}},W4=(o,s,i,l)=>{const f=(m,b)=>(x,w)=>{const E=m(s,i,l);return b(x.getOr(E.left),w.getOr(E.top))};return o.fold(f(Z4,Dx),f(m0,ey),f($_,ty))},Dx=j_.offset,ey=j_.absolute,ty=j_.fixed,$4=(o,s)=>{const i=Vs(o,s);return vt(i)?NaN:parseInt(i,10)},QN=(o,s,i,l,f,m)=>{const b=((E,O,A,L)=>((H,q)=>{const re=H.element,se=$4(re,q.leftAttr),me=$4(re,q.topAttr);return isNaN(se)||isNaN(me)?B.none():B.some(ro(se,me))})(E,O).fold(()=>A,H=>ty(H.left+L.left,H.top+L.top)))(o,s,i,l),x=s.mustSnap?sL(o,s,b,f,m):aL(o,s,b,f,m),w=$_(b,f,m);return((E,O,A)=>{const L=E.element;eo(L,O.leftAttr,A.left+"px"),eo(L,O.topAttr,A.top+"px")})(o,s,w),x.fold(()=>({coord:ty(w.left,w.top),extra:B.none()}),E=>({coord:E.output,extra:E.extra}))},eD=(o,s,i,l)=>qo(o,f=>{const m=f.sensor;return((x,w,E,O,A,L)=>{const H=m0(x,A,L),q=m0(w,A,L);return Math.abs(H.left-q.left)<=E&&Math.abs(H.top-q.top)<=O})(s,m,f.range.left,f.range.top,i,l)?B.some({output:W4(f.output,s,i,l),extra:f.extra}):B.none()}),sL=(o,s,i,l,f)=>{const m=s.getSnapPoints(o);return eD(m,i,l,f).orThunk(()=>Y(m,(x,w)=>{const E=w.sensor,O=((A,L,H,q,re,se)=>{const me=m0(A,re,se),te=m0(L,re,se),Q=Math.abs(me.left-te.left),ce=Math.abs(me.top-te.top);return ro(Q,ce)})(i,E,w.range.left,w.range.top,l,f);return x.deltas.fold(()=>({deltas:B.some(O),snap:B.some(w)}),A=>(O.left+O.top)/2<=(A.left+A.top)/2?{deltas:B.some(O),snap:B.some(w)}:x)},{deltas:B.none(),snap:B.none()}).snap.map(x=>({output:W4(x.output,i,l,f),extra:x.extra})))},aL=(o,s,i,l,f)=>{const m=s.getSnapPoints(o);return eD(m,i,l,f)};var iL=Object.freeze({__proto__:null,snapTo:(o,s,i,l)=>{const f=s.getTarget(o.element);if(s.repositionTarget){const m=Xa(o.element),b=Ds(m),x=CA(f),w=((O,A,L)=>({coord:W4(O.output,O.output,A,L),extra:O.extra}))(l,b,x),E=JN(w.coord,0,x);Zi(f,E)}}});const q4="data-initial-z-index",tD=(o,s)=>{o.getSystem().addToGui(s),(i=>{ol(i.element).filter(Qs).each(l=>{$s(l,"z-index").each(f=>{eo(l,q4,f)}),qn(l,"z-index",_s(i.element,"z-index"))})})(s)},G4=o=>{(s=>{ol(s.element).filter(Qs).each(i=>{xa(i,q4).fold(()=>or(i,"z-index"),l=>qn(i,"z-index",l)),Xr(i,q4)})})(o),o.getSystem().removeFromGui(o)},nD=(o,s,i)=>o.getSystem().build(Bd.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:i}));var oD=kl("snaps",[at("getSnapPoints"),Vo("onSensor"),at("leftAttr"),at("topAttr"),Ue("lazyViewport",Qr),Ue("mustSnap",!1)]);const K4=[Ue("useFixed",Je),at("blockerClass"),Ue("getTarget",kt),Ue("onDrag",ht),Ue("repositionTarget",!0),Ue("onDrop",ht),ls("getBounds",Qr),oD],lL=o=>{return(s=$s(o,"left"),i=$s(o,"top"),l=$s(o,"position"),s.isSome()&&i.isSome()&&l.isSome()?B.some(((f,m,b)=>(b==="fixed"?ty:Dx)(parseInt(f,10),parseInt(m,10)))(s.getOrDie(),i.getOrDie(),l.getOrDie())):B.none()).getOrThunk(()=>{const f=Vn(o);return ey(f.left,f.top)});var s,i,l},rD=(o,s)=>({bounds:o.getBounds(),height:Vt(s.element),width:Aa(s.element)}),Y4=(o,s,i,l,f)=>{const m=i.update(l,f),b=i.getStartData().getOrThunk(()=>rD(s,o));m.each(x=>{((w,E,O,A)=>{const L=E.getTarget(w.element);if(E.repositionTarget){const H=Xa(w.element),q=Ds(H),re=CA(L),se=lL(L),me=((Q,ce,pe,_e,Re,Ge,pt)=>((yt,Et,en,xn,Bn)=>{const Qn=Bn.bounds,uo=m0(Et,en,xn),Io=kc(uo.left,Qn.x,Qn.x+Qn.width-Bn.width),Ps=kc(uo.top,Qn.y,Qn.y+Qn.height-Bn.height),da=ey(Io,Ps);return Et.fold(()=>{const Ko=Z4(da,en,xn);return Dx(Ko.left,Ko.top)},Te(da),()=>{const Ko=$_(da,en,xn);return ty(Ko.left,Ko.top)})})(0,ce.fold(()=>{const yt=(Et=pe,en=Ge.left,xn=Ge.top,Et.fold((Qn,uo)=>Dx(Qn+en,uo+xn),(Qn,uo)=>ey(Qn+en,uo+xn),(Qn,uo)=>ty(Qn+en,uo+xn)));var Et,en,xn;const Bn=$_(yt,_e,Re);return ty(Bn.left,Bn.top)},yt=>{const Et=QN(Q,yt,pe,Ge,_e,Re);return Et.extra.each(en=>{yt.onSensor(Q,en)}),Et.coord}),_e,Re,pt))(w,E.snaps,se,q,re,A,O),te=JN(me,0,re);Zi(L,te)}E.onDrag(w,L,A)})(o,s,b,x)})},sD=(o,s,i,l)=>{s.each(G4),i.snaps.each(m=>{((b,x)=>{((w,E)=>{const O=w.element;Xr(O,E.leftAttr),Xr(O,E.topAttr)})(b,x)})(o,m)});const f=i.getTarget(o.element);l.reset(),i.onDrop(o,f)},X4=o=>(s,i)=>{const l=f=>{i.setStartData(rD(s,f))};return Ro([mt(Ru(),f=>{i.getStartData().each(()=>l(f))}),...o(s,i,l)])};var cL=Object.freeze({__proto__:null,getData:o=>B.from(ro(o.x,o.y)),getDelta:(o,s)=>ro(s.left-o.left,s.top-o.top)});const J4=(o,s,i)=>[mt(aa(),(l,f)=>{if(f.event.raw.button!==0)return;f.stop();const m=()=>sD(l,B.some(w),o,s),b=jz(m,200),x={drop:m,delayDrop:b.schedule,forceDrop:m,move:E=>{b.cancel(),Y4(l,o,s,cL,E)}},w=nD(l,o.blockerClass,(E=>Ro([mt(aa(),E.forceDrop),mt(J(),E.drop),mt(z(),(O,A)=>{E.move(A.event)}),mt(V(),E.delayDrop)]))(x));i(l),tD(l,w)})],aD=[...K4,cs("dragger",{handlers:X4(J4)})];var iD=Object.freeze({__proto__:null,getData:o=>{const s=o.raw.touches;return s.length===1?(i=>{const l=i[0];return B.some(ro(l.clientX,l.clientY))})(s):B.none()},getDelta:(o,s)=>ro(s.left-o.left,s.top-o.top)});const lD=(o,s,i)=>{const l=Es(),f=m=>{sD(m,l.get(),o,s),l.clear()};return[mt(Go(),(m,b)=>{b.stop();const x=()=>f(m),w={drop:x,delayDrop:ht,forceDrop:x,move:O=>{Y4(m,o,s,iD,O)}},E=nD(m,o.blockerClass,(O=>Ro([mt(Go(),O.forceDrop),mt(wc(),O.drop),mt(df(),O.drop),mt(Yd(),(A,L)=>{O.move(L.event)})]))(w));l.set(E),i(m),tD(m,E)}),mt(Yd(),(m,b)=>{b.stop(),Y4(m,o,s,iD,b.event)}),mt(wc(),(m,b)=>{b.stop(),f(m)}),mt(df(),f)]},dL=aD,uL=[...K4,cs("dragger",{handlers:X4(lD)})],fL=[...K4,cs("dragger",{handlers:X4((o,s,i)=>[...J4(o,s,i),...lD(o,s,i)])})];var mL=Object.freeze({__proto__:null,mouse:dL,touch:uL,mouseOrTouch:fL}),cD=Object.freeze({__proto__:null,init:()=>{let o=B.none(),s=B.none();const i=Te({});return ns({readState:i,reset:()=>{o=B.none(),s=B.none()},update:(l,f)=>l.getData(f).bind(m=>((b,x)=>{const w=o.map(E=>b.getDelta(E,x));return o=B.some(x),w})(l,m)),getStartData:()=>s,setStartData:l=>{s=B.some(l)}})}});const ny=Nm({branchKey:"mode",branches:mL,name:"dragging",active:{events:(o,s)=>o.dragger.handlers(o,s)},extra:{snap:o=>({sensor:o.sensor,range:o.range,output:o.output,extra:B.from(o.extra)})},state:cD,apis:iL}),Q4=(o,s,i,l,f,m)=>o.fold(()=>ny.snap({sensor:ey(i-20,l-20),range:ro(f,m),output:ey(B.some(i),B.some(l)),extra:{td:s}}),b=>{const x=i-20,w=l-20,E=b.element.dom.getBoundingClientRect();return ny.snap({sensor:ey(x,w),range:ro(40,40),output:ey(B.some(i-E.width/2),B.some(l-E.height/2)),extra:{td:s}})}),q_=(o,s,i)=>({getSnapPoints:o,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(l,f)=>{const m=f.td;((b,x)=>b.exists(w=>Jo(w,x)))(s.get(),m)||(s.set(m),i(m))},mustSnap:!0}),dD=o=>Vr(cc.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Ht([ny.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:o}),K1.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),uD=(o,s)=>{const i=Ln([]),l=Ln([]),f=Ln(!1),m=Es(),b=Es(),x=te=>{const Q=oa(te);return Q4(A.getOpt(s),te,Q.x,Q.y,Q.width,Q.height)},w=te=>{const Q=oa(te);return Q4(L.getOpt(s),te,Q.right,Q.bottom,Q.width,Q.height)},E=q_(()=>St(i.get(),te=>x(te)),m,te=>{b.get().each(Q=>{o.dispatch("TableSelectorChange",{start:te,finish:Q})})}),O=q_(()=>St(l.get(),te=>w(te)),b,te=>{m.get().each(Q=>{o.dispatch("TableSelectorChange",{start:Q,finish:te})})}),A=dD(E),L=dD(O),H=El(A.asSpec()),q=El(L.asSpec()),re=(te,Q,ce,pe)=>{const _e=ce(Q);ny.snapTo(te,_e),((Re,Ge,pt,yt)=>{const Et=Ge.dom.getBoundingClientRect();or(Re.element,"display");const en=ku(Jt(o.getBody())).dom.innerHeight,xn=Et[pe]<0,Bn=((Qn,uo)=>Qn[pe]>uo)(Et,en);(xn||Bn)&&qn(Re.element,"display","none")})(te,Q)},se=te=>re(H,te,x,"top"),me=te=>re(q,te,w,"bottom");Oc().deviceType.isTouch()&&(o.on("TableSelectionChange",te=>{f.get()||(Um(s,H),Um(s,q),f.set(!0)),m.set(te.start),b.set(te.finish),te.otherCells.each(Q=>{i.set(Q.upOrLeftCells),l.set(Q.downOrRightCells),se(te.start),me(te.finish)})}),o.on("ResizeEditor ResizeWindow ScrollContent",()=>{m.get().each(se),b.get().each(me)}),o.on("TableSelectionClear",()=>{f.get()&&(lm(H),lm(q),f.set(!1)),m.clear(),b.clear()}))},pL=(o,s,i)=>{var l;const f=(l=s.delimiter)!==null&&l!==void 0?l:"›";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Ht([Qt.config({mode:"flow",selector:"div[role=button]"}),Xn.config({disabled:i.isDisabled}),tl(),Sa.config({}),Jn.config({}),xo("elementPathEvents",[ts((m,b)=>{o.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Qt.focusIn(m)),o.on("NodeChange",x=>{const w=(O=>{const A=[];let L=O.length;for(;L-- >0;){const q=O[L];if(q.nodeType===1&&(H=q).nodeName!=="BR"&&!H.getAttribute("data-mce-bogus")&&H.getAttribute("data-mce-type")!=="bookmark"){const re=EB(o,q);if(re.isDefaultPrevented()||A.push({name:re.name,element:q}),re.isPropagationStopped())break}}var H;return A})(x.parents),E=w.length>0?Y(w,(O,A,L)=>{const H=((q,re,se)=>cc.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":se,"aria-level":se+1}},components:[Ss(q)],action:me=>{o.focus(),o.selection.select(re),o.nodeChanged()},buttonBehaviours:Ht([uv(i.isDisabled),tl()])}))(A.name,A.element,L);return L===0?O.concat([H]):O.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Ss(` ${f} `)]},H])},[]):[];Jn.set(m,E)})})])]),components:[]}};var oy;(function(o){o[o.None=0]="None",o[o.Both=1]="Both",o[o.Vertical=2]="Vertical"})(oy||(oy={}));const fD=(o,s,i)=>{const l=Jt(o.getContainer()),f=((m,b,x,w,E)=>{const O={height:V_(w+b.top,Gw(m),MC(m))};return x===oy.Both&&(O.width=V_(E+b.left,BC(m),Kw(m))),O})(o,s,i,et(l),jr(l));Nr(f,(m,b)=>{tn(m)&&qn(l,b,D4(m))}),(m=>{m.dispatch("ResizeEditor")})(o)},G_=(o,s,i,l)=>{const f=ro(20*i,20*l);return fD(o,f,s),B.some(!0)},eT=(o,s)=>{const i=()=>{const l=[],f=Ab(o),m=D3(o),b=ZC(o)||o.hasPlugin("wordcount");return m&&l.push(pL(o,{},s)),f&&l.push((()=>{const x=fk("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Ss(fu.translate(["Press {0} for help",x]))]}})()),b&&l.push((()=>{const x=[];return o.hasPlugin("wordcount")&&x.push(((w,E)=>{const O=(A,L,H)=>Jn.set(A,[Ss(E.translate(["{0} "+H,L[H]]))]);return cc.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Ht([uv(E.isDisabled),tl(),Sa.config({}),Jn.config({}),cn.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),xo("wordcount-events",[dl(A=>{const L=cn.getValue(A),H=L.mode==="words"?"characters":"words";cn.setValue(A,{mode:H,count:L.count}),O(A,L.count,H)}),ts(A=>{w.on("wordCountUpdate",L=>{const{mode:H}=cn.getValue(A);cn.setValue(A,{mode:H,count:L.wordCount}),O(A,L.wordCount,H)})})])]),eventOrder:{[cl()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(o,s)),ZC(o)&&x.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v6",rel:"noopener",target:"_blank","aria-label":fu.translate(["Powered by {0}","Tiny"])},innerHtml:`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`.trim()},behaviours:Ht([ao.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:x}})()),l.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const x="tox-statusbar__text-container--flex-start",w="tox-statusbar__text-container--flex-end";if(f){const E="tox-statusbar__text-container-3-cols";return b||m?b&&!m?[E,w]:[E,x]:[E,"tox-statusbar__text-container--space-around"]}return[b&&!m?w:x]})()]},components:l}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const l=i(),f=((m,b)=>{const x=(E=>{const O=R3(E);return O===!1?oy.None:O==="both"?oy.Both:oy.Vertical})(m);if(x===oy.None)return B.none();const w=x===oy.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return B.some(Km("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:b.translate("Resize"),"aria-label":b.translate(w)},behaviours:[ny.config({mode:"mouse",repositionTarget:!1,onDrag:(E,O,A)=>fD(m,A,x),blockerClass:"tox-blocker"}),Qt.config({mode:"special",onLeft:()=>G_(m,x,-1,0),onRight:()=>G_(m,x,1,0),onUp:()=>G_(m,x,0,-1),onDown:()=>G_(m,x,0,1)}),Sa.config({}),ao.config({})]},b.icons))})(o,s);return l.concat(f.toArray())})()}},Og=(o,s)=>s.get().getOrDie(`UI for ${o} has not been rendered`),gL=(o,s)=>{const i=o.inline,l=i?K6:ON,f=C1(o)?t6:_A,m=(()=>{const _e=Es(),Re=Es(),Ge=Es();return{dialogUi:_e,popupUi:Re,mainUi:Ge,getUiMotherships:()=>{const pt=_e.get().map(Et=>Et.mothership),yt=Re.get().map(Et=>Et.mothership);return pt.fold(()=>yt.toArray(),Et=>yt.fold(()=>[Et],en=>Jo(Et.element,en.element)?[Et]:[Et,en]))},lazyGetInOuterOrDie:(pt,yt)=>()=>Ge.get().bind(Et=>yt(Et.outerContainer)).getOrDie(`Could not find ${pt} element in OuterContainer`)}})(),b=Es(),x=Es(),w=Es(),E=Oc().deviceType.isTouch()?["tox-platform-touch"]:[],O=_1(o),A=Q0(o),L=Vr({dom:{tag:"div",classes:["tox-anchorbar"]}}),H=Vr({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),q=()=>m.mainUi.get().map(_e=>_e.outerContainer).bind(zs.getHeader),re=m.lazyGetInOuterOrDie("anchor bar",L.getOpt),se=m.lazyGetInOuterOrDie("bottom anchor bar",H.getOpt),me=m.lazyGetInOuterOrDie("toolbar",zs.getToolbar),te=m.lazyGetInOuterOrDie("throbber",zs.getThrobber),Q=((_e,Re,Ge,pt)=>{const yt=Ln(!1),Et=(Ko=>{const Dl=Ln(_1(Ko)?"bottom":"top");return{isPositionedAtTop:()=>Dl.get()==="top",getDockingMode:Dl.get,setDockingMode:Dl.set}})(Re),en={icons:()=>Re.ui.registry.getAll().icons,menuItems:()=>Re.ui.registry.getAll().menuItems,translate:fu.translate,isDisabled:()=>Re.mode.isReadOnly()||!Re.ui.isEnabled(),getOption:Re.options.get},xn=jM(Re),Bn=(Ko=>{const Dl=_r=>()=>Ko.formatter.match(_r),po=_r=>()=>{const Ii=Ko.formatter.get(_r);return Ii!==void 0?B.some({tag:Ii.length>0&&(Ii[0].inline||Ii[0].block)||"div",styles:Ko.dom.parseStyle(Ko.formatter.getCssText(_r))}):B.none()},si=Ln([]),js=Ln([]),Id=Ln(!1);return Ko.on("PreInit",_r=>{const Ii=u_(Ko),Fd=dA(Ko,Ii,Dl,po);si.set(Fd)}),Ko.on("addStyleModifications",_r=>{const Ii=dA(Ko,_r.items,Dl,po);js.set(Ii),Id.set(_r.replace)}),{getData:()=>{const _r=Id.get()?[]:si.get(),Ii=js.get();return _r.concat(Ii)}}})(Re),Qn=(Ko=>({colorPicker:Qu(Ko),hasCustomColors:vx(Ko),getColors:hm(Ko),getColorCols:PM(Ko)}))(Re),uo=(Ko=>({isDraggableModal:Ts(Ko)}))(Re),Io={shared:{providers:en,anchors:Dp(Re,Ge,pt,Et.isPositionedAtTop),header:Et},urlinput:xn,styles:Bn,colorinput:Qn,dialog:uo,isContextMenuOpen:()=>yt.get(),setContextMenuState:Ko=>yt.set(Ko)},Ps={...Io,shared:{...Io.shared,interpreter:Ko=>sA(Ko,{},Ps),getSink:_e.popup}},da={...Io,shared:{...Io.shared,interpreter:Ko=>sA(Ko,{},da),getSink:_e.dialog}};return{popup:Ps,dialog:da}})({popup:()=>So.fromOption(m.popupUi.get().map(_e=>_e.sink),"(popup) UI has not been rendered"),dialog:()=>So.fromOption(m.dialogUi.get().map(_e=>_e.sink),"UI has not been rendered")},o,re,se),ce=()=>{const _e=(()=>{const Io={attributes:{[qa]:O?Hl.BottomToTop:Hl.TopToBottom}},Ps=zs.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Q.popup,onEscape:()=>{o.focus()}}),da=zs.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Q.popup.shared.getSink,providers:Q.popup.shared.providers,onEscape:()=>{o.focus()},onToolbarToggled:Fd=>{((Iv,y0)=>{Iv.dispatch("ToggleToolbarDrawer",{state:y0})})(o,Fd)},type:A,lazyToolbar:me,lazyHeader:()=>q().getOrDie("Could not find header element"),...Io}),Ko=zs.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Q.popup.shared.providers,onEscape:()=>{o.focus()},type:A}),Dl=tv(o),po=Qw(o),si=Wy(o),js=vn(o),Id=zs.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),_r=Dl||po||si,Ii=js?[Id,Ps]:[Ps];return zs.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(_r?[]:["tox-editor-header--empty"]),...Io},components:Xo([si?Ii:[],Dl?[Ko]:po?[da]:[],$y(o)?[]:[L.asSpec()]]),sticky:C1(o),editor:o,sharedBackstage:Q.popup.shared})})(),Re={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[zs.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),zs.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},Ge=zs.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Q.popup}),pt=zs.parts.viewWrapper({backstage:Q.popup}),yt=N3(o)&&!i?B.some(eT(o,Q.popup.shared.providers)):B.none(),Et=Xo([O?[]:[_e],i?[]:[Re],O?[_e]:[]]),en=zs.parts.editorContainer({components:Xo([Et,i?[]:[H.asSpec(),...yt.toArray()]])}),xn=KC(o),Bn={role:"application",...fu.isRtl()?{dir:"rtl"}:{},...xn?{"aria-hidden":"true"}:{}},Qn=El(zs.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(O?["tox-tinymce--toolbar-bottom"]:[]).concat(E),styles:{visibility:"hidden",...xn?{opacity:"0",border:"0"}:{}},attributes:Bn},components:[en,...i?[]:[pt],Ge],behaviours:Ht([tl(),Xn.config({disableClass:"tox-tinymce--disabled"}),Qt.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),uo=YS(Qn);return b.set(uo),{mothership:uo,outerContainer:Qn}},pe=_e=>{const Re=D4((pt=>(Et=>{const en=RC(Et),xn=Gw(Et),Bn=MC(Et);return N4(en).map(Qn=>V_(Qn,xn,Bn))})(pt).getOr(RC(pt)))(o)),Ge=D4((pt=>AN(pt).getOr(qw(pt)))(o));return o.inline||(sf("div","width",Ge)&&qn(_e.element,"width",Ge),sf("div","height",Re)?qn(_e.element,"height",Re):qn(_e.element,"height","400px")),Re};return{popups:{backstage:Q.popup,getMothership:()=>Og("popups",w)},dialogs:{backstage:Q.dialog,getMothership:()=>Og("dialogs",x)},renderUI:()=>{const _e=ce(),Re=(()=>{const pt=GC(o),yt=Jo(Ha(),pt)&&_s(pt,"display")==="grid",Et={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(E),attributes:{...fu.isRtl()?{dir:"rtl"}:{}}},behaviours:Ht([Ol.config({useFixed:()=>f.isDocked(q)})])},en={dom:{styles:{width:document.body.clientWidth+"px"}},events:Ro([mt(Bc(),Qn=>{qn(Qn.element,"width",document.body.clientWidth+"px")})])},xn=El(ye(Et,yt?en:{})),Bn=YS(xn);return x.set(Bn),{sink:xn,mothership:Bn}})(),Ge=qy(o)?(()=>{const pt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(E),attributes:{...fu.isRtl()?{dir:"rtl"}:{}}},behaviours:Ht([Ol.config({useFixed:()=>f.isDocked(q),getBounds:()=>s.getPopupSinkBounds()})])},yt=El(pt),Et=YS(yt);return w.set(Et),{sink:yt,mothership:Et}})():(pt=>(w.set(pt.mothership),pt))(Re);return m.dialogUi.set(Re),m.popupUi.set(Ge),m.mainUi.set(_e),(pt=>{const{mainUi:yt,popupUi:Et,uiMotherships:en}=pt;go(C3(o),(po,si)=>{o.ui.registry.addGroupToolbarButton(si,po)});const{buttons:xn,menuItems:Bn,contextToolbars:Qn,sidebars:uo,views:Io}=o.ui.registry.getAll(),Ps=qC(o),da={menuItems:Bn,menus:YC(o),menubar:T3(o),toolbar:Ps.getOrThunk(()=>Yw(o)),allowToolbarGroups:A===Nf.floating,buttons:xn,sidebar:uo,views:Io};var Ko;Ko=yt.outerContainer,o.addShortcut("alt+F9","focus menubar",()=>{zs.focusMenubar(Ko)}),o.addShortcut("alt+F10","focus toolbar",()=>{zs.focusToolbar(Ko)}),o.addCommand("ToggleToolbarDrawer",(po,si)=>{si!=null&&si.skipFocus?zs.toggleToolbarDrawerWithoutFocusing(Ko):zs.toggleToolbarDrawer(Ko)}),o.addQueryStateHandler("ToggleToolbarDrawer",()=>zs.isToolbarDrawerToggled(Ko)),((po,si,js)=>{const Id=(os,np)=>{nn([si,...js],tf=>{tf.broadcastEvent(os,np)})},_r=(os,np)=>{nn([si,...js],tf=>{tf.broadcastOn([os],np)})},Ii=os=>_r(Al(),{target:os.target}),Fd=qs(),Iv=Qi(Fd,"touchstart",Ii),y0=Qi(Fd,"touchmove",os=>Id(Fg(),os)),l2=Qi(Fd,"touchend",os=>Id(gd(),os)),Ix=Qi(Fd,"mousedown",Ii),ry=Qi(Fd,"mouseup",os=>{os.raw.button===0&&_r(ot(),{target:os.target})}),sy=os=>_r(Al(),{target:Jt(os.target)}),Ng=os=>{os.button===0&&_r(ot(),{target:Jt(os.target)})},v0=()=>{nn(po.editorManager.get(),os=>{po!==os&&os.dispatch("DismissPopups",{relatedTarget:po})})},x0=os=>Id(Ru(),qh(os)),Dg=os=>{_r(ug(),{}),Id(Bc(),qh(os))},Th=as(Jt(po.getElement())),Fv=rg(Th,"scroll",os=>{requestAnimationFrame(()=>{if(po.getContainer()!=null){const np=Jy(po,si.element).map(tf=>[tf.element,...tf.others]).getOr([]);Hr(np,tf=>Jo(tf,os.target))&&(po.dispatch("ElementScroll",{target:os.target.dom}),Id(ss(),os))}})}),Fx=()=>_r(ug(),{}),Vx=os=>{os.state&&_r(Al(),{target:Jt(po.getContainer())})},Vv=os=>{_r(Al(),{target:Jt(os.relatedTarget.getContainer())})};po.on("PostRender",()=>{po.on("click",sy),po.on("tap",sy),po.on("mouseup",Ng),po.on("mousedown",v0),po.on("ScrollWindow",x0),po.on("ResizeWindow",Dg),po.on("ResizeEditor",Fx),po.on("AfterProgressState",Vx),po.on("DismissPopups",Vv)}),po.on("remove",()=>{po.off("click",sy),po.off("tap",sy),po.off("mouseup",Ng),po.off("mousedown",v0),po.off("ScrollWindow",x0),po.off("ResizeWindow",Dg),po.off("ResizeEditor",Fx),po.off("AfterProgressState",Vx),po.off("DismissPopups",Vv),Ix.unbind(),Iv.unbind(),y0.unbind(),l2.unbind(),ry.unbind(),Fv.unbind()}),po.on("detach",()=>{nn([si,...js],lh),nn([si,...js],os=>os.destroy())})})(o,yt.mothership,en),f.setup(o,Q.popup.shared,q),eL(o,Q.popup),j4(o,Q.popup.shared.getSink,Q.popup),(po=>{const{sidebars:si}=po.ui.registry.getAll();nn(mo(si),js=>{const Id=si[js],_r=()=>xi(B.from(po.queryCommandValue("ToggleSidebar")),js);po.ui.registry.addToggleButton(js,{icon:Id.icon,tooltip:Id.tooltip,onAction:Ii=>{po.execCommand("ToggleSidebar",!1,js),Ii.setActive(_r())},onSetup:Ii=>{Ii.setActive(_r());const Fd=()=>Ii.setActive(_r());return po.on("ToggleSidebar",Fd),()=>{po.off("ToggleSidebar",Fd)}}})})})(o),u6(o,te,Q.popup.shared),H_(o,Qn,Et.sink,{backstage:Q.popup}),uD(o,Et.sink);const Dl={targetNode:o.getElement(),height:pe(yt.outerContainer)};return l.render(o,pt,da,Q.popup,Dl)})({popupUi:Ge,dialogUi:Re,mainUi:_e,uiMotherships:m.getUiMotherships()})}}},Rx=Te([at("lazySink"),ur("dragBlockClass"),ls("getBounds",Qr),Ue("useTabstopAt",un),Ue("firstTabstop",0),Ue("eventOrder",{}),ca("modalBehaviours",[Qt]),rc("onExecute"),Qp("onEscape")]),tT={sketch:kt},nT=Te([sn({name:"draghandle",overrides:(o,s)=>({behaviours:Ht([ny.config({mode:"mouse",getTarget:i=>Pa(i,'[role="dialog"]').getOr(i),blockerClass:o.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:o.getDragBounds})])})}),Pt({schema:[at("dom")],name:"title"}),Pt({factory:tT,schema:[at("dom")],name:"close"}),Pt({factory:tT,schema:[at("dom")],name:"body"}),sn({factory:tT,schema:[at("dom")],name:"footer"}),jt({factory:{sketch:(o,s)=>({...o,dom:s.dom,components:s.components})},schema:[Ue("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Ue("components",[])],name:"blocker"})]),pl=lc({name:"ModalDialog",configFields:Rx(),partFields:nT(),factory:(o,s,i,l)=>{const f=Es(),m=bn("modal-events"),b={...o.eventOrder,[Nt()]:[m].concat(o.eventOrder["alloy.system.attached"]||[])};return{uid:o.uid,dom:o.dom,components:s,apis:{show:x=>{f.set(x);const w=o.lazySink(x).getOrDie(),E=l.blocker(),O=w.getSystem().build({...E,components:E.components.concat([qr(x)]),behaviours:Ht([ao.config({}),xo("dialog-blocker-events",[Iu(Ae(),()=>{Bp.isBlocked(x)||Qt.focusIn(x)})])])});Um(w,O),Qt.focusIn(x)},hide:x=>{f.clear(),ol(x.element).each(w=>{x.getSystem().getByDom(w).each(E=>{lm(E)})})},getBody:x=>ni(x,o,"body"),getFooter:x=>Nn(x,o,"footer"),setIdle:x=>{Bp.unblock(x)},setBusy:(x,w)=>{Bp.block(x,w)}},eventOrder:b,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Bi(o.modalBehaviours,[Jn.config({}),Qt.config({mode:"cyclic",onEnter:o.onExecute,onEscape:o.onEscape,useTabstopAt:o.useTabstopAt,firstTabstop:o.firstTabstop}),Bp.config({getRoot:f.get}),xo(m,[ts(x=>{((w,E)=>{const O=xa(w,"id").fold(()=>{const A=bn("dialog-label");return eo(E,"id",A),A},kt);eo(w,"aria-labelledby",O)})(x.element,ni(x,o,"title").element)})])])}},apis:{show:(o,s)=>{o.show(s)},hide:(o,s)=>{o.hide(s)},getBody:(o,s)=>o.getBody(s),getFooter:(o,s)=>o.getFooter(s),setBusy:(o,s,i)=>{o.setBusy(s,i)},setIdle:(o,s)=>{o.setIdle(s)}}}),hL=Rn([ri,lk].concat(od)),bL=Nc,K_=[lS("button"),Df,Ms("align","end",["start","end"]),N1,fm,xm("buttonType",["primary","secondary"])],mD=[...K_,Rb],Bx=[Da("type",["submit","cancel","custom"]),...mD],oT=[Da("type",["menu"]),Mb,A1,Df,Za("items",hL),...K_],rT=[...K_,Da("type",["togglebutton"]),Bs("tooltip"),Df,Mb,es("active",!1)],yL=fi("type",{submit:Bx,cancel:Bx,custom:Bx,menu:oT,togglebutton:rT}),Lf=[ri,Rb,Da("level",["info","warn","error","success"]),G3,Ue("url","")],vL=Rn(Lf),xL=[ri,Rb,fm,lS("button"),Df,Y3,xm("buttonType",["primary","secondary","toolbar"]),N1],pD=Rn(xL),p0=[ri,lk],Lp=p0.concat([sS]),wL=p0.concat([oS,fm]),kL=Rn(wL),_L=Nc,CL=Lp.concat([X3("auto")]),SL=Rn(CL),EL=bc([O1,Rb,G3]),gD=Lp.concat([_l("storageKey","default")]),TL=Rn(gD),zL=ga,OL=Rn(Lp),hD=ga,sT=p0.concat([_l("tag","textarea"),Bs("scriptId"),Bs("scriptUrl"),_a("settings",void 0,up)]),AL=p0.concat([_l("tag","textarea"),Ra("init")]),aT=xl(o=>Wr("customeditor.old",ui(AL),o).orThunk(()=>Wr("customeditor.new",ui(sT),o))),Lv=ga,bD=Rn(Lp),yD=Rs(Sn),vD=o=>[ri,vm("columns"),o],NL=[ri,Bs("html"),Ms("presets","presentation",["presentation","document"])],DL=Rn(NL),Y_=Lp.concat([es("border",!1),es("sandboxed",!0),es("streamContent",!1),es("transparent",!0)]),RL=Rn(Y_),BL=ga,xD=Rn(p0.concat([Ar("height")])),wD=Rn([Bs("url"),Ks("zoom"),Ks("cachedWidth"),Ks("cachedHeight")]),iT=Lp.concat([Ar("inputMode"),Ar("placeholder"),es("maximized",!1),fm]),kD=Rn(iT),Pd=ga,_D=o=>[ri,oS,o,Ms("align","start",["start","center","end"])],ML=[Rb,O1],LL=[Rb,Za("items",Kd(0,()=>lT))],lT=Ei([Rn(ML),Rn(LL)]),PL=Lp.concat([Za("items",lT),fm]),IL=Rn(PL),FL=ga,CD=Lp.concat([Nu("items",[Rb,O1]),Kc("size",1),fm]),Ag=Rn(CD),cT=ga,SD=Lp.concat([es("constrain",!0),fm]),X_=Rn(SD),J_=Rn([Bs("width"),Bs("height")]),VL=p0.concat([oS,Kc("min",0),Kc("max",0)]),HL=Rn(VL),UL=Zr,jL=[ri,Za("header",ga),Za("cells",Rs(ga))],ZL=Rn(jL),WL=Lp.concat([Ar("placeholder"),es("maximized",!1),fm]),$L=Rn(WL),ED=ga,TD=[Da("type",["directory","leaf"]),oB,Bs("id"),Bl("menu",MA)],Pp=Rn(TD),Q_=TD.concat([Za("children",Kd(0,()=>md("type",{directory:zD,leaf:Pp})))]),zD=Rn(Q_),qL=md("type",{directory:zD,leaf:Pp}),OD=[ri,Za("items",qL),Ml("onLeafAction"),Ml("onToggleExpand"),Mr("defaultExpandedIds",[],ga),Ar("defaultSelectedId")],AD=Rn(OD),dT=Lp.concat([Ms("filetype","file",["image","media","file"]),fm,Ar("picker_text")]),e2=Rn(dT),Mx=Rn([O1,aS]),g0=o=>Gs("items","items",{tag:"required",process:{}},Rs(xl(s=>Wr(`Checking item of ${o}`,t2,s).fold(i=>So.error(Gc(i)),i=>So.value(i))))),t2=Dr(()=>{return md("type",{alertbanner:vL,bar:Rn((o=g0("bar"),[ri,o])),button:pD,checkbox:kL,colorinput:TL,colorpicker:OL,dropzone:bD,grid:Rn(vD(g0("grid"))),iframe:RL,input:kD,listbox:IL,selectbox:Ag,sizeinput:X_,slider:HL,textarea:$L,urlinput:e2,customeditor:aT,htmlpanel:DL,imagepreview:xD,collection:SL,label:Rn(_D(g0("label"))),table:ZL,tree:AD,panel:uT});var o}),ND=[ri,Ue("classes",[]),Za("items",t2)],uT=Rn(ND),DD=[lS("tab"),oB,Za("items",t2)],GL=[ri,Nu("tabs",DD)],KL=Rn(GL),YL=mD,XL=yL,JL=Rn([Bs("title"),wl("body",md("type",{panel:uT,tabpanel:KL})),_l("size","normal"),Mr("buttons",[],XL),Ue("initialData",{}),ls("onAction",ht),ls("onChange",ht),ls("onSubmit",ht),ls("onClose",ht),ls("onCancel",ht),ls("onTabChange",ht)]),RD=Rn([Da("type",["cancel","custom"]),...YL]),BD=Rn([Bs("title"),Bs("url"),Ks("height"),Ks("width"),Wa("buttons",RD),ls("onAction",ht),ls("onCancel",ht),ls("onClose",ht),ls("onMessage",ht)]),fT=o=>be(o)?[o].concat(Kr(oo(o),fT)):Me(o)?Kr(o,fT):[],MD=o=>de(o.type)&&de(o.name),QL={checkbox:_L,colorinput:zL,colorpicker:hD,dropzone:yD,input:Pd,iframe:BL,imagepreview:wD,selectbox:cT,sizeinput:J_,slider:UL,listbox:FL,size:J_,textarea:ED,urlinput:Mx,customeditor:Lv,collection:EL,togglemenuitem:bL},LD=o=>{const s=(l=>Pn(fT(l),MD))(o),i=Kr(s,l=>(f=>B.from(QL[f.type]))(l).fold(()=>[],f=>[wl(l.name,f)]));return Rn(i)},Pv=o=>{var s;return{internalDialog:Ql(Wr("dialog",JL,o)),dataValidator:LD(o),initialData:(s=o.initialData)!==null&&s!==void 0?s:{}}},h0={open:(o,s)=>{const i=Pv(s);return o(i.internalDialog,i.initialData,i.dataValidator)},openUrl:(o,s)=>o(Ql(Wr("dialog",BD,s))),redial:o=>Pv(o)};var PD=Object.freeze({__proto__:null,events:(o,s)=>{const i=(l,f)=>{o.updateState.each(m=>{const b=m(l,f);s.set(b)}),o.renderComponents.each(m=>{const b=m(f,s.get());(o.reuseDom?Cc:ms)(l,b)})};return Ro([mt(Ys(),(l,f)=>{const m=f;if(!m.universal){const b=o.channel;Mn(m.channels,b)&&i(l,m.data)}}),ts((l,f)=>{o.initialData.each(m=>{i(l,m)})})])}}),eP=Object.freeze({__proto__:null,getState:(o,s,i)=>i}),tP=[at("channel"),ur("renderComponents"),ur("updateState"),ur("initialData"),es("reuseDom",!0)];const ef=yi({fields:tP,name:"reflecting",active:PD,apis:eP,state:Object.freeze({__proto__:null,init:()=>{const o=Ln(B.none());return{readState:()=>o.get().getOr("none"),get:o.get,set:o.set,clear:()=>o.set(B.none())}}})}),ID=o=>{const s=[],i={};return Nr(o,(l,f)=>{l.fold(()=>{s.push(f)},m=>{i[f]=m})}),s.length>0?So.error(s):So.value(i)},FD=(o,s,i)=>{const l=Vr(Sv.sketch(m=>({dom:{tag:"div",classes:["tox-form"].concat(o.classes)},components:St(o.items,b=>VE(m,b,s,i))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[l.asSpec()]}],behaviours:Ht([Qt.config({mode:"acyclic",useTabstopAt:Cn(sx)}),(f=l,tr.config({find:f.getOpt})),bM(l,{postprocess:m=>ID(m).fold(b=>(console.error(b),{}),kt)}),xo("dialog-body-panel",[mt(Ae(),(m,b)=>{m.getSystem().broadcastOn([Gk],{newFocus:B.some(b.event.target)})})])])};var f},nP=Ed({name:"TabButton",configFields:[Ue("uid",void 0),at("value"),Gs("dom","dom",cf(()=>({attributes:{role:"tab",id:bn("aria"),"aria-selected":"false"}})),Br()),ur("action"),Ue("domModification",{}),ca("tabButtonBehaviours",[ao,Qt,cn]),at("view")],factory:(o,s)=>({uid:o.uid,dom:o.dom,components:o.components,events:y1(o.action),behaviours:Bi(o.tabButtonBehaviours,[ao.config({}),Qt.config({mode:"execution",useSpace:!0,useEnter:!0}),cn.config({store:{mode:"memory",initialValue:o.value}})]),domModification:o.domModification})}),VD=Te([at("tabs"),at("dom"),Ue("clickToDismiss",!1),ca("tabbarBehaviours",[dr,Qt]),wd(["tabClass","selectedClass"])]),mT=Un({factory:nP,name:"tabs",unit:"tab",overrides:o=>{const s=(l,f)=>{dr.dehighlight(l,f),gn(l,tc(),{tabbar:l,button:f})},i=(l,f)=>{dr.highlight(l,f),gn(l,Sl(),{tabbar:l,button:f})};return{action:l=>{const f=l.getSystem().getByUid(o.uid).getOrDie(),m=dr.isHighlighted(f,l);(m&&o.clickToDismiss?s:m?ht:i)(f,l)},domModification:{classes:[o.markers.tabClass]}}}}),Eh=Te([mT]),n2=lc({name:"Tabbar",configFields:VD(),partFields:Eh(),factory:(o,s,i,l)=>({uid:o.uid,dom:o.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Bi(o.tabbarBehaviours,[dr.config({highlightClass:o.markers.selectedClass,itemClass:o.markers.tabClass,onHighlight:(f,m)=>{eo(m.element,"aria-selected","true")},onDehighlight:(f,m)=>{eo(m.element,"aria-selected","false")}}),Qt.config({mode:"flow",getInitial:f=>dr.getHighlighted(f).map(m=>m.element),selector:"."+o.markers.tabClass,executeOnMove:!0})])})}),HD=Ed({name:"Tabview",configFields:[ca("tabviewBehaviours",[Jn])],factory:(o,s)=>({uid:o.uid,dom:o.dom,behaviours:Bi(o.tabviewBehaviours,[Jn.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),UD=Te([Ue("selectFirst",!0),Vo("onChangeTab"),Vo("onDismissTab"),Ue("tabs",[]),ca("tabSectionBehaviours",[])]),pT=Pt({factory:n2,schema:[at("dom"),Gi("markers",[at("tabClass"),at("selectedClass")])],name:"tabbar",defaults:o=>({tabs:o.tabs})}),jD=Pt({factory:HD,name:"tabview"}),o2=Te([pT,jD]),b0=lc({name:"TabSection",configFields:UD(),partFields:o2(),factory:(o,s,i,l)=>{const f=(m,b)=>{Nn(m,o,"tabbar").each(x=>{b(x).each(Lu)})};return{uid:o.uid,dom:o.dom,components:s,behaviours:rr(o.tabSectionBehaviours),events:Ro(Xo([o.selectFirst?[ts((m,b)=>{f(m,dr.getFirst)})]:[],[mt(Sl(),(m,b)=>{(x=>{const w=cn.getValue(x);Nn(x,o,"tabview").each(E=>{$o(o.tabs,O=>O.value===w).each(O=>{const A=O.view();xa(x.element,"id").each(L=>{eo(E.element,"aria-labelledby",L)}),Jn.set(E,A),o.onChangeTab(E,x,A)})})})(b.event.button)}),mt(tc(),(m,b)=>{const x=b.event.button;o.onDismissTab(m,x)})]])),apis:{getViewItems:m=>Nn(m,o,"tabview").map(b=>Jn.contents(b)).getOr([]),showTab:(m,b)=>{f(m,x=>{const w=dr.getCandidates(x);return $o(w,E=>cn.getValue(E)===b).filter(E=>!dr.isHighlighted(x,E))})}}}},apis:{getViewItems:(o,s)=>o.getViewItems(s),showTab:(o,s,i)=>{o.showTab(s,i)}}}),gT=(o,s)=>{qn(o,"height",s+"px"),qn(o,"flex-basis",s+"px")},r2=(o,s,i)=>{Pa(o,'[role="dialog"]').each(l=>{ia(l,'[role="tablist"]').each(f=>{i.get().map(m=>(qn(s,"height","0"),qn(s,"flex-basis","0"),Math.min(m,((b,x,w)=>{const E=wu(b).dom,O=Pa(b,".tox-dialog-wrap").getOr(b);let A;A=_s(O,"position")==="fixed"?Math.max(E.clientHeight,window.innerHeight):Math.max(E.offsetHeight,E.scrollHeight);const L=et(x),H=x.dom.offsetLeft>=w.dom.offsetLeft+jr(w)?Math.max(et(w),L):L,q=parseInt(_s(b,"margin-top"),10)||0,re=parseInt(_s(b,"margin-bottom"),10)||0;return A-(et(b)+q+re-H)})(l,s,f)))).each(m=>{gT(s,m)})})})},hT=o=>ia(o,'[role="tabpanel"]'),ZD="send-data-to-section",WD="send-data-to-view",oP=(o,s,i)=>{const l=Ln({}),f=E=>{const O=cn.getValue(E),A=ID(O).getOr({}),L=l.get(),H=ye(L,A);l.set(H)},m=E=>{const O=l.get();cn.setValue(E,O)},b=Ln(null),x=St(o.tabs,E=>({value:E.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Ss(i.shared.providers.translate(E.title))],view:()=>[Sv.sketch(O=>({dom:{tag:"div",classes:["tox-form"]},components:St(E.items,A=>VE(O,A,s,i)),formBehaviours:Ht([Qt.config({mode:"acyclic",useTabstopAt:Cn(sx)}),xo("TabView.form.events",[ts(m),Qd(f)]),ac.config({channels:lr([{key:ZD,value:{onReceive:f}},{key:WD,value:{onReceive:m}}])})])}))]})),w=(E=>{const O=Es();return{extraEvents:[ts(L=>{const H=L.element;hT(H).each(q=>{qn(q,"visibility","hidden"),L.getSystem().getByDom(q).toOptional().each(re=>{const se=((te,Q,ce)=>St(te,(pe,_e)=>{Jn.set(ce,te[_e].view());const Re=Q.dom.getBoundingClientRect();return Jn.set(ce,[]),Re.height}))(E,q,re);(te=>dt(_t(te,(Q,ce)=>Q>ce?-1:Q<ce?1:0)))(se).fold(O.clear,O.set)}),r2(H,q,O),or(q,"visibility"),((re,se)=>{dt(re).each(me=>b0.showTab(se,me.value))})(E,L),requestAnimationFrame(()=>{r2(H,q,O)})})}),mt(Bc(),L=>{const H=L.element;hT(H).each(q=>{r2(H,q,O)})}),mt(QS,(L,H)=>{const q=L.element;hT(q).each(re=>{const se=Lc(as(re));qn(re,"visibility","hidden");const me=$s(re,"height").map(Q=>parseInt(Q,10));or(re,"height"),or(re,"flex-basis");const te=re.dom.getBoundingClientRect().height;me.forall(Q=>te>Q)?(O.set(te),r2(q,re,O)):me.each(Q=>{gT(re,Q)}),or(re,"visibility"),se.each(ic)})})],selectFirst:!1}})(x);return b0.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(E,O,A)=>{const L=cn.getValue(O);gn(E,JS,{name:L,oldName:b.get()}),b.set(L)},tabs:x,components:[b0.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[n2.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Ht([Sa.config({})])}),b0.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:w.selectFirst,tabSectionBehaviours:Ht([xo("tabpanel",w.extraEvents),Qt.config({mode:"acyclic"}),tr.config({find:E=>dt(b0.getViewItems(E))}),r0(B.none(),E=>(E.getSystem().broadcastOn([ZD],{}),l.get()),(E,O)=>{l.set(O),E.getSystem().broadcastOn([WD],{})})])})},bT=(o,s,i,l,f)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...i.map(m=>({id:m})).getOr({}),...f?{"aria-live":"polite"}:{}}},components:[],behaviours:Ht([ox(0),ef.config({channel:`${EO}-${s}`,updateState:(m,b)=>B.some({isTabPanel:()=>b.body.type==="tabpanel"}),renderComponents:m=>{const b=m.body;return b.type==="tabpanel"?[oP(b,m.initialData,l)]:[FD(b,m.initialData,l)]},initialData:o})])}),$D=Ym.deviceType.isTouch(),qD=(o,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[o,s]}),GD=(o,s)=>pl.parts.close(cc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:o,buttonBehaviours:Ht([Sa.config({})])})),KD=()=>pl.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),Lx=(o,s)=>pl.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:gh(`<p>${OC(s.translate(o))}</p>`)}]}]}),YD=o=>pl.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:o}),XD=(o,s)=>[Bd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:o}),Bd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],s2=o=>{const s="tox-dialog",i=s+"-wrap",l=i+"__backdrop",f=s+"__disable-scroll";return pl.sketch({lazySink:o.lazySink,onEscape:m=>(o.onEscape(m),B.some(!0)),useTabstopAt:m=>!sx(m),firstTabstop:o.firstTabstop,dom:{tag:"div",classes:[s].concat(o.extraClasses),styles:{position:"relative",...o.extraStyles}},components:[o.header,o.body,...o.footer.toArray()],parts:{blocker:{dom:gh(`<div class="${i}"></div>`),components:[{dom:{tag:"div",classes:$D?[l,l+"--opaque"]:[l]}}]}},dragBlockClass:i,modalBehaviours:Ht([ao.config({}),xo("dialog-events",o.dialogEvents.concat([Iu(Ae(),(m,b)=>{Bp.isBlocked(m)||Qt.focusIn(m)}),mt(Cl(),(m,b)=>{m.getSystem().broadcastOn([Gk],{newFocus:b.event.newFocus})})])),xo("scroll-lock",[ts(()=>{hr(Ha(),f)}),Qd(()=>{Ls(Ha(),f)})]),...o.extraBehaviours]),eventOrder:{[cl()]:["dialog-events"],[Nt()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[km()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...o.eventOrder}})},yT=o=>cc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":o.translate("Close"),title:o.translate("Close")}},buttonBehaviours:Ht([Sa.config({})]),components:[Km("close",{tag:"span",classes:["tox-icon"]},o.icons)],action:s=>{Lo(s,jb)}}),JD=(o,s,i,l)=>({dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...i.map(f=>({id:f})).getOr({})}},components:[],behaviours:Ht([ef.config({channel:`${Tv}-${s}`,initialData:o,renderComponents:f=>[Ss(l.translate(f.title))]})])}),QD=()=>({dom:gh('<div class="tox-dialog__draghandle"></div>')}),a2=(o,s,i)=>((l,f,m)=>{const b=pl.parts.title(JD(l,f,B.none(),m)),x=pl.parts.draghandle(QD()),w=pl.parts.close(yT(m)),E=[b].concat(l.draggable?[x]:[]).concat([w]);return Bd.sketch({dom:gh('<div class="tox-dialog__header"></div>'),components:E})})({title:i.shared.providers.translate(o),draggable:i.dialog.isDraggableModal()},s,i.shared.providers),eR=(o,s,i,l)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":i.translate(o)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${l.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:gh('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),vT=(o,s,i)=>({onClose:()=>i.closeWindow(),onBlock:l=>{const f=ia(o().element,".tox-dialog__header").map(m=>et(m));pl.setBusy(o(),(m,b)=>eR(l.message,b,s,f))},onUnblock:()=>{pl.setIdle(o())}}),tR="tox-dialog--fullscreen",xT="tox-dialog--width-lg",wT="tox-dialog--width-md",Px=o=>{switch(o){case"large":return B.some(xT);case"medium":return B.some(wT);default:return B.none()}},kT=(o,s)=>{const i=Jt(s.element.dom);vs(i,tR)||(Mc(i,[xT,wT]),Px(o).each(l=>hr(i,l)))},nR=(o,s)=>{const i=Jt(o.element.dom),l=ou(i),f=$o(l,m=>m===xT||m===wT).or(Px(s));((m,b)=>{nn(b,x=>{((w,E)=>{nu(w)?w.dom.classList.toggle(E):((O,A)=>Mn(To(O),A)?gi(O,A):kr(O,A))(w,E),Gp(w)})(m,x)})})(i,[tR,...f.toArray()])},oR=(o,s,i)=>El(s2({...o,firstTabstop:1,lazySink:i.shared.getSink,extraBehaviours:[jk({}),...o.extraBehaviours],onEscape:l=>{Lo(l,jb)},dialogEvents:s,eventOrder:{[Ys()]:[ef.name(),ac.name()],[Nt()]:["scroll-lock",ef.name(),"messages","dialog-events","alloy.base.behaviour"],[km()]:["alloy.base.behaviour","dialog-events","messages",ef.name(),"scroll-lock"]}})),_T=(o,s={})=>St(o,i=>i.type==="menu"?(l=>{const f=St(l.items,m=>{const b=dn(s,m.name).getOr(Ln(!1));return{...m,storage:b}});return{...l,items:f}})(i):i),rR=o=>Y(o,(s,i)=>i.type==="menu"?Y(i.items,(l,f)=>(l[f.name]=f.storage,l),s):s,{}),CT=(o,s)=>[Pu(Ae(),yM),o(e0,(i,l,f,m)=>{Lc(as(m.element)).fold(ht,Wh),s.onClose(),l.onClose()}),o(jb,(i,l,f,m)=>{l.onCancel(i),Lo(m,e0)}),mt(G1,(i,l)=>s.onUnblock()),mt(vv,(i,l)=>s.onBlock(l.event))],sR=(o,s,i)=>{const l=(m,b)=>mt(m,(x,w)=>{f(x,(E,O)=>{b(o(),E,w.event,x)})}),f=(m,b)=>{ef.getState(m).get().each(x=>{b(x.internalDialog,m)})};return[...CT(l,s),l(q1,(m,b)=>b.onSubmit(m)),l(Xu,(m,b,x)=>{b.onChange(m,{name:x.name})}),l(_g,(m,b,x,w)=>{const E=()=>w.getSystem().isConnected()?Qt.focusIn(w):void 0,O=H=>ji(H,"disabled")||xa(H,"aria-disabled").exists(q=>q==="true"),A=as(w.element),L=Lc(A);b.onAction(m,{name:x.name,value:x.value}),Lc(A).fold(E,H=>{O(H)||L.exists(q=>As(H,q)&&O(q))?E():i().toOptional().filter(q=>!As(q.element,H)).each(E)})}),l(JS,(m,b,x)=>{b.onTabChange(m,{newTabName:x.name,oldTabName:x.oldName})}),Qd(m=>{const b=o();cn.setValue(m,b.getData())})]},aR=(o,s)=>{const i=s.map(m=>m.footerButtons).getOr([]),l=Js(i,m=>m.align==="start"),f=(m,b)=>Bd.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${m}`]},components:St(b,x=>x.memento.asSpec())});return[f("start",l.pass),f("end",l.fail)]},iR=(o,s,i)=>({dom:gh('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Ht([ef.config({channel:`${vE}-${s}`,initialData:o,updateState:(l,f)=>{const m=St(f.buttons,b=>{const x=Vr(((w,E)=>a_(w,w.type,E))(b,i));return{name:b.name,align:b.align,memento:x}});return B.some({lookupByName:b=>((x,w,E)=>$o(w,O=>O.name===E).bind(O=>O.memento.getOpt(x)))(l,m,b),footerButtons:m})},renderComponents:aR})])}),lR=(o,s,i)=>pl.parts.footer(iR(o,s,i)),cR=(o,s)=>{if(o.getRoot().getSystem().isConnected()){const i=tr.getCurrent(o.getFormWrapper()).getOr(o.getFormWrapper());return Sv.getField(i,s).orThunk(()=>o.getFooter().bind(f=>ef.getState(f).get()).bind(f=>f.lookupByName(s)))}return B.none()},dR=(o,s,i)=>{const l=m=>{const b=o.getRoot();b.getSystem().isConnected()&&m(b)},f={getData:()=>{const m=o.getRoot(),b=m.getSystem().isConnected()?o.getFormWrapper():m;return{...cn.getValue(b),...go(i,x=>x.get())}},setData:m=>{l(b=>{const x=f.getData(),w=ye(x,m),E=((A,L)=>{const H=A.getRoot();return ef.getState(H).get().map(q=>Ql(Wr("data",q.dataValidator,L))).getOr(L)})(o,w),O=o.getFormWrapper();cn.setValue(O,E),Nr(i,(A,L)=>{_n(w,L)&&A.set(w[L])})})},setEnabled:(m,b)=>{cR(o,m).each(b?Xn.enable:Xn.disable)},focus:m=>{cR(o,m).each(ao.focus)},block:m=>{if(!de(m))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");l(b=>{gn(b,vv,{message:m})})},unblock:()=>{l(m=>{Lo(m,G1)})},showTab:m=>{l(b=>{const x=o.getBody();ef.getState(x).get().exists(w=>w.isTabPanel())&&tr.getCurrent(x).each(w=>{b0.showTab(w,m)})})},redial:m=>{l(b=>{const x=o.getId(),w=s(m),E=_T(w.internalDialog.buttons,i);b.getSystem().broadcastOn([`${$k}-${x}`],w),b.getSystem().broadcastOn([`${Tv}-${x}`],w.internalDialog),b.getSystem().broadcastOn([`${EO}-${x}`],w.internalDialog),b.getSystem().broadcastOn([`${vE}-${x}`],{...w.internalDialog,buttons:E}),f.setData(w.initialData)})},close:()=>{l(m=>{Lo(m,e0)})},toggleFullscreen:o.toggleFullscreen};return f},uR=(o,s,i,l=!1,f)=>{const m=bn("dialog"),b=bn("dialog-label"),x=bn("dialog-content"),w=o.internalDialog,E=Ln(w.size),O=Px(E.get()).toArray(),A=Vr(((Q,ce,pe,_e)=>Bd.sketch({dom:gh('<div class="tox-dialog__header"></div>'),components:[JD(Q,ce,B.some(pe),_e),QD(),yT(_e)],containerBehaviours:Ht([ny.config({mode:"mouse",blockerClass:"blocker",getTarget:Re=>xd(Re,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:w.title,draggable:!0},m,b,i.shared.providers)),L=Vr(((Q,ce,pe,_e,Re)=>bT(Q,ce,B.some(pe),_e,Re))({body:w.body,initialData:w.initialData},m,x,i,l)),H=_T(w.buttons),q=rR(H),re=li(H.length!==0,Vr(((Q,ce,pe)=>iR(Q,ce,pe))({buttons:H},m,i))),se=sR(()=>te,{onBlock:Q=>{Bp.block(me,(ce,pe)=>{const _e=A.getOpt(me).map(Re=>et(Re.element));return eR(Q.message,pe,i.shared.providers,_e)})},onUnblock:()=>{Bp.unblock(me)},onClose:()=>s.closeWindow()},i.shared.getSink),me=El({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...O],attributes:{role:"dialog","aria-labelledby":b}},eventOrder:{[Ys()]:[ef.name(),ac.name()],[cl()]:["execute-on-form"],[Nt()]:["reflecting","execute-on-form"]},behaviours:Ht([Qt.config({mode:"cyclic",onEscape:Q=>(Lo(Q,e0),B.some(!0)),useTabstopAt:Q=>!sx(Q)&&(ki(Q)!=="button"||Vs(Q,"disabled")!=="disabled"),firstTabstop:1}),ef.config({channel:`${$k}-${m}`,updateState:(Q,ce)=>(E.set(ce.internalDialog.size),kT(ce.internalDialog.size,Q),f(),B.some(ce)),initialData:o}),ao.config({}),xo("execute-on-form",se.concat([Iu(Ae(),(Q,ce)=>{Qt.focusIn(Q)}),mt(Cl(),(Q,ce)=>{Q.getSystem().broadcastOn([Gk],{newFocus:ce.event.newFocus})})])),Bp.config({getRoot:()=>B.some(me)}),Jn.config({}),jk({})]),components:[A.asSpec(),L.asSpec(),...re.map(Q=>Q.asSpec()).toArray()]}),te=dR({getId:Te(m),getRoot:Te(me),getFooter:()=>re.map(Q=>Q.get(me)),getBody:()=>L.get(me),getFormWrapper:()=>{const Q=L.get(me);return tr.getCurrent(Q).getOr(Q)},toggleFullscreen:()=>{nR(me,E.get())}},s.redial,q);return{dialog:me,instanceApi:te}};var ST=tinymce.util.Tools.resolve("tinymce.util.URI");const rP=["insertContent","setContent","execCommand","close","block","unblock"],fR=o=>be(o)&&rP.indexOf(o.mceAction)!==-1,sP=(o,s,i,l)=>{const f=bn("dialog"),m=a2(o.title,f,l),b=(me=>{const te={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[Wk(B.none(),{dom:{tag:"iframe",attributes:{src:me.url}},behaviours:Ht([Sa.config({}),ao.config({})])})]}],behaviours:Ht([Qt.config({mode:"acyclic",useTabstopAt:Cn(sx)})])};return pl.parts.body(te)})(o),x=o.buttons.bind(me=>me.length===0?B.none():B.some(lR({buttons:me},f,l))),w=((me,te)=>{const Q=(pe,_e)=>mt(pe,(Re,Ge)=>{ce(Re,(pt,yt)=>{_e(se,pt,Ge.event,Re)})}),ce=(pe,_e)=>{ef.getState(pe).get().each(Re=>{_e(Re,pe)})};return[...CT(Q,te),Q(_g,(pe,_e,Re)=>{_e.onAction(pe,{name:Re.name})})]})(0,vT(()=>re,l.shared.providers,s)),E={...o.height.fold(()=>({}),me=>({height:me+"px","max-height":me+"px"})),...o.width.fold(()=>({}),me=>({width:me+"px","max-width":me+"px"}))},O=o.width.isNone()&&o.height.isNone()?["tox-dialog--width-lg"]:[],A=new ST(o.url,{base_uri:new ST(window.location.href)}),L=`${A.protocol}://${A.host}${A.port?":"+A.port:""}`,H=kf(),q=[ef.config({channel:`${$k}-${f}`,updateState:(me,te)=>B.some(te),initialData:o}),xo("messages",[ts(()=>{const me=Qi(Jt(window),"message",te=>{if(A.isSameOrigin(new ST(te.raw.origin))){const Q=te.raw.data;fR(Q)?((ce,pe,_e)=>{switch(_e.mceAction){case"insertContent":ce.insertContent(_e.content);break;case"setContent":ce.setContent(_e.content);break;case"execCommand":const Re=!!Xe(_e.ui)&&_e.ui;ce.execCommand(_e.cmd,Re,_e.value);break;case"close":pe.close();break;case"block":pe.block(_e.message);break;case"unblock":pe.unblock()}})(i,se,Q):(ce=>!fR(ce)&&be(ce)&&_n(ce,"mceAction"))(Q)&&o.onMessage(se,Q)}});H.set(me)}),Qd(H.clear)]),ac.config({channels:{[qk]:{onReceive:(me,te)=>{ia(me.element,"iframe").each(Q=>{const ce=Q.dom.contentWindow;lt(ce)&&ce.postMessage(te,L)})}}}})],re=oR({id:f,header:m,body:b,footer:x,extraClasses:O,extraBehaviours:q,extraStyles:E},w,l),se=(me=>{const te=Q=>{me.getSystem().isConnected()&&Q(me)};return{block:Q=>{if(!de(Q))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");te(ce=>{gn(ce,vv,{message:Q})})},unblock:()=>{te(Q=>{Lo(Q,G1)})},close:()=>{te(Q=>{Lo(Q,e0)})},sendMessage:Q=>{te(ce=>{ce.getSystem().broadcastOn([qk],Q)})}}})(re);return{dialog:re,instanceApi:se}},i2=(o,s)=>Ql(Wr("data",s,o)),mR=o=>W1(o,".tox-alert-dialog")||W1(o,".tox-confirm-dialog"),aP=(o,s,i)=>s&&i?[]:[Ka.config({contextual:{lazyContext:()=>B.some(pa(Jt(o.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:l=>Jy(o,l.element).map(f=>({bounds:yv(f),optScrollEnv:B.some({currentScrollTop:f.element.dom.scrollTop,scrollElmTop:Vn(f.element).top})})).getOrThunk(()=>({bounds:Qr(),optScrollEnv:B.none()}))})],iP=o=>{const s=o.editor,i=C1(s),l=(w=>{const E=w.shared;return{open:(O,A)=>{const L=()=>{pl.hide(se),A()},H=Vr(a_({name:"close-alert",text:"OK",primary:!0,buttonType:B.some("primary"),align:"end",enabled:!0,icon:B.none()},"cancel",w)),q=KD(),re=GD(L,E.providers),se=El(s2({lazySink:()=>E.getSink(),header:qD(q,re),body:Lx(O,E.providers),footer:B.some(YD(XD([],[H.asSpec()]))),onEscape:L,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[mt(jb,L)],eventOrder:{}}));pl.show(se);const me=H.get(se);ao.focus(me)}}})(o.backstages.dialog),f=(w=>{const E=w.shared;return{open:(O,A)=>{const L=Q=>{pl.hide(me),A(Q)},H=Vr(a_({name:"yes",text:"Yes",primary:!0,buttonType:B.some("primary"),align:"end",enabled:!0,icon:B.none()},"submit",w)),q=a_({name:"no",text:"No",primary:!1,buttonType:B.some("secondary"),align:"end",enabled:!0,icon:B.none()},"cancel",w),re=KD(),se=GD(()=>L(!1),E.providers),me=El(s2({lazySink:()=>E.getSink(),header:qD(re,se),body:Lx(O,E.providers),footer:B.some(YD(XD([],[q,H.asSpec()]))),onEscape:()=>L(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[mt(jb,()=>L(!1)),mt(q1,()=>L(!0))],eventOrder:{}}));pl.show(me);const te=H.get(me);ao.focus(te)}}})(o.backstages.dialog),m=(w,E)=>h0.open((O,A,L)=>{const H=A,q=((re,se,me)=>{const te=bn("dialog"),Q=re.internalDialog,ce=a2(Q.title,te,me),pe=Ln(Q.size),_e=Px(pe.get()).toArray(),Re=((uo,Io,Ps)=>{const da=bT(uo,Io,B.none(),Ps,!1);return pl.parts.body(da)})({body:Q.body,initialData:Q.initialData},te,me),Ge=_T(Q.buttons),pt=rR(Ge),yt=li(Ge.length!==0,lR({buttons:Ge},te,me)),Et=sR(()=>Qn,vT(()=>xn,me.shared.providers,se),me.shared.getSink),en={id:te,header:ce,body:Re,footer:yt,extraClasses:_e,extraBehaviours:[ef.config({channel:`${$k}-${te}`,updateState:(uo,Io)=>(pe.set(Io.internalDialog.size),kT(Io.internalDialog.size,uo),B.some(Io)),initialData:re})],extraStyles:{}},xn=oR(en,Et,me),Bn={getId:Te(te),getRoot:Te(xn),getBody:()=>pl.getBody(xn),getFooter:()=>pl.getFooter(xn),getFormWrapper:()=>{const uo=pl.getBody(xn);return tr.getCurrent(uo).getOr(uo)},toggleFullscreen:()=>{nR(xn,pe.get())}},Qn=dR(Bn,se.redial,pt);return{dialog:xn,instanceApi:Qn}})({dataValidator:L,initialData:H,internalDialog:O},{redial:h0.redial,closeWindow:()=>{pl.hide(q.dialog),E(q.instanceApi)}},o.backstages.dialog);return pl.show(q.dialog),q.instanceApi.setData(H),q.instanceApi},w),b=(w,E,O,A)=>h0.open((L,H,q)=>{const re=i2(H,q),se=Es(),me=o.backstages.popup.shared.header.isPositionedAtTop(),te=()=>se.on(pe=>{Ca.reposition(pe),i&&me||Ka.refresh(pe)}),Q=uR({dataValidator:q,initialData:re,internalDialog:L},{redial:h0.redial,closeWindow:()=>{se.on(Ca.hide),s.off("ResizeEditor",te),se.clear(),O(Q.instanceApi)}},o.backstages.popup,A.ariaAttrs,te),ce=El(Ca.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:A.persistent?{event:"doNotDismissYet"}:{},...me?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Ht([xo("window-manager-inline-events",[mt(Bu(),(pe,_e)=>{Lo(Q.dialog,jb)})]),...aP(s,i,me)]),isExtraPart:(pe,_e)=>mR(_e)}));return se.set(ce),Ca.showWithinBounds(ce,qr(Q.dialog),{anchor:E},()=>{const pe=s.inline?Ha():Jt(s.getContainer()),_e=pa(pe);return B.some(_e)}),i&&me||(Ka.refresh(ce),s.on("ResizeEditor",te)),Q.instanceApi.setData(re),Qt.focusIn(Q.dialog),Q.instanceApi},w),x=(w,E,O,A)=>h0.open((L,H,q)=>{const re=i2(H,q),se=Es(),me=o.backstages.popup.shared.header.isPositionedAtTop(),te=()=>se.on(pe=>{Ca.reposition(pe),Ka.refresh(pe)}),Q=uR({dataValidator:q,initialData:re,internalDialog:L},{redial:h0.redial,closeWindow:()=>{se.on(Ca.hide),s.off("ResizeEditor ScrollWindow ElementScroll",te),se.clear(),O(Q.instanceApi)}},o.backstages.popup,A.ariaAttrs,te),ce=El(Ca.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:A.persistent?{event:"doNotDismissYet"}:{},...me?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Ht([xo("window-manager-inline-events",[mt(Bu(),(pe,_e)=>{Lo(Q.dialog,jb)})]),Ka.config({contextual:{lazyContext:()=>B.some(pa(Jt(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:pe=>Jy(s,pe.element).map(_e=>({bounds:yv(_e),optScrollEnv:B.some({currentScrollTop:_e.element.dom.scrollTop,scrollElmTop:Vn(_e.element).top})})).getOrThunk(()=>({bounds:Qr(),optScrollEnv:B.none()}))})]),isExtraPart:(pe,_e)=>mR(_e)}));return se.set(ce),Ca.showWithinBounds(ce,qr(Q.dialog),{anchor:E},()=>o.backstages.popup.shared.getSink().toOptional().bind(pe=>{const _e=Jy(s,pe.element).map(pt=>yv(pt)).getOr(Qr()),Re=pa(Jt(s.getContentAreaContainer())),Ge=$d(Re,_e);return B.some(Us(Ge.x,Ge.y,Ge.width,Ge.height-15))})),Ka.refresh(ce),s.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",te),Q.instanceApi.setData(re),Qt.focusIn(Q.dialog),Q.instanceApi},w);return{open:(w,E,O)=>{if(!vt(E)){if(E.inline==="toolbar")return b(w,o.backstages.popup.shared.anchors.inlineDialog(),O,E);if(E.inline==="bottom")return x(w,o.backstages.popup.shared.anchors.inlineBottomDialog(),O,E);if(E.inline==="cursor")return b(w,o.backstages.popup.shared.anchors.cursor(),O,E)}return m(w,O)},openUrl:(w,E)=>((O,A)=>h0.openUrl(L=>{const H=sP(L,{closeWindow:()=>{pl.hide(H.dialog),A(H.instanceApi)}},s,o.backstages.dialog);return pl.show(H.dialog),H.instanceApi},O))(w,E),alert:(w,E)=>{l.open(w,E)},close:w=>{w.close()},confirm:(w,E)=>{f.open(w,E)}}};jf.add("silver",o=>{(b=>{x3(b),(x=>{const w=x.options.register,E=A=>Kt(A,de)?{value:TB(A),valid:!0}:{valid:!1,message:"Must be an array of strings."},O=A=>tn(A)&&A>0?{value:A,valid:!0}:{valid:!1,message:"Must be a positive number."};w("color_map",{processor:E,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),w("color_map_background",{processor:E}),w("color_map_foreground",{processor:E}),w("color_cols",{processor:O,default:DS(x)}),w("color_cols_foreground",{processor:O,default:Tz(x,V1)}),w("color_cols_background",{processor:O,default:Tz(x,H1)}),w("custom_colors",{processor:"boolean",default:!0}),w("color_default_foreground",{processor:"string",default:yk}),w("color_default_background",{processor:"string",default:yk})})(b),(x=>{const w=x.options.register;w("contextmenu_avoid_overlap",{processor:"string",default:""}),w("contextmenu_never_use_native",{processor:"boolean",default:!1}),w("contextmenu",{processor:E=>E===!1?{value:[],valid:!0}:de(E)||Kt(E,de)?{value:UN(E),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(b)})(o);let s=()=>Qr();const{dialogs:i,popups:l,renderUI:f}=gL(o,{getPopupSinkBounds:()=>s()});MB(o,l.backstage.shared);const m=iP({editor:o,backstages:{popup:l.backstage,dialog:i.backstage}});return{renderUI:()=>{const b=f();return Jy(o,l.getMothership().element).each(x=>{s=()=>yv(x)}),b},getWindowManagerImpl:Te(m),getNotificationManagerImpl:()=>((b,x,w)=>{const E=x.backstage.shared,O=()=>{const A=pa(Jt(b.getContentAreaContainer())),L=Qr(),H=kc(L.x,A.x,A.right),q=kc(L.y,A.y,A.bottom),re=Math.max(A.right,L.right),se=Math.max(A.bottom,L.bottom);return B.some(Us(H,q,re-H,se-q))};return{open:(A,L)=>{const H=()=>{L(),Ca.hide(re)},q=El($w.sketch({text:A.text,level:Mn(["success","error","warning","warn","info"],A.type)?A.type:void 0,progress:A.progressBar===!0,icon:A.icon,closeButton:A.closeButton,onAction:H,iconProvider:E.providers.icons,translationProvider:E.providers.translate})),re=El(Ca.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:E.getSink,fireDismissalEventInstead:{},...E.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));w.add(re),tn(A.timeout)&&A.timeout>0&&Fw.setEditorTimeout(b,()=>{H()},A.timeout);const se={close:H,reposition:()=>{const me=qr(q),te={maxHeightFunction:wp()},Q=b.notificationManager.getNotifications();if(Q[0]===se){const ce={...E.anchors.banner(),overrides:te};Ca.showWithinBounds(re,me,{anchor:ce},O)}else ft(Q,se).each(ce=>{const pe=Q[ce-1].getEl(),_e={type:"node",root:Ha(),node:B.some(Jt(pe)),overrides:te,layouts:{onRtl:()=>[la],onLtr:()=>[la]}};Ca.showWithinBounds(re,me,{anchor:_e},O)})},text:me=>{$w.updateText(q,me)},settings:A,getEl:()=>q.element.dom,progressBar:{value:me=>{$w.updateProgress(q,me)}}};return se},close:A=>{A.close()},getArgs:A=>A.settings}})(o,{backstage:l.backstage},l.getMothership())}})}(),function(){var v=tinymce.util.Tools.resolve("tinymce.ModelManager");const P=p=>y=>(_=>{const T=typeof _;return _===null?"null":T==="object"&&Array.isArray(_)?"array":T==="object"&&(I=F=_,($=String).prototype.isPrototypeOf(I)||((X=F.constructor)===null||X===void 0?void 0:X.name)===$.name)?"string":T;var I,F,$,X})(y)===p,R=p=>y=>typeof y===p,W=p=>y=>p===y,ue=P("string"),de=P("object"),be=P("array"),ge=W(null),Me=R("boolean"),$e=W(void 0),Xe=p=>!(y=>y==null)(p),vt=R("function"),Wt=R("number"),lt=()=>{},Rt=p=>()=>p,tn=p=>p,Kt=(p,y)=>p===y;function ht(p,...y){return(..._)=>{const T=y.concat(_);return p.apply(null,T)}}const ln=p=>y=>!p(y),At=p=>p(),Te=Rt(!1),kt=Rt(!0);class Ee{constructor(y,_){this.tag=y,this.value=_}static some(y){return new Ee(!0,y)}static none(){return Ee.singletonNone}fold(y,_){return this.tag?_(this.value):y()}isSome(){return this.tag}isNone(){return!this.tag}map(y){return this.tag?Ee.some(y(this.value)):Ee.none()}bind(y){return this.tag?y(this.value):Ee.none()}exists(y){return this.tag&&y(this.value)}forall(y){return!this.tag||y(this.value)}filter(y){return!this.tag||y(this.value)?this:Ee.none()}getOr(y){return this.tag?this.value:y}or(y){return this.tag?this:y}getOrThunk(y){return this.tag?this.value:y()}orThunk(y){return this.tag?this:y()}getOrDie(y){if(this.tag)return this.value;throw new Error(y??"Called getOrDie on None")}static from(y){return Xe(y)?Ee.some(y):Ee.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(y){this.tag&&y(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Ee.singletonNone=new Ee(!1);const qe=Array.prototype.slice,Cn=Array.prototype.indexOf,wo=Array.prototype.push,Zn=(p,y)=>{return _=p,T=y,Cn.call(_,T)>-1;var _,T},Je=(p,y)=>{for(let _=0,T=p.length;_<T;_++)if(y(p[_],_))return!0;return!1},un=(p,y)=>{const _=[];for(let T=0;T<p;T++)_.push(y(T));return _},B=(p,y)=>{const _=p.length,T=new Array(_);for(let I=0;I<_;I++){const F=p[I];T[I]=y(F,I)}return T},Tt=(p,y)=>{for(let _=0,T=p.length;_<T;_++)y(p[_],_)},bt=(p,y)=>{const _=[],T=[];for(let I=0,F=p.length;I<F;I++){const $=p[I];(y($,I)?_:T).push($)}return{pass:_,fail:T}},pn=(p,y)=>{const _=[];for(let T=0,I=p.length;T<I;T++){const F=p[T];y(F,T)&&_.push(F)}return _},io=(p,y,_)=>(((T,I)=>{for(let F=T.length-1;F>=0;F--)I(T[F],F)})(p,(T,I)=>{_=y(_,T,I)}),_),ft=(p,y,_)=>(Tt(p,(T,I)=>{_=y(_,T,I)}),_),Mn=(p,y)=>((_,T,I)=>{for(let F=0,$=_.length;F<$;F++){const X=_[F];if(T(X,F))return Ee.some(X);if(I(X,F))break}return Ee.none()})(p,y,Te),Hr=(p,y)=>{for(let _=0,T=p.length;_<T;_++)if(y(p[_],_))return Ee.some(_);return Ee.none()},zt=p=>{const y=[];for(let _=0,T=p.length;_<T;++_){if(!be(p[_]))throw new Error("Arr.flatten item "+_+" was not an array, input: "+p);wo.apply(y,p[_])}return y},bo=(p,y)=>zt(B(p,y)),St=(p,y)=>{for(let _=0,T=p.length;_<T;++_)if(y(p[_],_)!==!0)return!1;return!0},nn=(p,y)=>{const _={};for(let T=0,I=p.length;T<I;T++){const F=p[T];_[String(F)]=y(F,T)}return _},Js=(p,y)=>y>=0&&y<p.length?Ee.some(p[y]):Ee.none(),Pn=p=>Js(p,0),Do=p=>Js(p,p.length-1),Y=(p,y)=>{for(let _=0;_<p.length;_++){const T=y(p[_],_);if(T.isSome())return T}return Ee.none()},$o=Object.keys,Fi=Object.hasOwnProperty,Xo=(p,y)=>{const _=$o(p);for(let T=0,I=_.length;T<I;T++){const F=_[T];y(p[F],F)}},Kr=(p,y)=>Gl(p,(_,T)=>({k:T,v:y(_,T)})),Gl=(p,y)=>{const _={};return Xo(p,(T,I)=>{const F=y(T,I);_[F.k]=F.v}),_},_o=(p,y)=>{const _=[];return Xo(p,(T,I)=>{_.push(y(T,I))}),_},ar=p=>_o(p,tn),no=(p,y)=>Fi.call(p,y),ut=typeof window<"u"?window:Function("return this;")(),_t=(p,y)=>((_,T)=>{let I=T??ut;for(let F=0;F<_.length&&I!=null;++F)I=I[_[F]];return I})(p.split("."),y),Ft=Object.getPrototypeOf,dt=p=>{const y=_t("ownerDocument.defaultView",p);return de(p)&&((_=>((T,I)=>{const F=(($,X)=>_t($,X))(T,I);if(F==null)throw new Error(T+" not available on this browser");return F})("HTMLElement",_))(y).prototype.isPrototypeOf(p)||/^HTML\w*Element$/.test(Ft(p).constructor.name))},wn=p=>p.dom.nodeName.toLowerCase(),lo=p=>p.dom.nodeType,qo=p=>y=>lo(y)===p,mo=p=>lo(p)===8||wn(p)==="#comment",Ta=p=>Nr(p)&&dt(p.dom),Nr=qo(1),go=qo(3),Os=qo(9),va=qo(11),Ur=p=>y=>Nr(y)&&wn(y)===p,Pr=(p,y,_)=>{if(!(ue(_)||Me(_)||Wt(_)))throw console.error("Invalid call to Attribute.set. Key ",y,":: Value ",_,":: Element ",p),new Error("Attribute value was not simple");p.setAttribute(y,_+"")},Mo=(p,y,_)=>{Pr(p.dom,y,_)},ua=(p,y)=>{const _=p.dom;Xo(y,(T,I)=>{Pr(_,I,T)})},oo=(p,y)=>{const _=p.dom.getAttribute(y);return _===null?void 0:_},dn=(p,y)=>Ee.from(oo(p,y)),_n=(p,y)=>{p.dom.removeAttribute(y)},Ws=p=>ft(p.dom.attributes,(y,_)=>(y[_.name]=_.value,y),{}),xi=p=>{if(p==null)throw new Error("Node cannot be null or undefined");return{dom:p}},Bt={fromHtml:(p,y)=>{const _=(y||document).createElement("div");if(_.innerHTML=p,!_.hasChildNodes()||_.childNodes.length>1){const T="HTML does not have a single root node";throw console.error(T,p),new Error(T)}return xi(_.childNodes[0])},fromTag:(p,y)=>{const _=(y||document).createElement(p);return xi(_)},fromText:(p,y)=>{const _=(y||document).createTextNode(p);return xi(_)},fromDom:xi,fromPoint:(p,y,_)=>Ee.from(p.dom.elementFromPoint(y,_)).map(xi)},ii=(p,y)=>{const _=p.dom;if(_.nodeType!==1)return!1;{const T=_;if(T.matches!==void 0)return T.matches(y);if(T.msMatchesSelector!==void 0)return T.msMatchesSelector(y);if(T.webkitMatchesSelector!==void 0)return T.webkitMatchesSelector(y);if(T.mozMatchesSelector!==void 0)return T.mozMatchesSelector(y);throw new Error("Browser lacks native selectors")}},jo=p=>p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11||p.childElementCount===0,li=(p,y)=>{const _=y===void 0?document:y.dom;return jo(_)?Ee.none():Ee.from(_.querySelector(p)).map(Bt.fromDom)},vr=(p,y)=>p.dom===y.dom,Ud=(p,y)=>{const _=p.dom,T=y.dom;return _!==T&&_.contains(T)},fa=ii,uc=p=>Bt.fromDom(p.dom.ownerDocument),hl=p=>Os(p)?p:uc(p),Vi=p=>Ee.from(p.dom.parentNode).map(Bt.fromDom),Kl=p=>Ee.from(p.dom.parentElement).map(Bt.fromDom),Ir=(p,y)=>{const _=vt(y)?y:Te;let T=p.dom;const I=[];for(;T.parentNode!==null&&T.parentNode!==void 0;){const F=T.parentNode,$=Bt.fromDom(F);if(I.push($),_($)===!0)break;T=F}return I},Yn=p=>Ee.from(p.dom.previousSibling).map(Bt.fromDom),Hi=p=>Ee.from(p.dom.nextSibling).map(Bt.fromDom),wi=p=>B(p.dom.childNodes,Bt.fromDom),bl=(p,y)=>{const _=p.dom.childNodes;return Ee.from(_[y]).map(Bt.fromDom)},jc=(p,y)=>{Vi(p).each(_=>{_.dom.insertBefore(y.dom,p.dom)})},Jt=(p,y)=>{Hi(p).fold(()=>{Vi(p).each(_=>{Yr(_,y)})},_=>{jc(_,y)})},yu=(p,y)=>{(T=>bl(T,0))(p).fold(()=>{Yr(p,y)},T=>{p.dom.insertBefore(y.dom,T.dom)})},Yr=(p,y)=>{p.dom.appendChild(y.dom)},of=(p,y)=>{jc(p,y),Yr(y,p)},vu=(p,y)=>{Tt(y,(_,T)=>{const I=T===0?p:y[T-1];Jt(I,_)})},ki=(p,y)=>{Tt(y,_=>{Yr(p,_)})},fc=p=>{p.dom.textContent="",Tt(wi(p),y=>{ci(y)})},ci=p=>{const y=p.dom;y.parentNode!==null&&y.parentNode.removeChild(y)},Qs=p=>{const y=wi(p);y.length>0&&vu(p,y),ci(p)},Ui=(p,y)=>Bt.fromDom(p.dom.cloneNode(y)),rf=p=>Ui(p,!1),Yl=p=>Ui(p,!0),Ff=(p,y)=>{const _=Bt.fromTag(y),T=Ws(p);return ua(_,T),_},yl=["tfoot","thead","tbody","colgroup"],xu=(p,y,_)=>({element:p,rowspan:y,colspan:_}),Jo=(p,y,_)=>({element:p,cells:y,section:_}),As=(p,y,_)=>({element:p,isNew:y,isLocked:_}),Xa=(p,y,_,T)=>({element:p,cells:y,section:_,isNew:T}),Zc=vt(Element.prototype.attachShadow)&&vt(Node.prototype.getRootNode),wu=Rt(Zc),ku=Zc?p=>Bt.fromDom(p.dom.getRootNode()):hl,ol=p=>Bt.fromDom(p.dom.host),ea=p=>{const y=go(p)?p.dom.parentNode:p.dom;if(y==null||y.ownerDocument===null)return!1;const _=y.ownerDocument;return(F=>{const $=ku(F);return va(X=$)&&Xe(X.dom.host)?Ee.some($):Ee.none();var X})(Bt.fromDom(y)).fold(()=>_.body.contains(y),(T=ea,I=ol,F=>T(I(F))));var T,I},Vf=p=>{const y=p.dom.body;if(y==null)throw new Error("Body is not available yet");return Bt.fromDom(y)},xr=(p,y)=>{let _=[];return Tt(wi(p),T=>{y(T)&&(_=_.concat([T])),_=_.concat(xr(T,y))}),_},zr=(p,y,_)=>((T,I,F)=>pn(Ir(T,F),$=>ii($,y)))(p,0,_),vl=(p,y)=>((_,T)=>pn(wi(_),I=>ii(I,y)))(p),rl=(p,y)=>((_,T)=>{const I=T===void 0?document:T.dom;return jo(I)?[]:B(I.querySelectorAll(_),Bt.fromDom)})(y,p);var Tc=(p,y,_,T,I)=>p(_,T)?Ee.some(_):vt(I)&&I(_)?Ee.none():y(_,T,I);const mc=(p,y,_)=>{let T=p.dom;const I=vt(_)?_:Te;for(;T.parentNode;){T=T.parentNode;const F=Bt.fromDom(T);if(y(F))return Ee.some(F);if(I(F))break}return Ee.none()},ad=(p,y,_)=>Tc((T,I)=>I(T),mc,p,y,_),za=(p,y,_)=>mc(p,T=>ii(T,y),_),as=(p,y)=>((_,T)=>Mn(_.dom.childNodes,I=>{return F=Bt.fromDom(I),ii(F,y);var F}).map(Bt.fromDom))(p),Oa=(p,y)=>li(y,p),Fs=(p,y,_)=>Tc((T,I)=>ii(T,I),za,p,y,_),sl=(p,y,_=Kt)=>p.exists(T=>_(T,y)),Or=p=>{const y=[],_=T=>{y.push(T)};for(let T=0;T<p.length;T++)p[T].each(_);return y},Ha=(p,y)=>p?Ee.some(y):Ee.none(),_i=(p,y,_)=>y===""||p.length>=y.length&&p.substr(_,_+y.length)===y,Ua=(p,y,_=0,T)=>{const I=p.indexOf(y,_);return I!==-1&&(!!$e(T)||I+y.length<=T)},eo=(p,y)=>_i(p,y,0),di=(p,y)=>_i(p,y,p.length-y.length),Vs=(p=>y=>y.replace(p,""))(/^\s+|\s+$/g),xa=p=>p.length>0,ji=p=>p.style!==void 0&&vt(p.style.getPropertyValue),Xr=(p,y,_)=>{if(!ue(_))throw console.error("Invalid call to CSS.set. Property ",y,":: Value ",_,":: Element ",p),new Error("CSS value must be a string: "+_);ji(p)&&p.style.setProperty(y,_)},Ns=(p,y,_)=>{const T=p.dom;Xr(T,y,_)},Xl=(p,y)=>{const _=p.dom;Xo(y,(T,I)=>{Xr(_,I,T)})},qn=(p,y)=>{const _=p.dom,T=window.getComputedStyle(_).getPropertyValue(y);return T!==""||ea(p)?T:Jl(_,y)},Jl=(p,y)=>ji(p)?p.style.getPropertyValue(y):"",Zi=(p,y)=>{const _=p.dom,T=Jl(_,y);return Ee.from(T).filter(I=>I.length>0)},_s=(p,y)=>{((_,T)=>{ji(_)&&_.style.removeProperty(T)})(p.dom,y),sl(dn(p,"style").map(Vs),"")&&_n(p,"style")},al=(p,y,_=0)=>dn(p,y).map(T=>parseInt(T,10)).getOr(_),$s=(p,y)=>al(p,y,1),id=p=>Ur("col")(p)?al(p,"span",1)>1:$s(p,"colspan")>1,sf=p=>$s(p,"rowspan")>1,or=(p,y)=>parseInt(qn(p,y),10),ne=Rt(10),Oe=Rt(10),Ie=(p,y)=>et(p,y,kt),et=(p,y,_)=>bo(wi(p),T=>ii(T,y)?_(T)?[T]:[]:et(T,y,_)),Vt=(p,y)=>((_,T,I=Te)=>I(T)?Ee.none():Zn(_,wn(T))?Ee.some(T):za(T,_.join(","),F=>ii(F,"table")||I(F)))(["td","th"],p,y),An=p=>Ie(p,"th,td"),ro=p=>ii(p,"colgroup")?vl(p,"col"):bo(is(p),y=>vl(y,"col")),Wn=(p,y)=>Fs(p,"table",y),Vn=p=>Ie(p,"tr"),is=p=>Wn(p).fold(Rt([]),y=>vl(y,"colgroup")),wr=(p,y)=>B(p,_=>{if(wn(_)==="colgroup"){const T=B(ro(_),I=>{const F=al(I,"span",1);return xu(I,1,F)});return Jo(_,T,"colgroup")}{const T=B(An(_),I=>{const F=al(I,"rowspan",1),$=al(I,"colspan",1);return xu(I,F,$)});return Jo(_,T,y(_))}}),jr=p=>Vi(p).map(y=>{const _=wn(y);return(T=>Zn(yl,T))(_)?_:"tbody"}).getOr("tbody"),Aa=p=>{const y=Vn(p),_=[...is(p),...y];return wr(_,jr)},il=p=>{let y,_=!1;return(...T)=>(_||(_=!0,y=p.apply(null,T)),y)},Qo=()=>af(0,0),af=(p,y)=>({major:p,minor:y}),Wc={nu:af,detect:(p,y)=>{const _=String(y).toLowerCase();return p.length===0?Qo():((T,I)=>{const F=((X,oe)=>{for(let xe=0;xe<X.length;xe++){const Se=X[xe];if(Se.test(oe))return Se}})(T,I);if(!F)return{major:0,minor:0};const $=X=>Number(I.replace(F,"$"+X));return af($(1),$(2))})(p,_)},unknown:Qo},ja=(p,y)=>{const _=String(y).toLowerCase();return Mn(p,T=>T.search(_))},_u=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ta=p=>y=>Ua(y,p),Hp=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:p=>Ua(p,"edge/")&&Ua(p,"chrome")&&Ua(p,"safari")&&Ua(p,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,_u],search:p=>Ua(p,"chrome")&&!Ua(p,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:p=>Ua(p,"msie")||Ua(p,"trident")},{name:"Opera",versionRegexes:[_u,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ta("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ta("firefox")},{name:"Safari",versionRegexes:[_u,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:p=>(Ua(p,"safari")||Ua(p,"mobile/"))&&Ua(p,"applewebkit")}],Ja=[{name:"Windows",search:ta("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:p=>Ua(p,"iphone")||Ua(p,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ta("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ta("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ta("linux"),versionRegexes:[]},{name:"Solaris",search:ta("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ta("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ta("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Rl={browsers:Rt(Hp),oses:Rt(Ja)},ip="Edge",Pg="Chromium",Ut="Opera",Cu="Firefox",lp="Safari",jd=p=>{const y=p.current,_=p.version,T=I=>()=>y===I;return{current:y,version:_,isEdge:T(ip),isChromium:T(Pg),isIE:T("IE"),isOpera:T(Ut),isFirefox:T(Cu),isSafari:T(lp)}},Jr=()=>jd({current:void 0,version:Wc.unknown()}),Up=jd,Wi="Windows",Su="Android",cp="Linux",zc="macOS",ld="Solaris",Ig="FreeBSD",wa="ChromeOS",cd=p=>{const y=p.current,_=p.version,T=I=>()=>y===I;return{current:y,version:_,isWindows:T(Wi),isiOS:T("iOS"),isAndroid:T(Su),isMacOS:T(zc),isLinux:T(cp),isSolaris:T(ld),isFreeBSD:T(Ig),isChromeOS:T(wa)}},jp=()=>cd({current:void 0,version:Wc.unknown()}),$c=cd,Hf=p=>window.matchMedia(p).matches;let lf=il(()=>((p,y,_)=>{const T=Rl.browsers(),I=Rl.oses(),F=y.bind(oe=>((xe,Se)=>Y(Se.brands,he=>{const ze=he.brand.toLowerCase();return Mn(xe,Ne=>{var Ke;return ze===((Ke=Ne.brand)===null||Ke===void 0?void 0:Ke.toLowerCase())}).map(Ne=>({current:Ne.name,version:Wc.nu(parseInt(he.version,10),0)}))}))(T,oe)).orThunk(()=>((oe,xe)=>ja(oe,xe).map(Se=>{const he=Wc.detect(Se.versionRegexes,xe);return{current:Se.name,version:he}}))(T,p)).fold(Jr,Up),$=((oe,xe)=>ja(oe,xe).map(Se=>{const he=Wc.detect(Se.versionRegexes,xe);return{current:Se.name,version:he}}))(I,p).fold(jp,$c),X=((oe,xe,Se,he)=>{const ze=oe.isiOS()&&/ipad/i.test(Se)===!0,Ne=oe.isiOS()&&!ze,Ke=oe.isiOS()||oe.isAndroid(),He=Ke||he("(pointer:coarse)"),ct=ze||!Ne&&Ke&&he("(min-device-width:768px)"),gt=Ne||Ke&&!ct,Lt=xe.isSafari()&&oe.isiOS()&&/safari/i.test(Se)===!1,wt=!gt&&!ct&&!Lt;return{isiPad:Rt(ze),isiPhone:Rt(Ne),isTablet:Rt(ct),isPhone:Rt(gt),isTouch:Rt(He),isAndroid:oe.isAndroid,isiOS:oe.isiOS,isWebView:Rt(Lt),isDesktop:Rt(wt)}})($,F,p,_);return{browser:F,os:$,deviceType:X}})(navigator.userAgent,Ee.from(navigator.userAgentData),Hf));const pc=()=>lf(),Oc=(p,y)=>{const _=I=>{const F=y(I);if(F<=0||F===null){const $=qn(I,p);return parseFloat($)||0}return F},T=(I,F)=>ft(F,($,X)=>{const oe=qn(I,X),xe=oe===void 0?0:parseInt(oe,10);return isNaN(xe)?$:$+xe},0);return{set:(I,F)=>{if(!Wt(F)&&!F.match(/^[0-9]+$/))throw new Error(p+".set accepts only positive integer values. Value was "+F);const $=I.dom;ji($)&&($.style[p]=F+"px")},get:_,getOuter:_,aggregate:T,max:(I,F,$)=>{const X=T(I,$);return F>X?F-X:0}}},Co=(p,y,_)=>((T,I)=>(F=>{const $=parseFloat(F);return isNaN($)?Ee.none():Ee.some($)})(T).getOr(I))(qn(p,y),_),Eu=Oc("width",p=>p.dom.offsetWidth),na=p=>Eu.get(p),Zd=p=>Eu.getOuter(p),Tu=p=>((y,_)=>{const T=y.dom,I=T.getBoundingClientRect().width||T.offsetWidth;return _==="border-box"?I:((F,$,X,oe)=>$-Co(F,`padding-${X}`,0)-Co(F,`padding-${oe}`,0)-Co(F,`border-${X}-width`,0)-Co(F,`border-${oe}-width`,0))(y,I,"left","right")})(p,"content-box"),$i=(p,y,_)=>{const T=p.cells,I=T.slice(0,y),F=T.slice(y),$=I.concat(_).concat(F);return Uf(p,$)},Hs=(p,y,_)=>$i(p,y,[_]),Wd=(p,y,_)=>{p.cells[y]=_},Uf=(p,y)=>Xa(p.element,y,p.section,p.isNew),ma=(p,y)=>p.cells[y],Ds=(p,y)=>ma(p,y).element,Fr=p=>p.cells.length,Cs=p=>{const y=bt(p,_=>_.section==="colgroup");return{rows:y.fail,cols:y.pass}},qi=(p,y,_)=>{const T=B(p.cells,_);return Xa(y(p.element),T,p.section,!0)},qs="data-snooker-locked-cols",Na=p=>dn(p,qs).bind(y=>Ee.from(y.match(/\d+/g))).map(y=>nn(y,kt)),hs=p=>{const y=ft(Cs(p).rows,(T,I)=>(Tt(I.cells,(F,$)=>{F.isLocked&&(T[$]=!0)}),T),{}),_=_o(y,(T,I)=>parseInt(I,10));return((T,I)=>{const F=qe.call(T,0);return F.sort(void 0),F})(_)},zu=(p,y)=>p+","+y,Us=(p,y)=>{const _=bo(p.all,T=>T.cells);return pn(_,y)},pa=p=>{const y={},_=[],T=Pn(p).map(ze=>ze.element).bind(Wn).bind(Na).getOr({});let I=0,F=0,$=0;const{pass:X,fail:oe}=bt(p,ze=>ze.section==="colgroup");Tt(oe,ze=>{const Ne=[];Tt(ze.cells,Ke=>{let He=0;for(;y[zu($,He)]!==void 0;)He++;const ct=((Lt,wt)=>no(Lt,wt)&&Lt[wt]!==void 0&&Lt[wt]!==null)(T,He.toString()),gt=((Lt,wt,Pt,jt,sn,Un)=>({element:Lt,rowspan:wt,colspan:Pt,row:jt,column:sn,isLocked:Un}))(Ke.element,Ke.rowspan,Ke.colspan,$,He,ct);for(let Lt=0;Lt<Ke.colspan;Lt++)for(let wt=0;wt<Ke.rowspan;wt++){const Pt=He+Lt,jt=zu($+wt,Pt);y[jt]=gt,F=Math.max(F,Pt+1)}Ne.push(gt)}),I++,_.push(Jo(ze.element,Ne,ze.section)),$++});const{columns:xe,colgroups:Se}=Do(X).map(ze=>{const Ne=(He=>{const ct={};let gt=0;return Tt(He.cells,Lt=>{const wt=Lt.colspan;un(wt,Pt=>{const jt=gt+Pt;ct[jt]=((sn,Un,jn)=>({element:sn,colspan:Un,column:jn}))(Lt.element,wt,jt)}),gt+=wt}),ct})(ze);return{colgroups:[((He,ct)=>({element:He,columns:ct}))(ze.element,ar(Ne))],columns:Ne}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((ze,Ne)=>({rows:ze,columns:Ne}))(I,F),access:y,all:_,columns:xe,colgroups:Se}},oa=p=>{const y=Aa(p);return pa(y)},$d=pa,Qr=(p,y,_)=>Ee.from(p.access[zu(y,_)]),jf=(p,y,_)=>{const T=Us(p,I=>_(y,I.element));return T.length>0?Ee.some(T[0]):Ee.none()},dd=Us,gc=p=>bo(p.all,y=>y.cells),So=p=>ar(p.columns),ra=p=>$o(p.columns).length>0,qd=(p,y)=>Ee.from(p.columns[y]),Ci=(p,y=kt)=>{const _=p.grid,T=un(_.columns,tn),I=un(_.rows,tn);return B(T,F=>Ou(()=>bo(I,$=>Qr(p,$,F).filter(X=>X.column===F).toArray()),$=>$.colspan===1&&y($.element),()=>Qr(p,0,F)))},Ou=(p,y,_)=>{const T=p();return Mn(T,y).orThunk(()=>Ee.from(T[0]).orThunk(_)).map(I=>I.element)},Ac=p=>{const y=p.grid,_=un(y.rows,tn),T=un(y.columns,tn);return B(_,I=>Ou(()=>bo(T,F=>Qr(p,I,F).filter($=>$.row===I).fold(Rt([]),$=>[$])),F=>F.rowspan===1,()=>Qr(p,I,0)))},ud=(p,y)=>_=>Zp(_)==="rtl"?y:p,Zp=p=>qn(p,"direction")==="rtl"?"rtl":"ltr",fd=Oc("height",p=>{const y=p.dom;return ea(p)?y.getBoundingClientRect().height:y.offsetHeight}),Qa=p=>fd.get(p),dp=p=>fd.getOuter(p),ye=(p,y)=>({left:p,top:y,translate:(_,T)=>ye(p+_,y+T)}),hc=ye,Si=(p,y)=>p!==void 0?p:y!==void 0?y:0,qc=p=>{const y=p.dom.ownerDocument,_=y.body,T=y.defaultView,I=y.documentElement;if(_===p.dom)return hc(_.offsetLeft,_.offsetTop);const F=Si(T==null?void 0:T.pageYOffset,I.scrollTop),$=Si(T==null?void 0:T.pageXOffset,I.scrollLeft),X=Si(I.clientTop,_.clientTop),oe=Si(I.clientLeft,_.clientLeft);return cf(p).translate($-oe,F-X)},cf=p=>{const y=p.dom,_=y.ownerDocument.body;return _===y?hc(_.offsetLeft,_.offsetTop):ea(p)?(T=>{const I=T.getBoundingClientRect();return hc(I.left,I.top)})(y):hc(0,0)},Gd=(p,y)=>({row:p,y}),Pe=(p,y)=>({col:p,x:y}),Dt=p=>qc(p).left+Zd(p),xt=p=>qc(p).left,Sn=(p,y)=>Pe(p,xt(y)),Po=(p,y)=>Pe(p,Dt(y)),ir=p=>qc(p).top,Dr=(p,y)=>Gd(p,ir(y)),Rr=(p,y)=>Gd(p,ir(y)+dp(y)),ui=(p,y,_)=>{if(_.length===0)return[];const T=B(_.slice(1),(F,$)=>F.map(X=>p($,X))),I=_[_.length-1].map(F=>y(_.length-1,F));return T.concat([I])},Rn={delta:tn,positions:p=>ui(Dr,Rr,p),edge:ir},Rs=ud({delta:tn,edge:xt,positions:p=>ui(Sn,Po,p)},{delta:p=>-p,edge:Dt,positions:p=>ui(Po,Sn,p)}),Ei={delta:(p,y)=>Rs(y).delta(p,y),positions:(p,y)=>Rs(y).positions(p,y),edge:p=>Rs(p).edge(p)},Wp={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},bc=(()=>{const p="[0-9]+",y="[eE][+-]?"+p,_=I=>`(?:${I})?`,T=["Infinity",p+"\\."+_(p)+_(y),"\\."+p+_(y),p+_(y)].join("|");return new RegExp(`^([+-]?(?:${T}))(.*)$`)})(),Br=/(\d+(\.\d+)?)%/,yc=/(\d+(\.\d+)?)px|em/,Zr=Ur("col"),ga=(p,y,_)=>{const T=Kl(p).getOrThunk(()=>Vf(uc(p)));return y(p)/_(T)*100},Nc=(p,y)=>{Ns(p,"width",y+"px")},Au=(p,y)=>{Ns(p,"width",y+"%")},Zf=(p,y)=>{Ns(p,"height",y+"px")},up=p=>{const y=(_=>{return Co(T=_,"height",T.dom.offsetHeight)+"px";var T})(p);return y?((_,T,I,F)=>{const $=parseFloat(_);return di(_,"%")&&wn(T)!=="table"?((X,oe,xe,Se)=>{const he=Wn(X).map(ze=>{const Ne=xe(ze);return Math.floor(oe/100*Ne)}).getOr(oe);return Se(X,he),he})(T,$,I,F):$})(y,p,Qa,Zf):Qa(p)},md=(p,y)=>Zi(p,y).orThunk(()=>dn(p,y).map(_=>_+"px")),xl=p=>md(p,"width"),ll=p=>ga(p,na,Tu),Wr=p=>{return Zr(p)?na(p):Co(y=p,"width",y.dom.offsetWidth);var y},Ql=p=>((y,_,T)=>T(y)/$s(y,"rowspan"))(p,0,up),ka=(p,y,_)=>{Ns(p,"width",y+_)},Gc=p=>ga(p,na,Tu)+"%",fi=Rt(Br),Kd=Ur("col"),Gs=p=>xl(p).getOrThunk(()=>Wr(p)+"px"),sa=p=>{return(y=p,md(y,"height")).getOrThunk(()=>Ql(p)+"px");var y},ei=(p,y,_,T,I,F)=>p.filter(T).fold(()=>F((($,X)=>{if(X<0||X>=$.length-1)return Ee.none();const oe=$[X].fold(()=>{const Se=(he=>{const ze=qe.call(he,0);return ze.reverse(),ze})($.slice(0,X));return Y(Se,(he,ze)=>he.map(Ne=>({value:Ne,delta:ze+1})))},Se=>Ee.some({value:Se,delta:0})),xe=$[X+1].fold(()=>{const Se=$.slice(X+1);return Y(Se,(he,ze)=>he.map(Ne=>({value:Ne,delta:ze+1})))},Se=>Ee.some({value:Se,delta:1}));return oe.bind(Se=>xe.map(he=>{const ze=he.delta+Se.delta;return Math.abs(he.value-Se.value)/ze}))})(_,y)),$=>I($)),at=(p,y,_,T)=>{const I=Ci(p),F=ra(p)?(oe=>B(So(oe),xe=>Ee.from(xe.element)))(p):I,$=[Ee.some(Ei.edge(y))].concat(B(Ei.positions(I,y),oe=>oe.map(xe=>xe.x))),X=ln(id);return B(F,(oe,xe)=>ei(oe,xe,$,X,Se=>{if((ze=>{const Ne=pc().browser,Ke=Ne.isChromium()||Ne.isFirefox();return!Kd(ze)||Ke})(Se))return _(Se);{const ze=(he=I[xe])!=null?tn(he):Ee.none();return ei(ze,xe,$,X,Ne=>T(Ee.some(na(Ne))),T)}var he},T))},wl=p=>p.map(y=>y+"px").getOr(""),vm=(p,y,_)=>at(p,y,Wr,T=>T.getOrThunk(_.minCellWidth)),Bs=(p,y,_,T,I)=>{const F=Ac(p),$=[Ee.some(_.edge(y))].concat(B(_.positions(F,y),X=>X.map(oe=>oe.y)));return B(F,(X,oe)=>ei(X,oe,$,ln(sf),T,I))},Da=(p,y)=>()=>ea(p)?y(p):parseFloat(Zi(p,"width").getOr("0")),Ra=p=>{const y=Da(p,T=>parseFloat(Gc(T))),_=Da(p,na);return{width:y,pixelWidth:_,getWidths:(T,I)=>((F,$,X)=>at(F,$,ll,oe=>oe.fold(()=>X.minCellWidth(),xe=>xe/X.pixelWidth()*100)))(T,p,I),getCellDelta:T=>T/_()*100,singleColumnWidth:(T,I)=>[100-T],minCellWidth:()=>ne()/_()*100,setElementWidth:Au,adjustTableWidth:T=>{const I=y();Au(p,I+T/100*I)},isRelative:!0,label:"percent"}},Gi=p=>{const y=Da(p,na);return{width:y,pixelWidth:y,getWidths:(_,T)=>vm(_,p,T),getCellDelta:tn,singleColumnWidth:(_,T)=>[Math.max(ne(),_+T)-_],minCellWidth:ne,setElementWidth:Nc,adjustTableWidth:_=>{const T=y()+_;Nc(p,T)},isRelative:!1,label:"pixel"}},Nu=p=>xl(p).fold(()=>(y=>{const _=Da(y,na),T=Rt(0);return{width:_,pixelWidth:_,getWidths:(I,F)=>vm(I,y,F),getCellDelta:T,singleColumnWidth:Rt([0]),minCellWidth:T,setElementWidth:lt,adjustTableWidth:lt,isRelative:!0,label:"none"}})(p),y=>((_,T)=>fi().exec(T)!==null?Ra(_):Gi(_))(p,y)),Za=Gi,ur=Ra,Bl=(p,y,_)=>{const T=p[_].element,I=Bt.fromTag("td");Yr(I,Bt.fromTag("br")),(y?Yr:yu)(T,I)},Ks=((p,y)=>{const _=T=>p(T)?Ee.from(T.dom.nodeValue):Ee.none();return{get:T=>{if(!p(T))throw new Error("Can only get text value of a text node");return _(T).getOr("")},getOption:_,set:(T,I)=>{if(!p(T))throw new Error("Can only set raw text value of a text node");T.dom.nodeValue=I}}})(go),Ar=p=>Ks.get(p),xm=p=>Ks.getOption(p),Ml=(p,y)=>Ks.set(p,y),Wa=p=>wn(p)==="img"?1:xm(p).fold(()=>wi(p).length,y=>y.length),kl=["img","br"],Ue=p=>xm(p).filter(y=>y.trim().length!==0||y.indexOf(" ")>-1).isSome()||Zn(kl,wn(p))||(y=>Ta(y)&&oo(y,"contenteditable")==="false")(p),_a=p=>((y,_)=>{const T=I=>{for(let F=0;F<I.childNodes.length;F++){const $=Bt.fromDom(I.childNodes[F]);if(_($))return Ee.some($);const X=T(I.childNodes[F]);if(X.isSome())return X}return Ee.none()};return T(y.dom)})(p,Ue),Kc=p=>_l(p,Ue),_l=(p,y)=>{const _=T=>{const I=wi(T);for(let F=I.length-1;F>=0;F--){const $=I[F];if(y($))return Ee.some($);const X=_($);if(X.isSome())return X}return Ee.none()};return _(p)},Ms={scope:["row","col"]},es=p=>()=>{const y=Bt.fromTag("td",p.dom);return Yr(y,Bt.fromTag("br",p.dom)),y},ls=p=>()=>Bt.fromTag("col",p.dom),Mr=p=>()=>Bt.fromTag("colgroup",p.dom),Wf=p=>()=>Bt.fromTag("tr",p.dom),Ln=(p,y,_)=>{const T=((I,F)=>{const $=Ff(I,F),X=wi(Yl(I));return ki($,X),$})(p,y);return Xo(_,(I,F)=>{I===null?_n(T,F):Mo(T,F,I)}),T},Ba=p=>p,mi=(p,y,_)=>{const T=(I,F)=>{(($,X)=>{const oe=$.dom,xe=X.dom;ji(oe)&&ji(xe)&&(xe.style.cssText=oe.style.cssText)})(I.element,F),_s(F,"height"),I.colspan!==1&&_s(F,"width")};return{col:I=>{const F=Bt.fromTag(wn(I.element),y.dom);return T(I,F),p(I.element,F),F},colgroup:Mr(y),row:Wf(y),cell:I=>{const F=Bt.fromTag(wn(I.element),y.dom),$=_.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),X=$.length>0?((oe,xe,Se)=>_a(oe).map(he=>{const ze=Se.join(","),Ne=zr(he,ze,Ke=>vr(Ke,oe));return io(Ne,(Ke,He)=>{const ct=rf(He);return Yr(Ke,ct),ct},xe)}).getOr(xe))(I.element,F,$):F;return Yr(X,Bt.fromTag("br")),T(I,F),((oe,xe)=>{Xo(Ms,(Se,he)=>dn(oe,he).filter(ze=>Zn(Se,ze)).each(ze=>Mo(xe,he,ze)))})(I.element,F),p(I.element,F),F},replace:Ln,colGap:ls(y),gap:es(y)}},lr=p=>({col:ls(p),colgroup:Mr(p),row:Wf(p),cell:es(p),replace:Ba,colGap:ls(p),gap:es(p)}),ha=p=>y=>y.options.get(p),vc="100%",ec=p=>{var y;const _=p.dom,T=(y=_.getParent(p.selection.getStart(),_.isBlock))!==null&&y!==void 0?y:p.getBody();return Tu(Bt.fromDom(T))+"px"},fe=p=>Ee.from(p.options.get("table_clone_elements")),Dc=ha("table_header_type"),xc=ha("table_column_resizing"),rs=p=>xc(p)==="preservetable",Go=p=>xc(p)==="resizetable",Yd=ha("table_sizing_mode"),wc=p=>Yd(p)==="relative",df=p=>Yd(p)==="fixed",aa=p=>Yd(p)==="responsive",z=ha("table_resize_bars"),V=ha("table_style_by_css"),J=ha("table_merge_content_on_paste"),Ce=p=>{const y=p.options,_=y.get("table_default_attributes");return y.isSet("table_default_attributes")?_:((T,I)=>aa(T)||V(T)?I:df(T)?{...I,width:ec(T)}:{...I,width:vc})(p,_)},Ae=ha("table_use_colgroups"),Ot=p=>Fs(p,"[contenteditable]"),yn=(p,y=!1)=>ea(p)?p.dom.isContentEditable:Ot(p).fold(Rt(y),_=>so(_)==="true"),so=p=>p.dom.contentEditable,Hn=p=>Bt.fromDom(p.getBody()),En=p=>y=>vr(y,Hn(p)),gr=p=>{_n(p,"data-mce-style");const y=_=>_n(_,"data-mce-style");Tt(An(p),y),Tt(ro(p),y),Tt(Vn(p),y)},bs=p=>Bt.fromDom(p.selection.getStart()),Ti=p=>p.getBoundingClientRect().width,pd=p=>p.getBoundingClientRect().height,zi=p=>ad(p,Ur("table")).exists(yn),ba=(p,y)=>{const _=y.column,T=y.column+y.colspan-1,I=y.row,F=y.row+y.rowspan-1;return _<=p.finishCol&&T>=p.startCol&&I<=p.finishRow&&F>=p.startRow},pi=(p,y)=>y.column>=p.startCol&&y.column+y.colspan-1<=p.finishCol&&y.row>=p.startRow&&y.row+y.rowspan-1<=p.finishRow,Oi=(p,y,_)=>{const T=jf(p,y,vr),I=jf(p,_,vr);return T.bind(F=>I.map($=>{return X=F,oe=$,{startRow:Math.min(X.row,oe.row),startCol:Math.min(X.column,oe.column),finishRow:Math.max(X.row+X.rowspan-1,oe.row+oe.rowspan-1),finishCol:Math.max(X.column+X.colspan-1,oe.column+oe.colspan-1)};var X,oe}))},wm=(p,y,_)=>Oi(p,y,_).map(T=>{const I=dd(p,ht(ba,T));return B(I,F=>F.element)}),kn=(p,y)=>jf(p,y,(_,T)=>Ud(T,_)).map(_=>_.element),Ys=(p,y,_)=>{const T=Rc(p);return wm(T,y,_)},cl=(p,y,_,T,I)=>{const F=Rc(p),$=vr(p,_)?Ee.some(y):kn(F,y),X=vr(p,I)?Ee.some(T):kn(F,T);return $.bind(oe=>X.bind(xe=>wm(F,oe,xe)))},Rc=oa;var Ll=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Du=()=>({up:Rt({selector:za,closest:Fs,predicate:mc,all:Ir}),down:Rt({selector:rl,predicate:xr}),styles:Rt({get:qn,getRaw:Zi,set:Ns,remove:_s}),attrs:Rt({get:oo,set:Mo,remove:_n,copyTo:(p,y)=>{const _=Ws(p);ua(y,_)}}),insert:Rt({before:jc,after:Jt,afterAll:vu,append:Yr,appendAll:ki,prepend:yu,wrap:of}),remove:Rt({unwrap:Qs,remove:ci}),create:Rt({nu:Bt.fromTag,clone:p=>Bt.fromDom(p.dom.cloneNode(!1)),text:Bt.fromText}),query:Rt({comparePosition:(p,y)=>p.dom.compareDocumentPosition(y.dom),prevSibling:Yn,nextSibling:Hi}),property:Rt({children:wi,name:wn,parent:Vi,document:p=>hl(p).dom,isText:go,isComment:mo,isElement:Nr,isSpecial:p=>{const y=wn(p);return Zn(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],y)},getLanguage:p=>Nr(p)?dn(p,"lang"):Ee.none(),getText:Ar,setText:Ml,isBoundary:p=>!!Nr(p)&&(wn(p)==="body"||Zn(Ll,wn(p))),isEmptyTag:p=>!!Nr(p)&&Zn(["br","img","hr","input"],wn(p)),isNonEditable:p=>Nr(p)&&oo(p,"contenteditable")==="false"}),eq:vr,is:fa});const fp=(p,y,_,T)=>{const I=y(p,_);return io(T,(F,$)=>{const X=y(p,$);return $p(p,F,X)},I)},$p=(p,y,_)=>y.bind(T=>_.filter(ht(p.eq,T))),Yc=Du(),Fg=(p,y)=>((_,T,I)=>I.length>0?((F,$,X,oe)=>oe(F,$,X[0],X.slice(1)))(_,T,I,fp):Ee.none())(Yc,(_,T)=>p(T),y),gd=p=>za(p,"table"),Ru=(p,y,_)=>{const T=I=>F=>_!==void 0&&_(F)||vr(F,I);return vr(p,y)?Ee.some({boxes:Ee.some([p]),start:p,finish:y}):gd(p).bind(I=>gd(y).bind(F=>{if(vr(I,F))return Ee.some({boxes:Ys(I,p,y),start:p,finish:y});if(Ud(I,F)){const $=zr(y,"td,th",T(I)),X=$.length>0?$[$.length-1]:y;return Ee.some({boxes:cl(I,p,I,y,F),start:p,finish:X})}if(Ud(F,I)){const $=zr(p,"td,th",T(F)),X=$.length>0?$[$.length-1]:p;return Ee.some({boxes:cl(F,p,I,y,F),start:p,finish:X})}return(($,X,oe)=>((xe,Se,he,ze=Te)=>{const Ne=[Se].concat(xe.up().all(Se)),Ke=[he].concat(xe.up().all(he)),He=wt=>Hr(wt,ze).fold(()=>wt,Pt=>wt.slice(0,Pt+1)),ct=He(Ne),gt=He(Ke),Lt=Mn(ct,wt=>Je(gt,((Pt,jt)=>ht(Pt.eq,jt))(xe,wt)));return{firstpath:ct,secondpath:gt,shared:Lt}})(Yc,$,X,void 0))(p,y).shared.bind($=>Fs($,"table",_).bind(X=>{const oe=zr(y,"td,th",T(X)),xe=oe.length>0?oe[oe.length-1]:y,Se=zr(p,"td,th",T(X)),he=Se.length>0?Se[Se.length-1]:p;return Ee.some({boxes:cl(X,p,I,y,F),start:he,finish:xe})}))}))},Bc=(p,y)=>{const _=rl(p,y);return _.length>0?Ee.some(_):Ee.none()},Nt=(p,y,_)=>Oa(p,y).bind(T=>Oa(p,_).bind(I=>Fg(gd,[T,I]).map(F=>({first:T,last:I,table:F})))),km=(p,y,_,T,I)=>((F,$)=>Mn(F,X=>ii(X,$)))(p,I).bind(F=>(($,X,oe)=>Wn($).bind(xe=>((Se,he,ze,Ne)=>jf(Se,he,vr).bind(Ke=>{const He=ze>0?Ke.row+Ke.rowspan-1:Ke.row,ct=Ne>0?Ke.column+Ke.colspan-1:Ke.column;return Qr(Se,He+ze,ct+Ne).map(gt=>gt.element)}))(Rc(xe),$,X,oe)))(F,y,_).bind($=>((X,oe)=>za(X,"table").bind(xe=>Oa(xe,oe).bind(Se=>Ru(Se,X).bind(he=>he.boxes.map(ze=>({boxes:ze,start:he.start,finish:he.finish}))))))($,T))),Bu=(p,y)=>Bc(p,y),Mu=(p,y,_)=>Nt(p,y,_).bind(T=>{const I=oe=>vr(p,oe),F="thead,tfoot,tbody,table",$=za(T.first,F,I),X=za(T.last,F,I);return $.bind(oe=>X.bind(xe=>vr(oe,xe)?((Se,he,ze)=>((Ne,Ke,He)=>Oi(Ne,Ke,He).bind(ct=>((gt,Lt)=>{let wt=!0;const Pt=ht(pi,Lt);for(let jt=Lt.startRow;jt<=Lt.finishRow;jt++)for(let sn=Lt.startCol;sn<=Lt.finishCol;sn++)wt=wt&&Qr(gt,jt,sn).exists(Pt);return wt?Ee.some(Lt):Ee.none()})(Ne,ct)))(Rc(Se),he,ze))(T.table,T.first,T.last):Ee.none()))}),Cl=tn,$f=p=>{const y=(_,T)=>dn(_,T).exists(I=>parseInt(I,10)>1);return p.length>0&&St(p,_=>y(_,"rowspan")||y(_,"colspan"))?Ee.some(p):Ee.none()},ss=(p,y,_)=>y.length<=1?Ee.none():Mu(p,_.firstSelectedSelector,_.lastSelectedSelector).map(T=>({bounds:T,cells:y})),Sl="data-mce-selected",tc="data-mce-first-selected",$r="data-mce-last-selected",uf="["+Sl+"]",Lo={selected:Sl,selectedSelector:"td["+Sl+"],th["+Sl+"]",firstSelected:tc,firstSelectedSelector:"td["+tc+"],th["+tc+"]",lastSelected:$r,lastSelectedSelector:"td["+$r+"],th["+$r+"]"},gn=(p,y,_)=>({element:_,mergable:ss(y,p,Lo),unmergable:$f(p),selection:Cl(p)}),Lu=p=>(y,_)=>{const T=wn(y),I=T==="col"||T==="colgroup"?Wn(F=y).bind($=>Bu($,Lo.firstSelectedSelector)).fold(Rt(F),$=>$[0]):y;var F;return Fs(I,p,_)},mp=Lu("th,td,caption"),ff=Lu("th,td"),nc=p=>{return y=p.model.table.getSelectedCells(),B(y,Bt.fromDom);var y},Ro=(p,y)=>{p.on("BeforeGetContent",_=>{const T=I=>{_.preventDefault(),(F=>Wn(F[0]).map($=>{const X=((oe,xe)=>{const Se=wt=>ii(wt.element,xe),he=Yl(oe),ze=Aa(he),Ne=Nu(oe),Ke=$d(ze),He=((wt,Pt)=>{const jt=wt.grid.columns;let sn=wt.grid.rows,Un=jt,jn=0,Oo=0;const Gn=[],Ao=[];return Xo(wt.access,vo=>{if(Gn.push(vo),Pt(vo)){Ao.push(vo);const Sr=vo.row,qt=Sr+vo.rowspan-1,Li=vo.column,Fa=Li+vo.colspan-1;Sr<sn?sn=Sr:qt>jn&&(jn=qt),Li<Un?Un=Li:Fa>Oo&&(Oo=Fa)}}),((vo,Sr,qt,Li,Fa,ti)=>({minRow:vo,minCol:Sr,maxRow:qt,maxCol:Li,allCells:Fa,selectedCells:ti}))(sn,Un,jn,Oo,Gn,Ao)})(Ke,Se),ct="th:not("+xe+"),td:not("+xe+")",gt=et(he,"th,td",wt=>ii(wt,ct));Tt(gt,ci),((wt,Pt,jt,sn)=>{const Un=pn(wt,Gn=>Gn.section!=="colgroup"),jn=Pt.grid.columns,Oo=Pt.grid.rows;for(let Gn=0;Gn<Oo;Gn++){let Ao=!1;for(let vo=0;vo<jn;vo++)Gn<jt.minRow||Gn>jt.maxRow||vo<jt.minCol||vo>jt.maxCol||(Qr(Pt,Gn,vo).filter(sn).isNone()?Bl(Un,Ao,Gn):Ao=!0)}})(ze,Ke,He,Se);const Lt=((wt,Pt,jt,sn)=>{if(sn.minCol===0&&Pt.grid.columns===sn.maxCol+1)return 0;const Un=vm(Pt,wt,jt),jn=ft(Un,(Ao,vo)=>Ao+vo,0),Oo=ft(Un.slice(sn.minCol,sn.maxCol+1),(Ao,vo)=>Ao+vo,0),Gn=Oo/jn*jt.pixelWidth()-jt.pixelWidth();return jt.getCellDelta(Gn)})(oe,oa(oe),Ne,He);return((wt,Pt,jt,sn)=>{Xo(jt.columns,jn=>{(jn.column<Pt.minCol||jn.column>Pt.maxCol)&&ci(jn.element)});const Un=pn(Ie(wt,"tr"),jn=>jn.dom.childElementCount===0);Tt(Un,ci),Pt.minCol!==Pt.maxCol&&Pt.minRow!==Pt.maxRow||Tt(Ie(wt,"th,td"),jn=>{_n(jn,"rowspan"),_n(jn,"colspan")}),_n(wt,qs),_n(wt,"data-snooker-col-series"),Nu(wt).adjustTableWidth(sn)})(he,He,Ke,Lt),he})($,uf);return gr(X),[X]}))(I).each(F=>{_.content=_.format==="text"?($=>B($,X=>X.dom.innerText).join(""))(F):(($,X)=>B(X,oe=>$.selection.serializer.serialize(oe.dom,{})).join(""))(p,F)})};if(_.selection===!0){const I=(F=>pn(nc(F),$=>ii($,Lo.selectedSelector)))(p);I.length>=1&&T(I)}}),p.on("BeforeSetContent",_=>{if(_.selection===!0&&_.paste===!0){const T=nc(p);Pn(T).each(I=>{Wn(I).each(F=>{const $=pn(((oe,xe)=>{const Se=document.createElement("div");return Se.innerHTML=oe,wi(Bt.fromDom(Se))})(_.content),oe=>wn(oe)!=="meta"),X=Ur("table");if(J(p)&&$.length===1&&X($[0])){_.preventDefault();const oe=Bt.fromDom(p.getDoc()),xe=lr(oe),Se=((he,ze,Ne)=>({element:he,clipboard:ze,generators:Ne}))(I,$[0],xe);y.pasteCells(F,Se).each(()=>{p.focus()})}})})}})},Ma=(p,y)=>({element:p,offset:y}),_m=(p,y,_)=>p.property().isText(y)&&p.property().getText(y).trim().length===0||p.property().isComment(y)?_(y).bind(T=>_m(p,T,_).orThunk(()=>Ee.some(T))):Ee.none(),mt=(p,y)=>p.property().isText(y)?p.property().getText(y).length:p.property().children(y).length,oc=(p,y)=>{const _=_m(p,y,p.query().prevSibling).getOr(y);if(p.property().isText(_))return Ma(_,mt(p,_));const T=p.property().children(_);return T.length>0?oc(p,T[T.length-1]):Ma(_,mt(p,_))},Xd=oc,Jd=Du(),Pu=(p,y)=>{id(p)||(T=>xl(T).bind(I=>{return F=I,$=["fixed","relative","empty"],Ee.from(bc.exec(F)).bind(X=>{const oe=Number(X[1]),xe=X[2];return((Se,he)=>Je(he,ze=>Je(Wp[ze],Ne=>Se===Ne)))(xe,$)?Ee.some({value:oe,unit:xe}):Ee.none()});var F,$}))(p).each(T=>{const I=T.value/2;ka(p,I,T.unit),ka(y,I,T.unit)})},hd=p=>B(p,Rt(0)),Pl=(p,y,_,T,I)=>I(p.slice(0,y)).concat(T).concat(I(p.slice(_))),Iu=p=>(y,_,T,I)=>{if(p(T)){const F=Math.max(I,y[_]-Math.abs(T)),$=Math.abs(F-y[_]);return T>=0?$:-$}return T},ts=Iu(p=>p<0),Qd=Iu(kt),Mh=()=>{const p=(_,T,I,F)=>{const $=(100+I)/100,X=Math.max(F,(_[T]+I)/$);return B(_,(oe,xe)=>(xe===T?X:oe/$)-oe)},y=(_,T,I,F,$,X)=>X?p(_,T,F,$):((oe,xe,Se,he,ze)=>{const Ne=ts(oe,xe,he,ze);return Pl(oe,xe,Se+1,[Ne,0],hd)})(_,T,I,F,$);return{resizeTable:(_,T)=>_(T),clampTableDelta:ts,calcLeftEdgeDeltas:y,calcMiddleDeltas:(_,T,I,F,$,X,oe)=>y(_,I,F,$,X,oe),calcRightEdgeDeltas:(_,T,I,F,$,X)=>{if(X)return p(_,I,F,$);{const oe=ts(_,I,F,$);return hd(_.slice(0,I)).concat([oe])}},calcRedestributedWidths:(_,T,I,F)=>{if(F){const $=(T+I)/T,X=B(_,oe=>oe/$);return{delta:100*$-100,newSizes:X}}return{delta:I,newSizes:_}}}},dl=()=>{const p=(y,_,T,I,F)=>{const $=Qd(y,I>=0?T:_,I,F);return Pl(y,_,T+1,[$,-$],hd)};return{resizeTable:(y,_,T)=>{T&&y(_)},clampTableDelta:(y,_,T,I,F)=>{if(F){if(T>=0)return T;{const $=ft(y,(X,oe)=>X+oe-I,0);return Math.max(-$,T)}}return ts(y,_,T,I)},calcLeftEdgeDeltas:p,calcMiddleDeltas:(y,_,T,I,F,$)=>p(y,T,I,F,$),calcRightEdgeDeltas:(y,_,T,I,F,$)=>{if($)return hd(y);{const X=I/y.length;return B(y,Rt(X))}},calcRedestributedWidths:(y,_,T,I)=>({delta:0,newSizes:y})}},Cm=p=>oa(p).grid,Ki=Ur("th"),qf=p=>St(p,y=>Ki(y.element)),bd=(p,y)=>p&&y?"sectionCells":p?"section":"cells",Fu=p=>{const y=p.section==="thead",_=sl(yd(p.cells),"th");return p.section==="tfoot"?{type:"footer"}:y||_?{type:"header",subType:bd(y,_)}:{type:"body"}},yd=p=>{const y=pn(p,_=>Ki(_.element));return y.length===0?Ee.some("td"):y.length===p.length?Ee.some("th"):Ee.none()},mf=(p,y,_)=>As(_(p.element,y),!0,p.isLocked),Gf=(p,y)=>p.section!==y?Xa(p.element,p.cells,y,p.isNew):p,bn=()=>({transformRow:Gf,transformCell:(p,y,_)=>{const T=_(p.element,y),I=wn(T)!=="td"?((F,$)=>{const X=Ff(F,"td");Jt(F,X);const oe=wi(F);return ki(X,oe),ci(F),X})(T):T;return As(I,p.isNew,p.isLocked)}}),pp=()=>({transformRow:Gf,transformCell:mf}),Sm=()=>({transformRow:(p,y)=>Gf(p,y==="thead"?"tbody":y),transformCell:mf}),pf=bn,Lh=pp,C=Sm,D=()=>({transformRow:tn,transformCell:mf}),G=(p,y,_,T)=>{_===T?_n(p,y):Mo(p,y,_)},ae=(p,y,_)=>{Do(vl(p,y)).fold(()=>yu(p,_),T=>Jt(T,_))},De=(p,y)=>{const _=[],T=[],I=ze=>B(ze,Ne=>{Ne.isNew&&_.push(Ne.element);const Ke=Ne.element;return fc(Ke),Tt(Ne.cells,He=>{He.isNew&&T.push(He.element),G(He.element,"colspan",He.colspan,1),G(He.element,"rowspan",He.rowspan,1),Yr(Ke,He.element)}),Ke}),F=ze=>bo(ze,Ne=>B(Ne.cells,Ke=>(G(Ke.element,"span",Ke.colspan,1),Ke.element))),$=(ze,Ne)=>{const Ke=((ct,gt)=>{const Lt=as(ct,gt).getOrThunk(()=>{const wt=Bt.fromTag(gt,uc(ct).dom);return gt==="thead"?ae(ct,"caption,colgroup",wt):gt==="colgroup"?ae(ct,"caption",wt):Yr(ct,wt),wt});return fc(Lt),Lt})(p,Ne),He=(Ne==="colgroup"?F:I)(ze);ki(Ke,He)},X=(ze,Ne)=>{ze.length>0?$(ze,Ne):(Ke=>{as(p,Ke).each(ci)})(Ne)},oe=[],xe=[],Se=[],he=[];return Tt(y,ze=>{switch(ze.section){case"thead":oe.push(ze);break;case"tbody":xe.push(ze);break;case"tfoot":Se.push(ze);break;case"colgroup":he.push(ze)}}),X(he,"colgroup"),X(oe,"thead"),X(xe,"tbody"),X(Se,"tfoot"),{newRows:_,newCells:T}},st=(p,y)=>{if(p.length===0)return 0;const _=p[0];return Hr(p,T=>!y(_.element,T.element)).getOr(p.length)},It=(p,y)=>{const _=B(p,T=>B(T.cells,Te));return B(p,(T,I)=>{const F=bo(T.cells,($,X)=>{if(_[I][X]===!1){const ze=((Ne,Ke,He,ct)=>{const gt=((jt,sn)=>jt[sn])(Ne,Ke),Lt=gt.section==="colgroup",wt=st(gt.cells.slice(He),ct),Pt=Lt?1:st(((jt,sn)=>B(jt,Un=>ma(Un,sn)))(Ne.slice(Ke),He),ct);return{colspan:wt,rowspan:Pt}})(p,I,X,y);return((Ne,Ke,He,ct)=>{for(let gt=Ne;gt<Ne+He;gt++)for(let Lt=Ke;Lt<Ke+ct;Lt++)_[gt][Lt]=!0})(I,X,ze.rowspan,ze.colspan),[(oe=$.element,xe=ze.rowspan,Se=ze.colspan,he=$.isNew,{element:oe,rowspan:xe,colspan:Se,isNew:he})]}return[];var oe,xe,Se,he});return(($,X,oe,xe)=>({element:$,cells:X,section:oe,isNew:xe}))(T.element,F,T.section,T.isNew)})},rn=(p,y,_)=>{const T=[];Tt(p.colgroups,I=>{const F=[];for(let $=0;$<p.grid.columns;$++){const X=qd(p,$).map(oe=>As(oe.element,_,!1)).getOrThunk(()=>As(y.colGap(),!0,!1));F.push(X)}T.push(Xa(I.element,F,"colgroup",_))});for(let I=0;I<p.grid.rows;I++){const F=[];for(let oe=0;oe<p.grid.columns;oe++){const xe=Qr(p,I,oe).map(Se=>As(Se.element,_,Se.isLocked)).getOrThunk(()=>As(y.gap(),!0,!1));F.push(xe)}const $=p.all[I],X=Xa($.element,F,$.section,_);T.push(X)}return T},Tn=p=>It(p,vr),co=(p,y)=>Y(p.all,_=>Mn(_.cells,T=>vr(y,T.element))),ys=(p,y,_)=>{const T=B(y.selection,F=>Vt(F).bind($=>co(p,$)).filter(_)),I=Or(T);return Ha(I.length>0,I)},ko=(p,y,_,T,I)=>(F,$,X,oe)=>{const xe=oa(F),Se=Ee.from(oe==null?void 0:oe.section).getOrThunk(D);return y(xe,$).map(he=>{const ze=((He,ct)=>rn(He,ct,!1))(xe,X),Ne=p(ze,he,vr,I(X),Se),Ke=hs(Ne.grid);return{info:he,grid:Tn(Ne.grid),cursor:Ne.cursor,lockedColumns:Ke}}).bind(he=>{const ze=De(F,he.grid),Ne=Ee.from(oe==null?void 0:oe.sizing).getOrThunk(()=>Nu(F)),Ke=Ee.from(oe==null?void 0:oe.resize).getOrThunk(dl);return _(F,he.grid,he.info,{sizing:Ne,resize:Ke,section:Se}),T(F),_n(F,qs),he.lockedColumns.length>0&&Mo(F,qs,he.lockedColumns.join(",")),Ee.some({cursor:he.cursor,newRows:ze.newRows,newCells:ze.newCells})})},cr=(p,y)=>ys(p,y,kt).map(_=>({cells:_,generators:y.generators,clipboard:y.clipboard})),ns=(p,y)=>ys(p,y,kt),La=(p,y)=>ys(p,y,_=>!_.isLocked),$a=(p,y)=>St(y,_=>((T,I)=>co(T,I).exists(F=>!F.isLocked))(p,_)),Xc=(p,y,_,T)=>{const I=Cs(p).rows;let F=!0;for(let $=0;$<I.length;$++)for(let X=0;X<Fr(I[0]);X++){const oe=I[$],xe=ma(oe,X),Se=_(xe.element,y);Se&&!F?Wd(oe,X,As(T(),!0,xe.isLocked)):Se&&(F=!1)}return p},Em=p=>{const y=F=>F(p),_=Rt(p),T=()=>I,I={tag:!0,inner:p,fold:(F,$)=>$(p),isValue:kt,isError:Te,map:F=>er.value(F(p)),mapError:T,bind:y,exists:y,forall:y,getOr:_,or:T,getOrThunk:_,orThunk:T,getOrDie:_,each:F=>{F(p)},toOptional:()=>Ee.some(p)};return I},gf=p=>{const y=()=>_,_={tag:!1,inner:p,fold:(I,F)=>I(p),isValue:Te,isError:kt,map:y,mapError:I=>er.error(I(p)),bind:y,exists:Te,forall:kt,getOr:tn,or:tn,getOrThunk:At,orThunk:At,getOrDie:(T=String(p),()=>{throw new Error(T)}),each:lt,toOptional:Ee.none};var T;return _},er={value:Em,error:gf,fromOption:(p,y)=>p.fold(()=>gf(y),Em)},Tm=(p,y)=>({rowDelta:0,colDelta:Fr(p[0])-Fr(y[0])}),eu=(p,y)=>({rowDelta:p.length-y.length,colDelta:0}),tu=(p,y,_,T)=>{const I=y.section==="colgroup"?_.col:_.cell;return un(p,F=>As(I(),!0,T(F)))},gp=(p,y,_,T)=>{const I=p[p.length-1];return p.concat(un(y,()=>{const F=I.section==="colgroup"?_.colgroup:_.row,$=qi(I,F,tn),X=tu($.cells.length,$,_,oe=>no(T,oe.toString()));return Uf($,X)}))},qp=(p,y,_,T)=>B(p,I=>{const F=tu(y,I,_,Te);return $i(I,T,F)}),nu=(p,y,_)=>{const T=y.colDelta<0?qp:tn,I=y.rowDelta<0?gp:tn,F=hs(p),$=Fr(p[0]),X=Je(F,Se=>Se===$-1),oe=T(p,Math.abs(y.colDelta),_,X?$-1:$),xe=hs(oe);return I(oe,Math.abs(y.rowDelta),_,nn(xe,kt))},To=(p,y,_,T)=>{const I=ht(T,ma(p[y],_).element),F=p[y];return p.length>1&&Fr(F)>1&&(_>0&&I(Ds(F,_-1))||_<F.cells.length-1&&I(Ds(F,_+1))||y>0&&I(Ds(p[y-1],_))||y<p.length-1&&I(Ds(p[y+1],_)))},kr=(p,y,_)=>pn(_,T=>T>=p.column&&T<=Fr(y[0])+p.column),gi=(p,y,_,T,I)=>{((xe,Se,he,ze)=>{Se>0&&Se<xe[0].cells.length&&Tt(xe,Ne=>{const Ke=Ne.cells[Se-1];let He=0;const ct=ze();for(;Ne.cells.length>Se+He&&he(Ke.element,Ne.cells[Se+He].element);)Wd(Ne,Se+He,As(ct,!0,Ne.cells[Se+He].isLocked)),He++})})(y,p,I,T.cell);const F=eu(_,y),$=nu(_,F,T),X=eu(y,$),oe=nu(y,X,T);return B(oe,(xe,Se)=>$i(xe,p,$[Se].cells))},hr=(p,y,_,T,I)=>{((Lt,wt,Pt,jt)=>{const sn=Cs(Lt).rows;if(wt>0&&wt<sn.length){const Un=((jn,Oo)=>ft(jn,(Gn,Ao)=>Je(Gn,vo=>Oo(vo.element,Ao.element))?Gn:Gn.concat([Ao]),[]))(sn[wt-1].cells,Pt);Tt(Un,jn=>{let Oo=Ee.none();for(let Gn=wt;Gn<sn.length;Gn++)for(let Ao=0;Ao<Fr(sn[0]);Ao++){const vo=sn[Gn],Sr=ma(vo,Ao);Pt(Sr.element,jn.element)&&(Oo.isNone()&&(Oo=Ee.some(jt())),Oo.each(qt=>{Wd(vo,Ao,As(qt,!0,Sr.isLocked))}))}})}})(y,p,I,T.cell);const F=hs(y),$=Tm(y,_),X={...$,colDelta:$.colDelta-F.length},oe=nu(y,X,T),{cols:xe,rows:Se}=Cs(oe),he=hs(oe),ze=Tm(_,y),Ne={...ze,colDelta:ze.colDelta+he.length},Ke=(ct=T,gt=he,B(_,Lt=>ft(gt,(wt,Pt)=>{const jt=tu(1,Lt,ct,kt)[0];return Hs(wt,Pt,jt)},Lt))),He=nu(Ke,Ne,T);var ct,gt;return[...xe,...Se.slice(0,p),...He,...Se.slice(p,Se.length)]},Gp=(p,y,_,T,I)=>{const{rows:F,cols:$}=Cs(p),X=F.slice(0,y),oe=F.slice(y);return[...$,...X,((xe,Se,he,ze)=>qi(xe,Ne=>ze(Ne,he),Se))(F[_],(xe,Se)=>y>0&&y<F.length&&T(Ds(F[y-1],Se),Ds(F[y],Se))?ma(F[y],Se):As(I(xe.element,T),!0,xe.isLocked),T,I),...oe]},Ls=(p,y,_,T,I)=>B(p,F=>{const $=y>0&&y<Fr(F)&&T(Ds(F,y-1),Ds(F,y)),X=((oe,xe,Se,he,ze,Ne,Ke)=>{if(Se!=="colgroup"&&he)return ma(oe,xe);{const He=ma(oe,ze);return As(Ke(He.element,Ne),!0,!1)}})(F,y,F.section,$,_,T,I);return Hs(F,y,X)}),vs=(p,y,_,T)=>((I,F,$,X)=>Ds(I[F],$)!==void 0&&F>0&&X(Ds(I[F-1],$),Ds(I[F],$)))(p,y,_,T)||((I,F,$)=>F>0&&$(Ds(I,F-1),Ds(I,F)))(p[y],_,T),Yi=(p,y,_,T)=>{const I=F=>($=>$==="row"?sf(y):id(y))(F)?`${F}group`:F;return p?Ki(y)?I(_):null:T&&Ki(y)?I(_==="row"?"col":"row"):null},Mc=(p,y,_)=>As(_(p.element,y),!0,p.isLocked),ou=(p,y,_,T,I,F,$)=>B(p,(X,oe)=>((xe,Se)=>{const he=xe.cells,ze=B(he,(Ne,Ke)=>{if((He=>Je(y,ct=>_(He.element,ct.element)))(Ne)){const He=$(Ne,oe,Ke)?I(Ne,_,T):Ne;return F(He,oe,Ke).each(ct=>{var gt,Lt;gt=He.element,Lt={scope:Ee.from(ct)},Xo(Lt,(wt,Pt)=>{wt.fold(()=>{_n(gt,Pt)},jt=>{Pr(gt.dom,Pt,jt)})})}),He}return Ne});return Xa(xe.element,ze,xe.section,xe.isNew)})(X)),vd=(p,y,_)=>bo(p,(T,I)=>vs(p,I,y,_)?[]:[ma(T,y)]),Kf=(p,y,_,T,I)=>{const F=Cs(p).rows,$=bo(y,Se=>vd(F,Se,T)),X=B(F,Se=>qf(Se.cells)),oe=((Se,he)=>St(he,tn)&&qf(Se)?kt:(ze,Ne,Ke)=>!(wn(ze.element)==="th"&&he[Ne]))($,X),xe=((Se,he)=>(ze,Ne)=>Ee.some(Yi(Se,ze.element,"row",he[Ne])))(_,X);return ou(p,$,T,I,Mc,xe,oe)},Kp=(p,y,_,T)=>{const I=Cs(p).rows,F=B(y,$=>ma(I[$.row],$.column));return ou(p,F,_,T,Mc,Ee.none,kt)},Yf=p=>{if(!be(p))throw new Error("cases must be an array");if(p.length===0)throw new Error("there must be at least one case");const y=[],_={};return Tt(p,(T,I)=>{const F=$o(T);if(F.length!==1)throw new Error("one and only one name per case");const $=F[0],X=T[$];if(_[$]!==void 0)throw new Error("duplicate key detected:"+$);if($==="cata")throw new Error("cannot have a case named cata (sorry)");if(!be(X))throw new Error("case arguments must be an array");y.push($),_[$]=(...oe)=>{const xe=oe.length;if(xe!==X.length)throw new Error("Wrong number of arguments to case "+$+". Expected "+X.length+" ("+X+"), got "+xe);return{fold:(...Se)=>{if(Se.length!==p.length)throw new Error("Wrong number of arguments to fold. Expected "+p.length+", got "+Se.length);return Se[I].apply(null,oe)},match:Se=>{const he=$o(Se);if(y.length!==he.length)throw new Error("Wrong number of arguments to match. Expected: "+y.join(",")+`
Actual: `+he.join(","));if(!St(y,ze=>Zn(he,ze)))throw new Error("Not all branches were specified when using match. Specified: "+he.join(", ")+`
Required: `+y.join(", "));return Se[$].apply(null,oe)},log:Se=>{console.log(Se,{constructors:y,constructor:$,params:oe})}}}}),_},hf={...Yf([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Vg=(p,y,_)=>{let T=0;for(let I=p;I<y;I++)T+=_[I]!==void 0?_[I]:0;return T},zm=(p,y)=>{const _=gc(p);return B(_,T=>{const I=Vg(T.row,T.row+T.rowspan,y);return{element:T.element,height:I,rowspan:T.rowspan}})},ly=(p,y,_)=>{const T=((I,F)=>ra(I)?(($,X)=>{const oe=So($);return B(oe,(xe,Se)=>({element:xe.element,width:X[Se],colspan:xe.colspan}))})(I,F):(($,X)=>{const oe=gc($);return B(oe,xe=>{const Se=Vg(xe.column,xe.column+xe.colspan,X);return{element:xe.element,width:Se,colspan:xe.colspan}})})(I,F))(p,y);Tt(T,I=>{_.setElementWidth(I.element,I.width)})},ru=(p,y,_,T,I)=>{const F=oa(p),$=I.getCellDelta(y),X=I.getWidths(F,I),oe=_===F.grid.columns-1,xe=T.clampTableDelta(X,_,$,I.minCellWidth(),oe),Se=((ze,Ne,Ke,He,ct)=>{const gt=ze.slice(0),Lt=((Pt,jt)=>Pt.length===0?hf.none():Pt.length===1?hf.only(0):jt===0?hf.left(0,1):jt===Pt.length-1?hf.right(jt-1,jt):jt>0&&jt<Pt.length-1?hf.middle(jt-1,jt,jt+1):hf.none())(ze,Ne),wt=Rt(B(gt,Rt(0)));return Lt.fold(wt,Pt=>He.singleColumnWidth(gt[Pt],Ke),(Pt,jt)=>ct.calcLeftEdgeDeltas(gt,Pt,jt,Ke,He.minCellWidth(),He.isRelative),(Pt,jt,sn)=>ct.calcMiddleDeltas(gt,Pt,jt,sn,Ke,He.minCellWidth(),He.isRelative),(Pt,jt)=>ct.calcRightEdgeDeltas(gt,Pt,jt,Ke,He.minCellWidth(),He.isRelative))})(X,_,xe,I,T),he=B(Se,(ze,Ne)=>ze+X[Ne]);ly(F,he,I),T.resizeTable(I.adjustTableWidth,xe,oe)},Ss=p=>ft(p,(y,_)=>Je(y,T=>T.column===_.column)?y:y.concat([_]),[]).sort((y,_)=>y.column-_.column),Ph=Ur("col"),Ih=Ur("colgroup"),Fh=p=>wn(p)==="tr"||Ih(p),El=p=>({element:p,colspan:al(p,"colspan",1),rowspan:al(p,"rowspan",1)}),qr=p=>dn(p,"scope").map(y=>y.substr(0,3)),Tl=(p,y=El)=>{const _=I=>{if(Fh(I))return Ih((F={element:I}).element)?p.colgroup(F):p.row(F);{const $=I,X=(oe=>Ph(oe.element)?p.col(oe):p.cell(oe))(y($));return T=Ee.some({item:$,replacement:X}),X}var F};let T=Ee.none();return{getOrInit:(I,F)=>T.fold(()=>_(I),$=>F(I,$.item)?$.replacement:_(I))}},Yp=p=>y=>{const _=[],T=I=>{const F=p==="td"?{scope:null}:{},$=y.replace(I,p,F);return _.push({item:I,sub:$}),$};return{replaceOrInit:(I,F)=>{if(Fh(I)||Ph(I))return I;{const $=I;return((X,oe)=>Mn(_,xe=>oe(xe.item,X)))($,F).fold(()=>T($),X=>F(I,X.item)?X.sub:T($))}}}},Vh=p=>({unmerge:y=>{const _=qr(y);return _.each(T=>Mo(y,"scope",T)),()=>{const T=p.cell({element:y,colspan:1,rowspan:1});return _s(T,"width"),_s(y,"width"),_.each(I=>Mo(T,"scope",I)),T}},merge:y=>(_s(y[0],"width"),(()=>{const _=Or(B(y,qr));if(_.length===0)return Ee.none();{const T=_[0],I=["row","col"];return Je(_,F=>F!==T&&Zn(I,F))?Ee.none():Ee.from(T)}})().fold(()=>_n(y[0],"scope"),_=>Mo(y[0],"scope",_+"group")),Rt(y[0]))}),cy=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Hg=Du(),Pa=p=>((y,_)=>{const T=y.property().name(_);return Zn(cy,T)})(Hg,p),su=p=>((y,_)=>{const T=y.property().name(_);return Zn(["ol","ul"],T)})(Hg,p),ia=p=>{const y=Ur("br"),_=I=>Kc(I).bind(F=>{const $=Hi(F).map(X=>!!Pa(X)||!!((oe,xe)=>Zn(["br","img","hr","input"],oe.property().name(xe)))(Hg,X)&&wn(X)!=="img").getOr(!1);return Vi(F).map(X=>{return $===!0||wn(oe=X)==="li"||mc(oe,su).isSome()||y(F)||Pa(X)&&!vr(I,X)?[]:[Bt.fromTag("br")];var oe})}).getOr([]),T=(()=>{const I=bo(p,F=>{const $=wi(F);return(X=>St(X,oe=>y(oe)||go(oe)&&Ar(oe).trim().length===0))($)?[]:$.concat(_(F))});return I.length===0?[Bt.fromTag("br")]:I})();fc(p[0]),ki(p[0],T)},xd=p=>yn(p,!0),bf=p=>{An(p).length===0&&ci(p)},Vu=(p,y)=>({grid:p,cursor:y}),hi=(p,y,_)=>{const T=((I,F,$)=>{var X,oe;const xe=Cs(I).rows;return Ee.from((oe=(X=xe[F])===null||X===void 0?void 0:X.cells[$])===null||oe===void 0?void 0:oe.element).filter(xd).orThunk(()=>(Se=>Y(Se,he=>Y(he.cells,ze=>{const Ne=ze.element;return Ha(xd(Ne),Ne)})))(xe))})(p,y,_);return Vu(p,T)},yf=p=>ft(p,(y,_)=>Je(y,T=>T.row===_.row)?y:y.concat([_]),[]).sort((y,_)=>y.row-_.row),Ug=(p,y)=>(_,T,I,F,$)=>{const X=yf(T),oe=B(X,Se=>Se.row),xe=((Se,he,ze,Ne,Ke,He,ct)=>{const{cols:gt,rows:Lt}=Cs(Se),wt=Lt[he[0]],Pt=bo(he,Gn=>((Ao,vo,Sr)=>{const qt=Ao[vo];return bo(qt.cells,(Li,Fa)=>vs(Ao,vo,Fa,Sr)?[]:[Li])})(Lt,Gn,Ke)),jt=B(wt.cells,(Gn,Ao)=>qf(vd(Lt,Ao,Ke))),sn=[...Lt];Tt(he,Gn=>{sn[Gn]=ct.transformRow(Lt[Gn],ze)});const Un=[...gt,...sn],jn=((Gn,Ao)=>St(Ao,tn)&&qf(Gn.cells)?kt:(vo,Sr,qt)=>!(wn(vo.element)==="th"&&Ao[qt]))(wt,jt),Oo=((Gn,Ao)=>(vo,Sr,qt)=>Ee.some(Yi(Gn,vo.element,"col",Ao[qt])))(Ne,jt);return ou(Un,Pt,Ke,He,ct.transformCell,Oo,jn)})(_,oe,p,y,I,F.replaceOrInit,$);return hi(xe,T[0].row,T[0].column)},Hh=Ug("thead",!0),Om=Ug("tbody",!1),jg=Ug("tfoot",!1),hp=(p,y,_)=>{const T=((F,$)=>wr(F,()=>$))(p,_.section),I=$d(T);return rn(I,y,!0)},Am=(p,y,_,T)=>((I,F,$,X)=>{const oe=$d(F),xe=X.getWidths(oe,X);ly(oe,xe,X)})(0,y,0,T.sizing),Xp=(p,y,_,T)=>((I,F,$,X,oe)=>{const xe=$d(F),Se=X.getWidths(xe,X),he=X.pixelWidth(),{newSizes:ze,delta:Ne}=oe.calcRedestributedWidths(Se,he,$.pixelDelta,X.isRelative);ly(xe,ze,X),X.adjustTableWidth(Ne)})(0,y,_,T.sizing,T.resize),Hu=(p,y)=>Je(y,_=>_.column===0&&_.isLocked),Jp=(p,y)=>Je(y,_=>_.column+_.colspan>=p.grid.columns&&_.isLocked),wd=(p,y)=>{const _=Ci(p),T=Ss(y);return ft(T,(I,F)=>I+_[F.column].map(Zd).getOr(0),0)},bp=p=>(y,_)=>ns(y,_).filter(T=>!(p?Hu:Jp)(y,T)).map(T=>({details:T,pixelDelta:wd(y,T)})),Vo=p=>(y,_)=>cr(y,_).filter(T=>!(p?Hu:Jp)(y,T.cells)),rc=Yp("th"),au=Yp("td"),Qp=ko((p,y,_,T)=>{const I=y[0].row,F=yf(y),$=io(F,(X,oe)=>({grid:Gp(X.grid,I,oe.row+X.delta,_,T.getOrInit),delta:X.delta+1}),{grid:p,delta:0}).grid;return hi($,I,y[0].column)},ns,lt,lt,Tl),cs=ko((p,y,_,T)=>{const I=yf(y),F=I[I.length-1],$=F.row+F.rowspan,X=io(I,(oe,xe)=>Gp(oe,$,xe.row,_,T.getOrInit),p);return hi(X,$,y[0].column)},ns,lt,lt,Tl),dy=ko((p,y,_,T)=>{const I=y.details,F=Ss(I),$=F[0].column,X=io(F,(oe,xe)=>({grid:Ls(oe.grid,$,xe.column+oe.delta,_,T.getOrInit),delta:oe.delta+1}),{grid:p,delta:0}).grid;return hi(X,I[0].row,$)},bp(!0),Xp,lt,Tl),uy=ko((p,y,_,T)=>{const I=y.details,F=I[I.length-1],$=F.column+F.colspan,X=Ss(I),oe=io(X,(xe,Se)=>Ls(xe,$,Se.column,_,T.getOrInit),p);return hi(oe,I[0].row,$)},bp(!1),Xp,lt,Tl),Xi=ko((p,y,_,T)=>{const I=Ss(y.details),F=((X,oe)=>bo(X,xe=>{const Se=xe.cells,he=io(oe,(ze,Ne)=>Ne>=0&&Ne<ze.length?ze.slice(0,Ne).concat(ze.slice(Ne+1)):ze,Se);return he.length>0?[Xa(xe.element,he,xe.section,xe.isNew)]:[]}))(p,B(I,X=>X.column)),$=F.length>0?F[0].cells.length-1:0;return hi(F,I[0].row,Math.min(I[0].column,$))},(p,y)=>La(p,y).map(_=>({details:_,pixelDelta:-wd(p,_)})),Xp,bf,Tl),sc=ko((p,y,_,T)=>{const I=yf(y),F=((X,oe,xe)=>{const{rows:Se,cols:he}=Cs(X);return[...he,...Se.slice(0,oe),...Se.slice(xe+1)]})(p,I[0].row,I[I.length-1].row),$=F.length>0?F.length-1:0;return hi(F,Math.min(y[0].row,$),y[0].column)},ns,lt,bf,Tl),Zg=ko((p,y,_,T)=>{const I=Ss(y),F=B(I,X=>X.column),$=Kf(p,F,!0,_,T.replaceOrInit);return hi($,y[0].row,y[0].column)},La,lt,lt,rc),Wg=ko((p,y,_,T)=>{const I=Ss(y),F=B(I,X=>X.column),$=Kf(p,F,!1,_,T.replaceOrInit);return hi($,y[0].row,y[0].column)},La,lt,lt,au),fy=ko(Hh,La,lt,lt,rc),Uh=ko(Om,La,lt,lt,au),E0=ko(jg,La,lt,lt,au),jh=ko((p,y,_,T)=>{const I=Kp(p,y,_,T.replaceOrInit);return hi(I,y[0].row,y[0].column)},La,lt,lt,rc),vf=ko((p,y,_,T)=>{const I=Kp(p,y,_,T.replaceOrInit);return hi(I,y[0].row,y[0].column)},La,lt,lt,au),yp=ko((p,y,_,T)=>{const I=y.cells;ia(I);const F=(($,X,oe,xe)=>{const Se=Cs($).rows;if(Se.length===0)return $;for(let he=X.startRow;he<=X.finishRow;he++)for(let ze=X.startCol;ze<=X.finishCol;ze++){const Ne=Se[he],Ke=ma(Ne,ze).isLocked;Wd(Ne,ze,As(xe(),!1,Ke))}return $})(p,y.bounds,0,T.merge(I));return Vu(F,Ee.from(I[0]))},(p,y)=>((_,T)=>T.mergable)(0,y).filter(_=>$a(p,_.cells)),Am,lt,Vh),Uu=ko((p,y,_,T)=>{const I=io(y,(F,$)=>Xc(F,$,_,T.unmerge($)),p);return Vu(I,Ee.from(y[0]))},(p,y)=>((_,T)=>T.unmergable)(0,y).filter(_=>$a(p,_)),Am,lt,Vh),kc=ko((p,y,_,T)=>{const I=((X,oe)=>{const xe=oa(X);return rn(xe,oe,!0)})(y.clipboard,y.generators);var F,$;return((X,oe,xe,Se,he)=>{const ze=hs(oe),Ne=((gt,Lt,wt)=>{const Pt=Fr(Lt[0]),jt=Cs(Lt).cols.length+gt.row,sn=un(Pt-gt.column,Un=>Un+gt.column);return{row:jt,column:Mn(sn,Un=>St(wt,jn=>jn!==Un)).getOr(Pt-1)}})(X,oe,ze),Ke=Cs(xe).rows,He=kr(Ne,Ke,ze);return((gt,Lt,wt)=>{if(gt.row>=Lt.length||gt.column>Fr(Lt[0]))return er.error("invalid start address out of table bounds, row: "+gt.row+", column: "+gt.column);const Pt=Lt.slice(gt.row),jt=Pt[0].cells.slice(gt.column),sn=Fr(wt[0]),Un=wt.length;return er.value({rowDelta:Pt.length-Un,colDelta:jt.length-sn})})(Ne,oe,Ke).map(gt=>{const Lt={...gt,colDelta:gt.colDelta-He.length},wt=nu(oe,Lt,Se),Pt=hs(wt),jt=kr(Ne,Ke,Pt);return((sn,Un,jn,Oo,Gn,Ao)=>{const vo=sn.row,Sr=sn.column,qt=vo+jn.length,Li=Sr+Fr(jn[0])+Ao.length,Fa=nn(Ao,kt);for(let ti=vo;ti<qt;ti++){let Nn=0;for(let ni=Sr;ni<Li;ni++){if(Fa[ni]){Nn++;continue}To(Un,ti,ni,Gn)&&Xc(Un,Ds(Un[ti],ni),Gn,Oo.cell);const fl=ni-Sr-Nn,gg=ma(jn[ti-vo],fl),dh=gg.element,fs=Oo.replace(dh);Wd(Un[ti],ni,As(fs,!0,gg.isLocked))}}return Un})(Ne,wt,Ke,Se,he,jt)})})((F=y.row,$=y.column,{row:F,column:$}),p,I,y.generators,_).fold(()=>Vu(p,Ee.some(y.element)),X=>hi(X,y.row,y.column))},(p,y)=>Vt(y.element).bind(_=>co(p,_).map(T=>({...T,generators:y.generators,clipboard:y.clipboard}))),Am,lt,Tl),bi=ko((p,y,_,T)=>{const I=Cs(p).rows,F=y.cells[0].column,$=I[y.cells[0].row],X=hp(y.clipboard,y.generators,$),oe=gi(F,p,X,y.generators,_);return hi(oe,y.cells[0].row,y.cells[0].column)},Vo(!0),lt,lt,Tl),kd=ko((p,y,_,T)=>{const I=Cs(p).rows,F=y.cells[y.cells.length-1].column+y.cells[y.cells.length-1].colspan,$=I[y.cells[0].row],X=hp(y.clipboard,y.generators,$),oe=gi(F,p,X,y.generators,_);return hi(oe,y.cells[0].row,y.cells[0].column)},Vo(!1),lt,lt,Tl),zo=ko((p,y,_,T)=>{const I=Cs(p).rows,F=y.cells[0].row,$=I[F],X=hp(y.clipboard,y.generators,$),oe=hr(F,p,X,y.generators,_);return hi(oe,y.cells[0].row,y.cells[0].column)},cr,lt,lt,Tl),$g=ko((p,y,_,T)=>{const I=Cs(p).rows,F=y.cells[y.cells.length-1].row+y.cells[y.cells.length-1].rowspan,$=I[y.cells[0].row],X=hp(y.clipboard,y.generators,$),oe=hr(F,p,X,y.generators,_);return hi(oe,y.cells[0].row,y.cells[0].column)},cr,lt,lt,Tl),Zh=(p,y)=>{const _=oa(p);return ns(_,y).bind(T=>{const I=T[T.length-1],F=T[0].column,$=I.column+I.colspan,X=zt(B(_.all,oe=>pn(oe.cells,xe=>xe.column>=F&&xe.column<$)));return yd(X)}).getOr("")},xf=(p,y)=>{const _=oa(p);return ns(_,y).bind(yd).getOr("")},qg=(p,y)=>{const _=oa(p);return ns(_,y).bind(T=>{const I=T[T.length-1],F=T[0].row,$=I.row+I.rowspan;return(X=>{const oe=B(X,he=>Fu(he).type),xe=Zn(oe,"header"),Se=Zn(oe,"footer");if(xe||Se){const he=Zn(oe,"body");return!xe||he||Se?xe||he||!Se?Ee.none():Ee.some("footer"):Ee.some("header")}return Ee.some("body")})(_.all.slice(F,$))}).getOr("")},eg=(p,y)=>p.dispatch("NewRow",{node:y}),Ai=(p,y)=>p.dispatch("NewCell",{node:y}),Cr=(p,y,_)=>{p.dispatch("TableModified",{..._,table:y})},Ji={structure:!1,style:!0},ds={structure:!0,style:!1},Il={structure:!0,style:!0},la=(p,y)=>wc(p)?ur(y):df(p)?Za(y):Nu(y),Ni=(p,y,_)=>{const T=Se=>wn(Hn(Se))==="table",I=fe(p),F=Go(p)?lt:Pu,$=Se=>{switch(Dc(p)){case"section":return pf();case"sectionCells":return Lh();case"cells":return C();default:return((he,ze)=>{var Ne;switch((Ne=oa(he),Y(Ne.all,Ke=>{const He=Fu(Ke);return He.type==="header"?Ee.from(He.subType):Ee.none()})).getOr(ze)){case"section":return bn();case"sectionCells":return pp();case"cells":return Sm()}})(Se,"section")}},X=(Se,he,ze,Ne)=>(Ke,He,ct=!1)=>{gr(Ke);const gt=Bt.fromDom(p.getDoc()),Lt=mi(ze,gt,I),wt={sizing:la(p,Ke),resize:Go(p)?Mh():dl(),section:$(Ke)};return he(Ke)?Se(Ke,He,Lt,wt).bind(Pt=>{y.refresh(Ke.dom),Tt(Pt.newRows,sn=>{eg(p,sn.dom)}),Tt(Pt.newCells,sn=>{Ai(p,sn.dom)});const jt=((sn,Un)=>Un.cursor.fold(()=>{const jn=An(sn);return Pn(jn).filter(ea).map(Oo=>{_.clearSelectedCells(sn.dom);const Gn=p.dom.createRng();return Gn.selectNode(Oo.dom),p.selection.setRng(Gn),Mo(Oo,"data-mce-selected","1"),Gn})},jn=>{const Oo=Xd(Jd,jn),Gn=p.dom.createRng();return Gn.setStart(Oo.element.dom,Oo.offset),Gn.setEnd(Oo.element.dom,Oo.offset),p.selection.setRng(Gn),_.clearSelectedCells(sn.dom),Ee.some(Gn)}))(Ke,Pt);return ea(Ke)&&(gr(Ke),ct||Cr(p,Ke.dom,Ne)),jt.map(sn=>({rng:sn,effect:Ne}))}):Ee.none()},oe=X(sc,Se=>!T(p)||Cm(Se).rows>1,lt,ds),xe=X(Xi,Se=>!T(p)||Cm(Se).columns>1,lt,ds);return{deleteRow:oe,deleteColumn:xe,insertRowsBefore:X(Qp,kt,lt,ds),insertRowsAfter:X(cs,kt,lt,ds),insertColumnsBefore:X(dy,kt,F,ds),insertColumnsAfter:X(uy,kt,F,ds),mergeCells:X(yp,kt,lt,ds),unmergeCells:X(Uu,kt,lt,ds),pasteColsBefore:X(bi,kt,lt,ds),pasteColsAfter:X(kd,kt,lt,ds),pasteRowsBefore:X(zo,kt,lt,ds),pasteRowsAfter:X($g,kt,lt,ds),pasteCells:X(kc,kt,lt,Il),makeCellsHeader:X(jh,kt,lt,ds),unmakeCellsHeader:X(vf,kt,lt,ds),makeColumnsHeader:X(Zg,kt,lt,ds),unmakeColumnsHeader:X(Wg,kt,lt,ds),makeRowsHeader:X(fy,kt,lt,ds),makeRowsBody:X(Uh,kt,lt,ds),makeRowsFooter:X(E0,kt,lt,ds),getTableRowType:qg,getTableCellType:xf,getTableColType:Zh}},Gg=(p,y,_)=>{const T=al(p,y,1);_===1||T<=1?_n(p,y):Mo(p,y,Math.min(_,T))},my=(p,y)=>_=>{const T=_.column+_.colspan-1,I=_.column;return T>=p&&I<y},tg=Yf([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),ju=(p,y,_)=>{const T=_.substring(0,_.length-p.length),I=parseFloat(T);return T===I.toString()?y(I):tg.invalid(_)},Di={...tg,from:p=>di(p,"%")?ju("%",tg.percent,p):di(p,"px")?ju("px",tg.pixels,p):tg.invalid(p)},ng=(p,y,_)=>{const T=Di.from(_),I=St(p,F=>F==="0px")?((F,$)=>{const X=F.fold(()=>Rt(""),oe=>Rt(oe/$+"px"),()=>Rt(100/$+"%"));return un($,X)})(T,p.length):((F,$,X)=>F.fold(()=>$,oe=>((xe,Se,he)=>{const ze=he/Se;return B(xe,Ne=>Di.from(Ne).fold(()=>Ne,Ke=>Ke*ze+"px",Ke=>Ke/100*he+"px"))})($,X,oe),oe=>((xe,Se)=>B(xe,he=>Di.from(he).fold(()=>he,ze=>ze/Se*100+"%",ze=>ze+"%")))($,X)))(T,p,y);return e1(I)},Kg=(p,y)=>p.length===0?y:io(p,(_,T)=>Di.from(T).fold(Rt(0),tn,tn)+_,0),py=(p,y)=>Di.from(p).fold(Rt(p),_=>_+y+"px",_=>_+y+"%"),e1=p=>{if(p.length===0)return p;const y=io(p,(T,I)=>{const F=Di.from(I).fold(()=>({value:I,remainder:0}),$=>((X,oe)=>{const xe=Math.floor(X);return{value:xe+"px",remainder:X-xe}})($),$=>({value:$+"%",remainder:0}));return{output:[F.value].concat(T.output),remainder:T.remainder+F.remainder}},{output:[],remainder:0}),_=y.output;return _.slice(0,_.length-1).concat([py(_[_.length-1],Math.round(y.remainder))])},og=Di.from,wf=p=>og(p).fold(Rt("px"),Rt("px"),Rt("%")),Jc=(p,y,_)=>{const T=oa(p),I=T.all,F=gc(T),$=So(T);y.each(X=>{const oe=wf(X),xe=na(p),Se=((ze,Ne)=>at(ze,Ne,Gs,wl))(T,p),he=ng(Se,xe,X);ra(T)?((ze,Ne,Ke)=>{Tt(Ne,(He,ct)=>{const gt=Kg([ze[ct]],ne());Ns(He.element,"width",gt+Ke)})})(he,$,oe):((ze,Ne,Ke)=>{Tt(Ne,He=>{const ct=ze.slice(He.column,He.colspan+He.column),gt=Kg(ct,ne());Ns(He.element,"width",gt+Ke)})})(he,F,oe),Ns(p,"width",X)}),_.each(X=>{const oe=wf(X),xe=Qa(p),Se=((he,ze,Ne)=>Bs(he,ze,Ne,sa,wl))(T,p,Rn);((he,ze,Ne,Ke)=>{Tt(Ne,He=>{const ct=he.slice(He.row,He.rowspan+He.row),gt=Kg(ct,Oe());Ns(He.element,"height",gt+Ke)}),Tt(ze,(He,ct)=>{Ns(He.element,"height",he[ct])})})(ng(Se,xe,X),I,F,oe),Ns(p,"height",X)})},Ht=p=>xl(p).exists(y=>Br.test(y)),gy=p=>xl(p).exists(y=>yc.test(y)),yi=p=>xl(p).isNone(),Yg=p=>{_n(p,"width")},Nm=p=>{const y=Gc(p);Jc(p,Ee.some(y),Ee.none()),Yg(p)},Zu=p=>{const y=(_=>na(_)+"px")(p);Jc(p,Ee.some(y),Ee.none()),Yg(p)},ac=p=>{_s(p,"width");const y=ro(p),_=y.length>0?y:An(p);Tt(_,T=>{_s(T,"width"),Yg(T)}),Yg(p)},t1={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},ic=(p,y,_,T)=>un(p,I=>((F,$,X,oe)=>{const xe=Bt.fromTag("tr");for(let Se=0;Se<F;Se++){const he=Bt.fromTag(oe<$||Se<X?"th":"td");Se<X&&Mo(he,"scope","row"),oe<$&&Mo(he,"scope","col"),Yr(he,Bt.fromTag("br")),Yr(xe,he)}return xe})(y,_,T,I)),Wh=(p,y)=>{p.selection.select(y.dom,!0),p.selection.collapse(!0)},Xf=(p,y,_,T,I)=>{const F=(X=>{const oe=X.options,xe=oe.get("table_default_styles");return oe.isSet("table_default_styles")?xe:((Se,he)=>aa(Se)||!V(Se)?he:df(Se)?{...he,width:ec(Se)}:{...he,width:vc})(X,xe)})(p),$={styles:F,attributes:Ce(p),colGroups:Ae(p)};return p.undoManager.ignore(()=>{const X=((xe,Se,he,ze,Ne,Ke=t1)=>{const He=Bt.fromTag("table"),ct=Ne!=="cells";Xl(He,Ke.styles),ua(He,Ke.attributes),Ke.colGroups&&Yr(He,(Pt=>{const jt=Bt.fromTag("colgroup");return un(Pt,()=>Yr(jt,Bt.fromTag("col"))),jt})(Se));const gt=Math.min(xe,he);if(ct&&he>0){const Pt=Bt.fromTag("thead");Yr(He,Pt);const jt=ic(he,Se,Ne==="sectionCells"?gt:0,ze);ki(Pt,jt)}const Lt=Bt.fromTag("tbody");Yr(He,Lt);const wt=ic(ct?xe-gt:xe,Se,ct?0:he,ze);return ki(Lt,wt),He})(_,y,I,T,Dc(p),$);Mo(X,"data-mce-id","__mce");const oe=(xe=>{const Se=Bt.fromTag("div"),he=Bt.fromDom(xe.dom.cloneNode(!0));return Yr(Se,he),(ze=>ze.dom.innerHTML)(Se)})(X);p.insertContent(oe),p.addVisual()}),Oa(Hn(p),'table[data-mce-id="__mce"]').map(X=>(df(p)?Zu(X):aa(p)?ac(X):(wc(p)||(oe=>ue(oe)&&oe.indexOf("%")!==-1)(F.width))&&Nm(X),gr(X),_n(X,"data-mce-id"),((oe,xe)=>{Tt(rl(xe,"tr"),Se=>{eg(oe,Se.dom),Tt(rl(Se,"th,td"),he=>{Ai(oe,he.dom)})})})(p,X),((oe,xe)=>{Oa(xe,"td,th").each(ht(Wh,oe))})(p,X),X.dom)).getOrNull()};var Lc=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Qc="x-tinymce/dom-table-",vp=Qc+"rows",Fl=Qc+"columns",$h=p=>{const y=Lc.FakeClipboardItem(p);Lc.write([y])},Vl=p=>{var y;const _=(y=Lc.read())!==null&&y!==void 0?y:[];return Y(_,T=>Ee.from(T.getType(p)))},Wu=p=>{Vl(p).isSome()&&Lc.clear()},hy=p=>{p.fold(n1,y=>$h({[vp]:y}))},Xg=()=>Vl(vp),n1=()=>Wu(vp),by=p=>{p.fold(vy,y=>$h({[Fl]:y}))},yy=()=>Vl(Fl),vy=()=>Wu(Fl),Jg=p=>mp(bs(p),En(p)).filter(zi),T0=(p,y)=>{const _=En(p),T=he=>Wn(he,_),I=he=>(ze=>ff(bs(ze),En(ze)).filter(zi))(p).bind(ze=>T(ze).map(Ne=>he(Ne,ze))),F=he=>{p.focus()},$=(he,ze=!1)=>I((Ne,Ke)=>{const He=gn(nc(p),Ne,Ke);he(Ne,He,ze).each(F)}),X=()=>I((he,ze)=>((Ne,Ke,He)=>{const ct=oa(Ne);return ns(ct,Ke).bind(gt=>{const Lt=rn(ct,He,!1),wt=Cs(Lt).rows.slice(gt[0].row,gt[gt.length-1].row+gt[gt.length-1].rowspan),Pt=bo(wt,sn=>{const Un=pn(sn.cells,jn=>!jn.isLocked);return Un.length>0?[{...sn,cells:Un}]:[]}),jt=Tn(Pt);return Ha(jt.length>0,jt)}).map(gt=>B(gt,Lt=>{const wt=rf(Lt.element);return Tt(Lt.cells,Pt=>{const jt=Yl(Pt.element);G(jt,"colspan",Pt.colspan,1),G(jt,"rowspan",Pt.rowspan,1),Yr(wt,jt)}),wt}))})(he,gn(nc(p),he,ze),mi(lt,Bt.fromDom(p.getDoc()),Ee.none()))),oe=()=>I((he,ze)=>((Ne,Ke)=>{const He=oa(Ne);return La(He,Ke).map(ct=>{const gt=ct[ct.length-1],Lt=ct[0].column,wt=gt.column+gt.colspan,Pt=((sn,Un,jn)=>{if(ra(sn)){const Oo=pn(So(sn),my(Un,jn)),Gn=B(Oo,vo=>{const Sr=Yl(vo.element);return Gg(Sr,"span",jn-Un),Sr}),Ao=Bt.fromTag("colgroup");return ki(Ao,Gn),[Ao]}return[]})(He,Lt,wt),jt=((sn,Un,jn)=>B(sn.all,Oo=>{const Gn=pn(Oo.cells,my(Un,jn)),Ao=B(Gn,Sr=>{const qt=Yl(Sr.element);return Gg(qt,"colspan",jn-Un),qt}),vo=Bt.fromTag("tr");return ki(vo,Ao),vo}))(He,Lt,wt);return[...Pt,...jt]})})(he,gn(nc(p),he,ze))),xe=(he,ze)=>ze().each(Ne=>{const Ke=B(Ne,He=>Yl(He));I((He,ct)=>{const gt=lr(Bt.fromDom(p.getDoc())),Lt=((wt,Pt,jt,sn)=>({selection:Cl(wt),clipboard:jt,generators:sn}))(nc(p),0,Ke,gt);he(He,Lt).each(F)})}),Se=he=>(ze,Ne)=>((Ke,He)=>no(Ke,He)?Ee.from(Ke[He]):Ee.none())(Ne,"type").each(Ke=>{$(he(Ke),Ne.no_events)});Xo({mceTableSplitCells:()=>$(y.unmergeCells),mceTableMergeCells:()=>$(y.mergeCells),mceTableInsertRowBefore:()=>$(y.insertRowsBefore),mceTableInsertRowAfter:()=>$(y.insertRowsAfter),mceTableInsertColBefore:()=>$(y.insertColumnsBefore),mceTableInsertColAfter:()=>$(y.insertColumnsAfter),mceTableDeleteCol:()=>$(y.deleteColumn),mceTableDeleteRow:()=>$(y.deleteRow),mceTableCutCol:()=>oe().each(he=>{by(he),$(y.deleteColumn)}),mceTableCutRow:()=>X().each(he=>{hy(he),$(y.deleteRow)}),mceTableCopyCol:()=>oe().each(he=>by(he)),mceTableCopyRow:()=>X().each(he=>hy(he)),mceTablePasteColBefore:()=>xe(y.pasteColsBefore,yy),mceTablePasteColAfter:()=>xe(y.pasteColsAfter,yy),mceTablePasteRowBefore:()=>xe(y.pasteRowsBefore,Xg),mceTablePasteRowAfter:()=>xe(y.pasteRowsAfter,Xg),mceTableDelete:()=>Jg(p).each(he=>{Wn(he,_).filter(ln(_)).each(ze=>{const Ne=Bt.fromText("");if(Jt(ze,Ne),ci(ze),p.dom.isEmpty(p.getBody()))p.setContent(""),p.selection.setCursorLocation();else{const Ke=p.dom.createRng();Ke.setStart(Ne.dom,0),Ke.setEnd(Ne.dom,0),p.selection.setRng(Ke),p.nodeChanged()}})}),mceTableCellToggleClass:(he,ze)=>{I(Ne=>{const Ke=nc(p),He=St(Ke,gt=>p.formatter.match("tablecellclass",{value:ze},gt.dom)),ct=He?p.formatter.remove:p.formatter.apply;Tt(Ke,gt=>ct("tablecellclass",{value:ze},gt.dom)),Cr(p,Ne.dom,Ji)})},mceTableToggleClass:(he,ze)=>{I(Ne=>{p.formatter.toggle("tableclass",{value:ze},Ne.dom),Cr(p,Ne.dom,Ji)})},mceTableToggleCaption:()=>{Jg(p).each(he=>{Wn(he,_).each(ze=>{as(ze,"caption").fold(()=>{const Ne=Bt.fromTag("caption");Yr(Ne,Bt.fromText("Caption")),((Ke,He,ct)=>{bl(Ke,0).fold(()=>{Yr(Ke,He)},gt=>{jc(gt,He)})})(ze,Ne),p.selection.setCursorLocation(Ne.dom,0)},Ne=>{Ur("caption")(he)&&li("td",ze).each(Ke=>p.selection.setCursorLocation(Ke.dom,0)),ci(Ne)}),Cr(p,ze.dom,ds)})})},mceTableSizingMode:(he,ze)=>(Ne=>Jg(p).each(Ke=>{aa(p)||df(p)||wc(p)||Wn(Ke,_).each(He=>{Ne!=="relative"||Ht(He)?Ne!=="fixed"||gy(He)?Ne!=="responsive"||yi(He)||ac(He):Zu(He):Nm(He),gr(He),Cr(p,He.dom,ds)})}))(ze),mceTableCellType:Se(he=>he==="th"?y.makeCellsHeader:y.unmakeCellsHeader),mceTableColType:Se(he=>he==="th"?y.makeColumnsHeader:y.unmakeColumnsHeader),mceTableRowType:Se(he=>{switch(he){case"header":return y.makeRowsHeader;case"footer":return y.makeRowsFooter;default:return y.makeRowsBody}})},(he,ze)=>p.addCommand(ze,he)),p.addCommand("mceInsertTable",(he,ze)=>{((Ne,Ke,He,ct={})=>{const gt=Lt=>Wt(Lt)&&Lt>0;if(gt(Ke)&&gt(He)){const Lt=ct.headerRows||0,wt=ct.headerColumns||0;return Xf(Ne,He,Ke,wt,Lt)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(p,ze.rows,ze.columns,ze.options)}),p.addCommand("mceTableApplyCellStyle",(he,ze)=>{const Ne=ct=>"tablecell"+ct.toLowerCase().replace("-","");if(!de(ze))return;const Ke=pn(nc(p),zi);if(Ke.length===0)return;const He=((ct,gt)=>{const Lt={};return((wt,Pt,jt,sn)=>{Xo(wt,(Un,jn)=>{(Pt(Un,jn)?jt:sn)(Un,jn)})})(ct,gt,(wt=>(Pt,jt)=>{wt[jt]=Pt})(Lt),lt),Lt})(ze,(ct,gt)=>p.formatter.has(Ne(gt))&&ue(ct));(ct=>{for(const gt in ct)if(Fi.call(ct,gt))return!1;return!0})(He)||(Xo(He,(ct,gt)=>{const Lt=Ne(gt);Tt(Ke,wt=>{ct===""?p.formatter.remove(Lt,{value:null},wt.dom,!0):p.formatter.apply(Lt,{value:ct},wt.dom)})}),T(Ke[0]).each(ct=>Cr(p,ct.dom,Ji)))})},Dm=Yf([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),ul={before:Dm.before,on:Dm.on,after:Dm.after,cata:(p,y,_,T)=>p.fold(y,_,T),getStart:p=>p.fold(tn,tn,tn)},Rm=(p,y)=>({selection:p,kill:y}),kf=(p,y)=>{const _=p.document.createRange();return _.selectNode(y.dom),_},Es=(p,y)=>{const _=p.document.createRange();return Jf(_,y),_},Jf=(p,y)=>p.selectNodeContents(y.dom),Qi=(p,y,_)=>{const T=p.document.createRange();var I;return I=T,y.fold(F=>{I.setStartBefore(F.dom)},(F,$)=>{I.setStart(F.dom,$)},F=>{I.setStartAfter(F.dom)}),((F,$)=>{$.fold(X=>{F.setEndBefore(X.dom)},(X,oe)=>{F.setEnd(X.dom,oe)},X=>{F.setEndAfter(X.dom)})})(T,_),T},rg=(p,y,_,T,I)=>{const F=p.document.createRange();return F.setStart(y.dom,_),F.setEnd(T.dom,I),F},qh=p=>({left:p.left,top:p.top,right:p.right,bottom:p.bottom,width:p.width,height:p.height}),sg=Yf([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Qf=(p,y,_)=>y(Bt.fromDom(_.startContainer),_.startOffset,Bt.fromDom(_.endContainer),_.endOffset),Gh=(p,y)=>{const _=((T,I)=>I.match({domRange:F=>({ltr:Rt(F),rtl:Ee.none}),relative:(F,$)=>({ltr:il(()=>Qi(T,F,$)),rtl:il(()=>Ee.some(Qi(T,$,F)))}),exact:(F,$,X,oe)=>({ltr:il(()=>rg(T,F,$,X,oe)),rtl:il(()=>Ee.some(rg(T,X,oe,F,$)))})}))(p,y);return((T,I)=>{const F=I.ltr();return F.collapsed?I.rtl().filter($=>$.collapsed===!1).map($=>sg.rtl(Bt.fromDom($.endContainer),$.endOffset,Bt.fromDom($.startContainer),$.startOffset)).getOrThunk(()=>Qf(0,sg.ltr,F)):Qf(0,sg.ltr,F)})(0,_)},em=(p,y)=>Gh(p,y).match({ltr:(_,T,I,F)=>{const $=p.document.createRange();return $.setStart(_.dom,T),$.setEnd(I.dom,F),$},rtl:(_,T,I,F)=>{const $=p.document.createRange();return $.setStart(I.dom,F),$.setEnd(_.dom,T),$}});sg.ltr,sg.rtl;const xp=(p,y,_,T)=>({start:p,soffset:y,finish:_,foffset:T}),wp=(p,y,_,T)=>({start:ul.on(p,y),finish:ul.on(_,T)}),Kh=(p,y)=>{const _=em(p,y);return xp(Bt.fromDom(_.startContainer),_.startOffset,Bt.fromDom(_.endContainer),_.endOffset)},Yh=wp,us=(p,y,_,T,I)=>vr(_,T)?Ee.none():Ru(_,T,y).bind(F=>{const $=F.boxes.getOr([]);return $.length>1?(I(p,$,F.start,F.finish),Ee.some(Rm(Ee.some(Yh(_,0,_,Wa(_))),!0))):Ee.none()}),Ri=(p,y)=>({item:p,mode:y}),Qg=(p,y,_,T=tm)=>p.property().parent(y).map(I=>Ri(I,T)),tm=(p,y,_,T=_f)=>_.sibling(p,y).map(I=>Ri(I,T)),_f=(p,y,_,T=_f)=>{const I=p.property().children(y);return _.first(I).map(F=>Ri(F,T))},xy=[{current:Qg,next:tm,fallback:Ee.none()},{current:tm,next:_f,fallback:Ee.some(Qg)},{current:_f,next:_f,fallback:Ee.some(tm)}],Hl=(p,y,_,T,I=xy)=>Mn(I,F=>F.current===_).bind(F=>F.current(p,y,T,F.next).orThunk(()=>F.fallback.bind($=>Hl(p,y,$,T)))),qa=(p,y,_,T,I,F)=>Hl(p,y,T,I).bind($=>F($.item)?Ee.none():_($.item)?Ee.some($.item):qa(p,$.item,_,$.mode,I,F)),z0=p=>y=>p.property().children(y).length===0,nm=(p,y,_,T)=>qa(p,y,_,tm,{sibling:(I,F)=>I.query().prevSibling(F),first:I=>I.length>0?Ee.some(I[I.length-1]):Ee.none()},T),kp=(p,y,_,T)=>qa(p,y,_,tm,{sibling:(I,F)=>I.query().nextSibling(F),first:I=>I.length>0?Ee.some(I[0]):Ee.none()},T),Bm=Du(),Xh=(p,y)=>((_,T,I)=>nm(_,T,z0(_),I))(Bm,p,y),Jh=(p,y)=>((_,T,I)=>kp(_,T,z0(_),I))(Bm,p,y),wy=Yf([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),ew=p=>Fs(p,"tr"),ag={...wy,verify:(p,y,_,T,I,F,$)=>Fs(T,"td,th",$).bind(X=>Fs(y,"td,th",$).map(oe=>vr(X,oe)?vr(T,X)&&Wa(X)===I?F(oe):wy.none("in same cell"):Fg(ew,[X,oe]).fold(()=>((xe,Se,he)=>{const ze=xe.getRect(Se),Ne=xe.getRect(he);return Ne.right>ze.left&&Ne.left<ze.right})(p,oe,X)?wy.success():F(oe),xe=>F(oe)))).getOr(wy.none("default")),cata:(p,y,_,T,I)=>p.fold(y,_,T,I)},ky=Ur("br"),O0=(p,y,_)=>y(p,_).bind(T=>go(T)&&Ar(T).trim().length===0?O0(T,y,_):Ee.some(T)),tw=(p,y,_,T)=>((I,F)=>bl(I,F).filter(ky).orThunk(()=>bl(I,F-1).filter(ky)))(y,_).bind(I=>T.traverse(I).fold(()=>O0(I,T.gather,p).map(T.relative),F=>($=>Vi($).bind(X=>{const oe=wi(X);return((xe,Se)=>Hr(xe,ht(vr,Se)))(oe,$).map(xe=>((Se,he,ze,Ne)=>({parent:Se,children:he,element:ze,index:Ne}))(X,oe,$,xe))}))(F).map($=>ul.on($.parent,$.index)))),Qh=(p,y)=>({left:p.left,top:p.top+y,right:p.right,bottom:p.bottom+y}),_c=(p,y)=>({left:p.left,top:p.top-y,right:p.right,bottom:p.bottom-y}),zl=(p,y,_)=>({left:p.left+y,top:p.top+_,right:p.right+y,bottom:p.bottom+_}),eb=p=>({left:p.left,top:p.top,right:p.right,bottom:p.bottom}),tb=(p,y)=>Ee.some(p.getRect(y)),$u=(p,y,_)=>Nr(y)?tb(p,y).map(eb):go(y)?((T,I,F)=>F>=0&&F<Wa(I)?T.getRangedRect(I,F,I,F+1):F>0?T.getRangedRect(I,F-1,I,F):Ee.none())(p,y,_).map(eb):Ee.none(),eh=(p,y)=>Nr(y)?tb(p,y).map(eb):go(y)?p.getRangedRect(y,0,y,Wa(y)).map(eb):Ee.none(),_d=Yf([{none:[]},{retry:["caret"]}]),Cf=(p,y,_)=>ad(y,Pa).fold(Te,T=>eh(p,T).exists(I=>((F,$)=>F.left<$.left||Math.abs($.right-F.left)<1||F.left>$.right)(_,I))),Mm={point:p=>p.bottom,adjuster:(p,y,_,T,I)=>{const F=Qh(I,5);return Math.abs(_.bottom-T.bottom)<1||_.top>I.bottom?_d.retry(F):_.top===I.bottom?_d.retry(Qh(I,1)):Cf(p,y,I)?_d.retry(zl(F,5,0)):_d.none()},move:Qh,gather:Jh},om=(p,y,_,T,I)=>I===0?Ee.some(T):((F,$,X)=>F.elementFromPoint($,X).filter(oe=>wn(oe)==="table").isSome())(p,T.left,y.point(T))?((F,$,X,oe,xe)=>om(F,$,X,$.move(oe,5),xe))(p,y,_,T,I-1):p.situsFromPoint(T.left,y.point(T)).bind(F=>F.start.fold(Ee.none,$=>eh(p,$).bind(X=>y.adjuster(p,$,X,_,T).fold(Ee.none,oe=>om(p,y,_,oe,I-1))).orThunk(()=>Ee.some(T)),Ee.none)),rm=(p,y,_)=>{const T=p.move(_,5),I=om(y,p,_,T,100).getOr(T);return((F,$,X)=>F.point($)>X.getInnerHeight()?Ee.some(F.point($)-X.getInnerHeight()):F.point($)<0?Ee.some(-F.point($)):Ee.none())(p,I,y).fold(()=>y.situsFromPoint(I.left,p.point(I)),F=>(y.scrollBy(0,F),y.situsFromPoint(I.left,p.point(I)-F)))},iu={tryUp:ht(rm,{point:p=>p.top,adjuster:(p,y,_,T,I)=>{const F=_c(I,5);return Math.abs(_.top-T.top)<1||_.bottom<I.top?_d.retry(F):_.bottom===I.top?_d.retry(_c(I,1)):Cf(p,y,I)?_d.retry(zl(F,5,0)):_d.none()},move:_c,gather:Xh}),tryDown:ht(rm,Mm),getJumpSize:Rt(5)},ig=(p,y,_)=>p.getSelection().bind(T=>((I,F,$,X)=>(ky(F)?((xe,Se,he)=>he.traverse(Se).orThunk(()=>O0(Se,he.gather,xe)).map(he.relative))(I,F,X):tw(I,F,$,X)).map(xe=>({start:xe,finish:xe})))(y,T.finish,T.foffset,_).fold(()=>Ee.some(Ma(T.finish,T.foffset)),I=>{const F=p.fromSitus(I);return $=ag.verify(p,T.finish,T.foffset,F.finish,F.foffset,_.failure,y),ag.cata($,X=>Ee.none(),()=>Ee.none(),X=>Ee.some(Ma(X,0)),X=>Ee.some(Ma(X,Wa(X))));var $})),th=(p,y,_,T,I,F)=>F===0?Ee.none():_y(p,y,_,T,I).bind($=>{const X=p.fromSitus($),oe=ag.verify(p,_,T,X.finish,X.foffset,I.failure,y);return ag.cata(oe,()=>Ee.none(),()=>Ee.some($),xe=>vr(_,xe)&&T===0?nb(p,_,T,_c,I):th(p,y,xe,0,I,F-1),xe=>vr(_,xe)&&T===Wa(xe)?nb(p,_,T,Qh,I):th(p,y,xe,Wa(xe),I,F-1))}),nb=(p,y,_,T,I)=>$u(p,y,_).bind(F=>Ul(p,I,T(F,iu.getJumpSize()))),Ul=(p,y,_)=>{const T=pc().browser;return T.isChromium()||T.isSafari()||T.isFirefox()?y.retry(p,_):Ee.none()},_y=(p,y,_,T,I)=>$u(p,_,T).bind(F=>Ul(p,I,F)),Cy=(p,y,_,T,I)=>Fs(T,"td,th",y).bind(F=>Fs(F,"table",y).bind($=>((X,oe)=>mc(X,xe=>Vi(xe).exists(Se=>vr(Se,oe)),void 0).isSome())(I,$)?((X,oe,xe)=>ig(X,oe,xe).bind(Se=>th(X,oe,Se.element,Se.offset,xe,20).map(X.fromSitus)))(p,y,_).bind(X=>Fs(X.finish,"td,th",y).map(oe=>({start:F,finish:oe,range:X}))):Ee.none())),ob=(p,y,_,T,I,F)=>F(T,y).orThunk(()=>Cy(p,y,_,T,I).map($=>{const X=$.range;return Rm(Ee.some(Yh(X.start,X.soffset,X.finish,X.foffset)),!0)})),o1=(p,y)=>Fs(p,"tr",y).bind(_=>Fs(_,"table",y).bind(T=>{const I=rl(T,"tr");return vr(_,I[0])?((F,$,X)=>nm(Bm,F,oe=>Kc(oe).isSome(),X))(T,0,y).map(F=>{const $=Wa(F);return Rm(Ee.some(Yh(F,$,F,$)),!0)}):Ee.none()})),nh=(p,y)=>Fs(p,"tr",y).bind(_=>Fs(_,"table",y).bind(T=>{const I=rl(T,"tr");return vr(_,I[I.length-1])?((F,$,X)=>kp(Bm,F,oe=>_a(oe).isSome(),X))(T,0,y).map(F=>Rm(Ee.some(Yh(F,0,F,0)),!0)):Ee.none()})),Sy=(p,y,_,T,I,F,$)=>Cy(p,_,T,I,F).bind(X=>us(y,_,X.start,X.finish,$)),sm=p=>{let y=p;return{get:()=>y,set:_=>{y=_}}},am=()=>{const p=(y=>{const _=sm(Ee.none()),T=()=>_.get().each(y);return{clear:()=>{T(),_.set(Ee.none())},isSet:()=>_.get().isSome(),get:()=>_.get(),set:I=>{T(),_.set(Ee.some(I))}}})(lt);return{...p,on:y=>p.get().each(y)}},A0=(p,y)=>Fs(p,"td,th",y),rb=p=>Kl(p).exists(yn),sb={traverse:Hi,gather:Jh,relative:ul.before,retry:iu.tryDown,failure:ag.failedDown},im={traverse:Yn,gather:Xh,relative:ul.before,retry:iu.tryUp,failure:ag.failedUp},Lm=p=>y=>y===p,ab=Lm(38),oh=Lm(40),Pm=p=>p>=37&&p<=40,Im={isBackward:Lm(37),isForward:Lm(39)},_p={isBackward:Lm(39),isForward:Lm(37)},qu=Yf([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Fm={domRange:qu.domRange,relative:qu.relative,exact:qu.exact,exactFromRange:p=>qu.exact(p.start,p.soffset,p.finish,p.foffset),getWin:p=>{const y=(_=>_.match({domRange:T=>Bt.fromDom(T.startContainer),relative:(T,I)=>ul.getStart(T),exact:(T,I,F,$)=>T}))(p);return Bt.fromDom(hl(y).dom.defaultView)},range:xp},r1=document.caretPositionFromPoint?(p,y,_)=>{var T,I;return Ee.from((I=(T=p.dom).caretPositionFromPoint)===null||I===void 0?void 0:I.call(T,y,_)).bind(F=>{if(F.offsetNode===null)return Ee.none();const $=p.dom.createRange();return $.setStart(F.offsetNode,F.offset),$.collapse(),Ee.some($)})}:document.caretRangeFromPoint?(p,y,_)=>{var T,I;return Ee.from((I=(T=p.dom).caretRangeFromPoint)===null||I===void 0?void 0:I.call(T,y,_))}:Ee.none,rh=(p,y)=>{const _=wn(p);return _==="input"?ul.after(p):Zn(["br","img"],_)?y===0?ul.before(p):ul.after(p):ul.on(p,y)},Vm=p=>Ee.from(p.getSelection()),Cp=(p,y)=>{Vm(p).each(_=>{_.removeAllRanges(),_.addRange(y)})},ib=(p,y,_,T,I)=>{const F=rg(p,y,_,T,I);Cp(p,F)},Ey=(p,y)=>Gh(p,y).match({ltr:(_,T,I,F)=>{ib(p,_,T,I,F)},rtl:(_,T,I,F)=>{Vm(p).each($=>{if($.setBaseAndExtent)$.setBaseAndExtent(_.dom,T,I.dom,F);else if($.extend)try{((X,oe,xe,Se,he,ze)=>{oe.collapse(xe.dom,Se),oe.extend(he.dom,ze)})(0,$,_,T,I,F)}catch{ib(p,I,F,_,T)}else ib(p,I,F,_,T)})}}),Ty=(p,y,_,T,I)=>{const F=(($,X,oe,xe)=>{const Se=rh($,X),he=rh(oe,xe);return Fm.relative(Se,he)})(y,_,T,I);Ey(p,F)},Ol=(p,y,_)=>{const T=((I,F)=>{const $=I.fold(ul.before,rh,ul.after),X=F.fold(ul.before,rh,ul.after);return Fm.relative($,X)})(y,_);Ey(p,T)},lb=p=>{if(p.rangeCount>0){const y=p.getRangeAt(0),_=p.getRangeAt(p.rangeCount-1);return Ee.some(xp(Bt.fromDom(y.startContainer),y.startOffset,Bt.fromDom(_.endContainer),_.endOffset))}return Ee.none()},Gu=p=>{if(p.anchorNode===null||p.focusNode===null)return lb(p);{const y=Bt.fromDom(p.anchorNode),_=Bt.fromDom(p.focusNode);return((T,I,F,$)=>{const X=((xe,Se,he,ze)=>{const Ne=uc(xe).dom.createRange();return Ne.setStart(xe.dom,Se),Ne.setEnd(he.dom,ze),Ne})(T,I,F,$),oe=vr(T,F)&&I===$;return X.collapsed&&!oe})(y,p.anchorOffset,_,p.focusOffset)?Ee.some(xp(y,p.anchorOffset,_,p.focusOffset)):lb(p)}},Cd=(p,y,_=!0)=>{const T=(_?Es:kf)(p,y);Cp(p,T)},zy=p=>(y=>Vm(y).filter(_=>_.rangeCount>0).bind(Gu))(p).map(y=>Fm.exact(y.start,y.soffset,y.finish,y.foffset)),sh=p=>({elementFromPoint:(y,_)=>Bt.fromPoint(Bt.fromDom(p.document),y,_),getRect:y=>y.dom.getBoundingClientRect(),getRangedRect:(y,_,T,I)=>{const F=Fm.exact(y,_,T,I);return(($,X)=>(oe=>{const xe=oe.getClientRects(),Se=xe.length>0?xe[0]:oe.getBoundingClientRect();return Se.width>0||Se.height>0?Ee.some(Se).map(qh):Ee.none()})(em($,X)))(p,F)},getSelection:()=>zy(p).map(y=>Kh(p,y)),fromSitus:y=>{const _=Fm.relative(y.start,y.finish);return Kh(p,_)},situsFromPoint:(y,_)=>((T,I,F)=>(($,X,oe)=>{const xe=Bt.fromDom($.document);return r1(xe,X,oe).map(Se=>xp(Bt.fromDom(Se.startContainer),Se.startOffset,Bt.fromDom(Se.endContainer),Se.endOffset))})(T,I,F))(p,y,_).map(T=>wp(T.start,T.soffset,T.finish,T.foffset)),clearSelection:()=>{(y=>{Vm(y).each(_=>_.removeAllRanges())})(p)},collapseSelection:(y=!1)=>{zy(p).each(_=>_.fold(T=>T.collapse(y),(T,I)=>{const F=y?T:I;Ol(p,F,F)},(T,I,F,$)=>{const X=y?T:F,oe=y?I:$;Ty(p,X,oe,X,oe)}))},setSelection:y=>{Ty(p,y.start,y.soffset,y.finish,y.foffset)},setRelativeSelection:(y,_)=>{Ol(p,y,_)},selectNode:y=>{Cd(p,y,!1)},selectContents:y=>{Cd(p,y)},getInnerHeight:()=>p.innerHeight,getScrollY:()=>(y=>{const _=y!==void 0?y.dom:document,T=_.body.scrollLeft||_.documentElement.scrollLeft,I=_.body.scrollTop||_.documentElement.scrollTop;return hc(T,I)})(Bt.fromDom(p.document)).top,scrollBy:(y,_)=>{((T,I,F)=>{const $=(F!==void 0?F.dom:document).defaultView;$&&$.scrollBy(T,I)})(y,_,Bt.fromDom(p.document))}}),Hm=(p,y)=>({rows:p,cols:y}),Um=p=>ad(p,Ta).exists(yn),cb=(p,y)=>Um(p)||Um(y),db=p=>p.dom.classList!==void 0,lm=(p,y)=>((_,T,I)=>{const F=(($,X)=>{const oe=oo($,X);return oe===void 0||oe===""?[]:oe.split(" ")})(_,T).concat([I]);return Mo(_,T,F.join(" ")),!0})(p,"class",y),jm=(p,y)=>{db(p)?p.dom.classList.add(y):lm(p,y)},ah=(p,y)=>db(p)&&p.dom.classList.contains(y),Zm=()=>({tag:"none"}),ih=p=>({tag:"multiple",elements:p}),lh=p=>({tag:"single",element:p}),lg=p=>{const y=Bt.fromDom((X=>{if(wu()&&Xe(X.target)){const oe=Bt.fromDom(X.target);if(Nr(oe)&&Xe(oe.dom.shadowRoot)&&X.composed&&X.composedPath){const xe=X.composedPath();if(xe)return Pn(xe)}}return Ee.from(X.target)})(p).getOr(p.target)),_=()=>p.stopPropagation(),T=()=>p.preventDefault(),I=(F=T,$=_,(...X)=>F($.apply(null,X)));var F,$;return((X,oe,xe,Se,he,ze,Ne)=>({target:X,x:oe,y:xe,stop:Se,prevent:he,kill:ze,raw:Ne}))(y,p.clientX,p.clientY,_,T,I,p)},ub=(p,y,_,T)=>{p.dom.removeEventListener(y,_,T)},Sp=kt,Sf=(p,y,_)=>((T,I,F,$)=>((X,oe,xe,Se,he)=>{const ze=((Ne,Ke)=>He=>{Ne(He)&&Ke(lg(He))})(xe,Se);return X.dom.addEventListener(oe,ze,he),{unbind:ht(ub,X,oe,ze,he)}})(T,I,F,$,!1))(p,y,Sp,_),cm=lg,cg=p=>!ah(Bt.fromDom(p.target),"ephox-snooker-resizer-bar"),fb=(p,y)=>{const _=(I=Lo.selectedSelector,{get:()=>Bu(Bt.fromDom(p.getBody()),I).fold(()=>ff(bs(p),En(p)).fold(Zm,lh),ih)}),T=((F,$,X)=>{const oe=ze=>{_n(ze,F.selected),_n(ze,F.firstSelected),_n(ze,F.lastSelected)},xe=ze=>{Mo(ze,F.selected,"1")},Se=ze=>{he(ze),X()},he=ze=>{const Ne=rl(ze,`${F.selectedSelector},${F.firstSelectedSelector},${F.lastSelectedSelector}`);Tt(Ne,oe)};return{clearBeforeUpdate:he,clear:Se,selectRange:(ze,Ne,Ke,He)=>{Se(ze),Tt(Ne,xe),Mo(Ke,F.firstSelected,"1"),Mo(He,F.lastSelected,"1"),$(Ne,Ke,He)},selectedSelector:F.selectedSelector,firstSelectedSelector:F.firstSelectedSelector,lastSelectedSelector:F.lastSelectedSelector}})(Lo,(F,$,X)=>{Wn($).each(oe=>{const xe=fe(p),Se=mi(lt,Bt.fromDom(p.getDoc()),xe),he=((ze,Ne,Ke)=>{const He=oa(ze);return ns(He,Ne).map(ct=>{const gt=rn(He,Ke,!1),{rows:Lt}=Cs(gt),wt=((jt,sn)=>{const Un=jt.slice(0,sn[sn.length-1].row+1),jn=Tn(Un);return bo(jn,Oo=>{const Gn=Oo.cells.slice(0,sn[sn.length-1].column+1);return B(Gn,Ao=>Ao.element)})})(Lt,ct),Pt=((jt,sn)=>{const Un=jt.slice(sn[0].row+sn[0].rowspan-1,jt.length),jn=Tn(Un);return bo(jn,Oo=>{const Gn=Oo.cells.slice(sn[0].column+sn[0].colspan-1,Oo.cells.length);return B(Gn,Ao=>Ao.element)})})(Lt,ct);return{upOrLeftCells:wt,downOrRightCells:Pt}})})(oe,{selection:nc(p)},Se);((ze,Ne,Ke,He,ct)=>{ze.dispatch("TableSelectionChange",{cells:Ne,start:Ke,finish:He,otherCells:ct})})(p,F,$,X,he)})},()=>(F=>{F.dispatch("TableSelectionClear")})(p));var I;return p.on("init",F=>{const $=p.getWin(),X=Hn(p),oe=En(p),xe=((He,ct,gt,Lt)=>{const wt=((Pt,jt,sn,Un)=>{const jn=am(),Oo=jn.clear,Gn=Ao=>{jn.on(vo=>{Un.clearBeforeUpdate(jt),A0(Ao.target,sn).each(Sr=>{Ru(vo,Sr,sn).each(qt=>{const Li=qt.boxes.getOr([]);if(Li.length===1){const Fa=Li[0],ti=so(Fa)==="false",Nn=sl(Ot(Ao.target),Fa,vr);ti&&Nn&&(Un.selectRange(jt,Li,Fa,Fa),Pt.selectContents(Fa))}else Li.length>1&&(Un.selectRange(jt,Li,qt.start,qt.finish),Pt.selectContents(Sr))})})})};return{clearstate:Oo,mousedown:Ao=>{Un.clear(jt),A0(Ao.target,sn).filter(rb).each(jn.set)},mouseover:Ao=>{Gn(Ao)},mouseup:Ao=>{Gn(Ao),Oo()}}})(sh(He),ct,gt,Lt);return{clearstate:wt.clearstate,mousedown:wt.mousedown,mouseover:wt.mouseover,mouseup:wt.mouseup}})($,X,oe,T),Se=((He,ct,gt,Lt)=>{const wt=sh(He),Pt=()=>(Lt.clear(ct),Ee.none());return{keydown:(jt,sn,Un,jn,Oo,Gn)=>{const Ao=jt.raw,vo=Ao.which,Sr=Ao.shiftKey===!0;return Bc(ct,Lt.selectedSelector).fold(()=>(Pm(vo)&&!Sr&&Lt.clearBeforeUpdate(ct),Pm(vo)&&Sr&&!cb(sn,jn)?Ee.none:oh(vo)&&Sr?ht(Sy,wt,ct,gt,sb,jn,sn,Lt.selectRange):ab(vo)&&Sr?ht(Sy,wt,ct,gt,im,jn,sn,Lt.selectRange):oh(vo)?ht(ob,wt,gt,sb,jn,sn,nh):ab(vo)?ht(ob,wt,gt,im,jn,sn,o1):Ee.none),Li=>{const Fa=ti=>()=>Y(ti,ni=>((fl,gg,dh,fs,uh)=>km(fs,fl,gg,uh.firstSelectedSelector,uh.lastSelectedSelector).map(oi=>(uh.clearBeforeUpdate(dh),uh.selectRange(dh,oi.boxes,oi.start,oi.finish),oi.boxes)))(ni.rows,ni.cols,ct,Li,Lt)).fold(()=>Nt(ct,Lt.firstSelectedSelector,Lt.lastSelectedSelector).map(ni=>{const fl=oh(vo)||Gn.isForward(vo)?ul.after:ul.before;return wt.setRelativeSelection(ul.on(ni.first,0),fl(ni.table)),Lt.clear(ct),Rm(Ee.none(),!0)}),ni=>Ee.some(Rm(Ee.none(),!0)));return Pm(vo)&&Sr&&!cb(sn,jn)?Ee.none:oh(vo)&&Sr?Fa([Hm(1,0)]):ab(vo)&&Sr?Fa([Hm(-1,0)]):Gn.isBackward(vo)&&Sr?Fa([Hm(0,-1),Hm(-1,0)]):Gn.isForward(vo)&&Sr?Fa([Hm(0,1),Hm(1,0)]):Pm(vo)&&!Sr?Pt:Ee.none})()},keyup:(jt,sn,Un,jn,Oo)=>Bc(ct,Lt.selectedSelector).fold(()=>{const Gn=jt.raw,Ao=Gn.which;return Gn.shiftKey===!0&&Pm(Ao)&&cb(sn,jn)?((vo,Sr,qt,Li,Fa,ti,Nn)=>vr(qt,Fa)&&Li===ti?Ee.none():Fs(qt,"td,th",Sr).bind(ni=>Fs(Fa,"td,th",Sr).bind(fl=>us(vo,Sr,ni,fl,Nn))))(ct,gt,sn,Un,jn,Oo,Lt.selectRange):Ee.none()},Ee.none)}})($,X,oe,T),he=((He,ct,gt,Lt)=>{const wt=sh(He);return(Pt,jt)=>{Lt.clearBeforeUpdate(ct),Ru(Pt,jt,gt).each(sn=>{const Un=sn.boxes.getOr([]);Lt.selectRange(ct,Un,sn.start,sn.finish),wt.selectContents(jt),wt.collapseSelection()})}})($,X,oe,T);p.on("TableSelectorChange",He=>he(He.start,He.finish));const ze=(He,ct)=>{(gt=>gt.raw.shiftKey===!0)(He)&&(ct.kill&&He.kill(),ct.selection.each(gt=>{const Lt=Fm.relative(gt.start,gt.finish),wt=em($,Lt);p.selection.setRng(wt)}))},Ne=He=>He.button===0,Ke=(()=>{const He=sm(Bt.fromDom(X)),ct=sm(0);return{touchEnd:gt=>{const Lt=Bt.fromDom(gt.target);if(Ur("td")(Lt)||Ur("th")(Lt)){const wt=He.get(),Pt=ct.get();vr(wt,Lt)&&gt.timeStamp-Pt<300&&(gt.preventDefault(),he(Lt,Lt))}He.set(Lt),ct.set(gt.timeStamp)}}})();p.on("dragstart",He=>{xe.clearstate()}),p.on("mousedown",He=>{Ne(He)&&cg(He)&&xe.mousedown(cm(He))}),p.on("mouseover",He=>{var ct;(ct=He).buttons!==void 0&&!(1&ct.buttons)||!cg(He)||xe.mouseover(cm(He))}),p.on("mouseup",He=>{Ne(He)&&cg(He)&&xe.mouseup(cm(He))}),p.on("touchend",Ke.touchEnd),p.on("keyup",He=>{const ct=cm(He);if(ct.raw.shiftKey&&Pm(ct.raw.which)){const gt=p.selection.getRng(),Lt=Bt.fromDom(gt.startContainer),wt=Bt.fromDom(gt.endContainer);Se.keyup(ct,Lt,gt.startOffset,wt,gt.endOffset).each(Pt=>{ze(ct,Pt)})}}),p.on("keydown",He=>{const ct=cm(He);y.hide();const gt=p.selection.getRng(),Lt=Bt.fromDom(gt.startContainer),wt=Bt.fromDom(gt.endContainer),Pt=ud(Im,_p)(Bt.fromDom(p.selection.getStart()));Se.keydown(ct,Lt,gt.startOffset,wt,gt.endOffset,Pt).each(jt=>{ze(ct,jt)}),y.show()}),p.on("NodeChange",()=>{const He=p.selection,ct=Bt.fromDom(He.getStart()),gt=Bt.fromDom(He.getEnd());Fg(Wn,[ct,gt]).fold(()=>T.clear(X),lt)})}),p.on("PreInit",()=>{p.serializer.addTempAttr(Lo.firstSelected),p.serializer.addTempAttr(Lo.lastSelected)}),{getSelectedCells:()=>((F,$,X,oe)=>{switch(F.tag){case"none":return $();case"single":return(xe=>[xe.dom])(F.element);case"multiple":return(xe=>B(xe,Se=>Se.dom))(F.elements)}})(_.get(),Rt([])),clearSelectedCells:F=>T.clear(Bt.fromDom(F))}},lu=p=>{let y=[];return{bind:_=>{if(_===void 0)throw new Error("Event bind error: undefined handler");y.push(_)},unbind:_=>{y=pn(y,T=>T!==_)},trigger:(..._)=>{const T={};Tt(p,(I,F)=>{T[I]=_[F]}),Tt(y,I=>{I(T)})}}},Ep=p=>({registry:Kr(p,y=>({bind:y.bind,unbind:y.unbind})),trigger:Kr(p,y=>y.trigger)}),dg=p=>p.slice(0).sort(),Eo=(p,y)=>{const _=pn(y,T=>!Zn(p,T));_.length>0&&(T=>{throw new Error("Unsupported keys for object: "+dg(T).join(", "))})(_)},Al=p=>((y,_)=>((T,I,F)=>{if(I.length===0)throw new Error("You must specify at least one required field.");return(($,X)=>{if(!be(X))throw new Error("The "+$+" fields must be an array. Was: "+X+".");Tt(X,oe=>{if(!ue(oe))throw new Error("The value "+oe+" in the "+$+" fields was not a string.")})})("required",I),($=>{const X=dg($);Mn(X,(oe,xe)=>xe<X.length-1&&oe===X[xe+1]).each(oe=>{throw new Error("The field: "+oe+" occurs more than once in the combined fields: ["+X.join(", ")+"].")})})(I),$=>{const X=$o($);St(I,xe=>Zn(X,xe))||((xe,Se)=>{throw new Error("All required keys ("+dg(xe).join(", ")+") were not specified. Specified keys were: "+dg(Se).join(", ")+".")})(I,X),T(I,X);const oe=pn(I,xe=>!F.validate($[xe],xe));return oe.length>0&&((xe,Se)=>{throw new Error("All values need to be of type: "+Se+". Keys ("+dg(xe).join(", ")+") were not.")})(oe,F.label),$}})(y,_,{validate:vt,label:"function"}))(Eo,p),ug=Al(["compare","extract","mutate","sink"]),ot=Al(["element","start","stop","destroy"]),fg=Al(["forceDrop","drop","move","delayDrop"]),mb=()=>{const p=(()=>{const T=Ep({move:lu(["info"])});return{onEvent:lt,reset:lt,events:T.registry}})(),y=(()=>{let T=Ee.none();const I=Ep({move:lu(["info"])});return{onEvent:(F,$)=>{$.extract(F).each(X=>{((xe,Se)=>{const he=T.map(ze=>xe.compare(ze,Se));return T=Ee.some(Se),he})($,X).each(xe=>{I.trigger.move(xe)})})},reset:()=>{T=Ee.none()},events:I.registry}})();let _=p;return{on:()=>{_.reset(),_=y},off:()=>{_.reset(),_=p},isOn:()=>_===y,onEvent:(T,I)=>{_.onEvent(T,I)},events:y.events}},N0=p=>{const y=p.replace(/\./g,"-");return{resolve:_=>y+"-"+_}},mg=N0("ephox-dragster").resolve;var Sd=ug({compare:(p,y)=>hc(y.left-p.left,y.top-p.top),extract:p=>Ee.some(hc(p.x,p.y)),sink:(p,y)=>{const _=(X=>{const oe={layerClass:mg("blocker"),...X},xe=Bt.fromTag("div");return Mo(xe,"role","presentation"),Xl(xe,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),jm(xe,mg("blocker")),jm(xe,oe.layerClass),{element:Rt(xe),destroy:()=>{ci(xe)}}})(y),T=Sf(_.element(),"mousedown",p.forceDrop),I=Sf(_.element(),"mouseup",p.drop),F=Sf(_.element(),"mousemove",p.move),$=Sf(_.element(),"mouseout",p.delayDrop);return ot({element:_.element,start:X=>{Yr(X,_.element())},stop:()=>{ci(_.element())},destroy:()=>{_.destroy(),I.unbind(),F.unbind(),$.unbind(),T.unbind()}})},mutate:(p,y)=>{p.mutate(y.left,y.top)}});const pg=N0("ephox-snooker").resolve,pb=pg("resizer-bar"),Oy=pg("resizer-rows"),ch=pg("resizer-cols"),gb=p=>{const y=rl(p.parent(),"."+pb);Tt(y,ci)},Ay=(p,y,_)=>{const T=p.origin();Tt(y,I=>{I.each(F=>{const $=_(T,F);jm($,pb),Yr(p.parent(),$)})})},D0=(p,y,_,T,I)=>{const F=qc(_),$=y.isResizable,X=T.length>0?Rn.positions(T,_):[],oe=X.length>0?((he,ze)=>bo(he.all,(Ne,Ke)=>ze(Ne.element)?[Ke]:[]))(p,$):[];((he,ze,Ne,Ke)=>{Ay(he,ze,(He,ct)=>{const gt=((Lt,wt,Pt,jt,sn)=>{const Un=Bt.fromTag("div");return Xl(Un,{position:"absolute",left:wt+"px",top:Pt-3.5+"px",height:"7px",width:jt+"px"}),ua(Un,{"data-row":Lt,role:"presentation"}),Un})(ct.row,Ne.left-He.left,ct.y-He.top,Ke);return jm(gt,Oy),gt})})(y,pn(X,(he,ze)=>Je(oe,Ne=>ze===Ne)),F,Zd(_));const xe=I.length>0?Ei.positions(I,_):[],Se=xe.length>0?((he,ze)=>{const Ne=[];return un(he.grid.columns,Ke=>{qd(he,Ke).map(He=>He.element).forall(ze)&&Ne.push(Ke)}),pn(Ne,Ke=>{const He=dd(he,ct=>ct.column===Ke);return St(He,ct=>ze(ct.element))})})(p,$):[];((he,ze,Ne,Ke)=>{Ay(he,ze,(He,ct)=>{const gt=((Lt,wt,Pt,jt,sn)=>{const Un=Bt.fromTag("div");return Xl(Un,{position:"absolute",left:wt-3.5+"px",top:Pt+"px",height:sn+"px",width:"7px"}),ua(Un,{"data-column":Lt,role:"presentation"}),Un})(ct.col,ct.x-He.left,Ne.top-He.top,0,Ke);return jm(gt,ch),gt})})(y,pn(xe,(he,ze)=>Je(Se,Ne=>ze===Ne)),F,dp(_))},hb=(p,y)=>{if(gb(p),p.isResizable(y)){const _=oa(y),T=Ac(_),I=Ci(_);D0(_,p,y,T,I)}},R0=(p,y)=>{const _=rl(p.parent(),"."+pb);Tt(_,y)},cu=p=>{R0(p,y=>{Ns(y,"display","none")})},s1=p=>{R0(p,y=>{Ns(y,"display","block")})},cn=pg("resizer-bar-dragging"),ca=p=>{const y=(()=>{const he=Ep({drag:lu(["xDelta","yDelta","target"])});let ze=Ee.none();const Ne=(()=>{const Ke=Ep({drag:lu(["xDelta","yDelta"])});return{mutate:(He,ct)=>{Ke.trigger.drag(He,ct)},events:Ke.registry}})();return Ne.events.drag.bind(Ke=>{ze.each(He=>{he.trigger.drag(Ke.xDelta,Ke.yDelta,He)})}),{assign:Ke=>{ze=Ee.some(Ke)},get:()=>ze,mutate:Ne.mutate,events:he.registry}})(),_=((he,ze={})=>{var Ne;return((Ke,He,ct)=>{let gt=!1;const Lt=Ep({start:lu([]),stop:lu([])}),wt=mb(),Pt=()=>{Un.stop(),wt.isOn()&&(wt.off(),Lt.trigger.stop())},jt=((jn,Oo)=>{let Gn=null;const Ao=()=>{ge(Gn)||(clearTimeout(Gn),Gn=null)};return{cancel:Ao,throttle:(...vo)=>{Ao(),Gn=setTimeout(()=>{Gn=null,jn.apply(null,vo)},200)}}})(Pt);wt.events.move.bind(jn=>{He.mutate(Ke,jn.info)});const sn=jn=>(...Oo)=>{gt&&jn.apply(null,Oo)},Un=He.sink(fg({forceDrop:Pt,drop:sn(Pt),move:sn(jn=>{jt.cancel(),wt.onEvent(jn,He)}),delayDrop:sn(jt.throttle)}),ct);return{element:Un.element,go:jn=>{Un.start(jn),wt.on(),Lt.trigger.start()},on:()=>{gt=!0},off:()=>{gt=!1},isActive:()=>gt,destroy:()=>{Un.destroy()},events:Lt.registry}})(he,(Ne=ze.mode)!==null&&Ne!==void 0?Ne:Sd,ze)})(y,{});let T=Ee.none();const I=(he,ze)=>Ee.from(oo(he,ze));y.events.drag.bind(he=>{I(he.target,"data-row").each(ze=>{const Ne=or(he.target,"top");Ns(he.target,"top",Ne+he.yDelta+"px")}),I(he.target,"data-column").each(ze=>{const Ne=or(he.target,"left");Ns(he.target,"left",Ne+he.xDelta+"px")})});const F=(he,ze)=>or(he,ze)-al(he,"data-initial-"+ze,0);_.events.stop.bind(()=>{y.get().each(he=>{T.each(ze=>{I(he,"data-row").each(Ne=>{const Ke=F(he,"top");_n(he,"data-initial-top"),Se.trigger.adjustHeight(ze,Ke,parseInt(Ne,10))}),I(he,"data-column").each(Ne=>{const Ke=F(he,"left");_n(he,"data-initial-left"),Se.trigger.adjustWidth(ze,Ke,parseInt(Ne,10))}),hb(p,ze)})})});const $=(he,ze)=>{Se.trigger.startAdjust(),y.assign(he),Mo(he,"data-initial-"+ze,or(he,ze)),jm(he,cn),Ns(he,"opacity","0.2"),_.go(p.parent())},X=Sf(p.parent(),"mousedown",he=>{var ze;ze=he.target,ah(ze,Oy)&&$(he.target,"top"),(Ne=>ah(Ne,ch))(he.target)&&$(he.target,"left")}),oe=he=>vr(he,p.view()),xe=Sf(p.view(),"mouseover",he=>{var ze;(ze=he.target,Fs(ze,"table",oe).filter(yn)).fold(()=>{ea(he.target)&&gb(p)},Ne=>{_.isActive()&&(T=Ee.some(Ne),hb(p,Ne))})}),Se=Ep({adjustHeight:lu(["table","delta","row"]),adjustWidth:lu(["table","delta","column"]),startAdjust:lu([])});return{destroy:()=>{X.unbind(),xe.unbind(),_.destroy(),gb(p)},refresh:he=>{hb(p,he)},on:_.on,off:_.off,hideBars:ht(cu,p),showBars:ht(s1,p),events:Se.registry}},rr=(p,y,_)=>{const T=Rn,I=Ei,F=ca(p),$=Ep({beforeResize:lu(["table","type"]),afterResize:lu(["table","type"]),startDrag:lu([])});return F.events.adjustHeight.bind(X=>{const oe=X.table;$.trigger.beforeResize(oe,"row"),((xe,Se,he,ze)=>{const Ne=oa(xe),Ke=((wt,Pt,jt)=>Bs(wt,Pt,jt,Ql,sn=>sn.getOrThunk(Oe)))(Ne,xe,ze),He=B(Ke,(wt,Pt)=>he===Pt?Math.max(Se+wt,Oe()):wt),ct=zm(Ne,He),gt=((wt,Pt)=>B(wt.all,(jt,sn)=>({element:jt.element,height:Pt[sn]})))(Ne,He);Tt(gt,wt=>{Zf(wt.element,wt.height)}),Tt(ct,wt=>{Zf(wt.element,wt.height)});const Lt=io(He,(wt,Pt)=>wt+Pt,0);Zf(xe,Lt)})(oe,T.delta(X.delta,oe),X.row,T),$.trigger.afterResize(oe,"row")}),F.events.startAdjust.bind(X=>{$.trigger.startDrag()}),F.events.adjustWidth.bind(X=>{const oe=X.table;$.trigger.beforeResize(oe,"col");const xe=I.delta(X.delta,oe),Se=_(oe);ru(oe,xe,X.column,y,Se),$.trigger.afterResize(oe,"col")}),{on:F.on,off:F.off,refreshBars:F.refresh,hideBars:F.hideBars,showBars:F.showBars,destroy:F.destroy,events:$.registry}},Bi=p=>Xe(p)&&p.nodeName==="TABLE",Mi="bar-",Ia=p=>oo(p,"data-mce-resize")!=="false",bb=p=>{const y=am(),_=am(),T=am();let I,F;const $=oe=>la(p,oe),X=()=>rs(p)?dl():Mh();return p.on("init",()=>{const oe=((xe,Se)=>xe.inline?((he,ze,Ne)=>({parent:Rt(ze),view:Rt(he),origin:Rt(hc(0,0)),isResizable:Ne}))(Bt.fromDom(xe.getBody()),(()=>{const he=Bt.fromTag("div");return Xl(he,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Yr(Vf(Bt.fromDom(document)),he),he})(),Se):((he,ze)=>{const Ne=Os(he)?(Ke=>Bt.fromDom(hl(Ke).dom.documentElement))(he):he;return{parent:Rt(Ne),view:Rt(he),origin:Rt(hc(0,0)),isResizable:ze}})(Bt.fromDom(xe.getDoc()),Se))(p,Ia);if(T.set(oe),(xe=>{const Se=xe.options.get("object_resizing");return Zn(Se.split(","),"table")})(p)&&z(p)){const xe=X(),Se=rr(oe,xe,$);Se.on(),Se.events.startDrag.bind(he=>{y.set(p.selection.getRng())}),Se.events.beforeResize.bind(he=>{const ze=he.table.dom;((Ne,Ke,He,ct,gt)=>{Ne.dispatch("ObjectResizeStart",{target:Ke,width:He,height:ct,origin:gt})})(p,ze,Ti(ze),pd(ze),Mi+he.type)}),Se.events.afterResize.bind(he=>{const ze=he.table,Ne=ze.dom;gr(ze),y.on(Ke=>{p.selection.setRng(Ke),p.focus()}),((Ke,He,ct,gt,Lt)=>{Ke.dispatch("ObjectResized",{target:He,width:ct,height:gt,origin:Lt})})(p,Ne,Ti(Ne),pd(Ne),Mi+he.type),p.undoManager.add()}),_.set(Se)}}),p.on("ObjectResizeStart",oe=>{const xe=oe.target;if(Bi(xe)){const Se=Bt.fromDom(xe);Tt(p.dom.select(".mce-clonedresizable"),he=>{p.dom.addClass(he,"mce-"+xc(p)+"-columns")}),!gy(Se)&&df(p)?Zu(Se):!Ht(Se)&&wc(p)&&Nm(Se),yi(Se)&&eo(oe.origin,Mi)&&Nm(Se),I=oe.width,F=aa(p)?"":((he,ze)=>{const Ne=he.dom.getStyle(ze,"width")||he.dom.getAttrib(ze,"width");return Ee.from(Ne).filter(xa)})(p,xe).getOr("")}}),p.on("ObjectResized",oe=>{const xe=oe.target;if(Bi(xe)){const Se=Bt.fromDom(xe),he=oe.origin;eo(he,"corner-")&&((ze,Ne,Ke)=>{const He=di(Ne,"e");if(F===""&&Nm(ze),Ke!==I&&F!==""){Ns(ze,"width",F);const ct=X(),gt=$(ze),Lt=rs(p)||He?(wt=>Cm(wt).columns)(ze)-1:0;ru(ze,Ke-I,Lt,ct,gt)}else if((ct=>/^(\d+(\.\d+)?)%$/.test(ct))(F)){const ct=parseFloat(F.replace("%",""));Ns(ze,"width",Ke*ct/I+"%")}(ct=>/^(\d+(\.\d+)?)px$/.test(ct))(F)&&(ct=>{const gt=oa(ct);ra(gt)||Tt(An(ct),Lt=>{const wt=qn(Lt,"width");Ns(Lt,"width",wt),_n(Lt,"width")})})(ze)})(Se,he,oe.width),gr(Se),Cr(p,Se.dom,Ji)}}),p.on("SwitchMode",()=>{_.on(oe=>{p.mode.isReadOnly()?oe.hideBars():oe.showBars()})}),p.on("dragstart dragend",oe=>{_.on(xe=>{oe.type==="dragstart"?(xe.hideBars(),xe.off()):(xe.on(),xe.showBars())})}),p.on("remove",()=>{_.on(oe=>{oe.destroy()}),T.on(oe=>{((xe,Se)=>{xe.inline&&ci(Se.parent())})(p,oe)})}),{refresh:oe=>{_.on(xe=>xe.refreshBars(Bt.fromDom(oe)))},hide:()=>{_.on(oe=>oe.hideBars())},show:()=>{_.on(oe=>oe.showBars())}}},du=p=>{(I=>{const F=I.options.register;F("table_clone_elements",{processor:"string[]"}),F("table_use_colgroups",{processor:"boolean",default:!0}),F("table_header_type",{processor:$=>{const X=Zn(["section","cells","sectionCells","auto"],$);return X?{value:$,valid:X}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),F("table_sizing_mode",{processor:"string",default:"auto"}),F("table_default_attributes",{processor:"object",default:{border:"1"}}),F("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),F("table_column_resizing",{processor:$=>{const X=Zn(["preservetable","resizetable"],$);return X?{value:$,valid:X}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),F("table_resize_bars",{processor:"boolean",default:!0}),F("table_style_by_css",{processor:"boolean",default:!0}),F("table_merge_content_on_paste",{processor:"boolean",default:!0})})(p);const y=bb(p),_=fb(p,y),T=Ni(p,y,_);return T0(p,T),((I,F)=>{const $=En(I),X=oe=>ff(bs(I)).bind(xe=>Wn(xe,$).map(Se=>{const he=gn(nc(I),Se,xe);return oe(Se,he)})).getOr("");Xo({mceTableRowType:()=>X(F.getTableRowType),mceTableCellType:()=>X(F.getTableCellType),mceTableColType:()=>X(F.getTableColType)},(oe,xe)=>I.addQueryValueHandler(xe,oe))})(p,T),Ro(p,T),{getSelectedCells:_.getSelectedCells,clearSelectedCells:_.clearSelectedCells}};v.add("dom",p=>({table:du(p)}))}(),tinymce.Resource.add("ui/default/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(0,101,216,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.08);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{font-size:14px;margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 2px #fff,0 0 0 1px #006ce7,0 0 0 3px rgba(0,108,231,.25);content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus-visible:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,.3)}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#cce2fa}.tox .tox-collection--toolbar .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#cce2fa}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#cce2fa;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:rgba(34,47,62,.7);display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:#222f3e}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#cce2fa}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #006ce7;color:#006ce7}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#006ce7;cursor:pointer;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#003c81;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #006ce7;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#00244e;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 2px rgba(0,108,231,.25);outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #2d6adf;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34,47,62,.2);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 2px rgba(0,108,231,.25);outline:0}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 2px rgba(0,108,231,.25);outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{-webkit-appearance:textarea;-moz-appearance:textarea;appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-insert-table-picker{display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:rgba(0,108,231,.5);border-color:rgba(0,108,231,.5)}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:0 0;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;overflow:hidden;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:transparent;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#cce2fa;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn--active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#cce2fa;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification a{cursor:pointer;text-decoration:underline}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:nth-child(1){animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{display:flex;flex:1 1 auto;justify-content:space-between;overflow:hidden}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,.8);height:1.14em;vertical-align:-.28em;width:3.6em}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-left:auto;margin-right:-8px;padding-bottom:3px;padding-left:1ch;padding-right:3px}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,.5)}.tox .tox-statusbar__resize-handle:focus svg{background-color:#dee0e2;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px #dee0e2}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:0 0;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;overflow:hidden;padding:0;text-transform:none;width:34px}.tox .tox-tbtn svg{display:block;fill:#222f3e}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#cce2fa;border:0;box-shadow:none}.tox .tox-tbtn:hover{background:#cce2fa;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,.5)}.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,.5)}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-number-input{border-radius:3px;display:flex;margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-number-input .tox-input-wrapper{background:#f7f7f7;display:flex;pointer-events:none;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background:#cce2fa}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;width:60px}.tox .tox-number-input input:hover{background:#cce2fa;color:#222f3e}.tox .tox-number-input input:focus{background:#fff;color:#222f3e}.tox .tox-number-input input:disabled{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{background:#f7f7f7;color:#222f3e;height:28px;text-align:center;width:24px}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}.tox .tox-number-input button:focus{background:#cce2fa}.tox .tox-number-input button:hover{background:#cce2fa;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#cce2fa}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,.5)}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0;overflow:hidden}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #cce2fa inset}.tox .tox-split-button:focus{background:#cce2fa;box-shadow:none;color:#222f3e}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,.5)}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:0 0;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-text-color__color{opacity:.6}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0px)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;padding:8px;position:relative}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:0 2px 4px rgba(34,47,62,.3);color:rgba(255,255,255,.75);font-size:14px;font-style:normal;font-weight:400;padding:4px 8px;text-transform:none}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#cce2fa;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#cce2fa;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+.tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+.tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+.tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+.tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:8px 8px 0 8px;position:relative}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;padding:8px 8px 0 8px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`),function(){var v=tinymce.util.Tools.resolve("tinymce.PluginManager");const P=(Tt,bt,pn)=>{const io=bt==="UL"?"InsertUnorderedList":"InsertOrderedList";Tt.execCommand(io,!1,pn===!1?null:{"list-style-type":pn})},R=Tt=>{Tt.addCommand("ApplyUnorderedListStyle",(bt,pn)=>{P(Tt,"UL",pn["list-style-type"])}),Tt.addCommand("ApplyOrderedListStyle",(bt,pn)=>{P(Tt,"OL",pn["list-style-type"])})},W=Tt=>bt=>bt.options.get(Tt),ue=Tt=>{const bt=Tt.options.register;bt("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),bt("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})},de=W("advlist_number_styles"),be=W("advlist_bullet_styles"),ge=Tt=>Tt==null,Me=Tt=>!ge(Tt);var $e=tinymce.util.Tools.resolve("tinymce.util.Tools");class Xe{constructor(bt,pn){this.tag=bt,this.value=pn}static some(bt){return new Xe(!0,bt)}static none(){return Xe.singletonNone}fold(bt,pn){return this.tag?pn(this.value):bt()}isSome(){return this.tag}isNone(){return!this.tag}map(bt){return this.tag?Xe.some(bt(this.value)):Xe.none()}bind(bt){return this.tag?bt(this.value):Xe.none()}exists(bt){return this.tag&&bt(this.value)}forall(bt){return!this.tag||bt(this.value)}filter(bt){return!this.tag||bt(this.value)?this:Xe.none()}getOr(bt){return this.tag?this.value:bt}or(bt){return this.tag?this:bt}getOrThunk(bt){return this.tag?this.value:bt()}orThunk(bt){return this.tag?this:bt()}getOrDie(bt){if(this.tag)return this.value;throw new Error(bt??"Called getOrDie on None")}static from(bt){return Me(bt)?Xe.some(bt):Xe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(bt){this.tag&&bt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Xe.singletonNone=new Xe(!1);const vt=(Tt,bt,pn)=>{for(let io=0,ft=Tt.length;io<ft;io++){const Mn=Tt[io];if(bt(Mn,io))return Xe.some(Mn);if(pn(Mn,io))break}return Xe.none()},Wt=Tt=>/\btox\-/.test(Tt.className),lt=(Tt,bt)=>Tt.dom.isChildOf(bt,Tt.getBody()),Rt=Tt=>bt=>Me(bt)&&Tt.test(bt.nodeName),tn=Rt(/^(OL|UL|DL)$/),Kt=Rt(/^(TH|TD)$/),ht=(Tt,bt,pn)=>vt(bt,io=>tn(io)&&!Wt(io),Kt).exists(io=>io.nodeName===pn&&lt(Tt,io)),ln=Tt=>{const bt=Tt.dom.getParent(Tt.selection.getNode(),"ol,ul"),pn=Tt.dom.getStyle(bt,"listStyleType");return Xe.from(pn)},At=(Tt,bt)=>bt!==null&&!Tt.dom.isEditable(bt),Te=(Tt,bt)=>{const pn=Tt.dom.getParent(bt,"ol,ul,dl");return At(Tt,pn)&&Tt.selection.isEditable()},kt=(Tt,bt)=>{const pn=Tt.selection.getNode();return bt({parents:Tt.dom.getParents(pn),element:pn}),Tt.on("NodeChange",bt),()=>Tt.off("NodeChange",bt)},Ee=Tt=>Tt.replace(/\-/g," ").replace(/\b\w/g,bt=>bt.toUpperCase()),qe=Tt=>ge(Tt)||Tt==="default"?"":Tt,Cn=(Tt,bt)=>pn=>{const io=(Mn,Hr)=>{const zt=Mn.selection.getStart(!0);pn.setActive(ht(Mn,Hr,bt)),pn.setEnabled(!Te(Mn,zt)&&Mn.selection.isEditable())};return kt(Tt,Mn=>io(Tt,Mn.parents))},wo=(Tt,bt,pn,io,ft,Mn)=>{Tt.ui.registry.addSplitButton(bt,{tooltip:pn,icon:ft==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:Hr=>{const zt=$e.map(Mn,bo=>{const St=ft==="OL"?"num":"bull",nn=bo==="disc"||bo==="decimal"?"default":bo,Js=qe(bo),Pn=Ee(bo);return{type:"choiceitem",value:Js,icon:"list-"+St+"-"+nn,text:Pn}});Hr(zt)},onAction:()=>Tt.execCommand(io),onItemAction:(Hr,zt)=>{P(Tt,ft,zt)},select:Hr=>ln(Tt).map(bo=>Hr===bo).getOr(!1),onSetup:Cn(Tt,ft)})},Zn=(Tt,bt,pn,io,ft,Mn)=>{Tt.ui.registry.addToggleButton(bt,{active:!1,tooltip:pn,icon:ft==="OL"?"ordered-list":"unordered-list",onSetup:Cn(Tt,ft),onAction:()=>Tt.queryCommandState(io)||Mn===""?Tt.execCommand(io):P(Tt,ft,Mn)})},Je=(Tt,bt,pn,io,ft,Mn)=>{Mn.length>1?wo(Tt,bt,pn,io,ft,Mn):Zn(Tt,bt,pn,io,ft,qe(Mn[0]))},un=Tt=>{Je(Tt,"numlist","Numbered list","InsertOrderedList","OL",de(Tt)),Je(Tt,"bullist","Bullet list","InsertUnorderedList","UL",be(Tt))};var B=()=>{v.add("advlist",Tt=>{Tt.hasPlugin("lists")?(ue(Tt),un(Tt),R(Tt)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})};B()}(),function(){var v=tinymce.util.Tools.resolve("tinymce.PluginManager");const P=(ge,Me)=>{ge.focus(),ge.undoManager.transact(()=>{ge.setContent(Me)}),ge.selection.setCursorLocation(),ge.nodeChanged()},R=ge=>ge.getContent({source_view:!0}),W=ge=>{const Me=R(ge);ge.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:Me},onSubmit:$e=>{P(ge,$e.getData().code),$e.close()}})},ue=ge=>{ge.addCommand("mceCodeEditor",()=>{W(ge)})},de=ge=>{const Me=()=>ge.execCommand("mceCodeEditor");ge.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:Me}),ge.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:Me})};var be=()=>{v.add("code",ge=>(ue(ge),de(ge),{}))};be()}(),function(){var v=tinymce.util.Tools.resolve("tinymce.PluginManager");const P=_t=>Ft=>_t===Ft,R=P(null),W=P(void 0),ue=_t=>_t==null,de=_t=>!ue(_t),be=()=>{},Me=(_t=>()=>_t)(!1);class $e{constructor(Ft,dt){this.tag=Ft,this.value=dt}static some(Ft){return new $e(!0,Ft)}static none(){return $e.singletonNone}fold(Ft,dt){return this.tag?dt(this.value):Ft()}isSome(){return this.tag}isNone(){return!this.tag}map(Ft){return this.tag?$e.some(Ft(this.value)):$e.none()}bind(Ft){return this.tag?Ft(this.value):$e.none()}exists(Ft){return this.tag&&Ft(this.value)}forall(Ft){return!this.tag||Ft(this.value)}filter(Ft){return!this.tag||Ft(this.value)?this:$e.none()}getOr(Ft){return this.tag?this.value:Ft}or(Ft){return this.tag?this:Ft}getOrThunk(Ft){return this.tag?this.value:Ft()}orThunk(Ft){return this.tag?this:Ft()}getOrDie(Ft){if(this.tag)return this.value;throw new Error(Ft??"Called getOrDie on None")}static from(Ft){return de(Ft)?$e.some(Ft):$e.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ft){this.tag&&Ft(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}$e.singletonNone=new $e(!1);const Xe=(_t,Ft)=>{for(let dt=0,wn=_t.length;dt<wn;dt++){const lo=_t[dt];if(Ft(lo,dt))return!0}return!1},vt=(_t,Ft)=>{const dt=_t.length,wn=new Array(dt);for(let lo=0;lo<dt;lo++){const qo=_t[lo];wn[lo]=Ft(qo,lo)}return wn},Wt=(_t,Ft)=>{for(let dt=0,wn=_t.length;dt<wn;dt++){const lo=_t[dt];Ft(lo,dt)}},lt=_t=>{let Ft=_t;return{get:()=>Ft,set:lo=>{Ft=lo}}},Rt=(_t,Ft)=>{let dt=null;const wn=()=>{R(dt)||(clearTimeout(dt),dt=null)};return{cancel:wn,throttle:(...qo)=>{wn(),dt=setTimeout(()=>{dt=null,_t.apply(null,qo)},Ft)}}},tn=(_t,Ft)=>{_t.insertContent(Ft)},Kt=Object.keys,ht=Object.hasOwnProperty,ln=(_t,Ft)=>{const dt=Kt(_t);for(let wn=0,lo=dt.length;wn<lo;wn++){const qo=dt[wn],mo=_t[qo];Ft(mo,qo)}},At=(_t,Ft)=>Te(_t,(dt,wn)=>({k:wn,v:Ft(dt,wn)})),Te=(_t,Ft)=>{const dt={};return ln(_t,(wn,lo)=>{const qo=Ft(wn,lo);dt[qo.k]=qo.v}),dt},kt=(_t,Ft)=>ht.call(_t,Ft),Cn=(_t=>(...Ft)=>{if(Ft.length===0)throw new Error("Can't merge zero objects");const dt={};for(let wn=0;wn<Ft.length;wn++){const lo=Ft[wn];for(const qo in lo)kt(lo,qo)&&(dt[qo]=_t(dt[qo],lo[qo]))}return dt})((_t,Ft)=>Ft),wo=_t=>{const Ft=lt($e.none()),dt=()=>Ft.get().each(_t);return{clear:()=>{dt(),Ft.set($e.none())},isSet:()=>Ft.get().isSome(),get:()=>Ft.get(),set:Ta=>{dt(),Ft.set($e.some(Ta))}}},Zn=()=>{const _t=wo(be);return{..._t,on:dt=>_t.get().each(dt)}},Je=(_t,Ft,dt)=>Ft===""||_t.length>=Ft.length&&_t.substr(dt,dt+Ft.length)===Ft,un=(_t,Ft,dt=0,wn)=>{const lo=_t.indexOf(Ft,dt);return lo!==-1?W(wn)?!0:lo+Ft.length<=wn:!1},B=(_t,Ft)=>Je(_t,Ft,0);var Tt=tinymce.util.Tools.resolve("tinymce.Resource");const bt="tinymce.plugins.emoticons",pn=_t=>Ft=>Ft.options.get(_t),io=(_t,Ft)=>{const dt=_t.options.register;dt("emoticons_database",{processor:"string",default:"emojis"}),dt("emoticons_database_url",{processor:"string",default:`${Ft}/js/${ft(_t)}${_t.suffix}.js`}),dt("emoticons_database_id",{processor:"string",default:bt}),dt("emoticons_append",{processor:"object",default:{}}),dt("emoticons_images_url",{processor:"string",default:"https://twemoji.maxcdn.com/v/13.0.1/72x72/"})},ft=pn("emoticons_database"),Mn=pn("emoticons_database_url"),Hr=pn("emoticons_database_id"),zt=pn("emoticons_append"),bo=pn("emoticons_images_url"),St="All",nn={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},Js=(_t,Ft)=>kt(_t,Ft)?_t[Ft]:Ft,Pn=_t=>{const Ft=zt(_t);return At(Ft,dt=>({keywords:[],category:"user",...dt}))},Do=(_t,Ft,dt)=>{const wn=Zn(),lo=Zn(),qo=bo(_t),mo=Pr=>B(Pr.char,"<img")?Pr.char.replace(/src="([^"]+)"/,(Mo,ua)=>`src="${qo}${ua}"`):Pr.char,Ta=Pr=>{const Mo={},ua=[];ln(Pr,(oo,dn)=>{const _n={title:dn,keywords:oo.keywords,char:mo(oo),category:Js(nn,oo.category)},Ws=Mo[_n.category]!==void 0?Mo[_n.category]:[];Mo[_n.category]=Ws.concat([_n]),ua.push(_n)}),wn.set(Mo),lo.set(ua)};_t.on("init",()=>{Tt.load(dt,Ft).then(Pr=>{const Mo=Pn(_t);Ta(Cn(Pr,Mo))},Pr=>{console.log(`Failed to load emojis: ${Pr}`),wn.set({}),lo.set([])})});const Nr=Pr=>Pr===St?go():wn.get().bind(Mo=>$e.from(Mo[Pr])).getOr([]),go=()=>lo.get().getOr([]),Os=()=>[St].concat(Kt(wn.get().getOr({}))),va=()=>Ur()?Promise.resolve(!0):new Promise((Pr,Mo)=>{let ua=15;const oo=setInterval(()=>{Ur()?(clearInterval(oo),Pr(!0)):(ua--,ua<0&&(console.log("Could not load emojis from url: "+Ft),clearInterval(oo),Mo(!1)))},100)}),Ur=()=>wn.isSet()&&lo.isSet();return{listCategories:Os,hasLoaded:Ur,waitForLoad:va,listAll:go,listCategory:Nr}},Y=(_t,Ft)=>un(_t.title.toLowerCase(),Ft)||Xe(_t.keywords,dt=>un(dt.toLowerCase(),Ft)),$o=(_t,Ft,dt)=>{const wn=[],lo=Ft.toLowerCase(),qo=dt.fold(()=>Me,mo=>Ta=>Ta>=mo);for(let mo=0;mo<_t.length&&!((Ft.length===0||Y(_t[mo],lo))&&(wn.push({value:_t[mo].char,text:_t[mo].title,icon:_t[mo].char}),qo(wn.length)));mo++);return wn},Fi="pattern",Xo=(_t,Ft)=>{const dt={pattern:"",results:$o(Ft.listAll(),"",$e.some(300))},wn=lt(St),lo=Os=>{const va=Os.getData(),Ur=wn.get(),Pr=Ft.listCategory(Ur),Mo=$o(Pr,va[Fi],Ur===St?$e.some(300):$e.none());Os.setData({results:Mo})},qo=Rt(Os=>{lo(Os)},200),mo={label:"Search",type:"input",name:Fi},Ta={type:"collection",name:"results"},Nr=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:vt(Ft.listCategories(),va=>({title:va,name:va,items:[mo,Ta]}))},initialData:dt,onTabChange:(va,Ur)=>{wn.set(Ur.newTabName),qo.throttle(va)},onChange:qo.throttle,onAction:(va,Ur)=>{Ur.name==="results"&&(tn(_t,Ur.value),va.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),go=_t.windowManager.open(Nr());go.focus(Fi),Ft.hasLoaded()||(go.block("Loading emojis..."),Ft.waitForLoad().then(()=>{go.redial(Nr()),qo.throttle(go),go.focus(Fi),go.unblock()}).catch(Os=>{go.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),go.focus(Fi),go.unblock()}))},Kr=(_t,Ft)=>{_t.addCommand("mceEmoticons",()=>Xo(_t,Ft))},Gl=_t=>{_t.on("PreInit",()=>{_t.parser.addAttributeFilter("data-emoticon",Ft=>{Wt(Ft,dt=>{dt.attr("data-mce-resize","false"),dt.attr("data-mce-placeholder","1")})})})},_o=(_t,Ft)=>{_t.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(dt,wn)=>Ft.waitForLoad().then(()=>{const lo=Ft.listAll();return $o(lo,dt,$e.some(wn))}),onAction:(dt,wn,lo)=>{_t.selection.setRng(wn),_t.insertContent(lo),dt.hide()}})},ar=_t=>Ft=>{const dt=()=>{Ft.setEnabled(_t.selection.isEditable())};return _t.on("NodeChange",dt),dt(),()=>{_t.off("NodeChange",dt)}},no=_t=>{const Ft=()=>_t.execCommand("mceEmoticons");_t.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:Ft,onSetup:ar(_t)}),_t.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:Ft,onSetup:ar(_t)})};var ut=()=>{v.add("emoticons",(_t,Ft)=>{io(_t,Ft);const dt=Mn(_t),wn=Hr(_t),lo=Do(_t,dt,wn);Kr(_t,lo),no(_t),_o(_t,lo),Gl(_t)})};ut()}(),window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"😀",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"😬",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"😁",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"😂",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"🤣",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"🥳",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"😃",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"😄",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"😅",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"😆",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"😇",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"😉",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"😊",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"🙂",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"🙃",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"☺️",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"😋",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"😌",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"😍",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"🥰",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😘",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"😗",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"😙",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😚",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"😜",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"🤪",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"🤨",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"🧐",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"😝",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"😛",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"🤑",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"🤓",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"😎",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"🤩",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"🤡",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"🤠",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"🤗",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"😏",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"😶",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"😐",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"😑",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"😒",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"🙄",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"🤔",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"🤥",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"🤭",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"🤫",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"🤬",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"🤯",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"😳",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"😞",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"😟",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"😠",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"😡",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"😔",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"😕",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"🙁",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"☹",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"😣",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"😖",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"😫",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"😩",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"🥺",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"😤",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"😮",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"😱",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"😨",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"😰",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"😯",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"😦",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"😧",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"😢",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"😥",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"🤤",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"😪",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"😓",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"🥵",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"🥶",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"😭",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"😵",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"😲",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"🤐",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"🤢",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"🤧",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"🤮",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"😷",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"🤒",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"🤕",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"🥴",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"😴",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"💤",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"💩",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"😈",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"👿",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"👹",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"👺",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"💀",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"👻",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"👽",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"🤖",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"😺",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"😸",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"😹",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"😻",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"😼",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"😽",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"🙀",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"😿",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"😾",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"🤲",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"🙌",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"👏",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"👋",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"🤙",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"👍",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"👎",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"👊",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"✊",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"🤛",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"🤜",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"✌",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"👌",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"✋",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"🤚",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"👐",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"💪",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"🙏",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"🦶",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"🦵",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"🤝",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"☝",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"👆",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"👇",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"👈",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"👉",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"🖕",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"🖐",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"🤟",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"🤘",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"🤞",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"🖖",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"✍",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"🤳",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"💅",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"👄",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"🦷",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"👅",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"👂",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"👃",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"👁",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"👀",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"🧠",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"👤",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"👥",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"🗣",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"👶",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"🧒",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"👦",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"👧",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"🧑",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"👨",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"👩",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"👱‍♀️",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"👱",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"🧔",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"🧓",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"👴",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"👵",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"👲",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"🧕",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"👳‍♀️",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"👳",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"👮‍♀️",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"👮",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"👷‍♀️",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"👷",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"💂‍♀️",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"💂",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"🕵️‍♀️",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"🕵",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"👩‍⚕️",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"👨‍⚕️",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"👩‍🌾",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"👨‍🌾",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"👩‍🍳",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"👨‍🍳",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"👩‍🎓",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"👨‍🎓",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"👩‍🎤",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"👨‍🎤",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"👩‍🏫",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"👨‍🏫",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"👩‍🏭",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"👨‍🏭",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"👩‍💻",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"👨‍💻",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"👩‍💼",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"👨‍💼",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"👩‍🔧",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"👨‍🔧",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"👩‍🔬",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"👨‍🔬",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"👩‍🎨",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"👨‍🎨",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"👩‍🚒",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"👨‍🚒",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"👩‍✈️",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"👨‍✈️",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"👩‍🚀",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"👨‍🚀",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"👩‍⚖️",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"👨‍⚖️",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"🦸‍♀️",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"🦸‍♂️",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"🦹‍♀️",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"🦹‍♂️",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"🤶",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"🎅",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"🧙‍♀️",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"🧙‍♂️",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"🧝‍♀️",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"🧝‍♂️",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"🧛‍♀️",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"🧛‍♂️",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"🧟‍♀️",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"🧟‍♂️",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"🧞‍♀️",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"🧞‍♂️",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"🧜‍♀️",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"🧜‍♂️",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"🧚‍♀️",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"🧚‍♂️",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"👼",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"🤰",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"🤱",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"👸",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"🤴",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"👰",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"🤵",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"🏃‍♀️",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"🏃",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"🚶‍♀️",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"🚶",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"💃",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"🕺",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"👯",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"👯‍♂️",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"👫",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"👬",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"👭",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"🙇‍♀️",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"🙇",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"🤦‍♂️",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"🤦‍♀️",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"🤷",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"🤷‍♂️",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"💁",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"💁‍♂️",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"🙅",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"🙅‍♂️",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"🙆",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"🙆‍♂️",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"🙋",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"🙋‍♂️",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"🙎",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"🙎‍♂️",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"🙍",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"🙍‍♂️",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"💇",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"💇‍♂️",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"💆",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"💆‍♂️",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"🧖‍♀️",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"🧖‍♂️",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"💑",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👩‍❤️‍👩",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👨‍❤️‍👨",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"💏",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👩‍❤️‍💋‍👩",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👨‍❤️‍💋‍👨",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"👪",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"👨‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"🧶",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"🧵",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"🧥",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"🥼",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"👚",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"👕",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"👖",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"👔",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"👗",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"👙",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"👘",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"💄",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"💋",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"👣",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"🥿",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"👠",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"👡",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"👢",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"👞",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"👟",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"🥾",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"🧦",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"🧤",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"🧣",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"👒",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"🎩",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"🧢",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"⛑",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"🎓",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"👑",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"🎒",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"🧳",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"👝",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"👛",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"👜",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"💼",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"👓",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"🕶",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"🥽",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"💍",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"🌂",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"🐶",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"🐱",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"🐭",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"🐹",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"🐰",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"🦊",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"🐻",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"🐼",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"🐨",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"🐯",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"🦁",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐮",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"🐷",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"🐽",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"🐸",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"🦑",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"🐙",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"🦐",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"🐵",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"🦍",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"🙈",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"🙉",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"🙊",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"🐒",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"🐔",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"🐧",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"🐦",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"🐤",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"🐣",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"🐥",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"🦆",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"🦅",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"🦉",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"🦇",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"🐺",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"🐗",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"🐴",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"🦄",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"🐝",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"🐛",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"🦋",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"🐌",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"🐞",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"🐜",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"🦗",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"🕷",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"🦂",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"🦀",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"🐍",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"🦎",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"🦖",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"🦕",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"🐢",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"🐠",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"🐟",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"🐡",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"🐬",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"🦈",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"🐳",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"🐋",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"🐊",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"🐆",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"🦓",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"🐅",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"🐃",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"🐂",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐄",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"🦌",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"🐪",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"🐫",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"🦒",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"🐘",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"🦏",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"🐐",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"🐏",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"🐑",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"🐎",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"🐖",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"🐀",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"🐁",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"🐓",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"🦃",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"🕊",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"🐕",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"🐩",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"🐈",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"🐇",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"🐿",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"🦔",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"🦝",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"🦙",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"🦛",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"🦘",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"🦡",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"🦢",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"🦚",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"🦜",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"🦞",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"🦟",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"🐾",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"🐉",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"🐲",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"🌵",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"🎄",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"🌲",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"🌳",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"🌴",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"🌱",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"🌿",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"☘",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"🍀",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"🎍",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"🎋",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"🍃",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"🍂",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"🍁",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"🌾",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"🌺",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"🌻",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"🌹",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"🥀",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"🌷",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"🌼",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"🌸",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"💐",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"🍄",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"🌰",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"🎃",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"🐚",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"🕸",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"🌎",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"🌍",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"🌏",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"🌕",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"🌖",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌗",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌘",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌑",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌒",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌓",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"🌔",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌚",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌝",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌛",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌜",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"🌞",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"🌙",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"⭐",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"🌟",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"💫",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"✨",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"☄",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"☀️",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"🌤",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"⛅",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"🌥",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"🌦",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"☁️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"🌧",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"⛈",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"🌩",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"⚡",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"🔥",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"💥",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"❄️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"🌨",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"⛄",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"☃",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"🌬",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"💨",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"🌪",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"🌫",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"☂",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"☔",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"💧",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"💦",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"🌊",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"🍏",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"🍎",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"🍐",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"🍊",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"🍋",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"🍌",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"🍉",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"🍇",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"🍓",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"🍈",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"🍒",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"🍑",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"🍍",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"🥥",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"🥝",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"🥭",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"🥑",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"🥦",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"🍅",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"🍆",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"🥒",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"🥕",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"🌶",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"🥔",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"🌽",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"🥬",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"🍠",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"🥜",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"🍯",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"🥐",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"🍞",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"🥖",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"🥯",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"🥨",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"🧀",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"🥚",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"🥓",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"🥩",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"🥞",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"🍗",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"🍖",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"🦴",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"🍤",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"🍳",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"🍔",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"🍟",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"🥙",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"🌭",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"🍕",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"🥪",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"🥫",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"🍝",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"🌮",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"🌯",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"🥗",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"🥘",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"🍜",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"🍲",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"🍥",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"🥠",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"🍣",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"🍱",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"🍛",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"🍙",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"🍚",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"🍘",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"🍢",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"🍡",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"🍧",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"🍨",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"🍦",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"🥧",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"🍰",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"🧁",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"🥮",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"🎂",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"🍮",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"🍬",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"🍭",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"🍫",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"🍿",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"🥟",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"🍩",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"🍪",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"🥛",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍺",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍻",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"🥂",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"🍷",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"🥃",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"🍸",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"🍹",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"🍾",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"🍶",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"🍵",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"🥤",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"☕",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"🍼",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"🧂",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"🥄",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"🍴",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"🍽",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"🥣",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"🥡",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"🥢",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"⚽",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"🏀",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"🏈",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"⚾",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"🥎",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"🎾",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"🏐",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"🏉",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"🥏",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"🎱",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"⛳",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"🏌️‍♀️",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"🏌",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"🏓",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"🏸",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"🥅",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"🏒",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"🏑",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"🥍",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"🏏",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"🎿",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"⛷",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"🏂",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"🤺",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♀️",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♂️",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♀️",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"🤾‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"🤾‍♂️",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"⛸",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"🥌",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"🛹",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"🛷",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"🏹",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"🎣",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"🥊",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"🥋",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"🚣‍♀️",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"🚣",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"🧗‍♀️",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"🧗‍♂️",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"🏊‍♀️",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"🏊",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♀️",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♂️",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"🏄‍♀️",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"🏄",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"🛀",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"⛹️‍♀️",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"⛹",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"🏋️‍♀️",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"🏋",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"🚴‍♀️",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"🚴",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"🚵‍♀️",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"🚵",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"🏇",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"🕴",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"🏆",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"🎽",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"🏅",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"🎖",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"🥇",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"🥈",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"🥉",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"🎗",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"🏵",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"🎫",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"🎟",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"🎭",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"🎨",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"🎪",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♀️",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♂️",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"🎤",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"🎧",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"🎼",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"🎹",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"🥁",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"🎷",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"🎺",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"🎸",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"🎻",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"🎬",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"🎮",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"👾",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"🎯",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"🎲",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"♟",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"🎰",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"🧩",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"🎳",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"🚗",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"🚕",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"🚙",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"🚌",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"🚎",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"🏎",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"🚓",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"🚑",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"🚒",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"🚐",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"🚚",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"🚛",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"🚜",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"🛴",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"🏍",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"🚲",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"🛵",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"🚨",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"🚔",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"🚍",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"🚘",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"🚖",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"🚡",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"🚠",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"🚟",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"🚃",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"🚋",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"🚝",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"🚄",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"🚅",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"🚈",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"🚞",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"🚂",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"🚆",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"🚇",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"🚊",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"🚉",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"🛸",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"🚁",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"🛩",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"✈️",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"🛫",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"🛬",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"⛵",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"🛥",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"🚤",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"⛴",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"🛳",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"🚀",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"🛰",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"💺",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"🛶",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"⚓",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"🚧",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"⛽",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"🚏",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"🚦",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"🚥",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"🏁",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"🚢",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"🎡",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"🎢",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"🎠",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"🏗",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"🌁",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"🗼",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"🏭",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"⛲",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"🎑",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"⛰",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"🏔",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"🗻",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"🌋",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"🗾",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"🏕",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"⛺",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"🏞",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"🛣",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"🛤",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"🌅",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"🌄",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"🏜",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"🏖",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"🏝",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"🌇",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"🌆",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"🏙",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"🌃",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"🌉",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"🌌",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"🌠",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"🎇",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"🎆",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"🌈",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"🏘",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"🏰",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"🏯",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"🏟",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"🗽",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"🏠",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"🏡",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"🏚",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"🏢",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"🏬",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"🏣",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"🏤",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"🏥",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"🏦",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"🏨",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"🏪",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"🏫",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"🏩",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"💒",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"🏛",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"⛪",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"🕌",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"🕍",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"🕋",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"⛩",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"⌚",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"📱",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"📲",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"💻",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"⌨",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"🖥",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"🖨",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"🖱",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"🖲",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"🕹",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"🗜",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"💽",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"💾",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"💿",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"📀",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"📼",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"📷",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"📸",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"📹",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"🎥",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"📽",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"🎞",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"📞",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"☎️",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"📟",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"📠",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"📺",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"📻",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"🎙",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"🎚",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"🎛",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"🧭",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"⏱",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"⏲",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"⏰",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"🕰",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"⏳",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"⌛",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"📡",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"🔋",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"🔌",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"💡",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"🔦",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"🕯",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"🧯",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"🗑",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"🛢",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"💸",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"💵",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"💴",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"💶",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"💷",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"💰",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"💳",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"💎",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"⚖",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"🧰",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"🔧",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"🔨",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"⚒",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"🛠",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"⛏",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"🔩",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"⚙",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"🧱",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"⛓",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"🧲",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"🔫",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"💣",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"🧨",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"🔪",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"🗡",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"⚔",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"🛡",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"🚬",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"☠",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"⚰",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"⚱",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"🏺",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"🔮",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"📿",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"🧿",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"💈",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"⚗",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"🔭",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"🔬",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"🕳",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"💊",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"💉",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"🧬",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"🦠",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"🧫",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"🧪",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"🌡",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"🧹",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"🧺",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"🧻",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"🏷",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"🔖",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"🚽",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"🚿",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"🛁",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"🧼",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"🧽",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"🧴",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"🔑",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"🗝",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"🛋",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"🛌",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"🛏",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"🚪",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"🛎",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"🧸",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"🖼",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"🗺",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"⛱",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"🗿",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"🛍",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"🛒",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"🎈",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"🎏",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"🎀",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"🎁",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"🎊",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"🎉",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"🎎",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"🎐",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"🎌",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"🏮",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"🧧",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"✉️",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"📩",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"📨",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"📧",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"💌",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"📮",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"📪",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"📫",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"📬",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"📭",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"📦",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"📯",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"📥",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"📤",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"📜",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"📃",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"📑",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"🧾",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"📊",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"📈",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"📉",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"📄",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"📅",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"📆",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"🗓",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"📇",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"🗃",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"🗳",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"🗄",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"📋",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"🗒",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"📁",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"📂",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"🗂",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"🗞",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"📰",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"📓",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"📕",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"📗",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"📘",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"📙",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"📔",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"📒",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"📚",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"📖",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"🧷",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"🔗",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"📎",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"🖇",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"✂️",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"📐",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"📏",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"🧮",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"📌",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"📍",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"🚩",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"🏳",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"🏴",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"🏳️‍🌈",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"🔐",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"🔒",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"🔓",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"🔏",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"🖊",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"🖋",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"✒️",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"📝",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"✏️",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"🖍",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"🖌",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"🔍",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"🔎",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"❤️",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"🧡",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"💛",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"💚",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"💙",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"💜",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"🖤",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"💔",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"❣",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"💕",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"💞",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"💓",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"💗",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"💖",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"💘",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"💝",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"💟",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"☮",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"✝",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"☪",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"🕉",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"☸",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"✡",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"🔯",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"🕎",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"☯",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"☦",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"🛐",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"⛎",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"♈",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"♉",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"♊",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"♋",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"♌",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"♍",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"♎",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"♏",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"♐",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"♑",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"♒",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"♓",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"🆔",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"⚛",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"🈳",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"🈹",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"☢",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"☣",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"📴",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"📳",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"🈶",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"🈚",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"🈸",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"🈺",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"🈷️",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"✴️",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"🆚",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"🉑",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"💮",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"🉐",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"㊙️",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"㊗️",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"🈴",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"🈵",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"🈲",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"🅰️",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"🅱️",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"🆎",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"🆑",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"🅾️",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"🆘",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"⛔",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"📛",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"🚫",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"❌",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"⭕",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"🛑",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"💢",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"♨️",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"🚷",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"🚯",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"🚳",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"🚱",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"🔞",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"📵",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"❗",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"❕",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"❓",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"❔",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"‼️",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"⁉️",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"💯",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"🔅",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"🔆",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"🔱",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"⚜",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"〽️",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"⚠️",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"🚸",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"🔰",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"♻️",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"🈯",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"💹",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"❇️",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"✳️",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"❎",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"✅",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"💠",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"🌀",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"➿",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"🌐",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"Ⓜ️",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"🏧",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"🈂️",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"🛂",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"🛃",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"🛄",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"🛅",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"♿",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"🚭",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"🚾",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"🅿️",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"🚰",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"🚹",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"🚺",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"🚼",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"🚻",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"🚮",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"🎦",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"📶",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"🈁",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"🆖",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"🆗",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"🆙",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"🆒",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"🆕",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"🆓",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0️⃣",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1️⃣",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2️⃣",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3️⃣",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4️⃣",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5️⃣",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6️⃣",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7️⃣",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8️⃣",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9️⃣",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"🔟",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*⃣",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"🔢",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"⏏️",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"▶️",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"⏸",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"⏭",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"⏹",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"⏺",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"⏯",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"⏮",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"⏩",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"⏪",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"🔀",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"🔁",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"🔂",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"◀️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"🔼",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"🔽",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"⏫",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"⏬",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"➡️",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"⬅️",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"⬆️",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"⬇️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"↗️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"↘️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"↙️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"↖️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"↕️",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"↔️",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"🔄",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"↪️",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"↩️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"⤴️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"⤵️",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#️⃣",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"ℹ️",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"🔤",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"🔡",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"🔠",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"🔣",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"🎵",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"🎶",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"〰️",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"➰",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"✔️",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"🔃",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"➕",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"➖",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"➗",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"✖️",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"♾",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"💲",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"💱",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"©️",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"®️",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"™️",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"🔚",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"🔙",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"🔛",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"🔝",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"🔜",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"☑️",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"🔘",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"⚪",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"⚫",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"🔴",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"🔵",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔸",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔹",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔶",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔷",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"🔺",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"▪️",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"▫️",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"⬛",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"⬜",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"🔻",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"◼️",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"◻️",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"◾",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"◽",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"🔲",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"🔳",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"🔈",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"🔉",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"🔊",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"🔇",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"📣",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"📢",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"🔔",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"🔕",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"🃏",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"🀄",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"♠️",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"♣️",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"♥️",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"♦️",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"🎴",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"💭",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"🗯",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"💬",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"🗨",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"🕐",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"🕑",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"🕒",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"🕓",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"🕔",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"🕕",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"🕖",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"🕗",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"🕘",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"🕙",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"🕚",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"🕛",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"🕜",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"🕝",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"🕞",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"🕟",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"🕠",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"🕡",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"🕢",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"🕣",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"🕤",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"🕥",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"🕦",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"🕧",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"🇦🇫",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["Åland","islands","flag","nation","country","banner"],char:"🇦🇽",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"🇦🇱",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"🇩🇿",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"🇦🇸",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"🇦🇩",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"🇦🇴",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"🇦🇮",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"🇦🇶",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"🇦🇬",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"🇦🇷",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"🇦🇲",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"🇦🇼",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"🇦🇺",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"🇦🇹",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"🇦🇿",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"🇧🇸",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"🇧🇭",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"🇧🇩",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"🇧🇧",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"🇧🇾",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"🇧🇪",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"🇧🇿",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"🇧🇯",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"🇧🇲",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"🇧🇹",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"🇧🇴",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"🇧🇶",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"🇧🇦",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"🇧🇼",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"🇧🇷",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"🇮🇴",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"🇻🇬",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"🇧🇳",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"🇧🇬",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"🇧🇫",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"🇧🇮",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"🇨🇻",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"🇰🇭",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"🇨🇲",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"🇨🇦",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"🇮🇨",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"🇰🇾",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"🇨🇫",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"🇹🇩",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"🇨🇱",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"🇨🇳",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"🇨🇽",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"🇨🇨",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"🇨🇴",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"🇰🇲",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"🇨🇬",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"🇨🇩",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"🇨🇰",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"🇨🇷",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"🇭🇷",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"🇨🇺",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["curaçao","flag","nation","country","banner"],char:"🇨🇼",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"🇨🇾",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"🇨🇿",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"🇩🇰",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"🇩🇯",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"🇩🇲",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"🇩🇴",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"🇪🇨",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"🇪🇬",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"🇸🇻",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"🇬🇶",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"🇪🇷",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"🇪🇪",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"🇪🇹",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"🇪🇺",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"🇫🇰",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"🇫🇴",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"🇫🇯",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"🇫🇮",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"🇫🇷",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"🇬🇫",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"🇵🇫",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"🇹🇫",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"🇬🇦",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"🇬🇲",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"🇬🇪",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"🇩🇪",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"🇬🇭",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"🇬🇮",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"🇬🇷",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"🇬🇱",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"🇬🇩",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"🇬🇵",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"🇬🇺",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"🇬🇹",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"🇬🇬",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"🇬🇳",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"🇬🇼",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"🇬🇾",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"🇭🇹",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"🇭🇳",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"🇭🇰",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"🇭🇺",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"🇮🇸",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"🇮🇳",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"🇮🇩",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"🇮🇷",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"🇮🇶",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"🇮🇪",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"🇮🇲",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"🇮🇱",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"🇮🇹",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"🇨🇮",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"🇯🇲",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"🇯🇵",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"🇯🇪",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"🇯🇴",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"🇰🇿",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"🇰🇪",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"🇰🇮",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"🇽🇰",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"🇰🇼",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"🇰🇬",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"🇱🇦",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"🇱🇻",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"🇱🇧",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"🇱🇸",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"🇱🇷",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"🇱🇾",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"🇱🇮",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"🇱🇹",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"🇱🇺",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"🇲🇴",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"🇲🇰",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"🇲🇬",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"🇲🇼",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"🇲🇾",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"🇲🇻",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"🇲🇱",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"🇲🇹",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"🇲🇭",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"🇲🇶",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"🇲🇷",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"🇲🇺",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"🇾🇹",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"🇲🇽",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"🇫🇲",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"🇲🇩",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"🇲🇨",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"🇲🇳",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"🇲🇪",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"🇲🇸",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"🇲🇦",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"🇲🇿",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"🇲🇲",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"🇳🇦",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"🇳🇷",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"🇳🇵",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"🇳🇱",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"🇳🇨",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"🇳🇿",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"🇳🇮",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"🇳🇪",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"🇳🇬",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"🇳🇺",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"🇳🇫",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"🇲🇵",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"🇰🇵",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"🇳🇴",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"🇴🇲",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"🇵🇰",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"🇵🇼",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"🇵🇸",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"🇵🇦",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"🇵🇬",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"🇵🇾",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"🇵🇪",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"🇵🇭",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"🇵🇳",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"🇵🇱",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"🇵🇹",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"🇵🇷",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"🇶🇦",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["réunion","flag","nation","country","banner"],char:"🇷🇪",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"🇷🇴",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"🇷🇺",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"🇷🇼",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barthélemy","flag","nation","country","banner"],char:"🇧🇱",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"🇸🇭",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"🇰🇳",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"🇱🇨",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"🇵🇲",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"🇻🇨",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"🇼🇸",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"🇸🇲",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"🇸🇹",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"🇸🇦",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"🇸🇳",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"🇷🇸",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"🇸🇨",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"🇸🇱",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"🇸🇬",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"🇸🇽",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"🇸🇰",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"🇸🇮",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"🇸🇧",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"🇸🇴",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"🇿🇦",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"🇬🇸",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"🇰🇷",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"🇸🇸",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"🇪🇸",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"🇱🇰",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"🇸🇩",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"🇸🇷",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"🇸🇿",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"🇸🇪",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"🇨🇭",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"🇸🇾",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"🇹🇼",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"🇹🇯",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"🇹🇿",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"🇹🇭",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"🇹🇱",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"🇹🇬",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"🇹🇰",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"🇹🇴",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"🇹🇹",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"🇹🇳",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"🇹🇷",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"🇹🇲",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"🇹🇨",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"🇹🇻",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"🇺🇬",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"🇺🇦",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"🇦🇪",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"🇬🇧",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"🇺🇸",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"🇻🇮",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"🇺🇾",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"🇺🇿",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"🇻🇺",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"🇻🇦",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"🇻🇪",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"🇻🇳",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"🇼🇫",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"🇪🇭",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"🇾🇪",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"🇿🇲",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"🇿🇼",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"🇺🇳",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"🏴‍☠️",fitzpatrick_scale:!1,category:"flags"}}),function(){var v=tinymce.util.Tools.resolve("tinymce.PluginManager");const P=(ne,Oe,Ie)=>{var et;return Ie(ne,Oe.prototype)?!0:((et=ne.constructor)===null||et===void 0?void 0:et.name)===Oe.name},R=ne=>{const Oe=typeof ne;return ne===null?"null":Oe==="object"&&Array.isArray(ne)?"array":Oe==="object"&&P(ne,String,(Ie,et)=>et.isPrototypeOf(Ie))?"string":Oe},W=ne=>Oe=>R(Oe)===ne,ue=ne=>Oe=>typeof Oe===ne,de=ne=>Oe=>ne===Oe,be=W("string"),ge=W("object"),Me=W("array"),$e=de(null),Xe=ue("boolean"),vt=ne=>ne==null,Wt=ne=>!vt(ne),lt=ue("function"),Rt=(ne,Oe)=>{if(Me(ne)){for(let Ie=0,et=ne.length;Ie<et;++Ie)if(!Oe(ne[Ie]))return!1;return!0}return!1},tn=()=>{},Kt=ne=>()=>ne,ht=(ne,Oe)=>ne===Oe;class ln{constructor(Oe,Ie){this.tag=Oe,this.value=Ie}static some(Oe){return new ln(!0,Oe)}static none(){return ln.singletonNone}fold(Oe,Ie){return this.tag?Ie(this.value):Oe()}isSome(){return this.tag}isNone(){return!this.tag}map(Oe){return this.tag?ln.some(Oe(this.value)):ln.none()}bind(Oe){return this.tag?Oe(this.value):ln.none()}exists(Oe){return this.tag&&Oe(this.value)}forall(Oe){return!this.tag||Oe(this.value)}filter(Oe){return!this.tag||Oe(this.value)?this:ln.none()}getOr(Oe){return this.tag?this.value:Oe}or(Oe){return this.tag?this:Oe}getOrThunk(Oe){return this.tag?this.value:Oe()}orThunk(Oe){return this.tag?this:Oe()}getOrDie(Oe){if(this.tag)return this.value;throw new Error(Oe??"Called getOrDie on None")}static from(Oe){return Wt(Oe)?ln.some(Oe):ln.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Oe){this.tag&&Oe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ln.singletonNone=new ln(!1);const At=Array.prototype.indexOf,Te=Array.prototype.push,kt=(ne,Oe)=>At.call(ne,Oe),Ee=(ne,Oe)=>kt(ne,Oe)>-1,qe=(ne,Oe)=>{const Ie=ne.length,et=new Array(Ie);for(let Vt=0;Vt<Ie;Vt++){const An=ne[Vt];et[Vt]=Oe(An,Vt)}return et},Cn=(ne,Oe)=>{for(let Ie=0,et=ne.length;Ie<et;Ie++){const Vt=ne[Ie];Oe(Vt,Ie)}},wo=(ne,Oe,Ie)=>(Cn(ne,(et,Vt)=>{Ie=Oe(Ie,et,Vt)}),Ie),Zn=ne=>{const Oe=[];for(let Ie=0,et=ne.length;Ie<et;++Ie){if(!Me(ne[Ie]))throw new Error("Arr.flatten item "+Ie+" was not an array, input: "+ne);Te.apply(Oe,ne[Ie])}return Oe},Je=(ne,Oe)=>Zn(qe(ne,Oe)),un=(ne,Oe)=>{for(let Ie=0;Ie<ne.length;Ie++){const et=Oe(ne[Ie],Ie);if(et.isSome())return et}return ln.none()},B=(ne,Oe,Ie=ht)=>ne.exists(et=>Ie(et,Oe)),Tt=ne=>{const Oe=[],Ie=et=>{Oe.push(et)};for(let et=0;et<ne.length;et++)ne[et].each(Ie);return Oe},bt=(ne,Oe)=>ne?ln.some(Oe):ln.none(),pn=ne=>Oe=>Oe.options.get(ne),io=ne=>{const Oe=ne.options.register;Oe("link_assume_external_targets",{processor:Ie=>{const et=be(Ie)||Xe(Ie);return et?Ie===!0?{value:1,valid:et}:Ie==="http"||Ie==="https"?{value:Ie,valid:et}:{value:0,valid:et}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),Oe("link_context_toolbar",{processor:"boolean",default:!1}),Oe("link_list",{processor:Ie=>be(Ie)||lt(Ie)||Rt(Ie,ge)}),Oe("link_default_target",{processor:"string"}),Oe("link_default_protocol",{processor:"string",default:"https"}),Oe("link_target_list",{processor:Ie=>Xe(Ie)||Rt(Ie,ge),default:!0}),Oe("link_rel_list",{processor:"object[]",default:[]}),Oe("link_class_list",{processor:"object[]",default:[]}),Oe("link_title",{processor:"boolean",default:!0}),Oe("allow_unsafe_link_target",{processor:"boolean",default:!1}),Oe("link_quicklink",{processor:"boolean",default:!1})},ft=pn("link_assume_external_targets"),Mn=pn("link_context_toolbar"),Hr=pn("link_list"),zt=pn("link_default_target"),bo=pn("link_default_protocol"),St=pn("link_target_list"),nn=pn("link_rel_list"),Js=pn("link_class_list"),Pn=pn("link_title"),Do=pn("allow_unsafe_link_target"),Y=pn("link_quicklink");var $o=tinymce.util.Tools.resolve("tinymce.util.Tools");const Fi=ne=>be(ne.value)?ne.value:"",Xo=ne=>be(ne.text)?ne.text:be(ne.title)?ne.title:"",Kr=(ne,Oe)=>{const Ie=[];return $o.each(ne,et=>{const Vt=Xo(et);if(et.menu!==void 0){const An=Kr(et.menu,Oe);Ie.push({text:Vt,items:An})}else{const An=Oe(et);Ie.push({text:Vt,value:An})}}),Ie},Gl=(ne=Fi)=>Oe=>ln.from(Oe).map(Ie=>Kr(Ie,ne)),no={sanitize:ne=>Gl(Fi)(ne),sanitizeWith:Gl,createUi:(ne,Oe)=>Ie=>({name:ne,type:"listbox",label:Oe,items:Ie}),getValue:Fi},ut=Object.keys,_t=Object.hasOwnProperty,Ft=(ne,Oe)=>{const Ie=ut(ne);for(let et=0,Vt=Ie.length;et<Vt;et++){const An=Ie[et],ro=ne[An];Oe(ro,An)}},dt=ne=>(Oe,Ie)=>{ne[Ie]=Oe},wn=(ne,Oe,Ie,et)=>{Ft(ne,(Vt,An)=>{(Oe(Vt,An)?Ie:et)(Vt,An)})},lo=(ne,Oe)=>{const Ie={};return wn(ne,Oe,dt(Ie),tn),Ie},qo=(ne,Oe)=>_t.call(ne,Oe),mo=(ne,Oe)=>qo(ne,Oe)&&ne[Oe]!==void 0&&ne[Oe]!==null;var Ta=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Nr=tinymce.util.Tools.resolve("tinymce.util.URI");const go=ne=>Wt(ne)&&ne.nodeName.toLowerCase()==="a",Os=ne=>go(ne)&&!!Pr(ne),va=(ne,Oe)=>{if(ne.collapsed)return[];{const Ie=ne.cloneContents(),et=Ie.firstChild,Vt=new Ta(et,Ie),An=[];let ro=et;do Oe(ro)&&An.push(ro);while(ro=Vt.next());return An}},Ur=ne=>/^\w+:/i.test(ne),Pr=ne=>{var Oe,Ie;return(Ie=(Oe=ne.getAttribute("data-mce-href"))!==null&&Oe!==void 0?Oe:ne.getAttribute("href"))!==null&&Ie!==void 0?Ie:""},Mo=(ne,Oe)=>{const Ie=["noopener"],et=ne?ne.split(/\s+/):[],Vt=Vn=>$o.trim(Vn.sort().join(" ")),An=Vn=>(Vn=ro(Vn),Vn.length>0?Vn.concat(Ie):Ie),ro=Vn=>Vn.filter(is=>$o.inArray(Ie,is)===-1),Wn=Oe?An(et):ro(et);return Wn.length>0?Vt(Wn):""},ua=ne=>ne.replace(/\uFEFF/g,""),oo=(ne,Oe)=>(Oe=Oe||Ws(ne.selection.getRng())[0]||ne.selection.getNode(),li(Oe)?ln.from(ne.dom.select("a[href]",Oe)[0]):ln.from(ne.dom.getParent(Oe,"a[href]"))),dn=(ne,Oe)=>oo(ne,Oe).isSome(),_n=(ne,Oe)=>{const Ie=Oe.fold(()=>ne.getContent({format:"text"}),et=>et.innerText||et.textContent||"");return ua(Ie)},Ws=ne=>va(ne,Os),xi=ne=>$o.grep(ne,Os),Bt=ne=>xi(ne).length>0,ii=ne=>Ws(ne).length>0,jo=ne=>{const Oe=ne.schema.getTextInlineElements(),Ie=An=>An.nodeType===1&&!go(An)&&!qo(Oe,An.nodeName.toLowerCase());if(oo(ne).exists(An=>An.hasAttribute("data-mce-block")))return!1;const Vt=ne.selection.getRng();return Vt.collapsed?!0:va(Vt,Ie).length===0},li=ne=>Wt(ne)&&ne.nodeName==="FIGURE"&&/\bimage\b/i.test(ne.className),vr=ne=>wo(["title","rel","class","target"],(Ie,et)=>(ne[et].each(Vt=>{Ie[et]=Vt.length>0?Vt:null}),Ie),{href:ne.href}),Ud=(ne,Oe)=>(Oe==="http"||Oe==="https")&&!Ur(ne)?Oe+"://"+ne:ne,fa=(ne,Oe)=>{const Ie={...Oe};if(nn(ne).length===0&&!Do(ne)){const et=Mo(Ie.rel,Ie.target==="_blank");Ie.rel=et||null}return ln.from(Ie.target).isNone()&&St(ne)===!1&&(Ie.target=zt(ne)),Ie.href=Ud(Ie.href,ft(ne)),Ie},uc=(ne,Oe,Ie,et)=>{Ie.each(Vt=>{qo(Oe,"innerText")?Oe.innerText=Vt:Oe.textContent=Vt}),ne.dom.setAttribs(Oe,et),ne.selection.select(Oe)},hl=(ne,Oe,Ie,et)=>{const Vt=ne.dom;li(Oe)?Jt(Vt,Oe,et):Ie.fold(()=>{ne.execCommand("mceInsertLink",!1,et)},An=>{ne.insertContent(Vt.createHTML("a",et,Vt.encode(An)))})},Vi=(ne,Oe,Ie)=>{const et=ne.selection.getNode(),Vt=oo(ne,et),An=fa(ne,vr(Ie));ne.undoManager.transact(()=>{Ie.href===Oe.href&&Oe.attach(),Vt.fold(()=>{hl(ne,et,Ie.text,An)},ro=>{ne.focus(),uc(ne,ro,Ie.text,An)})})},Kl=ne=>{const Oe=ne.dom,Ie=ne.selection,et=Ie.getBookmark(),Vt=Ie.getRng().cloneRange(),An=Oe.getParent(Vt.startContainer,"a[href]",ne.getBody()),ro=Oe.getParent(Vt.endContainer,"a[href]",ne.getBody());An&&Vt.setStartBefore(An),ro&&Vt.setEndAfter(ro),Ie.setRng(Vt),ne.execCommand("unlink"),Ie.moveToBookmark(et)},Ir=ne=>{ne.undoManager.transact(()=>{const Oe=ne.selection.getNode();li(Oe)?jc(ne,Oe):Kl(ne),ne.focus()})},Yn=ne=>{const{class:Oe,href:Ie,rel:et,target:Vt,text:An,title:ro}=ne;return lo({class:Oe.getOrNull(),href:Ie,rel:et.getOrNull(),target:Vt.getOrNull(),text:An.getOrNull(),title:ro.getOrNull()},(Wn,Vn)=>$e(Wn)===!1)},Hi=(ne,Oe)=>{const Ie=ne.options.get,et={allow_html_data_urls:Ie("allow_html_data_urls"),allow_script_urls:Ie("allow_script_urls"),allow_svg_data_urls:Ie("allow_svg_data_urls")},Vt=Oe.href;return{...Oe,href:Nr.isDomSafe(Vt,"a",et)?Vt:""}},wi=(ne,Oe,Ie)=>{const et=Hi(ne,Ie);ne.hasPlugin("rtc",!0)?ne.execCommand("createlink",!1,Yn(et)):Vi(ne,Oe,et)},bl=ne=>{ne.hasPlugin("rtc",!0)?ne.execCommand("unlink"):Ir(ne)},jc=(ne,Oe)=>{var Ie;const et=ne.dom.select("img",Oe)[0];if(et){const Vt=ne.dom.getParents(et,"a[href]",Oe)[0];Vt&&((Ie=Vt.parentNode)===null||Ie===void 0||Ie.insertBefore(et,Vt),ne.dom.remove(Vt))}},Jt=(ne,Oe,Ie)=>{var et;const Vt=ne.select("img",Oe)[0];if(Vt){const An=ne.create("a",Ie);(et=Vt.parentNode)===null||et===void 0||et.insertBefore(An,Vt),An.appendChild(Vt)}},yu=ne=>mo(ne,"items"),Yr=(ne,Oe)=>un(Oe,Ie=>yu(Ie)?Yr(ne,Ie.items):bt(Ie.value===ne,Ie)),of=(ne,Oe,Ie,et)=>{const Vt=et[Oe],An=ne.length>0;return Vt!==void 0?Yr(Vt,Ie).map(ro=>({url:{value:ro.value,meta:{text:An?ne:ro.text,attach:tn}},text:An?ne:ro.text})):ln.none()},vu=(ne,Oe)=>Oe==="link"?ne.link:Oe==="anchor"?ne.anchor:ln.none(),fc={init:(ne,Oe)=>{const Ie={text:ne.text,title:ne.title},et=Vn=>{var is;return bt(Ie.title.length<=0,ln.from((is=Vn.meta)===null||is===void 0?void 0:is.title).getOr(""))},Vt=Vn=>{var is;return bt(Ie.text.length<=0,ln.from((is=Vn.meta)===null||is===void 0?void 0:is.text).getOr(Vn.value))},An=Vn=>{const is=Vt(Vn.url),wr=et(Vn.url);return is.isSome()||wr.isSome()?ln.some({...is.map(jr=>({text:jr})).getOr({}),...wr.map(jr=>({title:jr})).getOr({})}):ln.none()},ro=(Vn,is)=>{const wr=vu(Oe,is).getOr([]);return of(Ie.text,is,wr,Vn)};return{onChange:(Vn,is)=>{const wr=is.name;return wr==="url"?An(Vn()):Ee(["anchor","link"],wr)?ro(Vn(),wr):((wr==="text"||wr==="title")&&(Ie[wr]=Vn()[wr]),ln.none())}}},getDelta:of};var ci=tinymce.util.Tools.resolve("tinymce.util.Delay");const Qs=(ne,Oe,Ie)=>{const et=ne.selection.getRng();ci.setEditorTimeout(ne,()=>{ne.windowManager.confirm(Oe,Vt=>{ne.selection.setRng(et),Ie(Vt)})})},Ui=ne=>{const Oe=ne.href;return Oe.indexOf("@")>0&&Oe.indexOf("/")===-1&&Oe.indexOf("mailto:")===-1?ln.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:et=>({...et,href:"mailto:"+Oe})}):ln.none()},rf=(ne,Oe)=>Ie=>{const et=Ie.href;return ne===1&&!Ur(et)||ne===0&&/^\s*www(\.|\d\.)/i.test(et)?ln.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${Oe}:// prefix?`,preprocess:An=>({...An,href:Oe+"://"+et})}):ln.none()},Ff={preprocess:(ne,Oe)=>un([Ui,rf(ft(ne),bo(ne))],Ie=>Ie(Oe)).fold(()=>Promise.resolve(Oe),Ie=>new Promise(et=>{Qs(ne,Ie.message,Vt=>{et(Vt?Ie.preprocess(Oe):Oe)})}))},xu={getAnchors:ne=>{const Oe=ne.dom.select("a:not([href])"),Ie=Je(Oe,et=>{const Vt=et.name||et.id;return Vt?[{text:Vt,value:"#"+Vt}]:[]});return Ie.length>0?ln.some([{text:"None",value:""}].concat(Ie)):ln.none()}},As={getClasses:ne=>{const Oe=Js(ne);return Oe.length>0?no.sanitize(Oe):ln.none()}},Xa=ne=>{try{return ln.some(JSON.parse(ne))}catch{return ln.none()}},wu={getLinks:ne=>{const Oe=et=>ne.convertURL(et.value||et.url||"","href"),Ie=Hr(ne);return new Promise(et=>{be(Ie)?fetch(Ie).then(Vt=>Vt.ok?Vt.text().then(Xa):Promise.reject()).then(et,()=>et(ln.none())):lt(Ie)?Ie(Vt=>et(ln.some(Vt))):et(ln.from(Ie))}).then(et=>et.bind(no.sanitizeWith(Oe)).map(Vt=>Vt.length>0?[{text:"None",value:""}].concat(Vt):Vt))}},ol={getRels:(ne,Oe)=>{const Ie=nn(ne);if(Ie.length>0){const et=B(Oe,"_blank"),Vt=Do(ne)===!1,An=Wn=>Mo(no.getValue(Wn),et);return(Vt?no.sanitizeWith(An):no.sanitize)(Ie)}return ln.none()}},ea=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],xr={getTargets:ne=>{const Oe=St(ne);return Me(Oe)?no.sanitize(Oe).orThunk(()=>ln.some(ea)):Oe===!1?ln.none():ln.some(ea)}},zr=(ne,Oe,Ie)=>{const et=ne.getAttrib(Oe,Ie);return et!==null&&et.length>0?ln.some(et):ln.none()},vl=(ne,Oe)=>{const Ie=ne.dom,Vt=jo(ne)?ln.some(_n(ne.selection,Oe)):ln.none(),An=Oe.bind(wr=>ln.from(Ie.getAttrib(wr,"href"))),ro=Oe.bind(wr=>ln.from(Ie.getAttrib(wr,"target"))),Wn=Oe.bind(wr=>zr(Ie,wr,"rel")),Vn=Oe.bind(wr=>zr(Ie,wr,"class")),is=Oe.bind(wr=>zr(Ie,wr,"title"));return{url:An,text:Vt,title:is,target:ro,rel:Wn,linkClass:Vn}},Tc={collect:(ne,Oe)=>wu.getLinks(ne).then(Ie=>{const et=vl(ne,Oe);return{anchor:et,catalogs:{targets:xr.getTargets(ne),rels:ol.getRels(ne,et.target),classes:As.getClasses(ne),anchor:xu.getAnchors(ne),link:Ie},optNode:Oe,flags:{titleEnabled:Pn(ne)}}})},mc=(ne,Oe)=>Ie=>{const et=Ie.getData();if(!et.url.value){bl(ne),Ie.close();return}const Vt=Wn=>ln.from(et[Wn]).filter(Vn=>!B(Oe.anchor[Wn],Vn)),An={href:et.url.value,text:Vt("text"),target:Vt("target"),rel:Vt("rel"),class:Vt("linkClass"),title:Vt("title")},ro={href:et.url.value,attach:et.url.meta!==void 0&&et.url.meta.attach?et.url.meta.attach:tn};Ff.preprocess(ne,An).then(Wn=>{wi(ne,ro,Wn)}),Ie.close()},ad=ne=>{const Oe=oo(ne);return Tc.collect(ne,Oe)},za=(ne,Oe)=>{const Ie=ne.anchor,et=Ie.url.getOr("");return{url:{value:et,meta:{original:{value:et}}},text:Ie.text.getOr(""),title:Ie.title.getOr(""),anchor:et,link:et,rel:Ie.rel.getOr(""),target:Ie.target.or(Oe).getOr(""),linkClass:Ie.linkClass.getOr("")}},as=(ne,Oe,Ie)=>{const et=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],Vt=ne.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),An=ne.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],ro=ln.from(zt(Ie)),Wn=za(ne,ro),Vn=ne.catalogs,is=fc.init(Wn,Vn);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:Zn([et,Vt,An,Tt([Vn.anchor.map(no.createUi("anchor","Anchors")),Vn.rels.map(no.createUi("rel","Rel")),Vn.targets.map(no.createUi("target","Open link in...")),Vn.link.map(no.createUi("link","Link list")),Vn.classes.map(no.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Wn,onChange:(jr,{name:Aa})=>{is.onChange(jr.getData,{name:Aa}).each(il=>{jr.setData(il)})},onSubmit:Oe}},Oa=ne=>{ad(ne).then(Ie=>{const et=mc(ne,Ie);return as(Ie,et,ne)}).then(Ie=>{ne.windowManager.open(Ie)})},Fs=ne=>{ne.addCommand("mceLink",(Oe,Ie)=>{(Ie==null?void 0:Ie.dialog)===!0||!Y(ne)?Oa(ne):ne.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})};var sl=tinymce.util.Tools.resolve("tinymce.util.VK");const Or=(ne,Oe)=>{document.body.appendChild(ne),ne.dispatchEvent(Oe),document.body.removeChild(ne)},Ha=ne=>{const Oe=document.createElement("a");Oe.target="_blank",Oe.href=ne,Oe.rel="noreferrer noopener";const Ie=document.createEvent("MouseEvents");Ie.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),Or(Oe,Ie)},_i=(ne,Oe)=>ne.dom.getParent(Oe,"a[href]"),Ua=ne=>_i(ne,ne.selection.getStart()),eo=ne=>ne.altKey===!0&&ne.shiftKey===!1&&ne.ctrlKey===!1&&ne.metaKey===!1,di=(ne,Oe)=>{if(Oe){const Ie=Pr(Oe);if(/^#/.test(Ie)){const et=ne.dom.select(Ie);et.length&&ne.selection.scrollIntoView(et[0],!0)}else Ha(Oe.href)}},Vs=ne=>()=>{ne.execCommand("mceLink",!1,{dialog:!0})},xa=ne=>()=>{di(ne,Ua(ne))},ji=ne=>{ne.on("click",Oe=>{const Ie=_i(ne,Oe.target);Ie&&sl.metaKeyPressed(Oe)&&(Oe.preventDefault(),di(ne,Ie))}),ne.on("keydown",Oe=>{if(!Oe.isDefaultPrevented()&&Oe.keyCode===13&&eo(Oe)){const Ie=Ua(ne);Ie&&(Oe.preventDefault(),di(ne,Ie))}})},Xr=(ne,Oe)=>(ne.on("NodeChange",Oe),()=>ne.off("NodeChange",Oe)),Ns=ne=>Oe=>{const Ie=()=>{Oe.setActive(!ne.mode.isReadOnly()&&dn(ne,ne.selection.getNode())),Oe.setEnabled(ne.selection.isEditable())};return Ie(),Xr(ne,Ie)},Xl=ne=>Oe=>{const Ie=()=>{Oe.setEnabled(ne.selection.isEditable())};return Ie(),Xr(ne,Ie)},qn=ne=>(ne.selection.isCollapsed()?xi(ne.dom.getParents(ne.selection.getStart())):Ws(ne.selection.getRng())).length===1,Jl=ne=>Oe=>{const Ie=()=>Oe.setEnabled(qn(ne));return Ie(),Xr(ne,Ie)},Zi=ne=>Oe=>{const Ie=An=>Bt(An)||ii(ne.selection.getRng()),et=ne.dom.getParents(ne.selection.getStart()),Vt=An=>{Oe.setEnabled(Ie(An)&&ne.selection.isEditable())};return Vt(et),Xr(ne,An=>Vt(An.parents))},_s=ne=>{ne.addShortcut("Meta+K","",()=>{ne.execCommand("mceLink")})},al=ne=>{ne.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Vs(ne),onSetup:Ns(ne)}),ne.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:xa(ne),onSetup:Jl(ne)}),ne.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>bl(ne),onSetup:Zi(ne)})},$s=ne=>{ne.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:xa(ne),onSetup:Jl(ne)}),ne.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onSetup:Xl(ne),onAction:Vs(ne)}),ne.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>bl(ne),onSetup:Zi(ne)})},id=ne=>{const Oe="link unlink openlink",Ie="link";ne.ui.registry.addContextMenu("link",{update:et=>ne.dom.isEditable(et)?Bt(ne.dom.getParents(et,"a"))?Oe:Ie:""})},sf=ne=>{const Oe=Vt=>{Vt.selection.collapse(!1)},Ie=Vt=>{const An=ne.selection.getNode();return Vt.setEnabled(dn(ne,An)),tn},et=Vt=>{const An=oo(ne),ro=jo(ne);if(An.isNone()&&ro){const Wn=_n(ne.selection,An);return bt(Wn.length===0,Vt)}else return ln.none()};ne.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Ns(ne)},label:"Link",predicate:Vt=>Mn(ne)&&dn(ne,Vt),initValue:()=>oo(ne).fold(Kt(""),Pr),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:Vt=>{const An=ne.selection.getNode();return Vt.setActive(dn(ne,An)),Ns(ne)(Vt)},onAction:Vt=>{const An=Vt.getValue(),ro=et(An);wi(ne,{href:An,attach:tn},{href:An,text:ro,title:ln.none(),rel:ln.none(),target:ln.none(),class:ln.none()}),Oe(ne),Vt.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Ie,onAction:Vt=>{bl(ne),Vt.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Ie,onAction:Vt=>{xa(ne)(),Vt.hide()}}]})};var or=()=>{v.add("link",ne=>{io(ne),al(ne),$s(ne),id(ne),sf(ne),ji(ne),Fs(ne),_s(ne)})};or()}(),function(){var v=tinymce.util.Tools.resolve("tinymce.PluginManager");const P=(z,V,J)=>{var Ce;return J(z,V.prototype)?!0:((Ce=z.constructor)===null||Ce===void 0?void 0:Ce.name)===V.name},R=z=>{const V=typeof z;return z===null?"null":V==="object"&&Array.isArray(z)?"array":V==="object"&&P(z,String,(J,Ce)=>Ce.isPrototypeOf(J))?"string":V},W=z=>V=>R(V)===z,ue=z=>V=>typeof V===z,de=W("string"),be=W("object"),ge=W("array"),Me=ue("boolean"),$e=z=>z==null,Xe=z=>!$e(z),vt=ue("function"),Wt=ue("number"),lt=()=>{},Rt=(z,V)=>J=>z(V(J)),tn=z=>()=>z,Kt=(z,V)=>z===V;function ht(z,...V){return(...J)=>{const Ce=V.concat(J);return z.apply(null,Ce)}}const ln=z=>V=>!z(V),At=tn(!1);class Te{constructor(V,J){this.tag=V,this.value=J}static some(V){return new Te(!0,V)}static none(){return Te.singletonNone}fold(V,J){return this.tag?J(this.value):V()}isSome(){return this.tag}isNone(){return!this.tag}map(V){return this.tag?Te.some(V(this.value)):Te.none()}bind(V){return this.tag?V(this.value):Te.none()}exists(V){return this.tag&&V(this.value)}forall(V){return!this.tag||V(this.value)}filter(V){return!this.tag||V(this.value)?this:Te.none()}getOr(V){return this.tag?this.value:V}or(V){return this.tag?this:V}getOrThunk(V){return this.tag?this.value:V()}orThunk(V){return this.tag?this:V()}getOrDie(V){if(this.tag)return this.value;throw new Error(V??"Called getOrDie on None")}static from(V){return Xe(V)?Te.some(V):Te.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(V){this.tag&&V(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Te.singletonNone=new Te(!1);const kt=Array.prototype.slice,Ee=Array.prototype.indexOf,qe=Array.prototype.push,Cn=(z,V)=>Ee.call(z,V),wo=(z,V)=>Cn(z,V)>-1,Zn=(z,V)=>{for(let J=0,Ce=z.length;J<Ce;J++){const Ae=z[J];if(V(Ae,J))return!0}return!1},Je=(z,V)=>{const J=z.length,Ce=new Array(J);for(let Ae=0;Ae<J;Ae++){const Ot=z[Ae];Ce[Ae]=V(Ot,Ae)}return Ce},un=(z,V)=>{for(let J=0,Ce=z.length;J<Ce;J++){const Ae=z[J];V(Ae,J)}},B=(z,V)=>{const J=[];for(let Ce=0,Ae=z.length;Ce<Ae;Ce++){const Ot=z[Ce];V(Ot,Ce)&&J.push(Ot)}return J},Tt=(z,V)=>{if(z.length===0)return[];{let J=V(z[0]);const Ce=[];let Ae=[];for(let Ot=0,yn=z.length;Ot<yn;Ot++){const so=z[Ot],Hn=V(so);Hn!==J&&(Ce.push(Ae),Ae=[]),J=Hn,Ae.push(so)}return Ae.length!==0&&Ce.push(Ae),Ce}},bt=(z,V,J)=>(un(z,(Ce,Ae)=>{J=V(J,Ce,Ae)}),J),pn=(z,V,J)=>{for(let Ce=0,Ae=z.length;Ce<Ae;Ce++){const Ot=z[Ce];if(V(Ot,Ce))return Te.some(Ot);if(J(Ot,Ce))break}return Te.none()},io=(z,V)=>pn(z,V,At),ft=z=>{const V=[];for(let J=0,Ce=z.length;J<Ce;++J){if(!ge(z[J]))throw new Error("Arr.flatten item "+J+" was not an array, input: "+z);qe.apply(V,z[J])}return V},Mn=(z,V)=>ft(Je(z,V)),Hr=z=>{const V=kt.call(z,0);return V.reverse(),V},zt=(z,V)=>V>=0&&V<z.length?Te.some(z[V]):Te.none(),bo=z=>zt(z,0),St=z=>zt(z,z.length-1),nn=(z,V)=>{const J=[],Ce=vt(V)?Ae=>Zn(J,Ot=>V(Ot,Ae)):Ae=>wo(J,Ae);for(let Ae=0,Ot=z.length;Ae<Ot;Ae++){const yn=z[Ae];Ce(yn)||J.push(yn)}return J},Js=(z,V,J=Kt)=>z.exists(Ce=>J(Ce,V)),Pn=(z,V,J=Kt)=>Do(z,V,J).getOr(z.isNone()&&V.isNone()),Do=(z,V,J)=>z.isSome()&&V.isSome()?Te.some(J(z.getOrDie(),V.getOrDie())):Te.none(),Y=8,$o=9,Fi=11,Xo=1,Kr=3,Gl=(z,V)=>{const Ce=(V||document).createElement("div");if(Ce.innerHTML=z,!Ce.hasChildNodes()||Ce.childNodes.length>1){const Ae="HTML does not have a single root node";throw console.error(Ae,z),new Error(Ae)}return no(Ce.childNodes[0])},_o=(z,V)=>{const Ce=(V||document).createElement(z);return no(Ce)},ar=(z,V)=>{const Ce=(V||document).createTextNode(z);return no(Ce)},no=z=>{if(z==null)throw new Error("Node cannot be null or undefined");return{dom:z}},_t={fromHtml:Gl,fromTag:_o,fromText:ar,fromDom:no,fromPoint:(z,V,J)=>Te.from(z.dom.elementFromPoint(V,J)).map(no)},Ft=(z,V)=>{const J=z.dom;if(J.nodeType!==Xo)return!1;{const Ce=J;if(Ce.matches!==void 0)return Ce.matches(V);if(Ce.msMatchesSelector!==void 0)return Ce.msMatchesSelector(V);if(Ce.webkitMatchesSelector!==void 0)return Ce.webkitMatchesSelector(V);if(Ce.mozMatchesSelector!==void 0)return Ce.mozMatchesSelector(V);throw new Error("Browser lacks native selectors")}},dt=(z,V)=>z.dom===V.dom,wn=(z,V)=>{const J=z.dom,Ce=V.dom;return J===Ce?!1:J.contains(Ce)},lo=Ft,qo=typeof window<"u"?window:Function("return this;")(),mo=(z,V)=>{let J=V??qo;for(let Ce=0;Ce<z.length&&J!==void 0&&J!==null;++Ce)J=J[z[Ce]];return J},Ta=(z,V)=>{const J=z.split(".");return mo(J,V)},Nr=(z,V)=>Ta(z,V),go=(z,V)=>{const J=Nr(z,V);if(J==null)throw new Error(z+" not available on this browser");return J},Os=Object.getPrototypeOf,va=z=>go("HTMLElement",z),Ur=z=>{const V=Ta("ownerDocument.defaultView",z);return be(z)&&(va(V).prototype.isPrototypeOf(z)||/^HTML\w*Element$/.test(Os(z).constructor.name))},Pr=z=>z.dom.nodeName.toLowerCase(),Mo=z=>z.dom.nodeType,ua=z=>V=>Mo(V)===z,oo=z=>Mo(z)===Y||Pr(z)==="#comment",dn=z=>_n(z)&&Ur(z.dom),_n=ua(Xo),Ws=ua(Kr),xi=ua($o),Bt=ua(Fi),ii=z=>V=>_n(V)&&Pr(V)===z,jo=z=>_t.fromDom(z.dom.ownerDocument),li=z=>xi(z)?z:jo(z),vr=z=>Te.from(z.dom.parentNode).map(_t.fromDom),Ud=z=>Te.from(z.dom.parentElement).map(_t.fromDom),fa=z=>Te.from(z.dom.nextSibling).map(_t.fromDom),uc=z=>Je(z.dom.childNodes,_t.fromDom),hl=(z,V)=>{const J=z.dom.childNodes;return Te.from(J[V]).map(_t.fromDom)},Vi=z=>hl(z,0),Kl=z=>hl(z,z.dom.childNodes.length-1),Ir=z=>Bt(z)&&Xe(z.dom.host),Hi=vt(Element.prototype.attachShadow)&&vt(Node.prototype.getRootNode)?z=>_t.fromDom(z.dom.getRootNode()):li,wi=z=>{const V=Hi(z);return Ir(V)?Te.some(V):Te.none()},bl=z=>_t.fromDom(z.dom.host),jc=z=>{const V=Ws(z)?z.dom.parentNode:z.dom;if(V==null||V.ownerDocument===null)return!1;const J=V.ownerDocument;return wi(_t.fromDom(V)).fold(()=>J.body.contains(V),Rt(jc,bl))};var Jt=(z,V,J,Ce,Ae)=>z(J,Ce)?Te.some(J):vt(Ae)&&Ae(J)?Te.none():V(J,Ce,Ae);const yu=(z,V,J)=>{let Ce=z.dom;const Ae=vt(J)?J:At;for(;Ce.parentNode;){Ce=Ce.parentNode;const Ot=_t.fromDom(Ce);if(V(Ot))return Te.some(Ot);if(Ae(Ot))break}return Te.none()},Yr=(z,V,J)=>Jt((Ae,Ot)=>Ot(Ae),yu,z,V,J),of=(z,V,J)=>yu(z,Ce=>Ft(Ce,V),J),vu=(z,V,J)=>Jt((Ae,Ot)=>Ft(Ae,Ot),of,z,V,J),ki=z=>vu(z,"[contenteditable]"),fc=(z,V=!1)=>jc(z)?z.dom.isContentEditable:ki(z).fold(tn(V),J=>ci(J)==="true"),ci=z=>z.dom.contentEditable,Qs=(z,V)=>{vr(z).each(Ce=>{Ce.dom.insertBefore(V.dom,z.dom)})},Ui=(z,V)=>{fa(z).fold(()=>{vr(z).each(Ae=>{Yl(Ae,V)})},Ce=>{Qs(Ce,V)})},rf=(z,V)=>{Vi(z).fold(()=>{Yl(z,V)},Ce=>{z.dom.insertBefore(V.dom,Ce.dom)})},Yl=(z,V)=>{z.dom.appendChild(V.dom)},Ff=(z,V)=>{un(V,J=>{Qs(z,J)})},yl=(z,V)=>{un(V,J=>{Yl(z,J)})},xu=z=>{z.dom.textContent="",un(uc(z),V=>{Jo(V)})},Jo=z=>{const V=z.dom;V.parentNode!==null&&V.parentNode.removeChild(V)};var As=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Xa=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Zc=tinymce.util.Tools.resolve("tinymce.util.VK");const wu=z=>Je(z,_t.fromDom),ku=Object.keys,ol=(z,V)=>{const J=ku(z);for(let Ce=0,Ae=J.length;Ce<Ae;Ce++){const Ot=J[Ce],yn=z[Ot];V(yn,Ot)}},ea=z=>(V,J)=>{z[J]=V},Vf=(z,V,J,Ce)=>{ol(z,(Ae,Ot)=>{(V(Ae,Ot)?J:Ce)(Ae,Ot)})},xr=(z,V)=>{const J={};return Vf(z,V,ea(J),lt),J},zr=(z,V,J)=>{if(de(J)||Me(J)||Wt(J))z.setAttribute(V,J+"");else throw console.error("Invalid call to Attribute.set. Key ",V,":: Value ",J,":: Element ",z),new Error("Attribute value was not simple")},vl=(z,V)=>{const J=z.dom;ol(V,(Ce,Ae)=>{zr(J,Ae,Ce)})},rl=z=>bt(z.dom.attributes,(V,J)=>(V[J.name]=J.value,V),{}),Tc=(z,V)=>_t.fromDom(z.dom.cloneNode(V)),mc=z=>Tc(z,!0),ad=(z,V)=>{const J=_t.fromTag(V),Ce=rl(z);return vl(J,Ce),J},za=(z,V)=>{const J=ad(z,V);Ui(z,J);const Ce=uc(z);return yl(J,Ce),Jo(z),J};var as=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Oa=tinymce.util.Tools.resolve("tinymce.util.Tools");const Fs=z=>V=>Xe(V)&&V.nodeName.toLowerCase()===z,sl=z=>V=>Xe(V)&&z.test(V.nodeName),Or=z=>Xe(z)&&z.nodeType===3,Ha=z=>Xe(z)&&z.nodeType===1,_i=sl(/^(OL|UL|DL)$/),Ua=sl(/^(OL|UL)$/),eo=Fs("ol"),di=sl(/^(LI|DT|DD)$/),Vs=sl(/^(DT|DD)$/),xa=sl(/^(TH|TD)$/),ji=Fs("br"),Xr=z=>{var V;return((V=z.parentNode)===null||V===void 0?void 0:V.firstChild)===z},Ns=(z,V)=>Xe(V)&&V.nodeName in z.schema.getTextBlockElements(),Xl=(z,V)=>Xe(z)&&z.nodeName in V,qn=(z,V)=>Xe(V)&&V.nodeName in z.schema.getVoidElements(),Jl=(z,V)=>ji(V)?z.isBlock(V.nextSibling)&&!ji(V.previousSibling):!1,Zi=(z,V,J)=>{const Ce=z.isEmpty(V);return J&&z.select("span[data-mce-type=bookmark]",V).length>0?!1:Ce},_s=(z,V)=>z.isChildOf(V,z.getRoot()),al=z=>V=>V.options.get(z),$s=z=>{const V=z.options.register;V("lists_indent_on_tab",{processor:"boolean",default:!0})},id=al("lists_indent_on_tab"),sf=al("forced_root_block"),or=al("forced_root_block_attrs"),ne=(z,V)=>{const J=z.dom,Ce=z.schema.getBlockElements(),Ae=J.createFragment(),Ot=sf(z),yn=or(z);let so,Hn,En=!1;for(Hn=J.create(Ot,yn),Xl(V.firstChild,Ce)||Ae.appendChild(Hn);so=V.firstChild;){const gr=so.nodeName;!En&&(gr!=="SPAN"||so.getAttribute("data-mce-type")!=="bookmark")&&(En=!0),Xl(so,Ce)?(Ae.appendChild(so),Hn=null):(Hn||(Hn=J.create(Ot,yn),Ae.appendChild(Hn)),Hn.appendChild(so))}return!En&&Hn&&Hn.appendChild(J.create("br",{"data-mce-bogus":"1"})),Ae},Oe=as.DOM,Ie=(z,V,J)=>{const Ce=En=>{const gr=En.parentNode;gr&&Oa.each(Ae,bs=>{gr.insertBefore(bs,J.parentNode)}),Oe.remove(En)},Ae=Oe.select('span[data-mce-type="bookmark"]',V),Ot=ne(z,J),yn=Oe.createRng();yn.setStartAfter(J),yn.setEndAfter(V);const so=yn.extractContents();for(let En=so.firstChild;En;En=En.firstChild)if(En.nodeName==="LI"&&z.dom.isEmpty(En)){Oe.remove(En);break}z.dom.isEmpty(so)||Oe.insertAfter(so,V),Oe.insertAfter(Ot,V);const Hn=J.parentElement;Hn&&Zi(z.dom,Hn)&&Ce(Hn),Oe.remove(J),Zi(z.dom,V)&&Oe.remove(V)},et=ii("dd"),Vt=ii("dt"),An=(z,V)=>{et(V)?za(V,"dt"):Vt(V)&&Ud(V).each(J=>Ie(z,J.dom,V.dom))},ro=z=>{Vt(z)&&za(z,"dd")},Wn=(z,V,J)=>{V==="Indent"?un(J,ro):un(J,Ce=>An(z,Ce))},Vn=(z,V)=>{if(Or(z))return{container:z,offset:V};const J=As.getNode(z,V);return Or(J)?{container:J,offset:V>=z.childNodes.length?J.data.length:0}:J.previousSibling&&Or(J.previousSibling)?{container:J.previousSibling,offset:J.previousSibling.data.length}:J.nextSibling&&Or(J.nextSibling)?{container:J.nextSibling,offset:0}:{container:z,offset:V}},is=z=>{const V=z.cloneRange(),J=Vn(z.startContainer,z.startOffset);V.setStart(J.container,J.offset);const Ce=Vn(z.endContainer,z.endOffset);return V.setEnd(Ce.container,Ce.offset),V},wr=["OL","UL","DL"],jr=wr.join(","),Aa=(z,V)=>{const J=V||z.selection.getStart(!0);return z.dom.getParent(J,jr,Ja(z,J))},il=(z,V)=>Xe(z)&&V.length===1&&V[0]===z,Qo=z=>B(z.querySelectorAll(jr),_i),af=z=>{const V=Aa(z),J=z.selection.getSelectedBlocks();return il(V,J)?Qo(V):B(J,Ce=>_i(Ce)&&V!==Ce)},Wc=(z,V)=>{const J=Oa.map(V,Ce=>{const Ae=z.dom.getParent(Ce,"li,dd,dt",Ja(z,Ce));return Ae||Ce});return nn(J)},ja=z=>{const V=z.selection.getSelectedBlocks();return B(Wc(z,V),di)},_u=z=>B(ja(z),Vs),ta=(z,V)=>{const J=z.dom.getParents(V,"TD,TH");return J.length>0?J[0]:z.getBody()},Hp=(z,V)=>!_i(V)&&!di(V)&&Zn(wr,J=>z.isValidChild(V.nodeName,J)),Ja=(z,V)=>{const J=z.dom.getParents(V,z.dom.isBlock);return io(J,Ae=>Hp(z.schema,Ae)).getOr(z.getBody())},Rl=z=>vr(z).exists(V=>di(V.dom)&&Vi(V).exists(J=>!_i(J.dom))&&Kl(V).exists(J=>!_i(J.dom))),ip=(z,V)=>{const J=z.dom.getParents(V,"ol,ul",Ja(z,V));return St(J)},Pg=z=>{const V=ip(z,z.selection.getStart()),J=B(z.selection.getSelectedBlocks(),Ua);return V.toArray().concat(J)},Ut=z=>{const V=z.selection.getStart();return z.dom.getParents(V,"ol,ul",Ja(z,V))},Cu=z=>{const V=Pg(z),J=Ut(z);return io(J,Ce=>Rl(_t.fromDom(Ce))).fold(()=>lp(z,V),Ce=>[Ce])},lp=(z,V)=>{const J=Je(V,Ce=>ip(z,Ce).getOr(Ce));return nn(J)},jd=z=>/\btox\-/.test(z.className),Jr=(z,V)=>pn(z,_i,xa).exists(J=>J.nodeName===V&&!jd(J)),Up=(z,V)=>V!==null&&!z.dom.isEditable(V),Wi=z=>{const V=Aa(z);return Up(z,V)},Su=(z,V)=>{const J=z.dom.getParent(V,"ol,ul,dl");return Up(z,J)},cp=(z,V)=>{const J=z.selection.getNode();return V({parents:z.dom.getParents(J),element:J}),z.on("NodeChange",V),()=>z.off("NodeChange",V)},zc=(z,V)=>{const Ce=(V||document).createDocumentFragment();return un(z,Ae=>{Ce.appendChild(Ae.dom)}),_t.fromDom(Ce)},ld=(z,V,J)=>z.dispatch("ListMutation",{action:V,element:J}),wa=(z=>V=>V.replace(z,""))(/^\s+|\s+$/g),cd=z=>z.length>0,jp=z=>!cd(z),$c=z=>z.style!==void 0&&vt(z.style.getPropertyValue),Hf=(z,V,J)=>{if(!de(J))throw console.error("Invalid call to CSS.set. Property ",V,":: Value ",J,":: Element ",z),new Error("CSS value must be a string: "+J);$c(z)&&z.style.setProperty(V,J)},lf=(z,V,J)=>{const Ce=z.dom;Hf(Ce,V,J)},pc=z=>lo(z,"OL,UL"),Oc=z=>lo(z,"LI"),Co=z=>Vi(z).exists(pc),Eu=z=>Kl(z).exists(pc),na=z=>"listAttributes"in z,Zd=z=>"isComment"in z,Tu=z=>"isFragment"in z,$i=z=>z.depth>0,Hs=z=>z.isSelected,Wd=z=>{const V=uc(z),J=Eu(z)?V.slice(0,-1):V;return Je(J,mc)},Uf=(z,V,J)=>vr(z).filter(_n).map(Ce=>({depth:V,dirty:!1,isSelected:J,content:Wd(z),itemAttributes:rl(z),listAttributes:rl(Ce),listType:Pr(Ce),isInPreviousLi:!1})),ma=(z,V)=>{Yl(z.item,V.list)},Ds=z=>{for(let V=1;V<z.length;V++)ma(z[V-1],z[V])},Fr=(z,V)=>{Do(St(z),bo(V),ma)},Cs=(z,V)=>{const J={list:_t.fromTag(V,z),item:_t.fromTag("li",z)};return Yl(J.list,J.item),J},qi=(z,V,J)=>{const Ce=[];for(let Ae=0;Ae<J;Ae++)Ce.push(Cs(z,na(V)?V.listType:V.parentListType));return Ce},qs=(z,V)=>{for(let J=0;J<z.length-1;J++)lf(z[J].item,"list-style-type","none");St(z).each(J=>{na(V)&&(vl(J.list,V.listAttributes),vl(J.item,V.itemAttributes)),yl(J.item,V.content)})},Na=(z,V)=>{Pr(z.list)!==V.listType&&(z.list=za(z.list,V.listType)),vl(z.list,V.listAttributes)},hs=(z,V,J)=>{const Ce=_t.fromTag("li",z);return vl(Ce,V),yl(Ce,J),Ce},zu=(z,V)=>{Yl(z.list,V),z.item=V},Us=(z,V,J)=>{const Ce=V.slice(0,J.depth);return St(Ce).each(Ae=>{if(na(J)){const Ot=hs(z,J.itemAttributes,J.content);zu(Ae,Ot),Na(Ae,J)}else if(Tu(J))yl(Ae.item,J.content);else{const Ot=_t.fromHtml(`<!--${J.content}-->`);Yl(Ae.list,Ot)}}),Ce},pa=(z,V,J)=>{const Ce=qi(z,J,J.depth-V.length);return Ds(Ce),qs(Ce,J),Fr(V,Ce),V.concat(Ce)},oa=(z,V)=>{let J=Te.none();const Ce=bt(V,(Ae,Ot,yn)=>Zd(Ot)?yn===0?(J=Te.some(Ot),Ae):Us(z,Ae,Ot):Ot.depth>Ae.length?pa(z,Ae,Ot):Us(z,Ae,Ot),[]);return J.each(Ae=>{const Ot=_t.fromHtml(`<!--${Ae.content}-->`);bo(Ce).each(yn=>{rf(yn.list,Ot)})}),bo(Ce).map(Ae=>Ae.list)},$d=(z,V)=>{switch(z){case"Indent":V.depth++;break;case"Outdent":V.depth--;break;case"Flatten":V.depth=0}V.dirty=!0},Qr=(z,V)=>{na(z)&&na(V)&&(z.listType=V.listType,z.listAttributes={...V.listAttributes})},jf=z=>{z.listAttributes=xr(z.listAttributes,(V,J)=>J!=="start")},dd=(z,V)=>{const J=z[V].depth,Ce=Ot=>Ot.depth===J&&!Ot.dirty,Ae=Ot=>Ot.depth<J;return pn(Hr(z.slice(0,V)),Ce,Ae).orThunk(()=>pn(z.slice(V+1),Ce,Ae))},gc=z=>(un(z,(V,J)=>{dd(z,J).fold(()=>{V.dirty&&na(V)&&jf(V)},Ce=>Qr(V,Ce))}),z),So=z=>{let V=z;return{get:()=>V,set:Ae=>{V=Ae}}},ra=(z,V,J,Ce)=>{var Ae;if(oo(Ce))return[{depth:z+1,content:(Ae=Ce.dom.nodeValue)!==null&&Ae!==void 0?Ae:"",dirty:!1,isSelected:!1,isComment:!0}];V.each(so=>{dt(so.start,Ce)&&J.set(!0)});const Ot=Uf(Ce,z,J.get());V.each(so=>{dt(so.end,Ce)&&J.set(!1)});const yn=Kl(Ce).filter(pc).map(so=>Ci(z,V,J,so)).getOr([]);return Ot.toArray().concat(yn)},qd=(z,V,J,Ce)=>Vi(Ce).filter(pc).fold(()=>ra(z,V,J,Ce),Ae=>{const Ot=bt(uc(Ce),(yn,so,Hn)=>{if(Hn===0)return yn;if(Oc(so))return yn.concat(ra(z,V,J,so));{const En={isFragment:!0,depth:z,content:[so],isSelected:!1,dirty:!1,parentListType:Pr(Ae)};return yn.concat(En)}},[]);return Ci(z,V,J,Ae).concat(Ot)}),Ci=(z,V,J,Ce)=>Mn(uc(Ce),Ae=>{const Ot=pc(Ae)?Ci:qd,yn=z+1;return Ot(yn,V,J,Ae)}),Ou=(z,V)=>{const J=So(!1),Ce=0;return Je(z,Ae=>({sourceList:Ae,entries:Ci(Ce,V,J,Ae)}))},Ac=(z,V)=>{const J=gc(V);return Je(J,Ce=>{const Ae=Zd(Ce)?zc([_t.fromHtml(`<!--${Ce.content}-->`)]):zc(Ce.content);return _t.fromDom(ne(z,Ae.dom))})},ud=(z,V)=>{const J=gc(V);return oa(z.contentDocument,J).toArray()},Zp=(z,V)=>Mn(Tt(V,$i),J=>bo(J).exists($i)?ud(z,J):Ac(z,J)),fd=(z,V)=>{un(B(z,Hs),J=>$d(V,J))},Qa=z=>{const V=Je(ja(z),_t.fromDom);return Do(io(V,ln(Co)),io(Hr(V),ln(Co)),(J,Ce)=>({start:J,end:Ce}))},dp=(z,V,J)=>{const Ce=Ou(V,Qa(z));un(Ce,Ae=>{fd(Ae.entries,J);const Ot=Zp(z,Ae.entries);un(Ot,yn=>{ld(z,J==="Indent"?"IndentList":"OutdentList",yn.dom)}),Ff(Ae.sourceList,Ot),Jo(Ae.sourceList)})},ye=(z,V)=>{const J=wu(Cu(z)),Ce=wu(_u(z));let Ae=!1;if(J.length||Ce.length){const Ot=z.selection.getBookmark();dp(z,J,V),Wn(z,V,Ce),z.selection.moveToBookmark(Ot),z.selection.setRng(is(z.selection.getRng())),z.nodeChanged(),Ae=!0}return Ae},hc=(z,V)=>!Wi(z)&&ye(z,V),Si=z=>hc(z,"Indent"),qc=z=>hc(z,"Outdent"),cf=z=>hc(z,"Flatten"),Gd="\uFEFF",Pe=z=>z===Gd,Dt=(z,V,J)=>yu(z,V,J).isSome(),xt=(z,V)=>Dt(z,ht(dt,V));var Sn=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Po=as.DOM,ir=z=>{const V={},J=Ce=>{let Ae=z[Ce?"startContainer":"endContainer"],Ot=z[Ce?"startOffset":"endOffset"];if(Ha(Ae)){const yn=Po.create("span",{"data-mce-type":"bookmark"});Ae.hasChildNodes()?(Ot=Math.min(Ot,Ae.childNodes.length-1),Ce?Ae.insertBefore(yn,Ae.childNodes[Ot]):Po.insertAfter(yn,Ae.childNodes[Ot])):Ae.appendChild(yn),Ae=yn,Ot=0}V[Ce?"startContainer":"endContainer"]=Ae,V[Ce?"startOffset":"endOffset"]=Ot};return J(!0),z.collapsed||J(),V},Dr=z=>{const V=Ce=>{const Ae=so=>{var Hn;let En=(Hn=so.parentNode)===null||Hn===void 0?void 0:Hn.firstChild,gr=0;for(;En;){if(En===so)return gr;(!Ha(En)||En.getAttribute("data-mce-type")!=="bookmark")&&gr++,En=En.nextSibling}return-1};let Ot=z[Ce?"startContainer":"endContainer"],yn=z[Ce?"startOffset":"endOffset"];if(Ot){if(Ha(Ot)&&Ot.parentNode){const so=Ot;yn=Ae(Ot),Ot=Ot.parentNode,Po.remove(so),!Ot.hasChildNodes()&&Po.isBlock(Ot)&&Ot.appendChild(Po.create("br"))}z[Ce?"startContainer":"endContainer"]=Ot,z[Ce?"startOffset":"endOffset"]=yn}};V(!0),V();const J=Po.createRng();return J.setStart(z.startContainer,z.startOffset),z.endContainer&&J.setEnd(z.endContainer,z.endOffset),is(J)},Rr=z=>{switch(z){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},ui=(z,V,J)=>{const Ce=J["list-style-type"]?J["list-style-type"]:null;z.setStyle(V,"list-style-type",Ce)},Rn=(z,V)=>{Oa.each(V,(J,Ce)=>{z.setAttribute(Ce,J)})},Rs=(z,V,J)=>{Rn(V,J["list-attributes"]),Oa.each(z.select("li",V),Ce=>{Rn(Ce,J["list-item-attributes"])})},Ei=(z,V,J)=>{ui(z,V,J),Rs(z,V,J)},Wp=(z,V,J)=>{Oa.each(J,Ce=>z.setStyle(V,Ce,""))},bc=(z,V)=>Xe(V)&&!Xl(V,z.schema.getBlockElements()),Br=(z,V,J,Ce)=>{let Ae=V[J?"startContainer":"endContainer"];const Ot=V[J?"startOffset":"endOffset"];Ha(Ae)&&(Ae=Ae.childNodes[Math.min(Ot,Ae.childNodes.length-1)]||Ae),!J&&ji(Ae.nextSibling)&&(Ae=Ae.nextSibling);const yn=Hn=>{for(;!z.dom.isBlock(Hn)&&Hn.parentNode&&Ce!==Hn;)Hn=Hn.parentNode;return Hn},so=(Hn,En)=>{var gr;const bs=new Xa(Hn,yn(Hn)),Ti=En?"next":"prev";let pd;for(;pd=bs[Ti]();)if(!(qn(z,pd)||Pe(pd.textContent)||((gr=pd.textContent)===null||gr===void 0?void 0:gr.length)===0))return Te.some(pd);return Te.none()};if(J&&Or(Ae))if(Pe(Ae.textContent))Ae=so(Ae,!1).getOr(Ae);else for(Ae.parentNode!==null&&bc(z,Ae.parentNode)&&(Ae=Ae.parentNode);Ae.previousSibling!==null&&(bc(z,Ae.previousSibling)||Or(Ae.previousSibling));)Ae=Ae.previousSibling;if(!J&&Or(Ae))if(Pe(Ae.textContent))Ae=so(Ae,!0).getOr(Ae);else for(Ae.parentNode!==null&&bc(z,Ae.parentNode)&&(Ae=Ae.parentNode);Ae.nextSibling!==null&&(bc(z,Ae.nextSibling)||Or(Ae.nextSibling));)Ae=Ae.nextSibling;for(;Ae.parentNode!==Ce;){const Hn=Ae.parentNode;if(Ns(z,Ae)||/^(TD|TH)$/.test(Hn.nodeName))return Ae;Ae=Hn}return Ae},yc=(z,V,J)=>{const Ce=[],Ae=z.dom,Ot=Br(z,V,!0,J),yn=Br(z,V,!1,J);let so;const Hn=[];for(let En=Ot;En&&(Hn.push(En),En!==yn);En=En.nextSibling);return Oa.each(Hn,En=>{var gr;if(Ns(z,En)){Ce.push(En),so=null;return}if(Ae.isBlock(En)||ji(En)){ji(En)&&Ae.remove(En),so=null;return}const bs=En.nextSibling;if(Sn.isBookmarkNode(En)&&(_i(bs)||Ns(z,bs)||!bs&&En.parentNode===J)){so=null;return}so||(so=Ae.create("p"),(gr=En.parentNode)===null||gr===void 0||gr.insertBefore(so,En),Ce.push(so)),so.appendChild(En)}),Ce},Zr=(z,V,J)=>{const Ce=z.getStyle(V,"list-style-type");let Ae=J?J["list-style-type"]:"";return Ae=Ae===null?"":Ae,Ce===Ae},ga=(z,V)=>{const J=z.selection.getStart(!0),Ce=Br(z,V,!0,z.getBody());return xt(_t.fromDom(Ce),_t.fromDom(V.commonAncestorContainer))?V.commonAncestorContainer:J},Nc=(z,V,J)=>{const Ce=z.selection.getRng();let Ae="LI";const Ot=Ja(z,ga(z,Ce)),yn=z.dom;if(yn.getContentEditable(z.selection.getNode())==="false")return;V=V.toUpperCase(),V==="DL"&&(Ae="DT");const so=ir(Ce),Hn=B(yc(z,Ce,Ot),z.dom.isEditable);Oa.each(Hn,En=>{let gr;const bs=En.previousSibling,Ti=En.parentNode;di(Ti)||(bs&&_i(bs)&&bs.nodeName===V&&Zr(yn,bs,J)?(gr=bs,En=yn.rename(En,Ae),bs.appendChild(En)):(gr=yn.create(V),Ti.insertBefore(gr,En),gr.appendChild(En),En=yn.rename(En,Ae)),Wp(yn,En,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Ei(yn,gr,J),xl(z.dom,gr))}),z.selection.setRng(Dr(so))},Au=(z,V)=>_i(z)&&z.nodeName===(V==null?void 0:V.nodeName),Zf=(z,V,J)=>{const Ce=z.getStyle(V,"list-style-type",!0),Ae=z.getStyle(J,"list-style-type",!0);return Ce===Ae},up=(z,V)=>z.className===V.className,md=(z,V,J)=>Au(V,J)&&Zf(z,V,J)&&up(V,J),xl=(z,V)=>{let J,Ce=V.nextSibling;if(md(z,V,Ce)){const Ae=Ce;for(;J=Ae.firstChild;)V.appendChild(J);z.remove(Ae)}if(Ce=V.previousSibling,md(z,V,Ce)){const Ae=Ce;for(;J=Ae.lastChild;)V.insertBefore(J,V.firstChild);z.remove(Ae)}},ll=(z,V,J,Ce)=>{if(V.nodeName!==J){const Ae=z.dom.rename(V,J);Ei(z.dom,Ae,Ce),ld(z,Rr(J),Ae)}else Ei(z.dom,V,Ce),ld(z,Rr(J),V)},Wr=(z,V,J,Ce)=>{if(V.classList.forEach((Ae,Ot,yn)=>{Ae.startsWith("tox-")&&(yn.remove(Ae),yn.length===0&&V.removeAttribute("class"))}),V.nodeName!==J){const Ae=z.dom.rename(V,J);Ei(z.dom,Ae,Ce),ld(z,Rr(J),Ae)}else Ei(z.dom,V,Ce),ld(z,Rr(J),V)},Ql=(z,V,J,Ce,Ae)=>{const Ot=_i(V);if(Ot&&V.nodeName===Ce&&!ka(Ae)&&!jd(V))cf(z);else{Nc(z,Ce,Ae);const yn=ir(z.selection.getRng()),so=Ot?[V,...J]:J,Hn=Ot&&jd(V)?Wr:ll;Oa.each(so,En=>{Hn(z,En,Ce,Ae)}),z.selection.setRng(Dr(yn))}},ka=z=>"list-style-type"in z,Gc=(z,V,J,Ce)=>{if(V!==z.getBody())if(V)if(V.nodeName===J&&!ka(Ce)&&!jd(V))cf(z);else{const Ae=ir(z.selection.getRng());jd(V)&&V.classList.forEach((yn,so,Hn)=>{yn.startsWith("tox-")&&(Hn.remove(yn),Hn.length===0&&V.removeAttribute("class"))}),Ei(z.dom,V,Ce);const Ot=z.dom.rename(V,J);xl(z.dom,Ot),z.selection.setRng(Dr(Ae)),Nc(z,J,Ce),ld(z,Rr(J),Ot)}else Nc(z,J,Ce),ld(z,Rr(J),V)},fi=(z,V,J)=>{const Ce=Aa(z);if(Su(z,Ce))return;const Ae=af(z),Ot=be(J)?J:{};Ae.length>0?Ql(z,Ce,Ae,V,Ot):Gc(z,Ce,V,Ot)},Kd=as.DOM,Gs=(z,V)=>{const J=V.parentElement;if(J&&J.nodeName==="LI"&&J.firstChild===V){const Ce=J.previousSibling;Ce&&Ce.nodeName==="LI"?(Ce.appendChild(V),Zi(z,J)&&Kd.remove(J)):Kd.setStyle(J,"listStyleType","none")}if(_i(J)){const Ce=J.previousSibling;Ce&&Ce.nodeName==="LI"&&Ce.appendChild(V)}},sa=(z,V)=>{const J=Oa.grep(z.select("ol,ul",V));Oa.each(J,Ce=>{Gs(z,Ce)})},ei=(z,V,J,Ce)=>{let Ae=V.startContainer;const Ot=V.startOffset;if(Or(Ae)&&(J?Ot<Ae.data.length:Ot>0))return Ae;const yn=z.schema.getNonEmptyElements();Ha(Ae)&&(Ae=As.getNode(Ae,Ot));const so=new Xa(Ae,Ce);J&&Jl(z.dom,Ae)&&so.next();const Hn=J?so.next.bind(so):so.prev2.bind(so);for(;Ae=Hn();)if(Ae.nodeName==="LI"&&!Ae.hasChildNodes()||yn[Ae.nodeName]||Or(Ae)&&Ae.data.length>0)return Ae;return null},at=(z,V)=>{const J=V.childNodes;return J.length===1&&!_i(J[0])&&z.isBlock(J[0])},wl=z=>Te.from(z).map(_t.fromDom).filter(dn).exists(V=>fc(V)&&!wo(["details"],Pr(V))),vm=(z,V)=>{at(z,V)&&wl(V.firstChild)&&z.remove(V.firstChild,!0)},Bs=(z,V,J)=>{let Ce;const Ae=at(z,J)?J.firstChild:J;if(vm(z,V),!Zi(z,V,!0))for(;Ce=V.firstChild;)Ae.appendChild(Ce)},Da=(z,V,J)=>{let Ce;const Ae=V.parentNode;if(!_s(z,V)||!_s(z,J))return;_i(J.lastChild)&&(Ce=J.lastChild),Ae===J.lastChild&&ji(Ae.previousSibling)&&z.remove(Ae.previousSibling);const Ot=J.lastChild;Ot&&ji(Ot)&&V.hasChildNodes()&&z.remove(Ot),Zi(z,J,!0)&&xu(_t.fromDom(J)),Bs(z,V,J),Ce&&J.appendChild(Ce);const so=wn(_t.fromDom(J),_t.fromDom(V))?z.getParents(V,_i,J):[];z.remove(V),un(so,Hn=>{Zi(z,Hn)&&Hn!==z.getRoot()&&z.remove(Hn)})},Ra=(z,V,J)=>{xu(_t.fromDom(J)),Da(z.dom,V,J),z.selection.setCursorLocation(J,0)},Gi=(z,V,J,Ce)=>{const Ae=z.dom;if(Ae.isEmpty(Ce))Ra(z,J,Ce);else{const Ot=ir(V);Da(Ae,J,Ce),z.selection.setRng(Dr(Ot))}},Nu=(z,V,J,Ce)=>{const Ae=ir(V);Da(z.dom,J,Ce);const Ot=Dr(Ae);z.selection.setRng(Ot)},Za=(z,V)=>{const J=z.dom,Ce=z.selection,Ae=Ce.getStart(),Ot=ta(z,Ae),yn=J.getParent(Ce.getStart(),"LI",Ot);if(yn){const so=yn.parentElement;if(so===z.getBody()&&Zi(J,so))return!0;const Hn=is(Ce.getRng()),En=J.getParent(ei(z,Hn,V,Ot),"LI",Ot),gr=En&&(V?J.isChildOf(yn,En):J.isChildOf(En,yn));if(En&&En!==yn&&!gr)return z.undoManager.transact(()=>{V?Gi(z,Hn,En,yn):Xr(yn)?qc(z):Nu(z,Hn,yn,En)}),!0;if(gr&&!V&&En!==yn)return z.undoManager.transact(()=>{if(Hn.commonAncestorContainer.parentElement){const bs=ir(Hn),Ti=Hn.commonAncestorContainer.parentElement;Bs(J,Hn.commonAncestorContainer.parentElement,En),Ti.remove();const pd=Dr(bs);z.selection.setRng(pd)}}),!0;if(!En&&!V&&Hn.startOffset===0&&Hn.endOffset===0)return z.undoManager.transact(()=>{cf(z)}),!0}return!1},ur=(z,V,J)=>{const Ce=z.getParent(V.parentNode,z.isBlock,J);z.remove(V),Ce&&z.isEmpty(Ce)&&z.remove(Ce)},Bl=(z,V)=>{const J=z.dom,Ce=z.selection.getStart(),Ae=ta(z,Ce),Ot=J.getParent(Ce,J.isBlock,Ae);if(Ot&&J.isEmpty(Ot)){const yn=is(z.selection.getRng()),so=J.getParent(ei(z,yn,V,Ae),"LI",Ae);if(so){const Hn=Ti=>wo(["td","th","caption"],Pr(Ti)),En=Ti=>Ti.dom===Ae,gr=Yr(_t.fromDom(so),Hn,En),bs=Yr(_t.fromDom(yn.startContainer),Hn,En);return Pn(gr,bs,dt)?(z.undoManager.transact(()=>{const Ti=so.parentNode;ur(J,Ot,Ae),xl(J,Ti),z.selection.select(so,!0),z.selection.collapse(V)}),!0):!1}}return!1},Ks=(z,V)=>Za(z,V)||Bl(z,V),Ar=z=>{const V=z.selection.getStart(),J=ta(z,V);return z.dom.getParent(V,"LI,DT,DD",J)||ja(z).length>0},xm=z=>Ar(z)?(z.undoManager.transact(()=>{z.execCommand("Delete"),sa(z.dom,z.getBody())}),!0):!1,Ml=(z,V)=>{const J=z.selection;return!Su(z,J.getNode())&&(J.isCollapsed()?Ks(z,V):xm(z))},Wa=z=>{z.on("ExecCommand",V=>{const J=V.command.toLowerCase();(J==="delete"||J==="forwarddelete")&&Ar(z)&&sa(z.dom,z.getBody())}),z.on("keydown",V=>{V.keyCode===Zc.BACKSPACE?Ml(z,!1)&&V.preventDefault():V.keyCode===Zc.DELETE&&Ml(z,!0)&&V.preventDefault()})},kl=z=>({backspaceDelete:V=>{Ml(z,V)}}),Ue=(z,V)=>{const J=Aa(z);J===null||Su(z,J)||z.undoManager.transact(()=>{be(V.styles)&&z.dom.setStyles(J,V.styles),be(V.attrs)&&ol(V.attrs,(Ce,Ae)=>z.dom.setAttrib(J,Ae,Ce))})},_a=z=>{const V=Hr(wa(z).split("")),J=Je(V,(Ce,Ae)=>{const Ot=Ce.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,Ae)*Ot});return bt(J,(Ce,Ae)=>Ce+Ae,0)},Kc=z=>{if(z--,z<0)return"";{const V=z%26,J=Math.floor(z/26),Ce=Kc(J),Ae=String.fromCharCode("A".charCodeAt(0)+V);return Ce+Ae}},_l=z=>/^[A-Z]+$/.test(z),Ms=z=>/^[a-z]+$/.test(z),es=z=>/^[0-9]+$/.test(z),ls=z=>es(z)?2:_l(z)?0:Ms(z)?1:jp(z)?3:4,Mr=z=>{switch(ls(z)){case 2:return Te.some({listStyleType:Te.none(),start:z});case 0:return Te.some({listStyleType:Te.some("upper-alpha"),start:_a(z).toString()});case 1:return Te.some({listStyleType:Te.some("lower-alpha"),start:_a(z).toString()});case 3:return Te.some({listStyleType:Te.none(),start:""});case 4:return Te.none()}},Wf=z=>{const V=parseInt(z.start,10);return Js(z.listStyleType,"upper-alpha")?Kc(V):Js(z.listStyleType,"lower-alpha")?Kc(V).toLowerCase():z.start},Ln=z=>{const V=Aa(z);!eo(V)||Su(z,V)||z.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Wf({start:z.dom.getAttrib(V,"start","1"),listStyleType:Te.from(z.dom.getStyle(V,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:J=>{const Ce=J.getData();Mr(Ce.start).each(Ae=>{z.execCommand("mceListUpdate",!1,{attrs:{start:Ae.start==="1"?"":Ae.start},styles:{"list-style-type":Ae.listStyleType.getOr("")}})}),J.close()}})},Ba=(z,V)=>()=>{const J=Aa(z);return Xe(J)&&J.nodeName===V},mi=z=>{z.addCommand("mceListProps",()=>{Ln(z)})},lr=z=>{z.on("BeforeExecCommand",V=>{const J=V.command.toLowerCase();J==="indent"?Si(z):J==="outdent"&&qc(z)}),z.addCommand("InsertUnorderedList",(V,J)=>{fi(z,"UL",J)}),z.addCommand("InsertOrderedList",(V,J)=>{fi(z,"OL",J)}),z.addCommand("InsertDefinitionList",(V,J)=>{fi(z,"DL",J)}),z.addCommand("RemoveList",()=>{cf(z)}),mi(z),z.addCommand("mceListUpdate",(V,J)=>{be(J)&&Ue(z,J)}),z.addQueryStateHandler("InsertUnorderedList",Ba(z,"UL")),z.addQueryStateHandler("InsertOrderedList",Ba(z,"OL")),z.addQueryStateHandler("InsertDefinitionList",Ba(z,"DL"))};var ha=tinymce.util.Tools.resolve("tinymce.html.Node");const vc=z=>z.type===3,ec=z=>z.length===0,fe=z=>{const V=(Ae,Ot)=>{const yn=ha.create("li");un(Ae,so=>yn.append(so)),Ot?z.insert(yn,Ot,!0):z.append(yn)},J=(Ae,Ot)=>vc(Ot)?[...Ae,Ot]:!ec(Ae)&&!vc(Ot)?(V(Ae,Ot),[]):Ae,Ce=bt(z.children(),J,[]);ec(Ce)||V(Ce)},Dc=z=>{z.on("PreInit",()=>{const{parser:V}=z;V.addNodeFilter("ul,ol",J=>un(J,fe))})},xc=z=>{z.on("keydown",V=>{V.keyCode!==Zc.TAB||Zc.metaKeyPressed(V)||z.undoManager.transact(()=>{(V.shiftKey?qc(z):Si(z))&&V.preventDefault()})})},rs=z=>{id(z)&&xc(z),Wa(z)},Go=(z,V)=>J=>{const Ce=Ae=>{J.setActive(Jr(Ae.parents,V)),J.setEnabled(!Su(z,Ae.element)&&z.selection.isEditable())};return J.setEnabled(z.selection.isEditable()),cp(z,Ce)},Yd=z=>{const V=J=>()=>z.execCommand(J);z.hasPlugin("advlist")||(z.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:V("InsertOrderedList"),onSetup:Go(z,"OL")}),z.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:V("InsertUnorderedList"),onSetup:Go(z,"UL")}))},wc=(z,V)=>J=>cp(z,Ae=>J.setEnabled(Jr(Ae.parents,V)&&!Su(z,Ae.element))),df=z=>{const V={text:"List properties...",icon:"ordered-list",onAction:()=>z.execCommand("mceListProps"),onSetup:wc(z,"OL")};z.ui.registry.addMenuItem("listprops",V),z.ui.registry.addContextMenu("lists",{update:J=>{const Ce=Aa(z,J);return eo(Ce)?["listprops"]:[]}})};var aa=()=>{v.add("lists",z=>($s(z),Dc(z),z.hasPlugin("rtc",!0)?mi(z):(rs(z),lr(z)),Yd(z),df(z),kl(z)))};aa()}(),function(){var v=tinymce.util.Tools.resolve("tinymce.PluginManager");const P=(C,D,G)=>{var ae;return G(C,D.prototype)?!0:((ae=C.constructor)===null||ae===void 0?void 0:ae.name)===D.name},R=C=>{const D=typeof C;return C===null?"null":D==="object"&&Array.isArray(C)?"array":D==="object"&&P(C,String,(G,ae)=>ae.isPrototypeOf(G))?"string":D},W=C=>D=>R(D)===C,ue=C=>D=>typeof D===C,de=C=>D=>C===D,be=W("string"),ge=W("array"),Me=ue("boolean"),$e=de(void 0),Xe=C=>C==null,vt=C=>!Xe(C),Wt=ue("function"),lt=ue("number"),Rt=()=>{},tn=(C,D)=>G=>C(D(G)),Kt=C=>()=>C,ht=C=>C,ln=(C,D)=>C===D;function At(C,...D){return(...G)=>{const ae=D.concat(G);return C.apply(null,ae)}}const Te=C=>{C()},kt=Kt(!1),Ee=Kt(!0);class qe{constructor(D,G){this.tag=D,this.value=G}static some(D){return new qe(!0,D)}static none(){return qe.singletonNone}fold(D,G){return this.tag?G(this.value):D()}isSome(){return this.tag}isNone(){return!this.tag}map(D){return this.tag?qe.some(D(this.value)):qe.none()}bind(D){return this.tag?D(this.value):qe.none()}exists(D){return this.tag&&D(this.value)}forall(D){return!this.tag||D(this.value)}filter(D){return!this.tag||D(this.value)?this:qe.none()}getOr(D){return this.tag?this.value:D}or(D){return this.tag?this:D}getOrThunk(D){return this.tag?this.value:D()}orThunk(D){return this.tag?this:D()}getOrDie(D){if(this.tag)return this.value;throw new Error(D??"Called getOrDie on None")}static from(D){return vt(D)?qe.some(D):qe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(D){this.tag&&D(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}qe.singletonNone=new qe(!1);const Cn=Object.keys,wo=Object.hasOwnProperty,Zn=(C,D)=>{const G=Cn(C);for(let ae=0,De=G.length;ae<De;ae++){const st=G[ae],It=C[st];D(It,st)}},Je=C=>(D,G)=>{C[G]=D},un=(C,D,G,ae)=>{Zn(C,(De,st)=>{(D(De,st)?G:ae)(De,st)})},B=(C,D)=>{const G={};return un(C,D,Je(G),Rt),G},Tt=(C,D)=>{const G=[];return Zn(C,(ae,De)=>{G.push(D(ae,De))}),G},bt=C=>Tt(C,ht),pn=C=>Cn(C).length,io=(C,D)=>ft(C,D)?qe.from(C[D]):qe.none(),ft=(C,D)=>wo.call(C,D),Mn=(C,D)=>ft(C,D)&&C[D]!==void 0&&C[D]!==null,Hr=C=>{for(const D in C)if(wo.call(C,D))return!1;return!0},zt=Array.prototype.indexOf,bo=Array.prototype.push,St=(C,D)=>zt.call(C,D),nn=(C,D)=>St(C,D)>-1,Js=(C,D)=>{for(let G=0,ae=C.length;G<ae;G++){const De=C[G];if(D(De,G))return!0}return!1},Pn=(C,D)=>{const G=[];for(let ae=0;ae<C;ae++)G.push(D(ae));return G},Do=(C,D)=>{const G=C.length,ae=new Array(G);for(let De=0;De<G;De++){const st=C[De];ae[De]=D(st,De)}return ae},Y=(C,D)=>{for(let G=0,ae=C.length;G<ae;G++){const De=C[G];D(De,G)}},$o=(C,D)=>{for(let G=C.length-1;G>=0;G--){const ae=C[G];D(ae,G)}},Fi=(C,D)=>{const G=[],ae=[];for(let De=0,st=C.length;De<st;De++){const It=C[De];(D(It,De)?G:ae).push(It)}return{pass:G,fail:ae}},Xo=(C,D)=>{const G=[];for(let ae=0,De=C.length;ae<De;ae++){const st=C[ae];D(st,ae)&&G.push(st)}return G},Kr=(C,D,G)=>($o(C,(ae,De)=>{G=D(G,ae,De)}),G),Gl=(C,D,G)=>(Y(C,(ae,De)=>{G=D(G,ae,De)}),G),_o=(C,D,G)=>{for(let ae=0,De=C.length;ae<De;ae++){const st=C[ae];if(D(st,ae))return qe.some(st);if(G(st,ae))break}return qe.none()},ar=(C,D)=>_o(C,D,kt),no=C=>{const D=[];for(let G=0,ae=C.length;G<ae;++G){if(!ge(C[G]))throw new Error("Arr.flatten item "+G+" was not an array, input: "+C);bo.apply(D,C[G])}return D},ut=(C,D)=>no(Do(C,D)),_t=(C,D)=>{for(let G=0,ae=C.length;G<ae;++G){const De=C[G];if(D(De,G)!==!0)return!1}return!0},Ft=(C,D)=>{const G={};for(let ae=0,De=C.length;ae<De;ae++){const st=C[ae];G[String(st)]=D(st,ae)}return G},dt=(C,D)=>D>=0&&D<C.length?qe.some(C[D]):qe.none(),wn=C=>dt(C,0),lo=C=>dt(C,C.length-1),qo=(C,D)=>{for(let G=0;G<C.length;G++){const ae=D(C[G],G);if(ae.isSome())return ae}return qe.none()},mo=8,Ta=9,Nr=11,go=1,Os=3,va=(C,D)=>{const ae=(D||document).createElement("div");if(ae.innerHTML=C,!ae.hasChildNodes()||ae.childNodes.length>1){const De="HTML does not have a single root node";throw console.error(De,C),new Error(De)}return Mo(ae.childNodes[0])},Ur=(C,D)=>{const ae=(D||document).createElement(C);return Mo(ae)},Pr=(C,D)=>{const ae=(D||document).createTextNode(C);return Mo(ae)},Mo=C=>{if(C==null)throw new Error("Node cannot be null or undefined");return{dom:C}},oo={fromHtml:va,fromTag:Ur,fromText:Pr,fromDom:Mo,fromPoint:(C,D,G)=>qe.from(C.dom.elementFromPoint(D,G)).map(Mo)},dn=(C,D)=>{const G=C.dom;if(G.nodeType!==go)return!1;{const ae=G;if(ae.matches!==void 0)return ae.matches(D);if(ae.msMatchesSelector!==void 0)return ae.msMatchesSelector(D);if(ae.webkitMatchesSelector!==void 0)return ae.webkitMatchesSelector(D);if(ae.mozMatchesSelector!==void 0)return ae.mozMatchesSelector(D);throw new Error("Browser lacks native selectors")}},_n=C=>C.nodeType!==go&&C.nodeType!==Ta&&C.nodeType!==Nr||C.childElementCount===0,Ws=(C,D)=>{const G=D===void 0?document:D.dom;return _n(G)?[]:Do(G.querySelectorAll(C),oo.fromDom)},xi=(C,D)=>{const G=D===void 0?document:D.dom;return _n(G)?qe.none():qe.from(G.querySelector(C)).map(oo.fromDom)},Bt=(C,D)=>C.dom===D.dom,ii=dn;typeof window<"u"||Function("return this;")();const jo=C=>C.dom.nodeName.toLowerCase(),li=C=>C.dom.nodeType,vr=C=>D=>li(D)===C,Ud=C=>li(C)===mo||jo(C)==="#comment",fa=vr(go),uc=vr(Os),hl=vr(Ta),Vi=vr(Nr),Kl=C=>D=>fa(D)&&jo(D)===C,Ir=C=>oo.fromDom(C.dom.ownerDocument),Yn=C=>hl(C)?C:Ir(C),Hi=C=>qe.from(C.dom.parentNode).map(oo.fromDom),wi=(C,D)=>{const G=Wt(D)?D:kt;let ae=C.dom;const De=[];for(;ae.parentNode!==null&&ae.parentNode!==void 0;){const st=ae.parentNode,It=oo.fromDom(st);if(De.push(It),G(It)===!0)break;ae=st}return De},bl=C=>qe.from(C.dom.previousSibling).map(oo.fromDom),jc=C=>qe.from(C.dom.nextSibling).map(oo.fromDom),Jt=C=>Do(C.dom.childNodes,oo.fromDom),yu=(C,D)=>{const G=C.dom.childNodes;return qe.from(G[D]).map(oo.fromDom)},Yr=C=>yu(C,0),of=C=>Vi(C)&&vt(C.dom.host),ki=Wt(Element.prototype.attachShadow)&&Wt(Node.prototype.getRootNode)?C=>oo.fromDom(C.dom.getRootNode()):Yn,fc=C=>{const D=ki(C);return of(D)?qe.some(D):qe.none()},ci=C=>oo.fromDom(C.dom.host),Qs=C=>{const D=uc(C)?C.dom.parentNode:C.dom;if(D==null||D.ownerDocument===null)return!1;const G=D.ownerDocument;return fc(oo.fromDom(D)).fold(()=>G.body.contains(D),tn(Qs,ci))};var Ui=(C,D,G,ae,De)=>C(G,ae)?qe.some(G):Wt(De)&&De(G)?qe.none():D(G,ae,De);const rf=(C,D,G)=>{let ae=C.dom;const De=Wt(G)?G:kt;for(;ae.parentNode;){ae=ae.parentNode;const st=oo.fromDom(ae);if(D(st))return qe.some(st);if(De(st))break}return qe.none()},Yl=(C,D,G)=>Ui((De,st)=>st(De),rf,C,D,G),Ff=(C,D)=>{const G=De=>D(oo.fromDom(De));return ar(C.dom.childNodes,G).map(oo.fromDom)},yl=(C,D,G)=>rf(C,ae=>dn(ae,D),G),xu=(C,D)=>Ff(C,G=>dn(G,D)),Jo=(C,D)=>xi(D,C),As=(C,D,G)=>Ui((De,st)=>dn(De,st),yl,C,D,G),Xa=C=>As(C,"[contenteditable]"),Zc=(C,D=!1)=>Qs(C)?C.dom.isContentEditable:Xa(C).fold(Kt(D),G=>wu(G)==="true"),wu=C=>C.dom.contentEditable,ku=C=>C.nodeName.toLowerCase(),ol=C=>oo.fromDom(C.getBody()),ea=C=>D=>Bt(D,ol(C)),Vf=C=>C?C.replace(/px$/,""):"",xr=C=>/^\d+(\.\d+)?$/.test(C)?C+"px":C,zr=C=>oo.fromDom(C.selection.getStart()),vl=C=>oo.fromDom(C.selection.getEnd()),rl=C=>Yl(C,Kl("table")).forall(Zc),Tc=(C,D)=>Xo(Jt(C),D),mc=(C,D)=>{let G=[];return Y(Jt(C),ae=>{D(ae)&&(G=G.concat([ae])),G=G.concat(mc(ae,D))}),G},ad=(C,D)=>Tc(C,G=>dn(G,D)),za=(C,D)=>Ws(D,C),as=(C,D,G)=>{if(be(G)||Me(G)||lt(G))C.setAttribute(D,G+"");else throw console.error("Invalid call to Attribute.set. Key ",D,":: Value ",G,":: Element ",C),new Error("Attribute value was not simple")},Oa=(C,D,G)=>{as(C.dom,D,G)},Fs=(C,D)=>{const G=C.dom;Zn(D,(ae,De)=>{as(G,De,ae)})},sl=(C,D)=>{const G=C.dom.getAttribute(D);return G===null?void 0:G},Or=(C,D)=>qe.from(sl(C,D)),Ha=(C,D)=>{C.dom.removeAttribute(D)},_i=C=>Gl(C.dom.attributes,(D,G)=>(D[G.name]=G.value,D),{}),Ua=(C,D,G=ln)=>C.exists(ae=>G(ae,D)),eo=C=>{const D=[],G=ae=>{D.push(ae)};for(let ae=0;ae<C.length;ae++)C[ae].each(G);return D},di=(C,D,G)=>C.isSome()&&D.isSome()?qe.some(G(C.getOrDie(),D.getOrDie())):qe.none(),Vs=C=>C.bind(ht),xa=(C,D)=>C?qe.some(D):qe.none(),ji=(C,D)=>C.substring(D),Xr=(C,D,G)=>D===""||C.length>=D.length&&C.substr(G,G+D.length)===D,Ns=(C,D)=>Xl(C,D)?ji(C,D.length):C,Xl=(C,D)=>Xr(C,D,0),Jl=(C=>D=>D.replace(C,""))(/^\s+|\s+$/g),Zi=C=>C.length>0,_s=C=>!Zi(C),al=(C,D=10)=>{const G=parseInt(C,D);return isNaN(G)?qe.none():qe.some(G)},$s=C=>{const D=parseFloat(C);return isNaN(D)?qe.none():qe.some(D)},id=C=>C.style!==void 0&&Wt(C.style.getPropertyValue),sf=(C,D,G)=>{if(!be(G))throw console.error("Invalid call to CSS.set. Property ",D,":: Value ",G,":: Element ",C),new Error("CSS value must be a string: "+G);id(C)&&C.style.setProperty(D,G)},or=(C,D)=>{id(C)&&C.style.removeProperty(D)},ne=(C,D,G)=>{const ae=C.dom;sf(ae,D,G)},Oe=(C,D)=>{const G=C.dom,De=window.getComputedStyle(G).getPropertyValue(D);return De===""&&!Qs(C)?Ie(G,D):De},Ie=(C,D)=>id(C)?C.style.getPropertyValue(D):"",et=(C,D)=>{const G=C.dom,ae=Ie(G,D);return qe.from(ae).filter(De=>De.length>0)},Vt=(C,D)=>{const G=C.dom;or(G,D),Ua(Or(C,"style").map(Jl),"")&&Ha(C,"style")},An=(C,D,G=0)=>Or(C,D).map(ae=>parseInt(ae,10)).getOr(G),ro=(C,D)=>Wn(C,D,Ee),Wn=(C,D,G)=>ut(Jt(C),ae=>dn(ae,D)?G(ae)?[ae]:[]:Wn(ae,D,G)),Vn=["tfoot","thead","tbody","colgroup"],is=C=>nn(Vn,C),wr=(C,D)=>({rows:C,columns:D}),jr=(C,D,G)=>({element:C,rowspan:D,colspan:G}),Aa=(C,D,G,ae,De,st)=>({element:C,rowspan:D,colspan:G,row:ae,column:De,isLocked:st}),il=(C,D,G)=>({element:C,cells:D,section:G}),Qo=(C,D,G,ae)=>({startRow:C,startCol:D,finishRow:G,finishCol:ae}),af=(C,D,G)=>({element:C,colspan:D,column:G}),Wc=(C,D)=>({element:C,columns:D}),ja=(C,D,G=kt)=>{if(G(D))return qe.none();if(nn(C,jo(D)))return qe.some(D);const ae=De=>dn(De,"table")||G(De);return yl(D,C.join(","),ae)},_u=(C,D)=>ja(["td","th"],C,D),ta=C=>ro(C,"th,td"),Hp=C=>dn(C,"colgroup")?ad(C,"col"):ut(ip(C),D=>ad(D,"col")),Ja=(C,D)=>As(C,"table",D),Rl=C=>ro(C,"tr"),ip=C=>Ja(C).fold(Kt([]),D=>ad(D,"colgroup")),Pg=(C,D)=>Do(C,G=>{if(jo(G)==="colgroup"){const ae=Do(Hp(G),De=>{const st=An(De,"span",1);return jr(De,1,st)});return il(G,ae,"colgroup")}else{const ae=Do(ta(G),De=>{const st=An(De,"rowspan",1),It=An(De,"colspan",1);return jr(De,st,It)});return il(G,ae,D(G))}}),Ut=C=>Hi(C).map(D=>{const G=jo(D);return is(G)?G:"tbody"}).getOr("tbody"),Cu=C=>{const D=Rl(C),ae=[...ip(C),...D];return Pg(ae,Ut)},lp="data-snooker-locked-cols",jd=C=>Or(C,lp).bind(D=>qe.from(D.match(/\d+/g))).map(D=>Ft(D,Ee)),Jr=(C,D)=>C+","+D,Up=(C,D,G)=>qe.from(C.access[Jr(D,G)]),Wi=(C,D,G)=>{const ae=Su(C,De=>G(D,De.element));return ae.length>0?qe.some(ae[0]):qe.none()},Su=(C,D)=>{const G=ut(C.all,ae=>ae.cells);return Xo(G,D)},cp=C=>{const D={};let G=0;return Y(C.cells,ae=>{const De=ae.colspan;Pn(De,st=>{const It=G+st;D[It]=af(ae.element,De,It)}),G+=De}),D},zc=C=>{const D={},G=[],De=wn(C).map(ns=>ns.element).bind(Ja).bind(jd).getOr({});let st=0,It=0,rn=0;const{pass:Tn,fail:co}=Fi(C,ns=>ns.section==="colgroup");Y(co,ns=>{const La=[];Y(ns.cells,$a=>{let Xc=0;for(;D[Jr(rn,Xc)]!==void 0;)Xc++;const Em=Mn(De,Xc.toString()),gf=Aa($a.element,$a.rowspan,$a.colspan,rn,Xc,Em);for(let er=0;er<$a.colspan;er++)for(let Tm=0;Tm<$a.rowspan;Tm++){const eu=rn+Tm,tu=Xc+er,gp=Jr(eu,tu);D[gp]=gf,It=Math.max(It,tu+1)}La.push(gf)}),st++,G.push(il(ns.element,La,ns.section)),rn++});const{columns:ys,colgroups:ko}=lo(Tn).map(ns=>{const La=cp(ns);return{colgroups:[Wc(ns.element,bt(La))],columns:La}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:wr(st,It),access:D,all:G,columns:ys,colgroups:ko}},$c={fromTable:C=>{const D=Cu(C);return zc(D)},generate:zc,getAt:Up,findItem:Wi,filterItems:Su,justCells:C=>ut(C.all,D=>D.cells),justColumns:C=>bt(C.columns),hasColumns:C=>Cn(C.columns).length>0,getColumnAt:(C,D)=>qe.from(C.columns[D])};var Hf=tinymce.util.Tools.resolve("tinymce.util.Tools");const lf=(C,D,G)=>{const ae=C.select("td,th",D);let De;for(let st=0;st<ae.length;st++){const It=C.getStyle(ae[st],G);if($e(De)&&(De=It),De!==It)return""}return De},pc=(C,D,G)=>{Hf.each("left center right".split(" "),ae=>{ae!==G&&C.formatter.remove("align"+ae,{},D)}),G&&C.formatter.apply("align"+G,{},D)},Oc=(C,D,G)=>{Hf.each("top middle bottom".split(" "),ae=>{ae!==G&&C.formatter.remove("valign"+ae,{},D)}),G&&C.formatter.apply("valign"+G,{},D)},Co=(C,D,G)=>{C.dispatch("TableModified",{...G,table:D})},Eu=(C,D)=>$s(C).getOr(D),na=(C,D,G)=>Eu(Oe(C,D),G),Zd=(C,D,G,ae)=>{const De=na(C,`padding-${G}`,0),st=na(C,`padding-${ae}`,0),It=na(C,`border-${G}-width`,0),rn=na(C,`border-${ae}-width`,0);return D-De-st-It-rn},Tu=(C,D)=>{const G=C.dom,ae=G.getBoundingClientRect().width||G.offsetWidth;return D==="border-box"?ae:Zd(C,ae,"left","right")},Hs=C=>Tu(C,"content-box");var Wd=tinymce.util.Tools.resolve("tinymce.Env");const Uf="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",ma=Pn(5,C=>{const D=`${C+1}px`;return{title:D,value:D}}),Ds=Do(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],C=>({title:C,value:C.toLowerCase()})),Fr="100%",Cs=C=>{var D;const G=C.dom,ae=(D=G.getParent(C.selection.getStart(),G.isBlock))!==null&&D!==void 0?D:C.getBody();return Hs(oo.fromDom(ae))+"px"},qi=(C,D)=>Zp(C)||!gc(C)?D:ud(C)?{...D,width:Cs(C)}:{...D,width:Fr},qs=(C,D)=>Zp(C)||gc(C)?D:ud(C)?{...D,width:Cs(C)}:{...D,width:Fr},Na=C=>D=>D.options.get(C),hs=C=>{const D=C.options.register;D("table_border_widths",{processor:"object[]",default:ma}),D("table_border_styles",{processor:"object[]",default:Ds}),D("table_cell_advtab",{processor:"boolean",default:!0}),D("table_row_advtab",{processor:"boolean",default:!0}),D("table_advtab",{processor:"boolean",default:!0}),D("table_appearance_options",{processor:"boolean",default:!0}),D("table_grid",{processor:"boolean",default:!Wd.deviceType.isTouch()}),D("table_cell_class_list",{processor:"object[]",default:[]}),D("table_row_class_list",{processor:"object[]",default:[]}),D("table_class_list",{processor:"object[]",default:[]}),D("table_toolbar",{processor:"string",default:Uf}),D("table_background_color_map",{processor:"object[]",default:[]}),D("table_border_color_map",{processor:"object[]",default:[]})},zu=Na("table_sizing_mode"),Us=Na("table_border_widths"),pa=Na("table_border_styles"),oa=Na("table_cell_advtab"),$d=Na("table_row_advtab"),Qr=Na("table_advtab"),jf=Na("table_appearance_options"),dd=Na("table_grid"),gc=Na("table_style_by_css"),So=Na("table_cell_class_list"),ra=Na("table_row_class_list"),qd=Na("table_class_list"),Ci=Na("table_toolbar"),Ou=Na("table_background_color_map"),Ac=Na("table_border_color_map"),ud=C=>zu(C)==="fixed",Zp=C=>zu(C)==="responsive",fd=C=>{const D=C.options,G=D.get("table_default_styles");return D.isSet("table_default_styles")?G:qi(C,G)},Qa=C=>{const D=C.options,G=D.get("table_default_attributes");return D.isSet("table_default_attributes")?G:qs(C,G)},dp=(C,D)=>D.column>=C.startCol&&D.column+D.colspan-1<=C.finishCol&&D.row>=C.startRow&&D.row+D.rowspan-1<=C.finishRow,ye=(C,D)=>{let G=!0;const ae=At(dp,D);for(let De=D.startRow;De<=D.finishRow;De++)for(let st=D.startCol;st<=D.finishCol;st++)G=G&&$c.getAt(C,De,st).exists(ae);return G?qe.some(D):qe.none()},hc=(C,D)=>Qo(Math.min(C.row,D.row),Math.min(C.column,D.column),Math.max(C.row+C.rowspan-1,D.row+D.rowspan-1),Math.max(C.column+C.colspan-1,D.column+D.colspan-1)),Si=(C,D,G)=>{const ae=$c.findItem(C,D,Bt),De=$c.findItem(C,G,Bt);return ae.bind(st=>De.map(It=>hc(st,It)))},qc=(C,D,G)=>Si(C,D,G).bind(ae=>ye(C,ae)),cf=(C,D,G)=>{const ae=Gd(C);return qc(ae,D,G)},Gd=$c.fromTable,Pe=(C,D)=>{Hi(C).each(ae=>{ae.dom.insertBefore(D.dom,C.dom)})},Dt=(C,D)=>{jc(C).fold(()=>{Hi(C).each(De=>{Sn(De,D)})},ae=>{Pe(ae,D)})},xt=(C,D)=>{Yr(C).fold(()=>{Sn(C,D)},ae=>{C.dom.insertBefore(D.dom,ae.dom)})},Sn=(C,D)=>{C.dom.appendChild(D.dom)},Po=(C,D)=>{Pe(C,D),Sn(D,C)},ir=(C,D)=>{Y(D,(G,ae)=>{const De=ae===0?C:D[ae-1];Dt(De,G)})},Dr=(C,D)=>{Y(D,G=>{Sn(C,G)})},Rr=C=>{const D=C.dom;D.parentNode!==null&&D.parentNode.removeChild(D)},ui=C=>{const D=Jt(C);D.length>0&&ir(C,D),Rr(C)},Rs=((C,D)=>{const G=st=>{if(!C(st))throw new Error("Can only get "+D+" value of a "+D+" node");return ae(st).getOr("")},ae=st=>C(st)?qe.from(st.dom.nodeValue):qe.none();return{get:G,getOption:ae,set:(st,It)=>{if(!C(st))throw new Error("Can only set raw "+D+" value of a "+D+" node");st.dom.nodeValue=It}}})(uc,"text"),Ei=C=>Rs.get(C),Wp=(C,D)=>Rs.set(C,D);var bc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Br=()=>{const C=co=>oo.fromDom(co.dom.cloneNode(!1)),D=co=>Yn(co).dom,G=co=>fa(co)?jo(co)==="body"?!0:nn(bc,jo(co)):!1,ae=co=>fa(co)?nn(["br","img","hr","input"],jo(co)):!1,De=co=>fa(co)&&sl(co,"contenteditable")==="false",st=(co,ys)=>co.dom.compareDocumentPosition(ys.dom),It=(co,ys)=>{const ko=_i(co);Fs(ys,ko)},rn=co=>{const ys=jo(co);return nn(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],ys)},Tn=co=>fa(co)?Or(co,"lang"):qe.none();return{up:Kt({selector:yl,closest:As,predicate:rf,all:wi}),down:Kt({selector:za,predicate:mc}),styles:Kt({get:Oe,getRaw:et,set:ne,remove:Vt}),attrs:Kt({get:sl,set:Oa,remove:Ha,copyTo:It}),insert:Kt({before:Pe,after:Dt,afterAll:ir,append:Sn,appendAll:Dr,prepend:xt,wrap:Po}),remove:Kt({unwrap:ui,remove:Rr}),create:Kt({nu:oo.fromTag,clone:C,text:oo.fromText}),query:Kt({comparePosition:st,prevSibling:bl,nextSibling:jc}),property:Kt({children:Jt,name:jo,parent:Hi,document:D,isText:uc,isComment:Ud,isElement:fa,isSpecial:rn,getLanguage:Tn,getText:Ei,setText:Wp,isBoundary:G,isEmptyTag:ae,isNonEditable:De}),eq:Bt,is:ii}};const yc=(C,D,G,ae)=>{const De=G[0],st=G.slice(1);return ae(C,D,De,st)},Zr=(C,D,G)=>G.length>0?yc(C,D,G,ga):qe.none(),ga=(C,D,G,ae)=>{const De=D(C,G);return Kr(ae,(st,It)=>{const rn=D(C,It);return Nc(C,st,rn)},De)},Nc=(C,D,G)=>D.bind(ae=>G.filter(At(C.eq,ae))),Au=Zr,Zf=Br(),up=(C,D)=>Au(Zf,(G,ae)=>C(ae),D),md=C=>yl(C,"table"),xl=(C,D)=>{const G=za(C,D);return G.length>0?qe.some(G):qe.none()},ll=(C,D,G)=>Jo(C,D).bind(ae=>Jo(C,G).bind(De=>up(md,[ae,De]).map(st=>({first:ae,last:De,table:st})))),Wr=(C,D)=>xl(C,D),Ql=(C,D,G)=>ll(C,D,G).bind(ae=>{const De=Tn=>Bt(C,Tn),st="thead,tfoot,tbody,table",It=yl(ae.first,st,De),rn=yl(ae.last,st,De);return It.bind(Tn=>rn.bind(co=>Bt(Tn,co)?cf(ae.table,ae.first,ae.last):qe.none()))}),ka=C=>Do(C,oo.fromDom),Gc="data-mce-selected",fi="td["+Gc+"],th["+Gc+"]",Kd="data-mce-first-selected",Gs="td["+Kd+"],th["+Kd+"]",sa="data-mce-last-selected",ei="td["+sa+"],th["+sa+"]",at={selected:Gc,selectedSelector:fi,firstSelected:Kd,firstSelectedSelector:Gs,lastSelected:sa,lastSelectedSelector:ei},wl=C=>Ja(C).bind(D=>Wr(D,at.firstSelectedSelector)).fold(Kt(C),D=>D[0]),vm=C=>(D,G)=>{const ae=jo(D),De=ae==="col"||ae==="colgroup"?wl(D):D;return As(De,C,G)},Bs=vm("th,td,caption"),Da=vm("th,td"),Ra=C=>ka(C.model.table.getSelectedCells()),Gi=(C,D)=>{const G=Da(C),ae=G.bind(De=>Ja(De)).map(De=>Rl(De));return di(G,ae,(De,st)=>Xo(st,It=>Js(ka(It.dom.cells),rn=>sl(rn,D)==="1"||Bt(rn,De)))).getOr([])},Nu=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Za=C=>({value:Ar(C)}),ur=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Bl=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Ks=C=>ur.test(C)||Bl.test(C),Ar=C=>Ns(C,"#").toUpperCase(),xm=C=>Ks(C)?qe.some({value:Ar(C)}):qe.none(),Ml=C=>{const D=C.toString(16);return(D.length===1?"0"+D:D).toUpperCase()},Wa=C=>{const D=Ml(C.red)+Ml(C.green)+Ml(C.blue);return Za(D)},kl=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Ue=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,_a=(C,D,G,ae)=>({red:C,green:D,blue:G,alpha:ae}),Kc=(C,D,G,ae)=>{const De=parseInt(C,10),st=parseInt(D,10),It=parseInt(G,10),rn=parseFloat(ae);return _a(De,st,It,rn)},_l=C=>{if(C==="transparent")return qe.some(_a(0,0,0,0));const D=kl.exec(C);if(D!==null)return qe.some(Kc(D[1],D[2],D[3],"1"));const G=Ue.exec(C);return G!==null?qe.some(Kc(G[1],G[2],G[3],G[4])):qe.none()},Ms=C=>xm(C).orThunk(()=>_l(C).map(Wa)).getOrThunk(()=>{const D=document.createElement("canvas");D.height=1,D.width=1;const G=D.getContext("2d");G.clearRect(0,0,D.width,D.height),G.fillStyle="#FFFFFF",G.fillStyle=C,G.fillRect(0,0,1,1);const ae=G.getImageData(0,0,1,1).data,De=ae[0],st=ae[1],It=ae[2],rn=ae[3];return Wa(_a(De,st,It,rn))}),es=C=>_l(C).map(Wa).map(D=>"#"+D.value).getOr(C),ls=C=>{let D=C;return{get:()=>D,set:De=>{D=De}}},Mr=C=>{const D=ls(qe.none()),G=()=>D.get().each(C);return{clear:()=>{G(),D.set(qe.none())},isSet:()=>D.get().isSome(),get:()=>D.get(),set:rn=>{G(),D.set(qe.some(rn))}}},Wf=()=>Mr(C=>C.unbind()),Ln=(C,D,G)=>ae=>{const De=Wf(),st=_s(G),It=()=>{const rn=Ra(C),Tn=co=>C.formatter.match(D,{value:G},co.dom,st);st?(ae.setActive(!Js(rn,Tn)),De.set(C.formatter.formatChanged(D,co=>ae.setActive(!co),!0))):(ae.setActive(_t(rn,Tn)),De.set(C.formatter.formatChanged(D,ae.setActive,!1,{value:G})))};return C.initialized?It():C.on("init",It),De.clear},Ba=C=>Mn(C,"menu"),mi=C=>Do(C,D=>{const G=D.text||D.title||"";return Ba(D)?{text:G,items:mi(D.menu)}:{text:G,value:D.value}}),lr=(C,D,G,ae)=>Do(D,De=>{const st=De.text||De.title;return Ba(De)?{type:"nestedmenuitem",text:st,getSubmenuItems:()=>lr(C,De.menu,G,ae)}:{text:st,type:"togglemenuitem",onAction:()=>ae(De.value),onSetup:Ln(C,G,De.value)}}),ha=(C,D)=>G=>{C.execCommand("mceTableApplyCellStyle",!1,{[D]:G})},vc=C=>ut(C,D=>Ba(D)?[{...D,menu:vc(D.menu)}]:Zi(D.value)?[D]:[]),ec=(C,D,G,ae)=>De=>De(lr(C,D,G,ae)),fe=(C,D,G)=>{const ae=Do(D,De=>({text:De.title,value:"#"+Ms(De.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:ae.length>0?ae:void 0,allowCustomColors:!1},onAction:De=>{const st=De.value==="remove"?"":De.value;C.execCommand("mceTableApplyCellStyle",!1,{[G]:st})}}]},Dc=C=>()=>{const G=C.queryCommandValue("mceTableRowType")==="header"?"body":"header";C.execCommand("mceTableRowType",!1,{type:G})},xc=C=>()=>{const G=C.queryCommandValue("mceTableColType")==="th"?"td":"th";C.execCommand("mceTableColType",!1,{type:G})},rs=C=>{const D=mi(So(C));return D.length>0?qe.some({name:"class",type:"listbox",label:"Class",items:D}):qe.none()},Go=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Nu}],Yd=C=>Go.concat(rs(C).toArray()),wc=(C,D)=>{const ae=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(mi(pa(C)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:D==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(ae):ae}},aa={normal:(C,D)=>{const G=C.dom;return{setAttrib:(It,rn)=>{G.setAttrib(D,It,rn)},setStyle:(It,rn)=>{G.setStyle(D,It,rn)},setFormat:(It,rn)=>{rn===""?C.formatter.remove(It,{value:null},D,!0):C.formatter.apply(It,{value:rn},D)}}}},z=Kl("th"),V=(C,D)=>C&&D?"sectionCells":C?"section":"cells",J=C=>{const D=C.section==="thead",G=Ua(Ce(C.cells),"th");return C.section==="tfoot"?{type:"footer"}:D||G?{type:"header",subType:V(D,G)}:{type:"body"}},Ce=C=>{const D=Xo(C,G=>z(G.element));return D.length===0?qe.some("td"):D.length===C.length?qe.some("th"):qe.none()},Ae=C=>{const D=Do(C,De=>J(De).type),G=nn(D,"header"),ae=nn(D,"footer");if(!G&&!ae)return qe.some("body");{const De=nn(D,"body");return G&&!De&&!ae?qe.some("header"):!G&&!De&&ae?qe.some("footer"):qe.none()}},Ot=C=>{let D=!1,G;return(...ae)=>(D||(D=!0,G=C.apply(null,ae)),G)},yn=(C,D)=>qo(C.all,G=>ar(G.cells,ae=>Bt(D,ae.element))),so=(C,D,G)=>{const ae=Do(D.selection,st=>_u(st).bind(It=>yn(C,It)).filter(G)),De=eo(ae);return xa(De.length>0,De)},Hn=(C,D)=>D.mergable,En=(C,D)=>D.unmergable,gr=(C,D)=>so(C,D,Ee),bs=(C,D)=>yn(C,D).exists(G=>!G.isLocked),Ti=(C,D)=>_t(D,G=>bs(C,G)),pd=(C,D)=>Hn(C,D).filter(G=>Ti(C,G.cells)),zi=(C,D)=>En(C,D).filter(G=>Ti(C,G));({...{generate:C=>{if(!ge(C))throw new Error("cases must be an array");if(C.length===0)throw new Error("there must be at least one case");const D=[],G={};return Y(C,(ae,De)=>{const st=Cn(ae);if(st.length!==1)throw new Error("one and only one name per case");const It=st[0],rn=ae[It];if(G[It]!==void 0)throw new Error("duplicate key detected:"+It);if(It==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ge(rn))throw new Error("case arguments must be an array");D.push(It),G[It]=(...Tn)=>{const co=Tn.length;if(co!==rn.length)throw new Error("Wrong number of arguments to case "+It+". Expected "+rn.length+" ("+rn+"), got "+co);return{fold:(...ko)=>{if(ko.length!==C.length)throw new Error("Wrong number of arguments to fold. Expected "+C.length+", got "+ko.length);return ko[De].apply(null,Tn)},match:ko=>{const cr=Cn(ko);if(D.length!==cr.length)throw new Error("Wrong number of arguments to match. Expected: "+D.join(",")+`
Actual: `+cr.join(","));if(!_t(D,La=>nn(cr,La)))throw new Error("Not all branches were specified when using match. Specified: "+cr.join(", ")+`
Required: `+D.join(", "));return ko[It].apply(null,Tn)},log:ko=>{console.log(ko,{constructors:D,constructor:It,params:Tn})}}}}),G}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const kn=(C,D)=>{const G=$c.fromTable(C);return gr(G,D).bind(De=>{const st=De[De.length-1],It=De[0].row,rn=st.row+st.rowspan,Tn=G.all.slice(It,rn);return Ae(Tn)}).getOr("")},Ys=C=>Xl(C,"rgb")?es(C):C,cl=C=>{const D=oo.fromDom(C);return{borderwidth:et(D,"border-width").getOr(""),borderstyle:et(D,"border-style").getOr(""),bordercolor:et(D,"border-color").map(Ys).getOr(""),backgroundcolor:et(D,"background-color").map(Ys).getOr("")}},Rc=C=>{const D=C[0],G=C.slice(1);return Y(G,ae=>{Y(Cn(D),De=>{Zn(ae,(st,It)=>{const rn=D[De];rn!==""&&De===It&&rn!==st&&(D[De]="")})})}),D},Ll=(C,D,G,ae)=>ar(C,De=>!$e(G.formatter.matchNode(ae,D+De))).getOr(""),Du=At(Ll,["left","center","right"],"align"),fp=At(Ll,["top","middle","bottom"],"valign"),$p=(C,D)=>{const G=fd(C),ae=Qa(C),De=()=>({borderstyle:io(G,"border-style").getOr(""),bordercolor:Ys(io(G,"border-color").getOr("")),backgroundcolor:Ys(io(G,"background-color").getOr(""))}),st={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},It=()=>{const ys=G["border-width"];return gc(C)&&ys?{border:ys}:io(ae,"border").fold(()=>({}),ko=>({border:ko}))},rn=D?De():{},Tn=()=>{const ys=io(G,"border-spacing").or(io(ae,"cellspacing")).fold(()=>({}),cr=>({cellspacing:cr})),ko=io(G,"border-padding").or(io(ae,"cellpadding")).fold(()=>({}),cr=>({cellpadding:cr}));return{...ys,...ko}};return{...st,...G,...ae,...rn,...It(),...Tn()}},Yc=C=>Ja(oo.fromDom(C)).map(D=>{const G={selection:ka(C.cells)};return kn(D,G)}).getOr(""),Fg=(C,D,G)=>{const ae=(rn,Tn)=>{const co=et(oo.fromDom(Tn),"border-width");return gc(C)&&co.isSome()?co.getOr(""):rn.getAttrib(Tn,"border")||lf(C.dom,Tn,"border-width")||lf(C.dom,Tn,"border")||""},De=C.dom,st=gc(C)?De.getStyle(D,"border-spacing")||De.getAttrib(D,"cellspacing"):De.getAttrib(D,"cellspacing")||De.getStyle(D,"border-spacing"),It=gc(C)?lf(De,D,"padding")||De.getAttrib(D,"cellpadding"):De.getAttrib(D,"cellpadding")||lf(De,D,"padding");return{width:De.getStyle(D,"width")||De.getAttrib(D,"width"),height:De.getStyle(D,"height")||De.getAttrib(D,"height"),cellspacing:st??"",cellpadding:It??"",border:ae(De,D),caption:!!De.select("caption",D)[0],class:De.getAttrib(D,"class",""),align:Du(C,D),...G?cl(D):{}}},gd=(C,D,G)=>{const ae=C.dom;return{height:ae.getStyle(D,"height")||ae.getAttrib(D,"height"),class:ae.getAttrib(D,"class",""),type:Yc(D),align:Du(C,D),...G?cl(D):{}}},Ru=(C,D,G,ae)=>{const De=C.dom,st=ae.getOr(D),It=(rn,Tn)=>De.getStyle(rn,Tn)||De.getAttrib(rn,Tn);return{width:It(st,"width"),height:It(D,"height"),scope:De.getAttrib(D,"scope"),celltype:ku(D),class:De.getAttrib(D,"class",""),halign:Du(C,D),valign:fp(C,D),...G?cl(D):{}}},Bc=(C,D)=>{const G=$c.fromTable(C),ae=$c.justCells(G),De=Xo(ae,st=>Js(D,It=>Bt(st.element,It)));return Do(De,st=>({element:st.element.dom,column:$c.getColumnAt(G,st.column).map(It=>It.element.dom)}))},Nt=(C,D,G,ae)=>{ae("scope")&&C.setAttrib("scope",G.scope),ae("class")&&C.setAttrib("class",G.class),ae("height")&&C.setStyle("height",xr(G.height)),ae("width")&&D.setStyle("width",xr(G.width))},km=(C,D,G)=>{G("backgroundcolor")&&C.setFormat("tablecellbackgroundcolor",D.backgroundcolor),G("bordercolor")&&C.setFormat("tablecellbordercolor",D.bordercolor),G("borderstyle")&&C.setFormat("tablecellborderstyle",D.borderstyle),G("borderwidth")&&C.setFormat("tablecellborderwidth",xr(D.borderwidth))},Bu=(C,D,G,ae)=>{const De=D.length===1;Y(D,st=>{const It=st.element,rn=De?Ee:ae,Tn=aa.normal(C,It),co=st.column.map(ys=>aa.normal(C,ys)).getOr(Tn);Nt(Tn,co,G,rn),oa(C)&&km(Tn,G,rn),ae("halign")&&pc(C,It,G.halign),ae("valign")&&Oc(C,It,G.valign)})},Mu=(C,D)=>{C.execCommand("mceTableCellType",!1,{type:D.celltype,no_events:!0})},Cl=(C,D,G,ae)=>{const De=B(ae,(st,It)=>G[It]!==st);pn(De)>0&&D.length>=1&&Ja(D[0]).each(st=>{const It=Bc(st,D),rn=pn(B(De,(co,ys)=>ys!=="scope"&&ys!=="celltype"))>0,Tn=ft(De,"celltype");(rn||ft(De,"scope"))&&Bu(C,It,ae,At(ft,De)),Tn&&Mu(C,ae),Co(C,st.dom,{structure:Tn,style:rn})})},$f=(C,D,G,ae)=>{const De=ae.getData();ae.close(),C.undoManager.transact(()=>{Cl(C,D,G,De),C.focus()})},ss=(C,D)=>{const G=Ja(D[0]).map(ae=>Do(Bc(ae,D),De=>Ru(C,De.element,oa(C),De.column)));return Rc(G.getOrDie())},Sl=C=>{const D=Ra(C);if(D.length===0)return;const G=ss(C,D),ae={type:"tabpanel",tabs:[{title:"General",name:"general",items:Yd(C)},wc(C,"cell")]},De={type:"panel",items:[{type:"grid",columns:2,items:Yd(C)}]};C.windowManager.open({title:"Cell Properties",size:"normal",body:oa(C)?ae:De,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:G,onSubmit:At($f,C,D,G)})},tc=C=>{const D=mi(ra(C));return D.length>0?qe.some({name:"class",type:"listbox",label:"Class",items:D}):qe.none()},$r=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],uf=C=>$r.concat(tc(C).toArray()),Lo=(C,D,G)=>{G("class")&&C.setAttrib("class",D.class),G("height")&&C.setStyle("height",xr(D.height))},gn=(C,D,G)=>{G("backgroundcolor")&&C.setStyle("background-color",D.backgroundcolor),G("bordercolor")&&C.setStyle("border-color",D.bordercolor),G("borderstyle")&&C.setStyle("border-style",D.borderstyle)},Lu=(C,D,G,ae)=>{const st=D.length===1?Ee:ae;Y(D,It=>{const rn=aa.normal(C,It);Lo(rn,G,st),$d(C)&&gn(rn,G,st),ae("align")&&pc(C,It,G.align)})},mp=(C,D)=>{C.execCommand("mceTableRowType",!1,{type:D.type,no_events:!0})},ff=(C,D,G,ae)=>{const De=B(ae,(st,It)=>G[It]!==st);if(pn(De)>0){const st=ft(De,"type"),It=st?pn(De)>1:!0;It&&Lu(C,D,ae,At(ft,De)),st&&mp(C,ae),Ja(oo.fromDom(D[0])).each(rn=>Co(C,rn.dom,{structure:st,style:It}))}},nc=(C,D,G,ae)=>{const De=ae.getData();ae.close(),C.undoManager.transact(()=>{ff(C,D,G,De),C.focus()})},Ro=C=>{const D=Gi(zr(C),at.selected);if(D.length===0)return;const G=Do(D,It=>gd(C,It.dom,$d(C))),ae=Rc(G),De={type:"tabpanel",tabs:[{title:"General",name:"general",items:uf(C)},wc(C,"row")]},st={type:"panel",items:[{type:"grid",columns:2,items:uf(C)}]};C.windowManager.open({title:"Row Properties",size:"normal",body:$d(C)?De:st,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ae,onSubmit:At(nc,C,Do(D,It=>It.dom),ae)})},Ma=(C,D,G)=>{const ae=G?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],De=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],st=jf(C)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],It=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],rn=D.length>0?[{type:"listbox",name:"class",label:"Class",items:D}]:[];return ae.concat(De).concat(st).concat(It).concat(rn)},_m=(C,D,G,ae)=>{if(D.tagName==="TD"||D.tagName==="TH")be(G)&&vt(ae)?C.setStyle(D,G,ae):C.setStyles(D,G);else if(D.children)for(let De=0;De<D.children.length;De++)_m(C,D.children[De],G,ae)},mt=(C,D,G,ae)=>{const De=C.dom,st={},It={},rn=gc(C),Tn=Qr(C);if($e(G.class)||(st.class=G.class),It.height=xr(G.height),rn?It.width=xr(G.width):De.getAttrib(D,"width")&&(st.width=Vf(G.width)),rn?(It["border-width"]=xr(G.border),It["border-spacing"]=xr(G.cellspacing)):(st.border=G.border,st.cellpadding=G.cellpadding,st.cellspacing=G.cellspacing),rn&&D.children){const co={};if(ae.border&&(co["border-width"]=xr(G.border)),ae.cellpadding&&(co.padding=xr(G.cellpadding)),Tn&&ae.bordercolor&&(co["border-color"]=G.bordercolor),!Hr(co))for(let ys=0;ys<D.children.length;ys++)_m(De,D.children[ys],co)}if(Tn){const co=G;It["background-color"]=co.backgroundcolor,It["border-color"]=co.bordercolor,It["border-style"]=co.borderstyle}De.setStyles(D,{...fd(C),...It}),De.setAttribs(D,{...Qa(C),...st})},oc=(C,D,G,ae)=>{const De=C.dom,st=ae.getData(),It=B(st,(rn,Tn)=>G[Tn]!==rn);ae.close(),st.class===""&&delete st.class,C.undoManager.transact(()=>{if(!D){const rn=al(st.cols).getOr(1),Tn=al(st.rows).getOr(1);C.execCommand("mceInsertTable",!1,{rows:Tn,columns:rn}),D=Da(zr(C),ea(C)).bind(co=>Ja(co,ea(C))).map(co=>co.dom).getOrDie()}if(pn(It)>0){const rn={border:ft(It,"border"),bordercolor:ft(It,"bordercolor"),cellpadding:ft(It,"cellpadding")};mt(C,D,st,rn);const Tn=De.select("caption",D)[0];(Tn&&!st.caption||!Tn&&st.caption)&&C.execCommand("mceTableToggleCaption"),pc(C,D,st.align)}if(C.focus(),C.addVisual(),pn(It)>0){const rn=ft(It,"caption"),Tn=rn?pn(It)>1:!0;Co(C,D,{structure:rn,style:Tn})}})},Xd=(C,D)=>{const G=C.dom;let ae,De=$p(C,Qr(C));D?(De.cols="1",De.rows="1",Qr(C)&&(De.borderstyle="",De.bordercolor="",De.backgroundcolor="")):(ae=G.getParent(C.selection.getStart(),"table",C.getBody()),ae?De=Fg(C,ae,Qr(C)):Qr(C)&&(De.borderstyle="",De.bordercolor="",De.backgroundcolor=""));const st=mi(qd(C));st.length>0&&De.class&&(De.class=De.class.replace(/\s*mce\-item\-table\s*/g,""));const It={type:"grid",columns:2,items:Ma(C,st,D)},rn=()=>({type:"panel",items:[It]}),Tn=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[It]},wc(C,"table")]}),co=Qr(C)?Tn():rn();C.windowManager.open({title:"Table Properties",size:"normal",body:co,onSubmit:At(oc,C,ae,De),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:De})},Jd=C=>{const D=G=>{rl(zr(C))&&G()};Zn({mceTableProps:At(Xd,C,!1),mceTableRowProps:At(Ro,C),mceTableCellProps:At(Sl,C),mceInsertTableDialog:At(Xd,C,!0)},(G,ae)=>C.addCommand(ae,()=>D(G)))},Pu=(C,D)=>xu(C,D).isSome(),hd=ht,Pl=C=>{const D=(ae,De)=>Or(ae,De).exists(st=>parseInt(st,10)>1),G=ae=>D(ae,"rowspan")||D(ae,"colspan");return C.length>0&&_t(C,G)?qe.some(C):qe.none()},Iu=(C,D,G)=>D.length<=1?qe.none():Ql(C,G.firstSelectedSelector,G.lastSelectedSelector).map(ae=>({bounds:ae,cells:D})),ts=C=>({element:C,mergable:qe.none(),unmergable:qe.none(),selection:[C]}),Qd=(C,D,G)=>({element:G,mergable:Iu(D,C,at),unmergable:Pl(C),selection:hd(C)}),Mh=C=>{const D=ls(qe.none()),G=ls([]);let ae=qe.none();const De=Kl("caption"),st=To=>ae.forall(kr=>!kr[To]),It=()=>Bs(zr(C),ea(C)),rn=()=>Bs(vl(C),ea(C)),Tn=()=>It().bind(To=>Vs(di(Ja(To),rn().bind(Ja),(kr,gi)=>Bt(kr,gi)?De(To)?qe.some(ts(To)):qe.some(Qd(Ra(C),kr,To)):qe.none()))),co=To=>Ja(To.element).map(gi=>{const hr=$c.fromTable(gi),Gp=gr(hr,To).getOr([]),Ls=Gl(Gp,(vs,Yi)=>(Yi.isLocked&&(vs.onAny=!0,Yi.column===0?vs.onFirst=!0:Yi.column+Yi.colspan>=hr.grid.columns&&(vs.onLast=!0)),vs),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:pd(hr,To).isSome(),unmergeable:zi(hr,To).isSome(),locked:Ls}}),ys=()=>{D.set(Ot(Tn)()),ae=D.get().bind(co),Y(G.get(),Te)},ko=To=>(To(),G.set(G.get().concat([To])),()=>{G.set(Xo(G.get(),kr=>kr!==To))}),cr=(To,kr)=>ko(()=>D.get().fold(()=>{To.setEnabled(!1)},gi=>{To.setEnabled(!kr(gi)&&C.selection.isEditable())})),ns=(To,kr,gi)=>ko(()=>D.get().fold(()=>{To.setEnabled(!1),To.setActive(!1)},hr=>{To.setEnabled(!kr(hr)&&C.selection.isEditable()),To.setActive(gi(hr))})),La=To=>ae.exists(kr=>kr.locked[To]),$a=To=>cr(To,kr=>!1),Xc=To=>cr(To,kr=>De(kr.element)),Em=To=>kr=>cr(kr,gi=>De(gi.element)||La(To)),gf=To=>kr=>cr(kr,gi=>De(gi.element)||To().isNone()),er=(To,kr)=>gi=>cr(gi,hr=>De(hr.element)||To().isNone()||La(kr)),Tm=To=>cr(To,kr=>st("mergeable")),eu=To=>cr(To,kr=>st("unmergeable")),tu=To=>ns(To,kt,kr=>Ja(kr.element,ea(C)).exists(hr=>Pu(hr,"caption"))),gp=(To,kr)=>gi=>ns(gi,hr=>De(hr.element),()=>C.queryCommandValue(To)===kr),qp=gp("mceTableRowType","header"),nu=gp("mceTableColType","th");return C.on("NodeChange ExecCommand TableSelectorChange",ys),{onSetupTable:$a,onSetupCellOrRow:Xc,onSetupColumn:Em,onSetupPasteable:gf,onSetupPasteableColumn:er,onSetupMergeable:Tm,onSetupUnmergeable:eu,resetTargets:ys,onSetupTableWithCaption:tu,onSetupTableRowHeaders:qp,onSetupTableColumnHeaders:nu,targets:D.get}};var dl=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Cm="x-tinymce/dom-table-",Ki=Cm+"rows",qf=Cm+"columns",bd=C=>{var D;const G=(D=dl.read())!==null&&D!==void 0?D:[];return qo(G,ae=>qe.from(ae.getType(C)))},Fu=()=>bd(Ki),yd=()=>bd(qf),mf=C=>D=>{const G=()=>{D.setEnabled(C.selection.isEditable())};return C.on("NodeChange",G),G(),()=>{C.off("NodeChange",G)}},Gf=(C,D)=>{C.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:mf(C),fetch:rn=>rn("inserttable | cell row column | advtablesort | tableprops deletetable")});const G=rn=>()=>C.execCommand(rn),ae=(rn,Tn)=>{C.queryCommandSupported(Tn.command)&&C.ui.registry.addButton(rn,{...Tn,onAction:Wt(Tn.onAction)?Tn.onAction:G(Tn.command)})},De=(rn,Tn)=>{C.queryCommandSupported(Tn.command)&&C.ui.registry.addToggleButton(rn,{...Tn,onAction:Wt(Tn.onAction)?Tn.onAction:G(Tn.command)})};ae("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:D.onSetupTable}),ae("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:D.onSetupTable}),ae("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:D.onSetupCellOrRow}),ae("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:D.onSetupMergeable}),ae("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:D.onSetupUnmergeable}),ae("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:D.onSetupCellOrRow}),ae("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:D.onSetupCellOrRow}),ae("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:D.onSetupCellOrRow}),ae("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:D.onSetupCellOrRow}),ae("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:D.onSetupColumn("onFirst")}),ae("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:D.onSetupColumn("onLast")}),ae("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:D.onSetupColumn("onAny")}),ae("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:D.onSetupCellOrRow}),ae("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:D.onSetupCellOrRow}),ae("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:D.onSetupPasteable(Fu)}),ae("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:D.onSetupPasteable(Fu)}),ae("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:D.onSetupColumn("onAny")}),ae("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:D.onSetupColumn("onAny")}),ae("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:D.onSetupPasteableColumn(yd,"onFirst")}),ae("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:D.onSetupPasteableColumn(yd,"onLast")}),ae("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:mf(C)});const st=vc(qd(C));st.length!==0&&C.queryCommandSupported("mceTableToggleClass")&&C.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:ec(C,st,"tableclass",rn=>C.execCommand("mceTableToggleClass",!1,rn)),onSetup:D.onSetupTable});const It=vc(So(C));It.length!==0&&C.queryCommandSupported("mceTableCellToggleClass")&&C.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:ec(C,It,"tablecellclass",rn=>C.execCommand("mceTableCellToggleClass",!1,rn)),onSetup:D.onSetupCellOrRow}),C.queryCommandSupported("mceTableApplyCellStyle")&&(C.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:ec(C,Nu,"tablecellverticalalign",ha(C,"vertical-align")),onSetup:D.onSetupCellOrRow}),C.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:ec(C,Us(C),"tablecellborderwidth",ha(C,"border-width")),onSetup:D.onSetupCellOrRow}),C.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:ec(C,pa(C),"tablecellborderstyle",ha(C,"border-style")),onSetup:D.onSetupCellOrRow}),C.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:rn=>rn(fe(C,Ou(C),"background-color")),onSetup:D.onSetupCellOrRow}),C.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:rn=>rn(fe(C,Ac(C),"border-color")),onSetup:D.onSetupCellOrRow})),De("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:D.onSetupTableWithCaption}),De("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Dc(C),onSetup:D.onSetupTableRowHeaders}),De("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:xc(C),onSetup:D.onSetupTableColumnHeaders})},bn=C=>{const D=ae=>C.dom.is(ae,"table")&&C.getBody().contains(ae)&&C.dom.isEditable(ae.parentNode),G=Ci(C);G.length>0&&C.ui.registry.addContextToolbar("table",{predicate:D,items:G,scope:"node",position:"node"})},pp=C=>D=>{const G=()=>{D.setEnabled(C.selection.isEditable())};return C.on("NodeChange",G),G(),()=>{C.off("NodeChange",G)}},Sm=(C,D)=>{const G=ko=>()=>C.execCommand(ko),ae=(ko,cr)=>C.queryCommandSupported(cr.command)?(C.ui.registry.addMenuItem(ko,{...cr,onAction:Wt(cr.onAction)?cr.onAction:G(cr.command)}),!0):!1,De=(ko,cr)=>{C.queryCommandSupported(cr.command)&&C.ui.registry.addToggleMenuItem(ko,{...cr,onAction:Wt(cr.onAction)?cr.onAction:G(cr.command)})},st=ko=>{C.execCommand("mceInsertTable",!1,{rows:ko.numRows,columns:ko.numColumns})},It=[ae("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:D.onSetupCellOrRow}),ae("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:D.onSetupCellOrRow}),ae("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:D.onSetupCellOrRow}),ae("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:D.onSetupCellOrRow}),ae("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:D.onSetupCellOrRow}),ae("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:D.onSetupCellOrRow}),ae("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:D.onSetupPasteable(Fu)}),ae("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:D.onSetupPasteable(Fu)})],rn=[ae("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:D.onSetupColumn("onFirst")}),ae("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:D.onSetupColumn("onLast")}),ae("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:D.onSetupColumn("onAny")}),ae("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:D.onSetupColumn("onAny")}),ae("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:D.onSetupColumn("onAny")}),ae("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:D.onSetupPasteableColumn(yd,"onFirst")}),ae("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:D.onSetupPasteableColumn(yd,"onLast")})],Tn=[ae("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:D.onSetupCellOrRow}),ae("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:D.onSetupMergeable}),ae("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:D.onSetupUnmergeable})];dd(C)?C.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:st}],onSetup:pp(C)}):C.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:G("mceInsertTableDialog"),onSetup:pp(C)}),C.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:G("mceInsertTableDialog"),onSetup:pp(C)}),ae("tableprops",{text:"Table properties",onSetup:D.onSetupTable,command:"mceTableProps"}),ae("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:D.onSetupTable,command:"mceTableDelete"}),nn(It,!0)&&C.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:Kt("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),nn(rn,!0)&&C.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:Kt("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),nn(Tn,!0)&&C.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:Kt("tablecellprops tablemergecells tablesplitcells")}),C.ui.registry.addContextMenu("table",{update:()=>(D.resetTargets(),D.targets().fold(Kt(""),ko=>jo(ko.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const co=vc(qd(C));co.length!==0&&C.queryCommandSupported("mceTableToggleClass")&&C.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>lr(C,co,"tableclass",ko=>C.execCommand("mceTableToggleClass",!1,ko)),onSetup:D.onSetupTable});const ys=vc(So(C));ys.length!==0&&C.queryCommandSupported("mceTableCellToggleClass")&&C.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>lr(C,ys,"tablecellclass",ko=>C.execCommand("mceTableCellToggleClass",!1,ko)),onSetup:D.onSetupCellOrRow}),C.queryCommandSupported("mceTableApplyCellStyle")&&(C.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>lr(C,Nu,"tablecellverticalalign",ha(C,"vertical-align")),onSetup:D.onSetupCellOrRow}),C.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>lr(C,Us(C),"tablecellborderwidth",ha(C,"border-width")),onSetup:D.onSetupCellOrRow}),C.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>lr(C,pa(C),"tablecellborderstyle",ha(C,"border-style")),onSetup:D.onSetupCellOrRow}),C.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>fe(C,Ou(C),"background-color"),onSetup:D.onSetupCellOrRow}),C.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>fe(C,Ac(C),"border-color"),onSetup:D.onSetupCellOrRow})),De("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:D.onSetupTableWithCaption}),De("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Dc(C),onSetup:D.onSetupTableRowHeaders}),De("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:xc(C),onSetup:D.onSetupTableRowHeaders})},pf=C=>{const D=Mh(C);hs(C),Jd(C),Sm(C,D),Gf(C,D),bn(C)};var Lh=()=>{v.add("table",pf)};Lh()}();var gH=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],hH=function(v){return gH.map(function(P){return P.toLowerCase()}).indexOf(v.toLowerCase())!==-1},bH=function(v,P,R){Object.keys(P).filter(hH).forEach(function(W){var ue=P[W];typeof ue=="function"&&(W==="onInit"?ue(v,R):R.on(W.substring(2),function(de){return ue(de,R)}))})},yH=function(v,P,R,W){var ue=v.modelEvents?v.modelEvents:null,de=Array.isArray(ue)?ue.join(" "):ue;M.watch(W,function(be,ge){R&&typeof be=="string"&&be!==ge&&be!==R.getContent({format:v.outputFormat})&&R.setContent(be)}),R.on(de||"change input undo redo",function(){P.emit("update:modelValue",R.getContent({format:v.outputFormat}))})},vH=function(v,P,R,W,ue,de){W.setContent(de()),R.attrs["onUpdate:modelValue"]&&yH(P,R,W,ue),bH(v,R.attrs,W)},f8=0,m8=function(v){var P=Date.now(),R=Math.floor(Math.random()*1e9);return f8++,v+"_"+R+f8+String(P)},xH=function(v){return v!==null&&v.tagName.toLowerCase()==="textarea"},p8=function(v){return typeof v>"u"||v===""?[]:Array.isArray(v)?v:v.split(" ")},wH=function(v,P){return p8(v).concat(p8(P))},kH=function(v){return v==null},g8=function(){return{listeners:[],scriptId:m8("tiny-script"),scriptLoaded:!1}},_H=function(){var v=g8(),P=function(ue,de,be,ge){var Me=de.createElement("script");Me.referrerPolicy="origin",Me.type="application/javascript",Me.id=ue,Me.src=be;var $e=function(){Me.removeEventListener("load",$e),ge()};Me.addEventListener("load",$e),de.head&&de.head.appendChild(Me)},R=function(ue,de,be){v.scriptLoaded?be():(v.listeners.push(be),ue.getElementById(v.scriptId)||P(v.scriptId,ue,de,function(){v.listeners.forEach(function(ge){return ge()}),v.scriptLoaded=!0}))},W=function(){v=g8()};return{load:R,reinitialize:W}},CH=_H(),SH=function(){return typeof window<"u"?window:global},Gv=function(){var v=SH();return v&&v.tinymce?v.tinymce:null},EH={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(v){return v==="html"||v==="text"}}},Rh=globalThis&&globalThis.__assign||function(){return Rh=Object.assign||function(v){for(var P,R=1,W=arguments.length;R<W;R++){P=arguments[R];for(var ue in P)Object.prototype.hasOwnProperty.call(P,ue)&&(v[ue]=P[ue])}return v},Rh.apply(this,arguments)},TH=function(v,P,R,W){return v(W||"div",{id:P,ref:R})},zH=function(v,P,R){return v("textarea",{id:P,visibility:"hidden",ref:R})},y5={selector:void 0,target:void 0},OH=M.defineComponent({props:EH,setup:function(v,P){var R=v.init?Rh(Rh({},v.init),y5):Rh({},y5),W=M.toRefs(v),ue=W.disabled,de=W.modelValue,be=W.tagName,ge=M.ref(null),Me=null,$e=v.id||m8("tiny-vue"),Xe=v.init&&v.init.inline||v.inline,vt=!!P.attrs["onUpdate:modelValue"],Wt=!0,lt=v.initialValue?v.initialValue:"",Rt="",tn=function(ln){return vt?function(){return de!=null&&de.value?de.value:""}:function(){return ln?lt:Rt}},Kt=function(){var ln=tn(Wt),At=Rh(Rh({},R),{readonly:v.disabled,target:ge.value,plugins:wH(R.plugins,v.plugins),toolbar:v.toolbar||R.toolbar,inline:Xe,setup:function(Te){Me=Te,Te.on("init",function(kt){return vH(kt,v,P,Te,de,ln)}),typeof R.setup=="function"&&R.setup(Te)}});xH(ge.value)&&(ge.value.style.visibility=""),Gv().init(At),Wt=!1};M.watch(ue,function(ln){var At;Me!==null&&(typeof((At=Me.mode)===null||At===void 0?void 0:At.set)=="function"?Me.mode.set(ln?"readonly":"design"):Me.setMode(ln?"readonly":"design"))}),M.watch(be,function(ln){var At;vt||(Rt=Me.getContent()),(At=Gv())===null||At===void 0||At.remove(Me),M.nextTick(function(){return Kt()})}),M.onMounted(function(){if(Gv()!==null)Kt();else if(ge.value&&ge.value.ownerDocument){var ln=v.cloudChannel?v.cloudChannel:"6",At=v.apiKey?v.apiKey:"no-api-key",Te=kH(v.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(At,"/tinymce/").concat(ln,"/tinymce.min.js"):v.tinymceScriptSrc;CH.load(ge.value.ownerDocument,Te,Kt)}}),M.onBeforeUnmount(function(){Gv()!==null&&Gv().remove(Me)}),Xe||(M.onActivated(function(){Wt||Kt()}),M.onDeactivated(function(){var ln;vt||(Rt=Me.getContent()),(ln=Gv())===null||ln===void 0||ln.remove(Me)}));var ht=function(ln){var At;Rt=Me.getContent(),(At=Gv())===null||At===void 0||At.remove(Me),R=Rh(Rh(Rh({},R),ln),y5),M.nextTick(function(){return Kt()})};return P.expose({rerender:ht,getEditor:function(){return Me}}),function(){return Xe?TH(M.h,$e,ge,v.tagName):zH(M.h,$e,ge)}}});const AH={__name:"Wysiwyg",props:{plugins:{default:"lists link table code help wordcount"},toolbar:{default:"undo redo | styles | bold italic numlist bullist | link"},menubar:{default:!1},height:{default:500}},setup(v){return(P,R)=>(M.openBlock(),M.createBlock(M.unref(OH),{"api-key":"no-api-key",init:{plugins:v.plugins,toolbar:v.toolbar,menubar:v.menubar,height:v.height}},null,8,["init"]))}},NH={key:0},DH=["for"],RH={class:"cursor-pointer ml-2 align-middle"},BH={key:0,class:"text-red-600 ml-1"},MH={key:1},LH=["for"],PH={key:0,class:"text-red-600 ml-1"},IH={key:2},FH=["id","rows","value","placeholder","disabled"],VH={key:7,class:"flex items-center"},HH=["id","value","placeholder","autocomplete","required","disabled","min","max","step"],UH=["id","type","value","placeholder","autocomplete","required","disabled","min","max","step"],jH=["innerHTML"],h8={__name:"InputControl",props:{modelValue:{},placeholder:{},autocomplete:{},required:{},disabled:{},id:{type:String,default(){return Math.random().toString(36).slice(2)}},label:{type:String},type:{type:String,default(){return"text"}},multiple:{type:[Boolean,Object],default(){return!1}},select:{type:Object},wysiwyg:{type:Object},errors:{type:[Array,String],default(){return[]}},attachments:{type:Array,default(){return[]}},acceptableTypes:{type:Array},maxSize:{type:[Number,String],default:"10MB"},info:{type:String},hideCheckbox:{type:Boolean,default:!1},indicateRequired:{type:Boolean,default:!1}},emits:["update:modelValue","remove-attachment","preview"],setup(v,{emit:P}){const R=v,W=P,ue=M.computed(()=>typeof R.errors=="string"?[R.errors]:R.errors),de=M.computed(()=>R.type.indexOf("textarea")===0?R.type.split(":")[1]??"10":"10"),be=M.computed(()=>R.type.split(":")[0]),ge=M.computed(()=>{const tn=R.type.match(/:min=|:max=|:step=/g),Kt=R.type.split(/:min=|:max=|:step=/g);return tn?Object.fromEntries(tn.map((ht,ln)=>[ht.replace(":","").replace("=",""),Kt[ln+1]??null])):{}}),Me=M.computed(()=>ge.value.hasOwnProperty("min")?ge.value.min:null),$e=M.computed(()=>ge.value.hasOwnProperty("max")?ge.value.max:null),Xe=M.computed(()=>ge.value.hasOwnProperty("step")?ge.value.step:null),vt=M.ref(R.modelValue);M.watch(()=>R.modelValue,tn=>{vt.value=tn});function Wt(tn){W("update:modelValue",tn)}const lt=M.ref(be.value==="currency"&&R.modelValue?(parseFloat(R.modelValue)||0).toFixed(2):null);function Rt(tn){lt.value=tn||tn===0?(parseFloat(tn)||0).toFixed(2):null,W("update:modelValue",lt.value)}return(tn,Kt)=>{var ht,ln,At,Te,kt;return M.openBlock(),M.createElementBlock("div",{class:M.normalizeClass({error:(ht=ue.value)==null?void 0:ht.length,required:v.indicateRequired&&v.required})},[v.type==="checkbox"?(M.openBlock(),M.createElementBlock("div",NH,[M.createElementVNode("label",{for:v.id,class:M.normalizeClass(["checkbox-label",{disabled:v.disabled}])},[M.createVNode(YF,{id:v.id,checked:v.modelValue,"onUpdate:checked":Wt,required:v.required,disabled:v.disabled,class:M.normalizeClass({hidden:v.hideCheckbox})},null,8,["id","checked","required","disabled","class"]),M.renderSlot(tn.$slots,"svg"),M.createElementVNode("span",RH,[M.createTextVNode(M.toDisplayString(v.label),1),v.indicateRequired&&v.required?(M.openBlock(),M.createElementBlock("span",BH,"*")):M.createCommentVNode("",!0)])],10,DH)])):(M.openBlock(),M.createElementBlock("div",MH,[v.label?(M.openBlock(),M.createElementBlock("label",{key:0,for:v.id,class:M.normalizeClass(["input-label",{disabled:v.disabled}])},[M.createTextVNode(M.toDisplayString(v.label),1),v.indicateRequired&&v.required?(M.openBlock(),M.createElementBlock("span",PH,"*")):M.createCommentVNode("",!0)],10,LH)):M.createCommentVNode("",!0),v.select?(M.openBlock(),M.createBlock(zV,{key:1,id:v.id,type:v.select.type,multiple:v.select.multiple,url:v.select.url,field:v.select.field,label:v.select.label,options:v.select.options,filters:v.select.filters,"search-columns":v.select.searchColumns,limit:v.select.limit,preload:v.select.preload,modelValue:vt.value,"onUpdate:modelValue":[Kt[0]||(Kt[0]=Ee=>vt.value=Ee),Kt[1]||(Kt[1]=Ee=>tn.$emit("update:modelValue",Ee))],disabled:v.disabled,required:v.required,placeholder:v.placeholder?v.placeholder:v.label},null,8,["id","type","multiple","url","field","label","options","filters","search-columns","limit","preload","modelValue","disabled","required","placeholder"])):v.type==="attachments"?(M.openBlock(),M.createElementBlock("div",IH,[M.createVNode(UV,{attachments:v.attachments,onRemove:Kt[2]||(Kt[2]=Ee=>W("remove-attachment",Ee))},null,8,["attachments"]),M.createVNode(u8,{multiple:"",id:v.id,modelValue:vt.value,"onUpdate:modelValue":[Kt[3]||(Kt[3]=Ee=>vt.value=Ee),Kt[4]||(Kt[4]=Ee=>tn.$emit("update:modelValue",Ee))],"acceptable-types":v.acceptableTypes,"max-size":v.maxSize,placeholder:v.placeholder,disabled:v.disabled,onPreview:Kt[5]||(Kt[5]=Ee=>tn.$emit("preview",Ee))},null,8,["id","modelValue","acceptable-types","max-size","placeholder","disabled"])])):v.type==="wysiwyg"||v.wysiwyg?(M.openBlock(),M.createBlock(AH,{key:3,modelValue:vt.value,"onUpdate:modelValue":[Kt[6]||(Kt[6]=Ee=>vt.value=Ee),Kt[7]||(Kt[7]=Ee=>tn.$emit("update:modelValue",Ee))],height:(ln=v.wysiwyg)==null?void 0:ln.height,menubar:(At=v.wysiwyg)==null?void 0:At.menubar,plugins:(Te=v.wysiwyg)==null?void 0:Te.plugins,toolbar:(kt=v.wysiwyg)==null?void 0:kt.toolbar},null,8,["modelValue","height","menubar","plugins","toolbar"])):v.type==="image"||v.type==="file"?(M.openBlock(),M.createBlock(u8,{key:4,id:v.id,modelValue:vt.value,"onUpdate:modelValue":[Kt[8]||(Kt[8]=Ee=>vt.value=Ee),Kt[9]||(Kt[9]=Ee=>tn.$emit("update:modelValue",Ee))],"acceptable-types":v.acceptableTypes,"max-size":v.maxSize,placeholder:v.placeholder,disabled:v.disabled,onPreview:Kt[10]||(Kt[10]=Ee=>tn.$emit("preview",Ee))},null,8,["id","modelValue","acceptable-types","max-size","placeholder","disabled"])):be.value==="textarea"?(M.openBlock(),M.createElementBlock("textarea",{key:5,id:v.id,class:"input-textarea",rows:de.value,value:v.modelValue,onInput:Kt[11]||(Kt[11]=Ee=>tn.$emit("update:modelValue",Ee.target.value)),placeholder:v.placeholder?v.placeholder:v.label,disabled:v.disabled},null,40,FH)):v.multiple?(M.openBlock(),M.createBlock(LV,{key:6,id:v.id,type:v.type,field:v.multiple.field,label:v.multiple.label,"can-add":v.multiple.canAdd,taggable:v.multiple.taggable,options:v.multiple.options,modelValue:vt.value,"onUpdate:modelValue":[Kt[12]||(Kt[12]=Ee=>vt.value=Ee),Kt[13]||(Kt[13]=Ee=>tn.$emit("update:modelValue",Ee))],class:"mt-1",placeholder:v.placeholder?v.placeholder:v.label,disabled:v.disabled},null,8,["id","type","field","label","can-add","taggable","options","modelValue","placeholder","disabled"])):be.value==="currency"?(M.openBlock(),M.createElementBlock("div",VH,[Kt[18]||(Kt[18]=M.createElementVNode("div",{class:"input-text !bg-zinc-100 !rounded-r-none !border-r-0 !w-auto"},"$",-1)),M.createElementVNode("input",{id:v.id,class:"input-text !rounded-l-none",type:"number",value:lt.value,onChange:Kt[14]||(Kt[14]=Ee=>Rt(Ee.target.value)),placeholder:v.placeholder?v.placeholder:v.label,autocomplete:v.autocomplete,required:v.required,disabled:v.disabled,min:Me.value,max:$e.value,step:Xe.value,onWheel:Kt[15]||(Kt[15]=Ee=>Ee.target.blur())},null,40,HH)])):(M.openBlock(),M.createElementBlock("input",{key:8,id:v.id,class:"input-text",type:be.value,value:v.modelValue,onInput:Kt[16]||(Kt[16]=Ee=>tn.$emit("update:modelValue",Ee.target.value)),placeholder:v.placeholder?v.placeholder:v.label,autocomplete:v.autocomplete,required:v.required,disabled:v.disabled,min:Me.value,max:$e.value,step:Xe.value,onWheel:Kt[17]||(Kt[17]=Ee=>Ee.target.blur())},null,40,UH))])),v.info?(M.openBlock(),M.createElementBlock("div",{key:2,class:"text-sm text-gray-400",innerHTML:v.info},null,8,jH)):M.createCommentVNode("",!0),(M.openBlock(!0),M.createElementBlock(M.Fragment,null,M.renderList(ue.value,Ee=>(M.openBlock(),M.createBlock(GF,{message:Ee.replaceAll(".file","")},null,8,["message"]))),256))],2)}}},b8={__name:"FormInput",props:{form:{type:Object,required:!0},field:{type:String,required:!0},id:{},idSuffix:{},label:{type:String},type:{type:String},multiple:{type:[Boolean,Object],default(){return!1}},select:{type:Object},wysiwyg:{type:Object},acceptableTypes:{type:Array},maxSize:{type:[Number,String],default:"10MB"},info:{type:String},placeholder:{},autocomplete:{},required:{},disabled:{},indicateRequired:{type:Boolean,default:!1},errors:{}},setup(v){const P=v,R=M.computed(()=>P.id?P.id:P.field+"_"+(P.idSuffix??Math.random().toString(36).slice(2))),W=M.computed(()=>P.label?P.label:b5(P.field)),ue=M.computed(()=>{const be=P.errors??P.form.errors;let ge=P.field+(P.type==="file"?".file":"");return be&&be[ge]?be[ge]:[]});function de(be){P.form.attachments=P.form.attachments.filter(ge=>ge.id!=be.id)}return(be,ge)=>(M.openBlock(),M.createBlock(h8,{id:R.value,type:v.type,multiple:v.multiple,select:v.select,wysiwyg:v.wysiwyg,label:W.value,modelValue:v.form[v.field],"onUpdate:modelValue":ge[0]||(ge[0]=Me=>v.form[v.field]=Me),attachments:v.form.attachments,"acceptable-types":v.acceptableTypes,"max-size":v.maxSize,errors:ue.value,placeholder:v.placeholder,autocomplete:v.autocomplete,required:v.required,disabled:v.disabled,info:v.info,"indicate-required":v.indicateRequired,onRemoveAttachment:de},null,8,["id","type","multiple","select","wysiwyg","label","modelValue","attachments","acceptable-types","max-size","errors","placeholder","autocomplete","required","disabled","info","indicate-required"]))}},y8={__name:"FormInputGroup",props:{id:{},class:{},form:{type:Object,required:!0},inputs:{type:Array,default(){return[]}},indicateRequired:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},errors:{}},setup(v){const P=v,R=M.computed(()=>P.class?P.class:"space-y-6");return(W,ue)=>(M.openBlock(),M.createElementBlock("div",{class:M.normalizeClass(R.value)},[(M.openBlock(!0),M.createElementBlock(M.Fragment,null,M.renderList(v.inputs,de=>(M.openBlock(),M.createBlock(b8,{form:v.form,field:de.field,id:de.id,"id-suffix":v.id,class:M.normalizeClass(de.class),type:de.type,multiple:de.multiple,"acceptable-types":de.acceptableTypes,"max-size":de.maxSize,select:de.select,wysiwyg:de.wysiwyg,label:de.label,placeholder:de.placeholder,autocomplete:de.autocomplete,required:de.required,disabled:de.disabled||v.disabled,info:de.info,"indicate-required":typeof de.indicateRequired<"u"?de.indicateRequired:v.indicateRequired,errors:v.errors},null,8,["form","field","id","id-suffix","class","type","multiple","acceptable-types","max-size","select","wysiwyg","label","placeholder","autocomplete","required","disabled","info","indicate-required","errors"]))),256)),M.renderSlot(W.$slots,"default")],2))}},ZH=["href"],WH=["type"],z2={__name:"FormButton",props:{context:{type:String,default:"form-btn-primary"},type:{type:String,default:"submit"},href:{type:String}},setup(v){return(P,R)=>v.type==="link"?(M.openBlock(),M.createElementBlock("a",{key:0,href:v.href,class:M.normalizeClass(v.context)},[M.renderSlot(P.$slots,"default")],10,ZH)):(M.openBlock(),M.createElementBlock("button",{key:1,type:v.type,class:M.normalizeClass(v.context)},[M.renderSlot(P.$slots,"default")],10,WH))}};function v5(v){typeof queueMicrotask=="function"?queueMicrotask(v):Promise.resolve().then(v).catch(P=>setTimeout(()=>{throw P}))}function O2(){let v=[],P={addEventListener(R,W,ue,de){return R.addEventListener(W,ue,de),P.add(()=>R.removeEventListener(W,ue,de))},requestAnimationFrame(...R){let W=requestAnimationFrame(...R);P.add(()=>cancelAnimationFrame(W))},nextFrame(...R){P.requestAnimationFrame(()=>{P.requestAnimationFrame(...R)})},setTimeout(...R){let W=setTimeout(...R);P.add(()=>clearTimeout(W))},microTask(...R){let W={current:!0};return v5(()=>{W.current&&R[0]()}),P.add(()=>{W.current=!1})},style(R,W,ue){let de=R.style.getPropertyValue(W);return Object.assign(R.style,{[W]:ue}),this.add(()=>{Object.assign(R.style,{[W]:de})})},group(R){let W=O2();return R(W),this.add(()=>W.dispose())},add(R){return v.push(R),()=>{let W=v.indexOf(R);if(W>=0)for(let ue of v.splice(W,1))ue()}},dispose(){for(let R of v.splice(0))R()}};return P}var v8;let $H=Symbol("headlessui.useid"),qH=0;const Kv=(v8=s8.useId)!=null?v8:function(){return s8.inject($H,()=>`${++qH}`)()};function Uc(v){var P;if(v==null||v.value==null)return null;let R=(P=v.value.$el)!=null?P:v.value;return R instanceof Node?R:null}function Bh(v,P,...R){if(v in P){let ue=P[v];return typeof ue=="function"?ue(...R):ue}let W=new Error(`Tried to handle "${v}" but there is no handler defined. Only defined handlers are: ${Object.keys(P).map(ue=>`"${ue}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(W,Bh),W}var GH=Object.defineProperty,KH=(v,P,R)=>P in v?GH(v,P,{enumerable:!0,configurable:!0,writable:!0,value:R}):v[P]=R,x8=(v,P,R)=>(KH(v,typeof P!="symbol"?P+"":P,R),R);let YH=class{constructor(){x8(this,"current",this.detect()),x8(this,"currentId",0)}set(P){this.current!==P&&(this.currentId=0,this.current=P)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},A2=new YH;function Qx(v){if(A2.isServer)return null;if(v instanceof Node)return v.ownerDocument;if(v!=null&&v.hasOwnProperty("value")){let P=Uc(v);if(P)return P.ownerDocument}return document}let x5=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(v=>`${v}:not([tabindex='-1'])`).join(",");var C0=(v=>(v[v.First=1]="First",v[v.Previous=2]="Previous",v[v.Next=4]="Next",v[v.Last=8]="Last",v[v.WrapAround=16]="WrapAround",v[v.NoScroll=32]="NoScroll",v))(C0||{}),w8=(v=>(v[v.Error=0]="Error",v[v.Overflow=1]="Overflow",v[v.Success=2]="Success",v[v.Underflow=3]="Underflow",v))(w8||{}),XH=(v=>(v[v.Previous=-1]="Previous",v[v.Next=1]="Next",v))(XH||{});function JH(v=document.body){return v==null?[]:Array.from(v.querySelectorAll(x5)).sort((P,R)=>Math.sign((P.tabIndex||Number.MAX_SAFE_INTEGER)-(R.tabIndex||Number.MAX_SAFE_INTEGER)))}var k8=(v=>(v[v.Strict=0]="Strict",v[v.Loose=1]="Loose",v))(k8||{});function QH(v,P=0){var R;return v===((R=Qx(v))==null?void 0:R.body)?!1:Bh(P,{0(){return v.matches(x5)},1(){let W=v;for(;W!==null;){if(W.matches(x5))return!0;W=W.parentElement}return!1}})}var e9=(v=>(v[v.Keyboard=0]="Keyboard",v[v.Mouse=1]="Mouse",v))(e9||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",v=>{v.metaKey||v.altKey||v.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",v=>{v.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:v.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Yv(v){v==null||v.focus({preventScroll:!0})}let t9=["textarea","input"].join(",");function n9(v){var P,R;return(R=(P=v==null?void 0:v.matches)==null?void 0:P.call(v,t9))!=null?R:!1}function o9(v,P=R=>R){return v.slice().sort((R,W)=>{let ue=P(R),de=P(W);if(ue===null||de===null)return 0;let be=ue.compareDocumentPosition(de);return be&Node.DOCUMENT_POSITION_FOLLOWING?-1:be&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function YT(v,P,{sorted:R=!0,relativeTo:W=null,skipElements:ue=[]}={}){var de;let be=(de=Array.isArray(v)?v.length>0?v[0].ownerDocument:document:v==null?void 0:v.ownerDocument)!=null?de:document,ge=Array.isArray(v)?R?o9(v):v:JH(v);ue.length>0&&ge.length>1&&(ge=ge.filter(Rt=>!ue.includes(Rt))),W=W??be.activeElement;let Me=(()=>{if(P&5)return 1;if(P&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),$e=(()=>{if(P&1)return 0;if(P&2)return Math.max(0,ge.indexOf(W))-1;if(P&4)return Math.max(0,ge.indexOf(W))+1;if(P&8)return ge.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),Xe=P&32?{preventScroll:!0}:{},vt=0,Wt=ge.length,lt;do{if(vt>=Wt||vt+Wt<=0)return 0;let Rt=$e+vt;if(P&16)Rt=(Rt+Wt)%Wt;else{if(Rt<0)return 3;if(Rt>=Wt)return 1}lt=ge[Rt],lt==null||lt.focus(Xe),vt+=Me}while(lt!==be.activeElement);return P&6&&n9(lt)&&lt.select(),2}function _8(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function r9(){return/Android/gi.test(window.navigator.userAgent)}function s9(){return _8()||r9()}function XT(v,P,R){A2.isServer||M.watchEffect(W=>{document.addEventListener(v,P,R),W(()=>document.removeEventListener(v,P,R))})}function C8(v,P,R){A2.isServer||M.watchEffect(W=>{window.addEventListener(v,P,R),W(()=>window.removeEventListener(v,P,R))})}function a9(v,P,R=M.computed(()=>!0)){function W(de,be){if(!R.value||de.defaultPrevented)return;let ge=be(de);if(ge===null||!ge.getRootNode().contains(ge))return;let Me=function $e(Xe){return typeof Xe=="function"?$e(Xe()):Array.isArray(Xe)||Xe instanceof Set?Xe:[Xe]}(v);for(let $e of Me){if($e===null)continue;let Xe=$e instanceof HTMLElement?$e:Uc($e);if(Xe!=null&&Xe.contains(ge)||de.composed&&de.composedPath().includes(Xe))return}return!QH(ge,k8.Loose)&&ge.tabIndex!==-1&&de.preventDefault(),P(de,ge)}let ue=M.ref(null);XT("pointerdown",de=>{var be,ge;R.value&&(ue.value=((ge=(be=de.composedPath)==null?void 0:be.call(de))==null?void 0:ge[0])||de.target)},!0),XT("mousedown",de=>{var be,ge;R.value&&(ue.value=((ge=(be=de.composedPath)==null?void 0:be.call(de))==null?void 0:ge[0])||de.target)},!0),XT("click",de=>{s9()||ue.value&&(W(de,()=>ue.value),ue.value=null)},!0),XT("touchend",de=>W(de,()=>de.target instanceof HTMLElement?de.target:null),!0),C8("blur",de=>W(de,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var JT=(v=>(v[v.None=0]="None",v[v.RenderStrategy=1]="RenderStrategy",v[v.Static=2]="Static",v))(JT||{}),S0=(v=>(v[v.Unmount=0]="Unmount",v[v.Hidden=1]="Hidden",v))(S0||{});function sp({visible:v=!0,features:P=0,ourProps:R,theirProps:W,...ue}){var de;let be=E8(W,R),ge=Object.assign(ue,{props:be});if(v||P&2&&be.static)return w5(ge);if(P&1){let Me=(de=be.unmount)==null||de?0:1;return Bh(Me,{0(){return null},1(){return w5({...ue,props:{...be,hidden:!0,style:{display:"none"}}})}})}return w5(ge)}function w5({props:v,attrs:P,slots:R,slot:W,name:ue}){var de,be;let{as:ge,...Me}=T8(v,["unmount","static"]),$e=(de=R.default)==null?void 0:de.call(R,W),Xe={};if(W){let vt=!1,Wt=[];for(let[lt,Rt]of Object.entries(W))typeof Rt=="boolean"&&(vt=!0),Rt===!0&&Wt.push(lt);vt&&(Xe["data-headlessui-state"]=Wt.join(" "))}if(ge==="template"){if($e=S8($e??[]),Object.keys(Me).length>0||Object.keys(P).length>0){let[vt,...Wt]=$e??[];if(!i9(vt)||Wt.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${ue} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(Me).concat(Object.keys(P)).map(tn=>tn.trim()).filter((tn,Kt,ht)=>ht.indexOf(tn)===Kt).sort((tn,Kt)=>tn.localeCompare(Kt)).map(tn=>`  - ${tn}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(tn=>`  - ${tn}`).join(`
`)].join(`
`));let lt=E8((be=vt.props)!=null?be:{},Me,Xe),Rt=M.cloneVNode(vt,lt,!0);for(let tn in lt)tn.startsWith("on")&&(Rt.props||(Rt.props={}),Rt.props[tn]=lt[tn]);return Rt}return Array.isArray($e)&&$e.length===1?$e[0]:$e}return M.h(ge,Object.assign({},Me,Xe),{default:()=>$e})}function S8(v){return v.flatMap(P=>P.type===M.Fragment?S8(P.children):[P])}function E8(...v){if(v.length===0)return{};if(v.length===1)return v[0];let P={},R={};for(let W of v)for(let ue in W)ue.startsWith("on")&&typeof W[ue]=="function"?(R[ue]!=null||(R[ue]=[]),R[ue].push(W[ue])):P[ue]=W[ue];if(P.disabled||P["aria-disabled"])return Object.assign(P,Object.fromEntries(Object.keys(R).map(W=>[W,void 0])));for(let W in R)Object.assign(P,{[W](ue,...de){let be=R[W];for(let ge of be){if(ue instanceof Event&&ue.defaultPrevented)return;ge(ue,...de)}}});return P}function T8(v,P=[]){let R=Object.assign({},v);for(let W of P)W in R&&delete R[W];return R}function i9(v){return v==null?!1:typeof v.type=="string"||typeof v.type=="object"||typeof v.type=="function"}var QT=(v=>(v[v.None=1]="None",v[v.Focusable=2]="Focusable",v[v.Hidden=4]="Hidden",v))(QT||{});let k5=M.defineComponent({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(v,{slots:P,attrs:R}){return()=>{var W;let{features:ue,...de}=v,be={"aria-hidden":(ue&2)===2?!0:(W=de["aria-hidden"])!=null?W:void 0,hidden:(ue&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(ue&4)===4&&(ue&2)!==2&&{display:"none"}}};return sp({ourProps:be,theirProps:de,slot:{},attrs:R,slots:P,name:"Hidden"})}}}),z8=Symbol("Context");var ap=(v=>(v[v.Open=1]="Open",v[v.Closed=2]="Closed",v[v.Closing=4]="Closing",v[v.Opening=8]="Opening",v))(ap||{});function l9(){return _5()!==null}function _5(){return M.inject(z8,null)}function c9(v){M.provide(z8,v)}var O8=(v=>(v.Space=" ",v.Enter="Enter",v.Escape="Escape",v.Backspace="Backspace",v.Delete="Delete",v.ArrowLeft="ArrowLeft",v.ArrowUp="ArrowUp",v.ArrowRight="ArrowRight",v.ArrowDown="ArrowDown",v.Home="Home",v.End="End",v.PageUp="PageUp",v.PageDown="PageDown",v.Tab="Tab",v))(O8||{});function d9(v){function P(){document.readyState!=="loading"&&(v(),document.removeEventListener("DOMContentLoaded",P))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",P),P())}let Xv=[];d9(()=>{function v(P){P.target instanceof HTMLElement&&P.target!==document.body&&Xv[0]!==P.target&&(Xv.unshift(P.target),Xv=Xv.filter(R=>R!=null&&R.isConnected),Xv.splice(10))}window.addEventListener("click",v,{capture:!0}),window.addEventListener("mousedown",v,{capture:!0}),window.addEventListener("focus",v,{capture:!0}),document.body.addEventListener("click",v,{capture:!0}),document.body.addEventListener("mousedown",v,{capture:!0}),document.body.addEventListener("focus",v,{capture:!0})});function A8(v,P,R,W){A2.isServer||M.watchEffect(ue=>{v=v??window,v.addEventListener(P,R,W),ue(()=>v.removeEventListener(P,R,W))})}var N2=(v=>(v[v.Forwards=0]="Forwards",v[v.Backwards=1]="Backwards",v))(N2||{});function u9(){let v=M.ref(0);return C8("keydown",P=>{P.key==="Tab"&&(v.value=P.shiftKey?1:0)}),v}function N8(v){if(!v)return new Set;if(typeof v=="function")return new Set(v());let P=new Set;for(let R of v.value){let W=Uc(R);W instanceof HTMLElement&&P.add(W)}return P}var D8=(v=>(v[v.None=1]="None",v[v.InitialFocus=2]="InitialFocus",v[v.TabLock=4]="TabLock",v[v.FocusLock=8]="FocusLock",v[v.RestoreFocus=16]="RestoreFocus",v[v.All=30]="All",v))(D8||{});let D2=Object.assign(M.defineComponent({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:M.ref(new Set)}},inheritAttrs:!1,setup(v,{attrs:P,slots:R,expose:W}){let ue=M.ref(null);W({el:ue,$el:ue});let de=M.computed(()=>Qx(ue)),be=M.ref(!1);M.onMounted(()=>be.value=!0),M.onUnmounted(()=>be.value=!1),m9({ownerDocument:de},M.computed(()=>be.value&&!!(v.features&16)));let ge=p9({ownerDocument:de,container:ue,initialFocus:M.computed(()=>v.initialFocus)},M.computed(()=>be.value&&!!(v.features&2)));g9({ownerDocument:de,container:ue,containers:v.containers,previousActiveElement:ge},M.computed(()=>be.value&&!!(v.features&8)));let Me=u9();function $e(lt){let Rt=Uc(ue);Rt&&(tn=>tn())(()=>{Bh(Me.value,{[N2.Forwards]:()=>{YT(Rt,C0.First,{skipElements:[lt.relatedTarget]})},[N2.Backwards]:()=>{YT(Rt,C0.Last,{skipElements:[lt.relatedTarget]})}})})}let Xe=M.ref(!1);function vt(lt){lt.key==="Tab"&&(Xe.value=!0,requestAnimationFrame(()=>{Xe.value=!1}))}function Wt(lt){if(!be.value)return;let Rt=N8(v.containers);Uc(ue)instanceof HTMLElement&&Rt.add(Uc(ue));let tn=lt.relatedTarget;tn instanceof HTMLElement&&tn.dataset.headlessuiFocusGuard!=="true"&&(R8(Rt,tn)||(Xe.value?YT(Uc(ue),Bh(Me.value,{[N2.Forwards]:()=>C0.Next,[N2.Backwards]:()=>C0.Previous})|C0.WrapAround,{relativeTo:lt.target}):lt.target instanceof HTMLElement&&Yv(lt.target)))}return()=>{let lt={},Rt={ref:ue,onKeydown:vt,onFocusout:Wt},{features:tn,initialFocus:Kt,containers:ht,...ln}=v;return M.h(M.Fragment,[!!(tn&4)&&M.h(k5,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:$e,features:QT.Focusable}),sp({ourProps:Rt,theirProps:{...P,...ln},slot:lt,attrs:P,slots:R,name:"FocusTrap"}),!!(tn&4)&&M.h(k5,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:$e,features:QT.Focusable})])}}}),{features:D8});function f9(v){let P=M.ref(Xv.slice());return M.watch([v],([R],[W])=>{W===!0&&R===!1?v5(()=>{P.value.splice(0)}):W===!1&&R===!0&&(P.value=Xv.slice())},{flush:"post"}),()=>{var R;return(R=P.value.find(W=>W!=null&&W.isConnected))!=null?R:null}}function m9({ownerDocument:v},P){let R=f9(P);M.onMounted(()=>{M.watchEffect(()=>{var W,ue;P.value||((W=v.value)==null?void 0:W.activeElement)===((ue=v.value)==null?void 0:ue.body)&&Yv(R())},{flush:"post"})}),M.onUnmounted(()=>{P.value&&Yv(R())})}function p9({ownerDocument:v,container:P,initialFocus:R},W){let ue=M.ref(null),de=M.ref(!1);return M.onMounted(()=>de.value=!0),M.onUnmounted(()=>de.value=!1),M.onMounted(()=>{M.watch([P,R,W],(be,ge)=>{if(be.every(($e,Xe)=>(ge==null?void 0:ge[Xe])===$e)||!W.value)return;let Me=Uc(P);Me&&v5(()=>{var $e,Xe;if(!de.value)return;let vt=Uc(R),Wt=($e=v.value)==null?void 0:$e.activeElement;if(vt){if(vt===Wt){ue.value=Wt;return}}else if(Me.contains(Wt)){ue.value=Wt;return}vt?Yv(vt):YT(Me,C0.First|C0.NoScroll)===w8.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),ue.value=(Xe=v.value)==null?void 0:Xe.activeElement})},{immediate:!0,flush:"post"})}),ue}function g9({ownerDocument:v,container:P,containers:R,previousActiveElement:W},ue){var de;A8((de=v.value)==null?void 0:de.defaultView,"focus",be=>{if(!ue.value)return;let ge=N8(R);Uc(P)instanceof HTMLElement&&ge.add(Uc(P));let Me=W.value;if(!Me)return;let $e=be.target;$e&&$e instanceof HTMLElement?R8(ge,$e)?(W.value=$e,Yv($e)):(be.preventDefault(),be.stopPropagation(),Yv(Me)):Yv(W.value)},!0)}function R8(v,P){for(let R of v)if(R.contains(P))return!0;return!1}function h9(v){let P=M.shallowRef(v.getSnapshot());return M.onUnmounted(v.subscribe(()=>{P.value=v.getSnapshot()})),P}function b9(v,P){let R=v(),W=new Set;return{getSnapshot(){return R},subscribe(ue){return W.add(ue),()=>W.delete(ue)},dispatch(ue,...de){let be=P[ue].call(R,...de);be&&(R=be,W.forEach(ge=>ge()))}}}function y9(){let v;return{before({doc:P}){var R;let W=P.documentElement;v=((R=P.defaultView)!=null?R:window).innerWidth-W.clientWidth},after({doc:P,d:R}){let W=P.documentElement,ue=W.clientWidth-W.offsetWidth,de=v-ue;R.style(W,"paddingRight",`${de}px`)}}}function v9(){return _8()?{before({doc:v,d:P,meta:R}){function W(ue){return R.containers.flatMap(de=>de()).some(de=>de.contains(ue))}P.microTask(()=>{var ue;if(window.getComputedStyle(v.documentElement).scrollBehavior!=="auto"){let ge=O2();ge.style(v.documentElement,"scrollBehavior","auto"),P.add(()=>P.microTask(()=>ge.dispose()))}let de=(ue=window.scrollY)!=null?ue:window.pageYOffset,be=null;P.addEventListener(v,"click",ge=>{if(ge.target instanceof HTMLElement)try{let Me=ge.target.closest("a");if(!Me)return;let{hash:$e}=new URL(Me.href),Xe=v.querySelector($e);Xe&&!W(Xe)&&(be=Xe)}catch{}},!0),P.addEventListener(v,"touchstart",ge=>{if(ge.target instanceof HTMLElement)if(W(ge.target)){let Me=ge.target;for(;Me.parentElement&&W(Me.parentElement);)Me=Me.parentElement;P.style(Me,"overscrollBehavior","contain")}else P.style(ge.target,"touchAction","none")}),P.addEventListener(v,"touchmove",ge=>{if(ge.target instanceof HTMLElement){if(ge.target.tagName==="INPUT")return;if(W(ge.target)){let Me=ge.target;for(;Me.parentElement&&Me.dataset.headlessuiPortal!==""&&!(Me.scrollHeight>Me.clientHeight||Me.scrollWidth>Me.clientWidth);)Me=Me.parentElement;Me.dataset.headlessuiPortal===""&&ge.preventDefault()}else ge.preventDefault()}},{passive:!1}),P.add(()=>{var ge;let Me=(ge=window.scrollY)!=null?ge:window.pageYOffset;de!==Me&&window.scrollTo(0,de),be&&be.isConnected&&(be.scrollIntoView({block:"nearest"}),be=null)})})}}:{}}function x9(){return{before({doc:v,d:P}){P.style(v.documentElement,"overflow","hidden")}}}function w9(v){let P={};for(let R of v)Object.assign(P,R(P));return P}let Jv=b9(()=>new Map,{PUSH(v,P){var R;let W=(R=this.get(v))!=null?R:{doc:v,count:0,d:O2(),meta:new Set};return W.count++,W.meta.add(P),this.set(v,W),this},POP(v,P){let R=this.get(v);return R&&(R.count--,R.meta.delete(P)),this},SCROLL_PREVENT({doc:v,d:P,meta:R}){let W={doc:v,d:P,meta:w9(R)},ue=[v9(),y9(),x9()];ue.forEach(({before:de})=>de==null?void 0:de(W)),ue.forEach(({after:de})=>de==null?void 0:de(W))},SCROLL_ALLOW({d:v}){v.dispose()},TEARDOWN({doc:v}){this.delete(v)}});Jv.subscribe(()=>{let v=Jv.getSnapshot(),P=new Map;for(let[R]of v)P.set(R,R.documentElement.style.overflow);for(let R of v.values()){let W=P.get(R.doc)==="hidden",ue=R.count!==0;(ue&&!W||!ue&&W)&&Jv.dispatch(R.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",R),R.count===0&&Jv.dispatch("TEARDOWN",R)}});function k9(v,P,R){let W=h9(Jv),ue=M.computed(()=>{let de=v.value?W.value.get(v.value):void 0;return de?de.count>0:!1});return M.watch([v,P],([de,be],[ge],Me)=>{if(!de||!be)return;Jv.dispatch("PUSH",de,R);let $e=!1;Me(()=>{$e||(Jv.dispatch("POP",ge??de,R),$e=!0)})},{immediate:!0}),ue}let C5=new Map,R2=new Map;function B8(v,P=M.ref(!0)){M.watchEffect(R=>{var W;if(!P.value)return;let ue=Uc(v);if(!ue)return;R(function(){var be;if(!ue)return;let ge=(be=R2.get(ue))!=null?be:1;if(ge===1?R2.delete(ue):R2.set(ue,ge-1),ge!==1)return;let Me=C5.get(ue);Me&&(Me["aria-hidden"]===null?ue.removeAttribute("aria-hidden"):ue.setAttribute("aria-hidden",Me["aria-hidden"]),ue.inert=Me.inert,C5.delete(ue))});let de=(W=R2.get(ue))!=null?W:0;R2.set(ue,de+1),de===0&&(C5.set(ue,{"aria-hidden":ue.getAttribute("aria-hidden"),inert:ue.inert}),ue.setAttribute("aria-hidden","true"),ue.inert=!0)})}function _9({defaultContainers:v=[],portals:P,mainTreeNodeRef:R}={}){let W=M.ref(null),ue=Qx(W);function de(){var be,ge,Me;let $e=[];for(let Xe of v)Xe!==null&&(Xe instanceof HTMLElement?$e.push(Xe):"value"in Xe&&Xe.value instanceof HTMLElement&&$e.push(Xe.value));if(P!=null&&P.value)for(let Xe of P.value)$e.push(Xe);for(let Xe of(be=ue==null?void 0:ue.querySelectorAll("html > *, body > *"))!=null?be:[])Xe!==document.body&&Xe!==document.head&&Xe instanceof HTMLElement&&Xe.id!=="headlessui-portal-root"&&(Xe.contains(Uc(W))||Xe.contains((Me=(ge=Uc(W))==null?void 0:ge.getRootNode())==null?void 0:Me.host)||$e.some(vt=>Xe.contains(vt))||$e.push(Xe));return $e}return{resolveContainers:de,contains(be){return de().some(ge=>ge.contains(be))},mainTreeNodeRef:W,MainTreeNode(){return R!=null?null:M.h(k5,{features:QT.Hidden,ref:W})}}}let M8=Symbol("ForcePortalRootContext");function C9(){return M.inject(M8,!1)}let S5=M.defineComponent({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(v,{slots:P,attrs:R}){return M.provide(M8,v.force),()=>{let{force:W,...ue}=v;return sp({theirProps:ue,ourProps:{},slot:{},slots:P,attrs:R,name:"ForcePortalRoot"})}}}),L8=Symbol("StackContext");var E5=(v=>(v[v.Add=0]="Add",v[v.Remove=1]="Remove",v))(E5||{});function S9(){return M.inject(L8,()=>{})}function E9({type:v,enabled:P,element:R,onUpdate:W}){let ue=S9();function de(...be){W==null||W(...be),ue(...be)}M.onMounted(()=>{M.watch(P,(be,ge)=>{be?de(0,v,R):ge===!0&&de(1,v,R)},{immediate:!0,flush:"sync"})}),M.onUnmounted(()=>{P.value&&de(1,v,R)}),M.provide(L8,de)}let P8=Symbol("DescriptionContext");function T9(){let v=M.inject(P8,null);if(v===null)throw new Error("Missing parent");return v}function z9({slot:v=M.ref({}),name:P="Description",props:R={}}={}){let W=M.ref([]);function ue(de){return W.value.push(de),()=>{let be=W.value.indexOf(de);be!==-1&&W.value.splice(be,1)}}return M.provide(P8,{register:ue,slot:v,name:P,props:R}),M.computed(()=>W.value.length>0?W.value.join(" "):void 0)}M.defineComponent({name:"Description",props:{as:{type:[Object,String],default:"p"},id:{type:String,default:null}},setup(v,{attrs:P,slots:R}){var W;let ue=(W=v.id)!=null?W:`headlessui-description-${Kv()}`,de=T9();return M.onMounted(()=>M.onUnmounted(de.register(ue))),()=>{let{name:be="Description",slot:ge=M.ref({}),props:Me={}}=de,{...$e}=v,Xe={...Object.entries(Me).reduce((vt,[Wt,lt])=>Object.assign(vt,{[Wt]:M.unref(lt)}),{}),id:ue};return sp({ourProps:Xe,theirProps:$e,slot:ge.value,attrs:P,slots:R,name:be})}}});function O9(v){let P=Qx(v);if(!P){if(v===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${v}`)}let R=P.getElementById("headlessui-portal-root");if(R)return R;let W=P.createElement("div");return W.setAttribute("id","headlessui-portal-root"),P.body.appendChild(W)}const T5=new WeakMap;function A9(v){var P;return(P=T5.get(v))!=null?P:0}function I8(v,P){let R=P(A9(v));return R<=0?T5.delete(v):T5.set(v,R),R}let F8=M.defineComponent({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(v,{slots:P,attrs:R}){let W=M.ref(null),ue=M.computed(()=>Qx(W)),de=C9(),be=M.inject(V8,null),ge=M.ref(de===!0||be==null?O9(W.value):be.resolveTarget());ge.value&&I8(ge.value,Wt=>Wt+1);let Me=M.ref(!1);M.onMounted(()=>{Me.value=!0}),M.watchEffect(()=>{de||be!=null&&(ge.value=be.resolveTarget())});let $e=M.inject(z5,null),Xe=!1,vt=M.getCurrentInstance();return M.watch(W,()=>{if(Xe||!$e)return;let Wt=Uc(W);Wt&&(M.onUnmounted($e.register(Wt),vt),Xe=!0)}),M.onUnmounted(()=>{var Wt,lt;let Rt=(Wt=ue.value)==null?void 0:Wt.getElementById("headlessui-portal-root");!Rt||ge.value!==Rt||I8(ge.value,tn=>tn-1)||ge.value.children.length>0||(lt=ge.value.parentElement)==null||lt.removeChild(ge.value)}),()=>{if(!Me.value||ge.value===null)return null;let Wt={ref:W,"data-headlessui-portal":""};return M.h(M.Teleport,{to:ge.value},sp({ourProps:Wt,theirProps:v,slot:{},attrs:R,slots:P,name:"Portal"}))}}}),z5=Symbol("PortalParentContext");function N9(){let v=M.inject(z5,null),P=M.ref([]);function R(de){return P.value.push(de),v&&v.register(de),()=>W(de)}function W(de){let be=P.value.indexOf(de);be!==-1&&P.value.splice(be,1),v&&v.unregister(de)}let ue={register:R,unregister:W,portals:P};return[P,M.defineComponent({name:"PortalWrapper",setup(de,{slots:be}){return M.provide(z5,ue),()=>{var ge;return(ge=be.default)==null?void 0:ge.call(be)}}})]}let V8=Symbol("PortalGroupContext"),D9=M.defineComponent({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(v,{attrs:P,slots:R}){let W=M.reactive({resolveTarget(){return v.target}});return M.provide(V8,W),()=>{let{target:ue,...de}=v;return sp({theirProps:de,ourProps:{},slot:{},attrs:P,slots:R,name:"PortalGroup"})}}});var R9=(v=>(v[v.Open=0]="Open",v[v.Closed=1]="Closed",v))(R9||{});let O5=Symbol("DialogContext");function B2(v){let P=M.inject(O5,null);if(P===null){let R=new Error(`<${v} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(R,B2),R}return P}let e3="DC8F892D-2EBD-447C-A4C8-A03058436FF4",B9=M.defineComponent({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:e3},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:v=>!0},setup(v,{emit:P,attrs:R,slots:W,expose:ue}){var de,be;let ge=(de=v.id)!=null?de:`headlessui-dialog-${Kv()}`,Me=M.ref(!1);M.onMounted(()=>{Me.value=!0});let $e=!1,Xe=M.computed(()=>v.role==="dialog"||v.role==="alertdialog"?v.role:($e||($e=!0,console.warn(`Invalid role [${Xe}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),vt=M.ref(0),Wt=_5(),lt=M.computed(()=>v.open===e3&&Wt!==null?(Wt.value&ap.Open)===ap.Open:v.open),Rt=M.ref(null),tn=M.computed(()=>Qx(Rt));if(ue({el:Rt,$el:Rt}),!(v.open!==e3||Wt!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof lt.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${lt.value===e3?void 0:v.open}`);let Kt=M.computed(()=>Me.value&&lt.value?0:1),ht=M.computed(()=>Kt.value===0),ln=M.computed(()=>vt.value>1),At=M.inject(O5,null)!==null,[Te,kt]=N9(),{resolveContainers:Ee,mainTreeNodeRef:qe,MainTreeNode:Cn}=_9({portals:Te,defaultContainers:[M.computed(()=>{var zt;return(zt=io.panelRef.value)!=null?zt:Rt.value})]}),wo=M.computed(()=>ln.value?"parent":"leaf"),Zn=M.computed(()=>Wt!==null?(Wt.value&ap.Closing)===ap.Closing:!1),Je=M.computed(()=>At||Zn.value?!1:ht.value),un=M.computed(()=>{var zt,bo,St;return(St=Array.from((bo=(zt=tn.value)==null?void 0:zt.querySelectorAll("body > *"))!=null?bo:[]).find(nn=>nn.id==="headlessui-portal-root"?!1:nn.contains(Uc(qe))&&nn instanceof HTMLElement))!=null?St:null});B8(un,Je);let B=M.computed(()=>ln.value?!0:ht.value),Tt=M.computed(()=>{var zt,bo,St;return(St=Array.from((bo=(zt=tn.value)==null?void 0:zt.querySelectorAll("[data-headlessui-portal]"))!=null?bo:[]).find(nn=>nn.contains(Uc(qe))&&nn instanceof HTMLElement))!=null?St:null});B8(Tt,B),E9({type:"Dialog",enabled:M.computed(()=>Kt.value===0),element:Rt,onUpdate:(zt,bo)=>{if(bo==="Dialog")return Bh(zt,{[E5.Add]:()=>vt.value+=1,[E5.Remove]:()=>vt.value-=1})}});let bt=z9({name:"DialogDescription",slot:M.computed(()=>({open:lt.value}))}),pn=M.ref(null),io={titleId:pn,panelRef:M.ref(null),dialogState:Kt,setTitleId(zt){pn.value!==zt&&(pn.value=zt)},close(){P("close",!1)}};M.provide(O5,io);let ft=M.computed(()=>!(!ht.value||ln.value));a9(Ee,(zt,bo)=>{zt.preventDefault(),io.close(),M.nextTick(()=>bo==null?void 0:bo.focus())},ft);let Mn=M.computed(()=>!(ln.value||Kt.value!==0));A8((be=tn.value)==null?void 0:be.defaultView,"keydown",zt=>{Mn.value&&(zt.defaultPrevented||zt.key===O8.Escape&&(zt.preventDefault(),zt.stopPropagation(),io.close()))});let Hr=M.computed(()=>!(Zn.value||Kt.value!==0||At));return k9(tn,Hr,zt=>{var bo;return{containers:[...(bo=zt.containers)!=null?bo:[],Ee]}}),M.watchEffect(zt=>{if(Kt.value!==0)return;let bo=Uc(Rt);if(!bo)return;let St=new ResizeObserver(nn=>{for(let Js of nn){let Pn=Js.target.getBoundingClientRect();Pn.x===0&&Pn.y===0&&Pn.width===0&&Pn.height===0&&io.close()}});St.observe(bo),zt(()=>St.disconnect())}),()=>{let{open:zt,initialFocus:bo,...St}=v,nn={...R,ref:Rt,id:ge,role:Xe.value,"aria-modal":Kt.value===0?!0:void 0,"aria-labelledby":pn.value,"aria-describedby":bt.value},Js={open:Kt.value===0};return M.h(S5,{force:!0},()=>[M.h(F8,()=>M.h(D9,{target:Rt.value},()=>M.h(S5,{force:!1},()=>M.h(D2,{initialFocus:bo,containers:Ee,features:ht.value?Bh(wo.value,{parent:D2.features.RestoreFocus,leaf:D2.features.All&~D2.features.FocusLock}):D2.features.None},()=>M.h(kt,{},()=>sp({ourProps:nn,theirProps:{...St,...R},slot:Js,attrs:R,slots:W,visible:Kt.value===0,features:JT.RenderStrategy|JT.Static,name:"Dialog"})))))),M.h(Cn)])}}}),M9=M.defineComponent({name:"DialogOverlay",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(v,{attrs:P,slots:R}){var W;let ue=(W=v.id)!=null?W:`headlessui-dialog-overlay-${Kv()}`,de=B2("DialogOverlay");function be(ge){ge.target===ge.currentTarget&&(ge.preventDefault(),ge.stopPropagation(),de.close())}return()=>{let{...ge}=v;return sp({ourProps:{id:ue,"aria-hidden":!0,onClick:be},theirProps:ge,slot:{open:de.dialogState.value===0},attrs:P,slots:R,name:"DialogOverlay"})}}});M.defineComponent({name:"DialogBackdrop",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},inheritAttrs:!1,setup(v,{attrs:P,slots:R,expose:W}){var ue;let de=(ue=v.id)!=null?ue:`headlessui-dialog-backdrop-${Kv()}`,be=B2("DialogBackdrop"),ge=M.ref(null);return W({el:ge,$el:ge}),M.onMounted(()=>{if(be.panelRef.value===null)throw new Error("A <DialogBackdrop /> component is being used, but a <DialogPanel /> component is missing.")}),()=>{let{...Me}=v,$e={id:de,ref:ge,"aria-hidden":!0};return M.h(S5,{force:!0},()=>M.h(F8,()=>sp({ourProps:$e,theirProps:{...P,...Me},slot:{open:be.dialogState.value===0},attrs:P,slots:R,name:"DialogBackdrop"})))}}}),M.defineComponent({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(v,{attrs:P,slots:R,expose:W}){var ue;let de=(ue=v.id)!=null?ue:`headlessui-dialog-panel-${Kv()}`,be=B2("DialogPanel");W({el:be.panelRef,$el:be.panelRef});function ge(Me){Me.stopPropagation()}return()=>{let{...Me}=v,$e={id:de,ref:be.panelRef,onClick:ge};return sp({ourProps:$e,theirProps:Me,slot:{open:be.dialogState.value===0},attrs:P,slots:R,name:"DialogPanel"})}}});let L9=M.defineComponent({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:null}},setup(v,{attrs:P,slots:R}){var W;let ue=(W=v.id)!=null?W:`headlessui-dialog-title-${Kv()}`,de=B2("DialogTitle");return M.onMounted(()=>{de.setTitleId(ue),M.onUnmounted(()=>de.setTitleId(null))}),()=>{let{...be}=v;return sp({ourProps:{id:ue},theirProps:be,slot:{open:de.dialogState.value===0},attrs:P,slots:R,name:"DialogTitle"})}}});function P9(v){let P={called:!1};return(...R)=>{if(!P.called)return P.called=!0,v(...R)}}function A5(v,...P){v&&P.length>0&&v.classList.add(...P)}function t3(v,...P){v&&P.length>0&&v.classList.remove(...P)}var N5=(v=>(v.Finished="finished",v.Cancelled="cancelled",v))(N5||{});function I9(v,P){let R=O2();if(!v)return R.dispose;let{transitionDuration:W,transitionDelay:ue}=getComputedStyle(v),[de,be]=[W,ue].map(ge=>{let[Me=0]=ge.split(",").filter(Boolean).map($e=>$e.includes("ms")?parseFloat($e):parseFloat($e)*1e3).sort(($e,Xe)=>Xe-$e);return Me});return de!==0?R.setTimeout(()=>P("finished"),de+be):P("finished"),R.add(()=>P("cancelled")),R.dispose}function H8(v,P,R,W,ue,de){let be=O2(),ge=de!==void 0?P9(de):()=>{};return t3(v,...ue),A5(v,...P,...R),be.nextFrame(()=>{t3(v,...R),A5(v,...W),be.add(I9(v,Me=>(t3(v,...W,...P),A5(v,...ue),ge(Me))))}),be.add(()=>t3(v,...P,...R,...W,...ue)),be.add(()=>ge("cancelled")),be.dispose}function Qv(v=""){return v.split(/\s+/).filter(P=>P.length>1)}let D5=Symbol("TransitionContext");var F9=(v=>(v.Visible="visible",v.Hidden="hidden",v))(F9||{});function V9(){return M.inject(D5,null)!==null}function H9(){let v=M.inject(D5,null);if(v===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return v}function U9(){let v=M.inject(R5,null);if(v===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return v}let R5=Symbol("NestingContext");function n3(v){return"children"in v?n3(v.children):v.value.filter(({state:P})=>P==="visible").length>0}function U8(v){let P=M.ref([]),R=M.ref(!1);M.onMounted(()=>R.value=!0),M.onUnmounted(()=>R.value=!1);function W(de,be=S0.Hidden){let ge=P.value.findIndex(({id:Me})=>Me===de);ge!==-1&&(Bh(be,{[S0.Unmount](){P.value.splice(ge,1)},[S0.Hidden](){P.value[ge].state="hidden"}}),!n3(P)&&R.value&&(v==null||v()))}function ue(de){let be=P.value.find(({id:ge})=>ge===de);return be?be.state!=="visible"&&(be.state="visible"):P.value.push({id:de,state:"visible"}),()=>W(de,S0.Unmount)}return{children:P,register:ue,unregister:W}}let j8=JT.RenderStrategy,B5=M.defineComponent({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(v,{emit:P,attrs:R,slots:W,expose:ue}){let de=M.ref(0);function be(){de.value|=ap.Opening,P("beforeEnter")}function ge(){de.value&=~ap.Opening,P("afterEnter")}function Me(){de.value|=ap.Closing,P("beforeLeave")}function $e(){de.value&=~ap.Closing,P("afterLeave")}if(!V9()&&l9())return()=>M.h(Z8,{...v,onBeforeEnter:be,onAfterEnter:ge,onBeforeLeave:Me,onAfterLeave:$e},W);let Xe=M.ref(null),vt=M.computed(()=>v.unmount?S0.Unmount:S0.Hidden);ue({el:Xe,$el:Xe});let{show:Wt,appear:lt}=H9(),{register:Rt,unregister:tn}=U9(),Kt=M.ref(Wt.value?"visible":"hidden"),ht={value:!0},ln=Kv(),At={value:!1},Te=U8(()=>{!At.value&&Kt.value!=="hidden"&&(Kt.value="hidden",tn(ln),$e())});M.onMounted(()=>{let B=Rt(ln);M.onUnmounted(B)}),M.watchEffect(()=>{if(vt.value===S0.Hidden&&ln){if(Wt.value&&Kt.value!=="visible"){Kt.value="visible";return}Bh(Kt.value,{hidden:()=>tn(ln),visible:()=>Rt(ln)})}});let kt=Qv(v.enter),Ee=Qv(v.enterFrom),qe=Qv(v.enterTo),Cn=Qv(v.entered),wo=Qv(v.leave),Zn=Qv(v.leaveFrom),Je=Qv(v.leaveTo);M.onMounted(()=>{M.watchEffect(()=>{if(Kt.value==="visible"){let B=Uc(Xe);if(B instanceof Comment&&B.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function un(B){let Tt=ht.value&&!lt.value,bt=Uc(Xe);!bt||!(bt instanceof HTMLElement)||Tt||(At.value=!0,Wt.value&&be(),Wt.value||Me(),B(Wt.value?H8(bt,kt,Ee,qe,Cn,pn=>{At.value=!1,pn===N5.Finished&&ge()}):H8(bt,wo,Zn,Je,Cn,pn=>{At.value=!1,pn===N5.Finished&&(n3(Te)||(Kt.value="hidden",tn(ln),$e()))})))}return M.onMounted(()=>{M.watch([Wt],(B,Tt,bt)=>{un(bt),ht.value=!1},{immediate:!0})}),M.provide(R5,Te),c9(M.computed(()=>Bh(Kt.value,{visible:ap.Open,hidden:ap.Closed})|de.value)),()=>{let{appear:B,show:Tt,enter:bt,enterFrom:pn,enterTo:io,entered:ft,leave:Mn,leaveFrom:Hr,leaveTo:zt,...bo}=v,St={ref:Xe},nn={...bo,...lt.value&&Wt.value&&A2.isServer?{class:M.normalizeClass([R.class,bo.class,...kt,...Ee])}:{}};return sp({theirProps:nn,ourProps:St,slot:{},slots:W,attrs:R,features:j8,visible:Kt.value==="visible",name:"TransitionChild"})}}}),j9=B5,Z8=M.defineComponent({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(v,{emit:P,attrs:R,slots:W}){let ue=_5(),de=M.computed(()=>v.show===null&&ue!==null?(ue.value&ap.Open)===ap.Open:v.show);M.watchEffect(()=>{if(![!0,!1].includes(de.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let be=M.ref(de.value?"visible":"hidden"),ge=U8(()=>{be.value="hidden"}),Me=M.ref(!0),$e={show:de,appear:M.computed(()=>v.appear||!Me.value)};return M.onMounted(()=>{M.watchEffect(()=>{Me.value=!1,de.value?be.value="visible":n3(ge)||(be.value="hidden")})}),M.provide(R5,ge),M.provide(D5,$e),()=>{let Xe=T8(v,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),vt={unmount:v.unmount};return sp({ourProps:{...vt,as:"template"},theirProps:{},slot:{},slots:{...W,default:()=>[M.h(j9,{onBeforeEnter:()=>P("beforeEnter"),onAfterEnter:()=>P("afterEnter"),onBeforeLeave:()=>P("beforeLeave"),onAfterLeave:()=>P("afterLeave"),...R,...vt,...Xe},W.default)]},attrs:{},features:j8,visible:be.value==="visible",name:"Transition"})}}});const Z9={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},W9={class:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6"},$9={class:"sm:flex sm:items-start"},q9={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},G9={class:"mt-2"},K9=["innerHTML"],Y9={class:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse"},X9={__name:"DeleteConfirmModal",props:{open:{type:Boolean,default(){return!1}},message:{type:String,default:"Are you sure you want to delete this record?"},title:{type:String,default:"Delete"},buttonName:{type:String,default:"Delete"}},setup(v){return(P,R)=>(M.openBlock(),M.createBlock(M.unref(Z8),{as:"template",show:v.open},{default:M.withCtx(()=>[M.createVNode(M.unref(B9),{as:"div",class:"fixed z-10 inset-0 overflow-y-auto",onClose:R[2]||(R[2]=W=>v.open=!1)},{default:M.withCtx(()=>[M.createElementVNode("div",Z9,[M.createVNode(M.unref(B5),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:M.withCtx(()=>[M.createVNode(M.unref(M9),{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})]),_:1}),R[4]||(R[4]=M.createElementVNode("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1)),M.createVNode(M.unref(B5),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:M.withCtx(()=>[M.createElementVNode("div",W9,[M.createElementVNode("div",$9,[R[3]||(R[3]=M.createElementVNode("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},[M.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-6 w-6 text-red-600"},[M.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1)),M.createElementVNode("div",q9,[M.createVNode(M.unref(L9),{as:"h3",class:"text-lg leading-6 font-medium text-gray-900"},{default:M.withCtx(()=>[M.createTextVNode(M.toDisplayString(v.title),1)]),_:1}),M.createElementVNode("div",G9,[M.createElementVNode("p",{class:"text-sm text-gray-500",innerHTML:v.message},null,8,K9)])])]),M.createElementVNode("div",Y9,[M.createElementVNode("button",{type:"button",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:R[0]||(R[0]=W=>P.$emit("destroy"))},M.toDisplayString(v.buttonName),1),M.createElementVNode("button",{type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:w-auto sm:text-sm",onClick:R[1]||(R[1]=W=>P.$emit("close")),ref:"cancelButtonRef"},"Cancel",512)])])]),_:1})])]),_:1})]),_:1},8,["show"]))}},J9={__name:"DeleteForm",setup(v){const P=M.ref(!1);return(R,W)=>(M.openBlock(),M.createElementBlock("div",null,[M.createVNode(z2,{onClick:W[0]||(W[0]=M.withModifiers(ue=>P.value=!0,["prevent"])),context:"form-btn-red"},{default:M.withCtx(()=>W[3]||(W[3]=[M.createTextVNode(" Delete ")])),_:1}),M.createVNode(X9,{open:P.value,onDestroy:W[1]||(W[1]=ue=>R.$emit("destroy")),onClose:W[2]||(W[2]=ue=>P.value=!1)},null,8,["open"])]))}},Q9={class:"vue-form-components bg-white border shadow-md sm:rounded-md"},eU={class:"text-2xl font-medium leading-6 text-gray-800"},tU={key:0,class:"mt-1 text-sm text-gray-500"},nU={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-green-200",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},oU={__name:"ModelForm",props:{modelValue:{type:Object},loading:{type:Boolean,default(){return!1}},sections:{type:Array,default(){return[{title:null}]}},footerClass:{type:String},footerStyle:{type:String},buttonsContainerClass:{type:String},cancelAction:{type:Function},cancelUrl:{type:String},backOnCancel:{type:Boolean,default:!1},cancelName:{type:String,default:"Cancel"},submitName:{type:String,default:"Save"},submitDisabled:{type:Boolean,default:!1},hideCancel:{type:Boolean,default:!1},hideDelete:{type:Boolean,default:!1},confirmDelete:{type:Boolean,default:!1},hideFooter:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["submit","destroy","update:modelValue","cancel"],setup(v,{emit:P}){const R=P,W=v;M.computed({get(){return W.modelValue},set(ge){R("update:modelValue",ge)}});function ue(){R("submit",W.modelValue)}function de(){W.cancelAction?W.cancelAction():W.backOnCancel?history.back():R("cancel")}function be(){R("destroy",W.modelValue)}return M.watch(()=>W.modelValue.errors,ge=>{for(let Me=0;Me<W.sections.length;Me++)W.sections[Me].model&&(W.sections[Me].model.errors=ge)},{deep:!0}),(ge,Me)=>(M.openBlock(),M.createElementBlock("section",Q9,[(M.openBlock(!0),M.createElementBlock(M.Fragment,null,M.renderList(v.sections,($e,Xe)=>(M.openBlock(),M.createElementBlock("div",{class:M.normalizeClass(["p-6 space-y-6 border-b-2",$e.class]),style:M.normalizeStyle($e.style)},[$e.title?(M.openBlock(),M.createElementBlock("div",{key:0,class:M.normalizeClass($e.headerClass)},[M.createElementVNode("h3",eU,M.toDisplayString($e.title),1),$e.description?(M.openBlock(),M.createElementBlock("p",tU,M.toDisplayString($e.description),1)):M.createCommentVNode("",!0)],2)):M.createCommentVNode("",!0),M.createElementVNode("div",{class:M.normalizeClass($e.bodyClass)},[M.renderSlot(ge.$slots,`beforeGroupSection${Xe}`),M.createVNode(y8,{form:$e.model??v.modelValue,id:$e.id,inputs:$e.inputs,class:M.normalizeClass($e.inputGroupClass),disabled:v.disabled,"indicate-required":$e.indicateRequired},null,8,["form","id","inputs","class","disabled","indicate-required"]),M.renderSlot(ge.$slots,`afterGroupSection${Xe}`)],2)],6))),256)),M.renderSlot(ge.$slots,"default"),v.hideFooter?M.createCommentVNode("",!0):(M.openBlock(),M.createElementBlock("div",{key:0,class:M.normalizeClass(["px-6 py-3 bg-gray-100 text-right rounded-b flex items-center",v.footerClass]),style:M.normalizeStyle(v.footerStyle)},[M.renderSlot(ge.$slots,"footer"),M.createElementVNode("div",{class:M.normalizeClass(["flex-1 flex justify-end",v.buttonsContainerClass])},[v.confirmDelete&&!v.hideDelete&&v.modelValue.id?(M.openBlock(),M.createBlock(J9,{key:0,class:"mr-auto",onDestroy:be})):!v.hideDelete&&v.modelValue.id?(M.openBlock(),M.createBlock(z2,{key:1,context:"form-btn-red",class:"mr-auto",onClick:be},{default:M.withCtx(()=>Me[0]||(Me[0]=[M.createTextVNode("Delete")])),_:1})):M.createCommentVNode("",!0),!v.cancelUrl&&!v.hideCancel?(M.openBlock(),M.createBlock(z2,{key:2,context:"form-btn-white",onClick:M.withModifiers(de,["prevent"])},{default:M.withCtx(()=>[M.createTextVNode(M.toDisplayString(v.cancelName),1)]),_:1})):v.hideCancel?M.createCommentVNode("",!0):(M.openBlock(),M.createBlock(z2,{key:3,type:"link",context:"form-btn-white",href:v.cancelUrl},{default:M.withCtx(()=>[M.createTextVNode(M.toDisplayString(v.cancelName),1)]),_:1},8,["href"])),M.createVNode(z2,{class:"ml-4 flex",context:"form-btn-primary",disabled:v.loading||v.submitDisabled||v.disabled,onClick:ue},{default:M.withCtx(()=>[v.loading?(M.openBlock(),M.createElementBlock("svg",nU,Me[1]||(Me[1]=[M.createElementVNode("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),M.createElementVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):M.createCommentVNode("",!0),M.createTextVNode(" "+M.toDisplayString(v.submitName),1)]),_:1},8,["disabled"])],2)],6))]))}};Dh.FormInput=b8,Dh.FormInputGroup=y8,Dh.InputControl=h8,Dh.ModelForm=oU,Object.defineProperty(Dh,Symbol.toStringTag,{value:"Module"})});
